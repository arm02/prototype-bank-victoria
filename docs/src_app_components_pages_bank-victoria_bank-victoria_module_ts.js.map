{"version":3,"file":"src_app_components_pages_bank-victoria_bank-victoria_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAMyB;AAC4B;AAEU;AACG;AACA;AAC2C;AAClB;AACV;;;;AAE3E,MAAOS,yBAA0B,SAAQR,0DAAa;EAC1DS,YAA6BC,KAAY;IACvC,KAAK,EAAE;IADoB,KAAAA,KAAK,GAALA,KAAK;EAElC;EAESC,WAAWA,CAACC,WAAgC;IACnD,MAAMF,KAAK,GAAG,IAAI,CAACG,UAAU,CAACD,WAAW,CAAC;IAC1C,IAAIF,KAAK,KAAKI,SAAS,EAAE;MACvB,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACL,KAAK,CAAC;;EAE9B;;AAVWF,yBAA0B;mBAA1BA,yBAAyB,EAAAQ,sDAAA,CAAAE,4DAAA;AAAA;AAAzBV,yBAA0B;SAA1BA,yBAAyB;EAAAY,OAAA,EAAzBZ,yBAAyB,CAAAa,IAAA;EAAAC,UAAA,EADZ;AAAM;AAahC,MAAMC,MAAM,GAAW,CACrB;EACEC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEtB,2EAAqB;EAChCuB,WAAW,EAAE,CAACzB,+DAAS,CAAC;EACxBS,KAAK,EAAE,gDAAgD;EACvDiB,IAAI,EAAE;IACJC,QAAQ,EAAE;GACX;EACDC,QAAQ,EAAE,CACR;IACEL,IAAI,EAAE,SAAS;IACfd,KAAK,EAAE,gDAAgD;IACvDe,SAAS,EAAEvB,wEAAgB;IAC3BwB,WAAW,EAAE,CAACzB,+DAAS,CAAC;IACxB0B,IAAI,EAAE;MACJC,QAAQ,EAAE,gBAAgB;MAC1BE,IAAI,EAAE;;GAET,EACD;IACEN,IAAI,EAAE,gBAAgB;IACtBd,KAAK,EAAE,sDAAsD;IAC7De,SAAS,EAAEnB,oGAAsB;IACjCoB,WAAW,EAAE,CAACzB,+DAAS,CAAC;IACxB0B,IAAI,EAAE;MACJC,QAAQ,EAAE,eAAe;MACzBE,IAAI,EAAE;;GAET,EACD;IACEN,IAAI,EAAE,YAAY;IAClBd,KAAK,EAAE,mDAAmD;IAC1De,SAAS,EAAElB,0FAAsB;IACjCmB,WAAW,EAAE,CAACzB,+DAAS,CAAC;IACxB0B,IAAI,EAAE;MACJC,QAAQ,EAAE,YAAY;MACtBE,IAAI,EAAE;;GAET,EACD;IACEN,IAAI,EAAE,kBAAkB;IACxBd,KAAK,EAAE,yDAAyD;IAChEe,SAAS,EAAErB,2EAAiB;IAC5BsB,WAAW,EAAE,CAACzB,+DAAS,CAAC;IACxB0B,IAAI,EAAE;MACJC,QAAQ,EAAE,kBAAkB;MAC5BE,IAAI,EAAE;;GAET,EACD;IACEN,IAAI,EAAE,wBAAwB;IAC9Bd,KAAK,EAAE,uDAAuD;IAC9De,SAAS,EAAEpB,qHAAsB;IACjCqB,WAAW,EAAE,CAACzB,+DAAS,CAAC;IACxB0B,IAAI,EAAE;MACJC,QAAQ,EAAE,gBAAgB;MAC1BE,IAAI,EAAE;;GAET;CAEJ,CACF;AAUK,MAAOC,8BAA8B;AAA9BA,8BAA8B;mBAA9BA,8BAA8B;AAAA;AAA9BA,8BAA8B;QAA9BA;AAA8B;AAA9BA,8BAA8B;aAL9B,CACT9B,+DAAS,EACT;IAAE+B,OAAO,EAAEhC,0DAAa;IAAEiC,QAAQ,EAAEzB;EAAyB,CAAE,CAChE;EAAA0B,OAAA,GALSnC,yDAAY,CAACoC,QAAQ,CAACZ,MAAM,CAAC,EAC7BxB,yDAAY;AAAA;;sHAMXgC,8BAA8B;IAAAG,OAAA,GAAAE,yDAAA;IAAAC,OAAA,GAN/BtC,yDAAY;EAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7FuB;AACuB;AAEU;AACjB;AACG;AACnB;AACmB;AACP;AACgC;AACX;AACsB;AACrB;AACH;;AA0BxE,MAAO6C,uBAAuB;AAAvBA,uBAAuB;mBAAvBA,uBAAuB;AAAA;AAAvBA,uBAAuB;QAAvBA;AAAuB;AAAvBA,uBAAuB;YAThCN,0DAAY,EACZP,yFAA8B,EAC9BhC,0DAAY,EACZyC,sEAAkB,EAClBD,iFAAoB;AAAA;;sHAKXK,uBAAuB;IAAAC,YAAA,GAvBhC3C,wEAAgB,EAChBC,2EAAqB,EACrBC,2EAAiB,EACjBE,oGAAsB,EACtBmC,yFAAmB,EACnBC,+GAAuB,EACvBnC,0FAAsB,EACtBoC,uFAAqB;IAAAT,OAAA,GAOrBI,0DAAY,EACZP,yFAA8B,EAC9BhC,0DAAY,EACZyC,sEAAkB,EAClBD,iFAAoB;IAAAF,OAAA,GARpBnC,wEAAgB,EAChByC,uFAAqB;EAAA;AAAA;;;;;;;;;;;;;;;;;AC3BuC;;;;;;;;;;;;IC+B1D3B,4DAAA,cAAqD;IAEjDA,uDAAA,cAAoD;IACpDA,4DAAA,eAKG;IAAAA,oDAAA,GAAiB;IAAAA,0DAAA,EACnB;IACDA,4DAAA,cAAmB;IAAAA,oDAAA,GAAkB;IAAAA,0DAAA,EAAM;IAC3CA,4DAAA,cAA6D;IAC3DA,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,iBAA0D;IAAnCA,wDAAA,mBAAAoC,+DAAA;MAAA,MAAAC,WAAA,GAAArC,2DAAA,CAAAuC,GAAA;MAAA,MAAAC,SAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAA1C,2DAAA;MAAA,OAASA,yDAAA,CAAA0C,MAAA,CAAAG,UAAA,CAAAL,SAAA,CAAAM,KAAA,CAAwB;IAAA,EAAC;IACvD9C,oDAAA,0BACF;IAAAA,0DAAA,EAAS;;;;IAdJA,uDAAA,GAAoB;IAApBA,wDAAA,QAAAwC,SAAA,CAAAM,KAAA,EAAA9C,2DAAA,CAAoB;IAEvBA,uDAAA,GAGE;IAHFA,wDAAA,YAAAA,6DAAA,IAAAmD,GAAA,EAAAX,SAAA,CAAAY,IAAA,mBAAAZ,SAAA,CAAAY,IAAA,qBAGE;IACDpD,uDAAA,GAAiB;IAAjBA,+DAAA,CAAAwC,SAAA,CAAAY,IAAA,CAAiB;IAEDpD,uDAAA,GAAkB;IAAlBA,+DAAA,CAAAwC,SAAA,CAAA9C,KAAA,CAAkB;IAEnCM,uDAAA,GACF;IADEA,gEAAA,MAAAwC,SAAA,CAAAe,QAAA,MACF;;;ADrCJ,MAAOhE,sBAAsB;EALnCE,YAAA;IAME,KAAA+D,WAAW,GAAGC,eAAe,CAAC3B,wEAAe,CAAC;;EAC9Ce,UAAUA,CAACa,GAAW;IACpBC,MAAM,CAACC,IAAI,CAACF,GAAG,EAAE,QAAQ,CAAC;EAC5B;;AAJWnE,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAsE,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,gCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCRnCnE,4DAAA,aAAuB;MAIfA,uDAAA,eAKE;MAMJA,0DAAA,EAAM;MACNA,4DAAA,aAAoB;MAEmBA,oDAAA,sBAAe;MAAAA,0DAAA,EAAS;MAC3DA,4DAAA,iBAAoB;MAAAA,oDAAA,sBAAc;MAAAA,0DAAA,EAAS;MAC3CA,4DAAA,kBAAyB;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAS;MAC1CA,4DAAA,kBAA2B;MAAAA,oDAAA,kBAAU;MAAAA,0DAAA,EAAS;MAC9CA,4DAAA,kBAAuB;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAExCA,4DAAA,iBAAgD;MACXA,oDAAA,eAAO;MAAAA,0DAAA,EAAS;MACnDA,4DAAA,iBAAoB;MAAAA,oDAAA,mBAAW;MAAAA,0DAAA,EAAS;MACxCA,4DAAA,kBAAyB;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAS;MAI/CA,4DAAA,eAAkB;MAChBA,wDAAA,KAAAsE,sCAAA,mBAkBM;MACRtE,0DAAA,EAAM;;;MAnBiCA,uDAAA,IAAc;MAAdA,wDAAA,YAAAoE,GAAA,CAAAZ,WAAA,CAAc;;;;;;;;;;;;;;;;;;;;;;;;;IEI/CxD,4DAAA,YAAgD;IAG1CA,uDAAA,cAGE;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EACT;IAEHA,4DAAA,SAAI;IAEAA,uDAAA,cAGE;IAAAA,oDAAA,aAAM;IAAAA,0DAAA,EACT;;;;;IAkBHA,4DAAA,SAAmC;IAE9BA,uDAAA,cAGC;IAAAA,oDAAA,GAAY;IAAAA,0DAAA,EACf;;;;IADGA,uDAAA,GAAY;IAAZA,+DAAA,CAAAuE,SAAA,CAAY;;;;;IANpBvE,4DAAA,YAAgD;IAC9CA,wDAAA,IAAAwE,6CAAA,iBAOK;IACPxE,0DAAA,EAAK;;;;IARoBA,uDAAA,GAAU;IAAVA,wDAAA,YAAA0C,MAAA,CAAA+B,OAAA,CAAU;;;;;;IAtDvCzE,4DAAA,YAAgD;IAG1CA,uDAAA,cAIE;IACFA,oDAAA,kBACF;IAAAA,0DAAA,EAAS;IAGXA,4DAAA,SAAI;IAC8BA,wDAAA,mBAAA0E,2DAAA;MAAA1E,2DAAA,CAAA2E,GAAA;MAAA,MAAAC,MAAA,GAAA5E,2DAAA;MAAA,OAASA,yDAAA,CAAA4E,MAAA,CAAAC,UAAA,CAAW,WAAW,CAAC;IAAA,EAAC;IAC/D7E,4DAAA,cACG;IAAAA,uDAAA,aAGD;IAAAA,0DAAA,EAAO;IACTA,oDAAA,mBACF;IAAAA,0DAAA,EAAS;IACTA,wDAAA,KAAA8E,wCAAA,gBAiBK;IACP9E,0DAAA,EAAK;IAELA,4DAAA,UAAI;IAGAA,wDAAA,mBAAA+E,4DAAA;MAAA/E,2DAAA,CAAA2E,GAAA;MAAA,MAAAK,MAAA,GAAAhF,2DAAA;MAAA,OAASA,yDAAA,CAAAgF,MAAA,CAAAH,UAAA,CAAW,WAAW,CAAC;IAAA,EAAC;IAEjC7E,4DAAA,eACG;IAAAA,uDAAA,cAGD;IAAAA,0DAAA,EAAO;IACTA,oDAAA,oBACF;IAAAA,0DAAA,EAAS;IACTA,wDAAA,KAAAiF,wCAAA,gBASK;IACPjF,0DAAA,EAAK;;;;IAjDmBA,uDAAA,GAAkC;IAAlCA,yDAAA,SAAAmF,MAAA,CAAAC,MAAA,cAAkC;IAOnCpF,uDAAA,GAAyB;IAAzBA,wDAAA,SAAAmF,MAAA,CAAAC,MAAA,cAAyB;IAyBxBpF,uDAAA,GAAkC;IAAlCA,yDAAA,SAAAmF,MAAA,CAAAC,MAAA,cAAkC;IAOnCpF,uDAAA,GAAyB;IAAzBA,wDAAA,SAAAmF,MAAA,CAAAC,MAAA,cAAyB;;;AD7DlD,MAAO3D,mBAAmB;EALhChC,YAAA;IAME,KAAA4F,SAAS,GAA+B;MACtCC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE,IAAI;MACfC,SAAS,EAAE;KACZ;IAED,KAAAf,OAAO,GAAG,CACR,WAAW,EACX,WAAW,EACX,WAAW,EACX,WAAW,EACX,WAAW,EACX,WAAW,EACX,WAAW,EACX,WAAW,CACZ;;EACDI,UAAUA,CAACY,IAAY;IACrB,IAAI,CAACJ,SAAS,CAACI,IAAI,CAAC,GAAG,CAAC,IAAI,CAACJ,SAAS,CAACI,IAAI,CAAC;EAC9C;EAEAL,MAAMA,CAACK,IAAY;IACjB,OAAO,CAAC,CAAC,IAAI,CAACJ,SAAS,CAACI,IAAI,CAAC;EAC/B;;AAvBWhE,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAoC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAyB,6BAAAvB,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCPhCnE,4DAAA,aAAqB;MACOA,oDAAA,iBAAU;MAAAA,0DAAA,EAAK;MACzCA,uDAAA,YAA8B;MAE9BA,4DAAA,YAAiB;MAEaA,wDAAA,mBAAA2F,qDAAA;QAAA,OAASvB,GAAA,CAAAS,UAAA,CAAW,WAAW,CAAC;MAAA,EAAC;MACzD7E,4DAAA,cACG;MAAAA,uDAAA,aAGD;MAAAA,0DAAA,EAAO;MACTA,oDAAA,kBACF;MAAAA,0DAAA,EAAS;MAETA,wDAAA,KAAA4F,kCAAA,iBAgEK;MACP5F,0DAAA,EAAK;;;MAzEmBA,uDAAA,GAAkC;MAAlCA,yDAAA,SAAAoE,GAAA,CAAAgB,MAAA,cAAkC;MAQnCpF,uDAAA,GAAyB;MAAzBA,wDAAA,SAAAoE,GAAA,CAAAgB,MAAA,cAAyB;;;;;;;;;;;;;;;;;;;;;;;ACR9C,MAAO9F,sBAAsB;AAAtBA,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAuE,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAA4B,gCAAA1B,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCPnCnE,4DAAA,aAAuB;MAITA,oDAAA,qBAAc;MAAAA,0DAAA,EAAO;MAC3BA,uDAAA,kBAA4C;MAC9CA,0DAAA,EAAM;MACNA,4DAAA,gBAAgD;MACXA,oDAAA,kBAAW;MAAAA,0DAAA,EAAS;MACvDA,4DAAA,iBAAoB;MAAAA,oDAAA,sBAAc;MAAAA,0DAAA,EAAS;MAC3CA,4DAAA,iBAAyB;MAAAA,oDAAA,mCAA2B;MAAAA,0DAAA,EAAS;MAC7DA,4DAAA,iBAA2B;MAAAA,oDAAA,wCAAgC;MAAAA,0DAAA,EAAS;MACpEA,4DAAA,kBAAuB;MAAAA,oDAAA,+CAAuC;MAAAA,0DAAA,EAAS;MAG3EA,4DAAA,eAAoB;MAEOA,oDAAA,mBAAW;MAAAA,0DAAA,EAAS;MAC3CA,4DAAA,kBAA6B;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAC5CA,4DAAA,kBAA6B;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAC5CA,4DAAA,kBAA6B;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAC5CA,4DAAA,kBAA6B;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAC5CA,4DAAA,kBAA6B;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAE9CA,4DAAA,eAAmB;MAAAA,oDAAA,qDAA6C;MAAAA,0DAAA,EAAM;MACtEA,4DAAA,WAAK;MACHA,uDAAA,kBASU;MACZA,0DAAA,EAAM;MACNA,4DAAA,WAAK;MAEDA,oDAAA,sLAGF;MAAAA,0DAAA,EAAI;MACJA,4DAAA,SAAG;MACDA,oDAAA,+NAIF;MAAAA,0DAAA,EAAI;MAENA,4DAAA,eAA6B;MACSA,oDAAA,uBAAe;MAAAA,0DAAA,EAAO;MAC1DA,4DAAA,WAAK;MACKA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAS;MACzBA,4DAAA,cAAQ;MAAAA,oDAAA,YAAI;MAAAA,0DAAA,EAAS;MACrBA,4DAAA,cAAQ;MAAAA,oDAAA,aAAK;MAAAA,0DAAA,EAAS;MACtBA,4DAAA,cAAQ;MAAAA,oDAAA,UAAE;MAAAA,0DAAA,EAAS;MACnBA,4DAAA,cAAQ;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MACvBA,4DAAA,cAAQ;MAAAA,oDAAA,aAAK;MAAAA,0DAAA,EAAS;MAG1BA,4DAAA,eAA6B;MACSA,oDAAA,iBAAS;MAAAA,0DAAA,EAAO;MACpDA,4DAAA,eAAoB;MACZA,oDAAA,gCAAwB;MAAAA,0DAAA,EAAO;MACrCA,4DAAA,SAAG;MACDA,oDAAA,6QAIF;MAAAA,0DAAA,EAAI;MAGRA,4DAAA,eAA6B;MACSA,oDAAA,uBAAe;MAAAA,0DAAA,EAAO;MAC1DA,4DAAA,eAAqB;MAGfA,uDAAA,eAIE;MACFA,4DAAA,aAGG;MAAAA,oDAAA,oEAA4D;MAAAA,0DAAA,EAC9D;MAEHA,4DAAA,YAAM;MAAAA,oDAAA,YAAI;MAAAA,0DAAA,EAAO;MAEnBA,uDAAA,eAAwB;MACxBA,4DAAA,WAAK;MAEDA,uDAAA,eAIE;MACFA,4DAAA,aAGG;MAAAA,oDAAA,2EACI;MAAAA,0DAAA,EACN;MAEHA,4DAAA,YAAM;MAAAA,oDAAA,YAAI;MAAAA,0DAAA,EAAO;MAIvBA,4DAAA,eAA6B;MACSA,oDAAA,wBAAgB;MAAAA,0DAAA,EAAO;MAC3DA,4DAAA,eAAoB;MAEhBA,uDAAA,kBASU;MACZA,0DAAA,EAAM;MACNA,4DAAA,eAAkB;MACCA,oDAAA,qCAA6B;MAAAA,0DAAA,EAAO;MACrDA,4DAAA,SAAG;MACDA,oDAAA,gUAKF;MAAAA,0DAAA,EAAI;MACJA,4DAAA,YAAM;MAAAA,oDAAA,YAAI;MAAAA,0DAAA,EAAO;MAIvBA,4DAAA,eAA6B;MACSA,oDAAA,eAAO;MAAAA,0DAAA,EAAO;MAClDA,4DAAA,gBAAqB;MAGfA,uDAAA,gBAIE;MACFA,4DAAA,cAA4B;MAAAA,oDAAA,+BAAsB;MAAAA,0DAAA,EAAI;MAExDA,4DAAA,aAAM;MAAAA,oDAAA,aAAI;MAAAA,0DAAA,EAAO;MAEnBA,uDAAA,gBAAwB;MACxBA,4DAAA,YAAK;MAEDA,uDAAA,gBAIE;MACFA,4DAAA,cAA4B;MAAAA,oDAAA,yCAAgC;MAAAA,0DAAA,EAAI;MAElEA,4DAAA,aAAM;MAAAA,oDAAA,aAAI;MAAAA,0DAAA,EAAO;MAM3BA,4DAAA,gBAAwB;MACtBA,uDAAA,uBAAiC;MACnCA,0DAAA,EAAM;;;MArKoBA,uDAAA,GAAY;MAAZA,wDAAA,aAAY;;;;;;;;;;;;;;;;;;;;ACLjC,MAAM8F,YAAY,GAAG,CAC1B;EACEhD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,+CAA+C;EACtD6D,QAAQ,EAAE,cAAc;EACxBwC,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,yCAAyC;EAChD6D,QAAQ,EAAE,cAAc;EACxBwC,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,4CAA4C;EACnD6D,QAAQ,EAAE,cAAc;EACxBwC,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,4CAA4C;EACnD6D,QAAQ,EAAE,uBAAuB;EACjCwC,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,8CAA8C;EACrD6D,QAAQ,EAAE,uBAAuB;EACjCwC,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,6CAA6C;EACpDpD,KAAK,EAAE,6CAA6C;EACpD6D,QAAQ,EAAE,mBAAmB;EAC7BwC,QAAQ,EAAE;CACX,CACF;AAEM,MAAMjE,eAAe,GAAG,CAC7B;EACEgB,KAAK,EAAE,gDAAgD;EACvDpD,KAAK,EAAE,8CAA8C;EACrD6D,QAAQ,EAAE,yBAAyB;EACnCH,IAAI,EAAE,cAAc;EACpB2C,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,gDAAgD;EACvDpD,KAAK,EAAE,qCAAqC;EAC5C6D,QAAQ,EAAE,yBAAyB;EACnCH,IAAI,EAAE,cAAc;EACpB2C,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,iDAAiD;EACxDpD,KAAK,EAAE,yCAAyC;EAChD6D,QAAQ,EAAE,yBAAyB;EACnCH,IAAI,EAAE,YAAY;EAClB2C,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,gDAAgD;EACvDpD,KAAK,EAAE,8CAA8C;EACrD6D,QAAQ,EAAE,yBAAyB;EACnCH,IAAI,EAAE,cAAc;EACpB2C,QAAQ,EAAE;CACX,EACD;EACEjD,KAAK,EAAE,gDAAgD;EACvDpD,KAAK,EAAE,8CAA8C;EACrD6D,QAAQ,EAAE,yBAAyB;EACnCH,IAAI,EAAE,YAAY;EAClB2C,QAAQ,EAAE;CACX,CACF;;;;;;;;;;;;;;;;;;;AC1EmD;;;;;;;;IC+B9C/F,4DAAA,cAAqD;IAEjDA,uDAAA,cAAoD;IACpDA,4DAAA,cAAmB;IAAAA,oDAAA,GAAkB;IAAAA,0DAAA,EAAM;IAC3CA,4DAAA,cAA6D;IAC3DA,oDAAA,GACF;IAAAA,0DAAA,EAAM;IACNA,4DAAA,eAAuB;IAAAA,oDAAA,GAAiC;IAAAA,0DAAA,EAAO;IAC/DA,uDAAA,mBAAyD;IACzDA,4DAAA,kBAA4C;IAArBA,wDAAA,mBAAAgG,0DAAA;MAAAhG,2DAAA,CAAAuC,GAAA;MAAA,MAAAG,MAAA,GAAA1C,2DAAA;MAAA,OAASA,yDAAA,CAAA0C,MAAA,CAAAuD,QAAA,EAAU;IAAA,EAAC;IAACjG,oDAAA,qBAAa;IAAAA,0DAAA,EAAS;;;;IAP7DA,uDAAA,GAAoB;IAApBA,wDAAA,QAAAwC,SAAA,CAAAM,KAAA,EAAA9C,2DAAA,CAAoB;IACNA,uDAAA,GAAkB;IAAlBA,+DAAA,CAAAwC,SAAA,CAAA9C,KAAA,CAAkB;IAEnCM,uDAAA,GACF;IADEA,gEAAA,MAAAwC,SAAA,CAAAe,QAAA,MACF;IACuBvD,uDAAA,GAAiC;IAAjCA,gEAAA,KAAAwC,SAAA,CAAAuD,QAAA,iBAAiC;IACpC/F,uDAAA,GAAyB;IAAzBA,wDAAA,UAAAwC,SAAA,CAAAuD,QAAA,CAAyB;;;AD/BjD,MAAO7G,gBAAgB;EAC3BO,YAAoByG,MAAc;IAAd,KAAAA,MAAM,GAANA,MAAM;IAE1B,KAAA1C,WAAW,GAAGC,eAAe,CAACqC,6DAAY,CAAC;IAE3C,KAAAK,MAAM,GAAW,0DAA0D;IAC3E,KAAAzG,KAAK,GAAW,iDAAiD;EAL5B;EAOrCuG,QAAQA,CAAA;IACN,IAAI,CAACC,MAAM,CAACE,QAAQ,CAAC,CAAC,qBAAqB,CAAC,CAAC;EAC/C;;AAVWlH,gBAAgB;mBAAhBA,gBAAgB,EAAAc,+DAAA,CAAAE,mDAAA;AAAA;AAAhBhB,gBAAgB;QAAhBA,gBAAgB;EAAA2E,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAsC,0BAAApC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT7BnE,4DAAA,aAAuB;MAIfA,uDAAA,eAKE;MAMJA,0DAAA,EAAM;MACNA,4DAAA,aAAoB;MAEmBA,oDAAA,sBAAe;MAAAA,0DAAA,EAAS;MAC3DA,4DAAA,iBAAoB;MAAAA,oDAAA,sBAAc;MAAAA,0DAAA,EAAS;MAC3CA,4DAAA,kBAAyB;MAAAA,oDAAA,gBAAQ;MAAAA,0DAAA,EAAS;MAC1CA,4DAAA,kBAA2B;MAAAA,oDAAA,kBAAU;MAAAA,0DAAA,EAAS;MAC9CA,4DAAA,kBAAuB;MAAAA,oDAAA,cAAM;MAAAA,0DAAA,EAAS;MAExCA,4DAAA,iBAAgD;MACXA,oDAAA,eAAO;MAAAA,0DAAA,EAAS;MACnDA,4DAAA,iBAAoB;MAAAA,oDAAA,mBAAW;MAAAA,0DAAA,EAAS;MACxCA,4DAAA,kBAAyB;MAAAA,oDAAA,eAAO;MAAAA,0DAAA,EAAS;MAI/CA,4DAAA,eAAkB;MAChBA,wDAAA,KAAAwG,gCAAA,mBAWM;MACRxG,0DAAA,EAAM;MAERA,4DAAA,eAAwB;MACtBA,uDAAA,sBAAiC;MACnCA,0DAAA,EAAM;;;MAhBmCA,uDAAA,IAAc;MAAdA,wDAAA,YAAAoE,GAAA,CAAAZ,WAAA,CAAc;;;;;;;;;;;;;;;;;;;;;;;ACxBnD,MAAO9B,uBAAuB;EAElCjC,YAAoBgH,SAAgD;IAAhD,KAAAA,SAAS,GAATA,SAAS;EAA0C;EAEvEC,OAAOA,CAAA;IACL,IAAI,CAACD,SAAS,CAACE,KAAK,EAAE;EACxB;;AANWjF,uBAAuB;mBAAvBA,uBAAuB,EAAA1B,+DAAA,CAAAE,kEAAA;AAAA;AAAvBwB,uBAAuB;QAAvBA,uBAAuB;EAAAmC,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAA4C,iCAAA1C,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCRpCnE,4DAAA,aAA2C;MACvCA,uDAAA,aAAwC;MAC5CA,0DAAA,EAAM;MAENA,4DAAA,iBAAiC;MACVA,oDAAA,8BAAuB;MAAAA,0DAAA,EAAM;MAEhDA,4DAAA,aAAyB;MAEjBA,uDAAA,aAAiF;MACjFA,oDAAA,wCACJ;MAAAA,0DAAA,EAAM;MACNA,4DAAA,aAA8B;MAC1BA,uDAAA,cAAiF;MACjFA,oDAAA,8BACJ;MAAAA,0DAAA,EAAM;MACNA,4DAAA,cAA8B;MAC1BA,uDAAA,cAAiF;MACjFA,4DAAA,YAA+D;MAAAA,oDAAA,4CAAoC;MAAAA,0DAAA,EAAI;MAI/GA,4DAAA,eAAqB;MACjBA,uDAAA,eAA+E;MAC/EA,4DAAA,eAAyB;MACrBA,oDAAA,qDACA;MAAAA,4DAAA,UAAI;MACIA,oDAAA,4FAAoF;MAAAA,0DAAA,EAAK;MAC7FA,4DAAA,UAAI;MAAAA,oDAAA,2DAAmD;MAAAA,0DAAA,EAAK;MAC5DA,4DAAA,UAAI;MAAAA,oDAAA,8FAAsF;MAAAA,0DAAA,EAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BzC;AAGpB;AACQ;AACN;AACR;AACF;AACW;AAEwC;;;;;;AAQvF,MAAOZ,iBAAiB;EA8D5BK,YAAoB6H,kBAAsC,EAAUC,MAAiB,EAAUC,WAA2B;IAAtG,KAAAF,kBAAkB,GAAlBA,kBAAkB;IAA8B,KAAAC,MAAM,GAANA,MAAM;IAAqB,KAAAC,WAAW,GAAXA,WAAW;IA7D1G,KAAAC,QAAQ,GAAG,KAAK;IAChB,KAAAC,cAAc,GAAG;MACfC,IAAI,EAAE,iBAAiB;MACvBC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE;KACR;IAED,KAAAC,aAAa,GAAG;MACdH,IAAI,EAAE,WAAW;MACjBC,MAAM,EAAE,OAAO;MACfC,KAAK,EAAE;KACR;IAED,KAAAE,eAAe,GAAoB;MACjCC,MAAM,EAAEX,qEAAQ;MAChBY,OAAO,EAAE,CAAClB,6DAAa,EAAEC,iEAAiB,EAAEC,8DAAc,EAAEC,0DAAU,CAAC;MACvEgB,KAAK,EAAE;QACLC,YAAY,EAAE;UACZC,UAAU,EAAE;SACb;QACDC,WAAW,EAAE;UACXD,UAAU,EAAE;SACb;QACDE,QAAQ,EAAE;UACRF,UAAU,EAAE;;OAEf;MACDG,WAAW,EAAE,cAAc;MAC3BC,MAAM,EAAE,CACN;QACE9I,KAAK,EAAE,iBAAiB;QACxB+I,KAAK,EAAE,qBAAqB;QAC5BC,GAAG,EAAE,qBAAqB;QAC1BC,eAAe,EAAE,SAAS;QAC1BC,WAAW,EAAE,SAAS;QACtBC,KAAK,EAAE;OACR,EACD;QACEnJ,KAAK,EAAE,YAAY;QACnBoJ,IAAI,EAAE,YAAY;QAClBD,KAAK,EAAE;OACR,EACD;QACEnJ,KAAK,EAAE,uBAAuB;QAC9B+I,KAAK,EAAE,YAAY;QACnBC,GAAG,EAAE,YAAY;QACjBG,KAAK,EAAE;OACR,CACc;MACjBE,gBAAgB,EAAE,IAAI;MACtBC,eAAe,EAAE,IAAI;MACrBC,eAAe,EAAE;QACfC,IAAI,EAAE,SAAS;QACfC,MAAM,EAAE,SAAS;QACjBC,QAAQ,EAAE,KAAK;QACfC,MAAM,EAAE,KAAK,CAAE;OAChB;;MACDC,UAAU,EAAE,IAAI,CAACC,gBAAgB,CAACC,IAAI,CAAC,IAAI;KAC5C;IAEO,KAAAC,QAAQ,GAAG,IAAItC,yCAAO,EAAQ;EACwF;EAE9HuC,QAAQA,CAAA;IACN,IAAI,CAACpC,kBAAkB,CACpBqC,OAAO,CAAC,CAAC7C,4DAAW,CAAC8C,MAAM,CAAC,CAAC,CAAC;IAAA,CAC9BC,IAAI,CAACzC,+CAAS,CAAC,IAAI,CAACqC,QAAQ,CAAC,CAAC,CAC9BK,SAAS,CAACC,MAAM,IAAG;MAClB,IAAI,CAACtC,QAAQ,GAAGsC,MAAM,CAACC,OAAO;MAE9B;MACA,IAAI,CAACjC,eAAe,GAAG;QACrB,GAAG,IAAI,CAACA,eAAe;QACvBkC,aAAa,EAAE,IAAI,CAACxC,QAAQ,GAAG,IAAI,CAACK,aAAa,GAAG,IAAI,CAACJ,cAAc;QACvEwC,aAAa,EAAE,IAAI,CAACzC,QAAQ,GAAG,MAAM,GAAG3H;OACzC;IACH,CAAC,CAAC;EACN;EAEAqK,WAAWA,CAAA;IACT,IAAI,CAACV,QAAQ,CAACW,IAAI,EAAE;IACpB,IAAI,CAACX,QAAQ,CAACY,QAAQ,EAAE;EAC1B;EAEAd,gBAAgBA,CAACe,IAAS;IACxB,IAAI,CAACC,gBAAgB,EAAE;EACzB;EAEAC,kBAAkBA,CAACC,KAAU;IAC3B,IAAI,CAACA,KAAK,CAAChC,KAAK,EAAE;MAChB,OAAO,IAAI,CAAC,CAAC;;;IAGf,MAAMiC,SAAS,GAAGD,KAAK,CAAChC,KAAK,CAAC,CAAC;IAC/B,MAAMkC,OAAO,GAAGF,KAAK,CAAC/B,GAAG,CAAC,CAAK;IAC/B,IAAI,CAACiC,OAAO,EAAE;MACZ,OAAO,MAAM;;IAEf,MAAMC,QAAQ,GAAGF,SAAS,CAACG,YAAY,EAAE;IACzC,MAAMC,MAAM,GAAGH,OAAO,CAACE,YAAY,EAAE;IAErC,IAAID,QAAQ,KAAKE,MAAM,EAAE;MACvB,OAAO,WAAW;KACnB,MAAM;MACL,IAAIF,QAAQ,IAAIE,MAAM,EAAE;QACtB,OAAO,MAAM;OACd,MAAM;QACL,OAAO,IAAI;;;EAGjB;EAEAP,gBAAgBA,CAAA;IACd,IAAI,IAAI,CAAC9C,QAAQ,EAAE;MACjB,IAAI,CAACD,WAAW,CAAC5D,IAAI,CAAClC,sGAAuB,CAAC;KAC/C,MAAM;MAEL,MAAM+E,SAAS,GAAG,IAAI,CAACc,MAAM,CAAC3D,IAAI,CAAClC,sGAAuB,EAAE;QAC1DqJ,KAAK,EAAE;OACR,CAAC;MACFtE,SAAS,CAACuE,WAAW,EAAE,CAAClB,SAAS,CAAEC,MAAM,IAAI,CAAG,CAAC,CAAC;;EAEtD;;AA3HW3K,iBAAiB;mBAAjBA,iBAAiB,EAAAY,+DAAA,CAAAE,mEAAA,GAAAF,+DAAA,CAAAoB,gEAAA,GAAApB,+DAAA,CAAAmL,2EAAA;AAAA;AAAjB/L,iBAAiB;QAAjBA,iBAAiB;EAAAyE,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAoH,2BAAAlH,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MClB9BnE,4DAAA,aAAsB;MAClBA,uDAAA,uBAoBgB;MAEpBA,0DAAA,EAAM;;;MAtBaA,uDAAA,GAA2B;MAA3BA,wDAAA,YAAAoE,GAAA,CAAA2D,eAAA,CAA2B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACDkI;AAA6E;AAA6M;AAA0B;AAAA,SAASiG,CAACA,CAACzC,CAAC,EAACE,CAAC,EAAC;EAAC,KAAI,IAAIE,CAAC,IAAIF,CAAC,EAACF,CAAC,CAACI,CAAC,CAAC,GAACF,CAAC,CAACE,CAAC,CAAC;EAAC,OAAOJ,CAAC;AAAA;AAAC,SAAS0C,CAACA,CAAC1C,CAAC,EAACE,CAAC,EAAC;EAAC,KAAI,IAAIE,CAAC,IAAIJ,CAAC,EAAC,IAAG,UAAU,KAAGI,CAAC,IAAE,EAAEA,CAAC,IAAIF,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;EAAC,KAAI,IAAII,CAAC,IAAIJ,CAAC,EAAC,IAAG,UAAU,KAAGI,CAAC,IAAEN,CAAC,CAACM,CAAC,CAAC,KAAGJ,CAAC,CAACI,CAAC,CAAC,EAAC,OAAM,CAAC,CAAC;EAAC,OAAM,CAAC,CAAC;AAAA;AAAC,SAASqC,CAACA,CAAC3C,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOF,CAAC,KAAGE,CAAC,KAAG,CAAC,KAAGF,CAAC,IAAE,CAAC,GAACA,CAAC,IAAE,CAAC,GAACE,CAAC,CAAC,IAAEF,CAAC,IAAEA,CAAC,IAAEE,CAAC,IAAEA,CAAC;AAAA;AAAC,SAAS0C,CAACA,CAAC5C,CAAC,EAAC;EAAC,IAAI,CAAC6C,KAAK,GAAC7C,CAAC;AAAA;AAAC,SAAS8C,CAACA,CAAC9C,CAAC,EAACI,CAAC,EAAC;EAAC,SAASE,CAACA,CAACN,CAAC,EAAC;IAAC,IAAIE,CAAC,GAAC,IAAI,CAAC2C,KAAK,CAACE,GAAG;MAACzC,CAAC,GAACJ,CAAC,IAAEF,CAAC,CAAC+C,GAAG;IAAC,OAAM,CAACzC,CAAC,IAAEJ,CAAC,KAAGA,CAAC,CAAC8C,IAAI,GAAC9C,CAAC,CAAC,IAAI,CAAC,GAACA,CAAC,CAAC+C,OAAO,GAAC,IAAI,CAAC,EAAC7C,CAAC,GAAC,CAACA,CAAC,CAAC,IAAI,CAACyC,KAAK,EAAC7C,CAAC,CAAC,IAAE,CAACM,CAAC,GAACoC,CAAC,CAAC,IAAI,CAACG,KAAK,EAAC7C,CAAC,CAAC;EAAA;EAAC,SAASQ,CAACA,CAACJ,CAAC,EAAC;IAAC,OAAO,IAAI,CAAC8C,qBAAqB,GAAC5C,CAAC,EAACJ,qDAAC,CAACF,CAAC,EAACI,CAAC,CAAC;EAAA;EAAC,OAAOI,CAAC,CAAC2C,WAAW,GAAC,OAAO,IAAEnD,CAAC,CAACmD,WAAW,IAAEnD,CAAC,CAACoD,IAAI,CAAC,GAAC,GAAG,EAAC5C,CAAC,CAAC6C,SAAS,CAACC,gBAAgB,GAAC,CAAC,CAAC,EAAC9C,CAAC,CAAC+C,GAAG,GAAC,CAAC,CAAC,EAAC/C,CAAC;AAAA;AAAC,CAACoC,CAAC,CAACS,SAAS,GAAC,IAAIrD,6CAAC,CAAD,CAAC,EAAEwD,oBAAoB,GAAC,CAAC,CAAC,EAACZ,CAAC,CAACS,SAAS,CAACH,qBAAqB,GAAC,UAASlD,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOwC,CAAC,CAAC,IAAI,CAACG,KAAK,EAAC7C,CAAC,CAAC,IAAE0C,CAAC,CAAC,IAAI,CAACe,KAAK,EAACvD,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIwD,CAAC,GAACtD,2CAAC,CAACuD,GAAG;AAACvD,2CAAC,CAACuD,GAAG,GAAC,UAAS3D,CAAC,EAAC;EAACA,CAAC,CAACnI,IAAI,IAAEmI,CAAC,CAACnI,IAAI,CAAC0L,GAAG,IAAEvD,CAAC,CAAC+C,GAAG,KAAG/C,CAAC,CAAC6C,KAAK,CAACE,GAAG,GAAC/C,CAAC,CAAC+C,GAAG,EAAC/C,CAAC,CAAC+C,GAAG,GAAC,IAAI,CAAC,EAACW,CAAC,IAAEA,CAAC,CAAC1D,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI4D,CAAC,GAAC,WAAW,IAAE,OAAOC,MAAM,IAAEA,MAAM,CAACC,GAAG,IAAED,MAAM,CAACC,GAAG,CAAC,mBAAmB,CAAC,IAAE,IAAI;AAAC,SAASC,CAACA,CAAC/D,CAAC,EAAC;EAAC,SAASE,CAACA,CAACA,CAAC,EAAC;IAAC,IAAIE,CAAC,GAACqC,CAAC,CAAC,CAAC,CAAC,EAACvC,CAAC,CAAC;IAAC,OAAO,OAAOE,CAAC,CAAC2C,GAAG,EAAC/C,CAAC,CAACI,CAAC,EAACF,CAAC,CAAC6C,GAAG,IAAE,IAAI,CAAC;EAAA;EAAC,OAAO7C,CAAC,CAAC8D,QAAQ,GAACJ,CAAC,EAAC1D,CAAC,CAACO,MAAM,GAACP,CAAC,EAACA,CAAC,CAACmD,SAAS,CAACC,gBAAgB,GAACpD,CAAC,CAACqD,GAAG,GAAC,CAAC,CAAC,EAACrD,CAAC,CAACiD,WAAW,GAAC,aAAa,IAAEnD,CAAC,CAACmD,WAAW,IAAEnD,CAAC,CAACoD,IAAI,CAAC,GAAC,GAAG,EAAClD,CAAC;AAAA;AAAC,IAAI+D,CAAC,GAAC,SAAAA,CAASjE,CAAC,EAACE,CAAC,EAAC;IAAC,OAAO,IAAI,IAAEF,CAAC,GAAC,IAAI,GAACM,oDAAC,CAACA,oDAAC,CAACN,CAAC,CAAC,CAACkE,GAAG,CAAChE,CAAC,CAAC,CAAC;EAAA,CAAC;EAACiE,CAAC,GAAC;IAACD,GAAG,EAACD,CAAC;IAACG,OAAO,EAACH,CAAC;IAACI,KAAK,EAAC,SAAAA,CAASrE,CAAC,EAAC;MAAC,OAAOA,CAAC,GAACM,oDAAC,CAACN,CAAC,CAAC,CAACsE,MAAM,GAAC,CAAC;IAAA,CAAC;IAACC,IAAI,EAAC,SAAAA,CAASvE,CAAC,EAAC;MAAC,IAAIE,CAAC,GAACI,oDAAC,CAACN,CAAC,CAAC;MAAC,IAAG,CAAC,KAAGE,CAAC,CAACoE,MAAM,EAAC,MAAK,eAAe;MAAC,OAAOpE,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC;IAACsE,OAAO,EAAClE,gDAACA;EAAA,CAAC;EAACmE,CAAC,GAACrE,2CAAC,CAACsE,GAAG;AAACtE,2CAAC,CAACsE,GAAG,GAAC,UAAS1E,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,IAAGN,CAAC,CAAC2E,IAAI,EAAC,KAAI,IAAInE,CAAC,EAACE,CAAC,GAACR,CAAC,EAACQ,CAAC,GAACA,CAAC,CAACkE,EAAE,GAAE,IAAG,CAACpE,CAAC,GAACE,CAAC,CAACmE,GAAG,KAAGrE,CAAC,CAACqE,GAAG,EAAC,OAAO,IAAI,IAAE3E,CAAC,CAACwE,GAAG,KAAGxE,CAAC,CAACwE,GAAG,GAACtE,CAAC,CAACsE,GAAG,EAACxE,CAAC,CAAC4E,GAAG,GAAC1E,CAAC,CAAC0E,GAAG,CAAC,EAACtE,CAAC,CAACqE,GAAG,CAAC7E,CAAC,EAACE,CAAC,CAAC;EAACuE,CAAC,CAACzE,CAAC,EAACE,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIyE,CAAC,GAAC3E,2CAAC,CAAC4E,OAAO;AAAC,SAASC,CAACA,CAACjF,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,KAAGA,CAAC,CAAC6E,GAAG,IAAE7E,CAAC,CAAC6E,GAAG,CAACK,GAAG,KAAGlF,CAAC,CAAC6E,GAAG,CAACK,GAAG,CAACN,EAAE,CAACR,OAAO,CAAC,UAASpE,CAAC,EAAC;IAAC,UAAU,IAAE,OAAOA,CAAC,CAAC6E,GAAG,IAAE7E,CAAC,CAAC6E,GAAG,CAAC,CAAC;EAAA,CAAC,CAAC,EAAC7E,CAAC,CAAC6E,GAAG,CAACK,GAAG,GAAC,IAAI,CAAC,EAAC,IAAI,IAAE,CAAClF,CAAC,GAACyC,CAAC,CAAC,CAAC,CAAC,EAACzC,CAAC,CAAC,EAAE6E,GAAG,KAAG7E,CAAC,CAAC6E,GAAG,CAACM,GAAG,KAAG/E,CAAC,KAAGJ,CAAC,CAAC6E,GAAG,CAACM,GAAG,GAACjF,CAAC,CAAC,EAACF,CAAC,CAAC6E,GAAG,GAAC,IAAI,CAAC,EAAC7E,CAAC,CAAC8E,GAAG,GAAC9E,CAAC,CAAC8E,GAAG,IAAE9E,CAAC,CAAC8E,GAAG,CAACZ,GAAG,CAAC,UAASlE,CAAC,EAAC;IAAC,OAAOiF,CAAC,CAACjF,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;EAAA,CAAC,CAAC,CAAC,EAACJ,CAAC;AAAA;AAAC,SAASoF,CAACA,CAACpF,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOJ,CAAC,KAAGA,CAAC,CAACqF,GAAG,GAAC,IAAI,EAACrF,CAAC,CAAC8E,GAAG,GAAC9E,CAAC,CAAC8E,GAAG,IAAE9E,CAAC,CAAC8E,GAAG,CAACZ,GAAG,CAAC,UAASlE,CAAC,EAAC;IAAC,OAAOoF,CAAC,CAACpF,CAAC,EAACE,CAAC,EAACE,CAAC,CAAC;EAAA,CAAC,CAAC,EAACJ,CAAC,CAAC6E,GAAG,IAAE7E,CAAC,CAAC6E,GAAG,CAACM,GAAG,KAAGjF,CAAC,KAAGF,CAAC,CAAC0E,GAAG,IAAEtE,CAAC,CAACkF,YAAY,CAACtF,CAAC,CAAC0E,GAAG,EAAC1E,CAAC,CAACuF,GAAG,CAAC,EAACvF,CAAC,CAAC6E,GAAG,CAACH,GAAG,GAAC,CAAC,CAAC,EAAC1E,CAAC,CAAC6E,GAAG,CAACM,GAAG,GAAC/E,CAAC,CAAC,CAAC,EAACJ,CAAC;AAAA;AAAC,SAASwF,CAACA,CAAA,EAAE;EAAC,IAAI,CAACC,GAAG,GAAC,CAAC,EAAC,IAAI,CAACvF,CAAC,GAAC,IAAI,EAAC,IAAI,CAACyD,GAAG,GAAC,IAAI;AAAA;AAAC,SAAS+B,CAACA,CAAC1F,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACF,CAAC,CAAC4E,EAAE,CAACC,GAAG;EAAC,OAAO3E,CAAC,IAAEA,CAAC,CAACyF,GAAG,IAAEzF,CAAC,CAACyF,GAAG,CAAC3F,CAAC,CAAC;AAAA;AAAC,SAAS4F,CAACA,CAAC5F,CAAC,EAAC;EAAC,IAAII,CAAC,EAACE,CAAC,EAACE,CAAC;EAAC,SAASE,CAACA,CAACA,CAAC,EAAC;IAAC,IAAGN,CAAC,IAAE,CAACA,CAAC,GAACJ,CAAC,CAAC,CAAC,EAAE2E,IAAI,CAAC,UAAS3E,CAAC,EAAC;MAACM,CAAC,GAACN,CAAC,CAAC6F,OAAO,IAAE7F,CAAC;IAAA,CAAC,EAAC,UAASA,CAAC,EAAC;MAACQ,CAAC,GAACR,CAAC;IAAA,CAAC,CAAC,EAACQ,CAAC,EAAC,MAAMA,CAAC;IAAC,IAAG,CAACF,CAAC,EAAC,MAAMF,CAAC;IAAC,OAAOF,qDAAC,CAACI,CAAC,EAACI,CAAC,CAAC;EAAA;EAAC,OAAOA,CAAC,CAACyC,WAAW,GAAC,MAAM,EAACzC,CAAC,CAAC6C,GAAG,GAAC,CAAC,CAAC,EAAC7C,CAAC;AAAA;AAAC,SAASoF,CAACA,CAAA,EAAE;EAAC,IAAI,CAACtF,CAAC,GAAC,IAAI,EAAC,IAAI,CAACE,CAAC,GAAC,IAAI;AAAA;AAACN,2CAAC,CAAC4E,OAAO,GAAC,UAAShF,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACF,CAAC,CAAC6E,GAAG;EAAC3E,CAAC,IAAEA,CAAC,CAAC6F,GAAG,IAAE7F,CAAC,CAAC6F,GAAG,CAAC,CAAC,EAAC7F,CAAC,IAAE,CAAC,CAAC,KAAGF,CAAC,CAACgG,GAAG,KAAGhG,CAAC,CAACnI,IAAI,GAAC,IAAI,CAAC,EAACkN,CAAC,IAAEA,CAAC,CAAC/E,CAAC,CAAC;AAAA,CAAC,EAAC,CAACwF,CAAC,CAACnC,SAAS,GAAC,IAAIrD,6CAAC,CAAD,CAAC,EAAE6E,GAAG,GAAC,UAAS7E,CAAC,EAACE,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACF,CAAC,CAAC2E,GAAG;IAACvE,CAAC,GAAC,IAAI;EAAC,IAAI,IAAEA,CAAC,CAACJ,CAAC,KAAGI,CAAC,CAACJ,CAAC,GAAC,EAAE,CAAC,EAACI,CAAC,CAACJ,CAAC,CAAC+F,IAAI,CAAC7F,CAAC,CAAC;EAAC,IAAII,CAAC,GAACkF,CAAC,CAACpF,CAAC,CAAC+E,GAAG,CAAC;IAAC3E,CAAC,GAAC,CAAC,CAAC;IAACE,CAAC,GAAC,SAAAA,CAAA,EAAU;MAACF,CAAC,KAAGA,CAAC,GAAC,CAAC,CAAC,EAACN,CAAC,CAAC2F,GAAG,GAAC,IAAI,EAACvF,CAAC,GAACA,CAAC,CAACM,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC;IAAA,CAAC;EAACV,CAAC,CAAC2F,GAAG,GAACnF,CAAC;EAAC,IAAIE,CAAC,GAAC,SAAAA,CAAA,EAAU;MAAC,IAAG,CAAC,GAAER,CAAC,CAACmF,GAAG,EAAC;QAAC,IAAGnF,CAAC,CAACmD,KAAK,CAACkC,GAAG,EAAC;UAAC,IAAI3F,CAAC,GAACM,CAAC,CAACmD,KAAK,CAACkC,GAAG;UAACrF,CAAC,CAAC+E,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,GAACM,CAAC,CAACpF,CAAC,EAACA,CAAC,CAAC6E,GAAG,CAACM,GAAG,EAACnF,CAAC,CAAC6E,GAAG,CAACqB,GAAG,CAAC;QAAA;QAAC,IAAIhG,CAAC;QAAC,KAAII,CAAC,CAAC6F,QAAQ,CAAC;UAACR,GAAG,EAACrF,CAAC,CAACqD,GAAG,GAAC;QAAI,CAAC,CAAC,EAACzD,CAAC,GAACI,CAAC,CAACJ,CAAC,CAACkG,GAAG,CAAC,CAAC,GAAElG,CAAC,CAACmG,WAAW,CAAC,CAAC;MAAA;IAAC,CAAC;IAACrF,CAAC,GAAC,CAAC,CAAC,KAAGd,CAAC,CAAC8F,GAAG;EAAC1F,CAAC,CAACmF,GAAG,EAAE,IAAEzE,CAAC,IAAEV,CAAC,CAAC6F,QAAQ,CAAC;IAACR,GAAG,EAACrF,CAAC,CAACqD,GAAG,GAACrD,CAAC,CAAC+E,GAAG,CAACP,GAAG,CAAC,CAAC;EAAC,CAAC,CAAC,EAAC9E,CAAC,CAAC2E,IAAI,CAAC/D,CAAC,EAACA,CAAC,CAAC;AAAA,CAAC,EAAC4E,CAAC,CAACnC,SAAS,CAACiD,oBAAoB,GAAC,YAAU;EAAC,IAAI,CAACpG,CAAC,GAAC,EAAE;AAAA,CAAC,EAACsF,CAAC,CAACnC,SAAS,CAAC5C,MAAM,GAAC,UAAST,CAAC,EAACI,CAAC,EAAC;EAAC,IAAG,IAAI,CAACuD,GAAG,EAAC;IAAC,IAAG,IAAI,CAAC0B,GAAG,CAACP,GAAG,EAAC;MAAC,IAAIxE,CAAC,GAACiG,QAAQ,CAACtG,aAAa,CAAC,KAAK,CAAC;QAACS,CAAC,GAAC,IAAI,CAAC2E,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,CAACD,GAAG;MAAC,IAAI,CAACQ,GAAG,CAACP,GAAG,CAAC,CAAC,CAAC,GAACG,CAAC,CAAC,IAAI,CAACtB,GAAG,EAACrD,CAAC,EAACI,CAAC,CAACwF,GAAG,GAACxF,CAAC,CAACyE,GAAG,CAAC;IAAA;IAAC,IAAI,CAACxB,GAAG,GAAC,IAAI;EAAA;EAAC,IAAI/C,CAAC,GAACR,CAAC,CAACuF,GAAG,IAAEzF,qDAAC,CAACM,4CAAC,EAAC,IAAI,EAACR,CAAC,CAACwG,QAAQ,CAAC;EAAC,OAAO5F,CAAC,KAAGA,CAAC,CAACoF,GAAG,GAAC,IAAI,CAAC,EAAC,CAAC9F,qDAAC,CAACM,4CAAC,EAAC,IAAI,EAACJ,CAAC,CAACuF,GAAG,GAAC,IAAI,GAAC3F,CAAC,CAAC1K,QAAQ,CAAC,EAACsL,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI6F,CAAC,GAAC,SAAAA,CAASzG,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,IAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,KAAGA,CAAC,CAAC,CAAC,CAAC,IAAEJ,CAAC,CAACU,CAAC,CAACgG,MAAM,CAACxG,CAAC,CAAC,EAACF,CAAC,CAAC6C,KAAK,CAAC8D,WAAW,KAAG,GAAG,KAAG3G,CAAC,CAAC6C,KAAK,CAAC8D,WAAW,CAAC,CAAC,CAAC,IAAE,CAAC3G,CAAC,CAACU,CAAC,CAACkG,IAAI,CAAC,EAAC,KAAIxG,CAAC,GAACJ,CAAC,CAACQ,CAAC,EAACJ,CAAC,GAAE;IAAC,OAAKA,CAAC,CAACkE,MAAM,GAAC,CAAC,GAAElE,CAAC,CAACgG,GAAG,CAAC,CAAC,CAAC,CAAC;IAAC,IAAGhG,CAAC,CAAC,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,EAAC;IAAMJ,CAAC,CAACQ,CAAC,GAACJ,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC;EAAA;AAAC,CAAC;AAAC,SAASyG,CAACA,CAAC7G,CAAC,EAAC;EAAC,OAAO,IAAI,CAAC8G,eAAe,GAAC,YAAU;IAAC,OAAO9G,CAAC,CAAC+G,OAAO;EAAA,CAAC,EAAC/G,CAAC,CAAC1K,QAAQ;AAAA;AAAC,SAAS0R,CAACA,CAAChH,CAAC,EAAC;EAAC,IAAII,CAAC,GAAC,IAAI;IAACE,CAAC,GAACN,CAAC,CAACY,CAAC;EAACR,CAAC,CAACkG,oBAAoB,GAAC,YAAU;IAAC5F,8CAAC,CAAC,IAAI,EAACN,CAAC,CAACU,CAAC,CAAC,EAACV,CAAC,CAACU,CAAC,GAAC,IAAI,EAACV,CAAC,CAACQ,CAAC,GAAC,IAAI;EAAA,CAAC,EAACR,CAAC,CAACQ,CAAC,IAAER,CAAC,CAACQ,CAAC,KAAGN,CAAC,IAAEF,CAAC,CAACkG,oBAAoB,CAAC,CAAC,EAACtG,CAAC,CAACqF,GAAG,IAAEjF,CAAC,CAACU,CAAC,KAAGV,CAAC,CAACQ,CAAC,GAACN,CAAC,EAACF,CAAC,CAACU,CAAC,GAAC;IAACmG,QAAQ,EAAC,CAAC;IAACC,UAAU,EAAC5G,CAAC;IAAC6G,UAAU,EAAC,EAAE;IAACC,WAAW,EAAC,SAAAA,CAASpH,CAAC,EAAC;MAAC,IAAI,CAACmH,UAAU,CAAClB,IAAI,CAACjG,CAAC,CAAC,EAACI,CAAC,CAACQ,CAAC,CAACwG,WAAW,CAACpH,CAAC,CAAC;IAAA,CAAC;IAACsF,YAAY,EAAC,SAAAA,CAAStF,CAAC,EAACE,CAAC,EAAC;MAAC,IAAI,CAACiH,UAAU,CAAClB,IAAI,CAACjG,CAAC,CAAC,EAACI,CAAC,CAACQ,CAAC,CAACwG,WAAW,CAACpH,CAAC,CAAC;IAAA,CAAC;IAACqH,WAAW,EAAC,SAAAA,CAASrH,CAAC,EAAC;MAAC,IAAI,CAACmH,UAAU,CAACG,MAAM,CAAC,IAAI,CAACH,UAAU,CAACI,OAAO,CAACvH,CAAC,CAAC,KAAG,CAAC,EAAC,CAAC,CAAC,EAACI,CAAC,CAACQ,CAAC,CAACyG,WAAW,CAACrH,CAAC,CAAC;IAAA;EAAC,CAAC,CAAC,EAACU,8CAAC,CAACR,qDAAC,CAAC2G,CAAC,EAAC;IAACE,OAAO,EAAC3G,CAAC,CAAC2G;EAAO,CAAC,EAAC/G,CAAC,CAACqF,GAAG,CAAC,EAACjF,CAAC,CAACU,CAAC,CAAC,IAAEV,CAAC,CAACU,CAAC,IAAEV,CAAC,CAACkG,oBAAoB,CAAC,CAAC;AAAA;AAAC,SAASkB,CAACA,CAACxH,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACJ,qDAAC,CAAC8G,CAAC,EAAC;IAAC3B,GAAG,EAACrF,CAAC;IAACY,CAAC,EAACR;EAAC,CAAC,CAAC;EAAC,OAAOE,CAAC,CAACmH,aAAa,GAACrH,CAAC,EAACE,CAAC;AAAA;AAAC,CAACwF,CAAC,CAACzC,SAAS,GAAC,IAAIrD,6CAAC,CAAD,CAAC,EAAE2F,GAAG,GAAC,UAAS3F,CAAC,EAAC;EAAC,IAAIE,CAAC,GAAC,IAAI;IAACE,CAAC,GAACsF,CAAC,CAACxF,CAAC,CAACmF,GAAG,CAAC;IAAC/E,CAAC,GAACJ,CAAC,CAACQ,CAAC,CAACgH,GAAG,CAAC1H,CAAC,CAAC;EAAC,OAAOM,CAAC,CAAC,CAAC,CAAC,EAAE,EAAC,UAASE,CAAC,EAAC;IAAC,IAAIE,CAAC,GAAC,SAAAA,CAAA,EAAU;MAACR,CAAC,CAAC2C,KAAK,CAAC8D,WAAW,IAAErG,CAAC,CAAC2F,IAAI,CAACzF,CAAC,CAAC,EAACiG,CAAC,CAACvG,CAAC,EAACF,CAAC,EAACM,CAAC,CAAC,IAAEE,CAAC,CAAC,CAAC;IAAA,CAAC;IAACJ,CAAC,GAACA,CAAC,CAACM,CAAC,CAAC,GAACA,CAAC,CAAC,CAAC;EAAA,CAAC;AAAA,CAAC,EAACoF,CAAC,CAACzC,SAAS,CAAC5C,MAAM,GAAC,UAAST,CAAC,EAAC;EAAC,IAAI,CAACQ,CAAC,GAAC,IAAI,EAAC,IAAI,CAACE,CAAC,GAAC,IAAIiH,GAAG,CAAD,CAAC;EAAC,IAAIzH,CAAC,GAACI,oDAAC,CAACN,CAAC,CAAC1K,QAAQ,CAAC;EAAC0K,CAAC,CAAC2G,WAAW,IAAE,GAAG,KAAG3G,CAAC,CAAC2G,WAAW,CAAC,CAAC,CAAC,IAAEzG,CAAC,CAAC0H,OAAO,CAAC,CAAC;EAAC,KAAI,IAAIxH,CAAC,GAACF,CAAC,CAACoE,MAAM,EAAClE,CAAC,EAAE,GAAE,IAAI,CAACM,CAAC,CAACmH,GAAG,CAAC3H,CAAC,CAACE,CAAC,CAAC,EAAC,IAAI,CAACI,CAAC,GAAC,CAAC,CAAC,EAAC,CAAC,EAAC,IAAI,CAACA,CAAC,CAAC,CAAC;EAAC,OAAOR,CAAC,CAAC1K,QAAQ;AAAA,CAAC,EAACwQ,CAAC,CAACzC,SAAS,CAACyE,kBAAkB,GAAChC,CAAC,CAACzC,SAAS,CAAC0E,iBAAiB,GAAC,YAAU;EAAC,IAAI/H,CAAC,GAAC,IAAI;EAAC,IAAI,CAACU,CAAC,CAAC0D,OAAO,CAAC,UAASlE,CAAC,EAACE,CAAC,EAAC;IAACqG,CAAC,CAACzG,CAAC,EAACI,CAAC,EAACF,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI8H,CAAC,GAAC,WAAW,IAAE,OAAOnE,MAAM,IAAEA,MAAM,CAACC,GAAG,IAAED,MAAM,CAACC,GAAG,CAAC,eAAe,CAAC,IAAE,KAAK;EAACmE,CAAC,GAAC,yRAAyR;EAACC,CAAC,GAAC,WAAW,IAAE,OAAO3B,QAAQ;EAAC4B,CAAC,GAAC,SAAAA,CAASnI,CAAC,EAAC;IAAC,OAAM,CAAC,WAAW,IAAE,OAAO6D,MAAM,IAAE,QAAQ,IAAE,OAAOA,MAAM,CAAC,CAAC,GAAC,cAAc,GAAC,aAAa,EAAEuE,IAAI,CAACpI,CAAC,CAAC;EAAA,CAAC;AAAC,SAASqI,CAACA,CAACrI,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAO,IAAI,IAAEF,CAAC,CAAC4E,GAAG,KAAG5E,CAAC,CAACoI,WAAW,GAAC,EAAE,CAAC,EAAC5H,8CAAC,CAACV,CAAC,EAACE,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOE,CAAC,IAAEA,CAAC,CAAC,CAAC,EAACJ,CAAC,GAACA,CAAC,CAAC6E,GAAG,GAAC,IAAI;AAAA;AAAC,SAAS0D,CAACA,CAACvI,CAAC,EAACE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOQ,+CAAC,CAACZ,CAAC,EAACE,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOE,CAAC,IAAEA,CAAC,CAAC,CAAC,EAACJ,CAAC,GAACA,CAAC,CAAC6E,GAAG,GAAC,IAAI;AAAA;AAAC7E,6CAAC,CAACqD,SAAS,CAACC,gBAAgB,GAAC,CAAC,CAAC,EAAC,CAAC,oBAAoB,EAAC,2BAA2B,EAAC,qBAAqB,CAAC,CAACc,OAAO,CAAC,UAASlE,CAAC,EAAC;EAACsI,MAAM,CAACC,cAAc,CAACzI,6CAAC,CAACqD,SAAS,EAACnD,CAAC,EAAC;IAACwI,YAAY,EAAC,CAAC,CAAC;IAAChB,GAAG,EAAC,SAAAA,CAAA,EAAU;MAAC,OAAO,IAAI,CAAC,SAAS,GAACxH,CAAC,CAAC;IAAA,CAAC;IAAC2H,GAAG,EAAC,SAAAA,CAAS7H,CAAC,EAAC;MAACwI,MAAM,CAACC,cAAc,CAAC,IAAI,EAACvI,CAAC,EAAC;QAACwI,YAAY,EAAC,CAAC,CAAC;QAACC,QAAQ,EAAC,CAAC,CAAC;QAACC,KAAK,EAAC5I;MAAC,CAAC,CAAC;IAAA;EAAC,CAAC,CAAC;AAAA,CAAC,CAAC;AAAC,IAAI6I,CAAC,GAACzI,2CAAC,CAAClB,KAAK;AAAC,SAAS4J,CAACA,CAAA,EAAE,CAAC;AAAC,SAASC,CAACA,CAAA,EAAE;EAAC,OAAO,IAAI,CAACC,YAAY;AAAA;AAAC,SAASC,CAACA,CAAA,EAAE;EAAC,OAAO,IAAI,CAACC,gBAAgB;AAAA;AAAC9I,2CAAC,CAAClB,KAAK,GAAC,UAASc,CAAC,EAAC;EAAC,OAAO6I,CAAC,KAAG7I,CAAC,GAAC6I,CAAC,CAAC7I,CAAC,CAAC,CAAC,EAACA,CAAC,CAACmJ,OAAO,GAACL,CAAC,EAAC9I,CAAC,CAACoJ,oBAAoB,GAACL,CAAC,EAAC/I,CAAC,CAACqJ,kBAAkB,GAACJ,CAAC,EAACjJ,CAAC,CAACsJ,WAAW,GAACtJ,CAAC;AAAA,CAAC;AAAC,IAAIuJ,CAAC;EAACC,EAAE,GAAC;IAACd,YAAY,EAAC,CAAC,CAAC;IAAChB,GAAG,EAAC,SAAAA,CAAA,EAAU;MAAC,OAAO,IAAI,CAAC+B,KAAK;IAAA;EAAC,CAAC;EAACC,EAAE,GAACtJ,2CAAC,CAACuJ,KAAK;AAACvJ,2CAAC,CAACuJ,KAAK,GAAC,UAAS3J,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACF,CAAC,CAACnI,IAAI;IAACuI,CAAC,GAACJ,CAAC,CAAC6C,KAAK;IAACrC,CAAC,GAACJ,CAAC;EAAC,IAAG,QAAQ,IAAE,OAAOF,CAAC,EAAC;IAAC,IAAIQ,CAAC,GAAC,CAAC,CAAC,KAAGR,CAAC,CAACqH,OAAO,CAAC,GAAG,CAAC;IAAC,KAAI,IAAI3G,CAAC,IAAIJ,CAAC,GAAC,CAAC,CAAC,EAACJ,CAAC,EAAC;MAAC,IAAIU,CAAC,GAACV,CAAC,CAACQ,CAAC,CAAC;MAACsH,CAAC,IAAE,UAAU,KAAGtH,CAAC,IAAE,UAAU,KAAGV,CAAC,IAAE,OAAO,KAAGU,CAAC,IAAE,cAAc,IAAGR,CAAC,IAAE,IAAI,IAAEU,CAAC,KAAG,cAAc,KAAGF,CAAC,IAAE,OAAO,IAAGR,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACwI,KAAK,GAAChI,CAAC,GAAC,OAAO,GAAC,UAAU,KAAGA,CAAC,IAAE,CAAC,CAAC,KAAGE,CAAC,GAACA,CAAC,GAAC,EAAE,GAAC,gBAAgB,CAACsH,IAAI,CAACxH,CAAC,CAAC,GAACA,CAAC,GAAC,YAAY,GAAC,4BAA4B,CAACwH,IAAI,CAACxH,CAAC,GAACV,CAAC,CAAC,IAAE,CAACiI,CAAC,CAAC/H,CAAC,CAACvI,IAAI,CAAC,GAAC+I,CAAC,GAAC,SAAS,GAAC,YAAY,CAACwH,IAAI,CAACxH,CAAC,CAAC,GAACA,CAAC,GAAC,WAAW,GAAC,WAAW,CAACwH,IAAI,CAACxH,CAAC,CAAC,GAACA,CAAC,GAAC,YAAY,GAAC,kCAAkC,CAACwH,IAAI,CAACxH,CAAC,CAAC,GAACA,CAAC,GAACA,CAAC,CAACgJ,WAAW,CAAC,CAAC,GAAClJ,CAAC,IAAEuH,CAAC,CAACG,IAAI,CAACxH,CAAC,CAAC,GAACA,CAAC,GAACA,CAAC,CAACiJ,OAAO,CAAC,WAAW,EAAC,KAAK,CAAC,CAACD,WAAW,CAAC,CAAC,GAAC,IAAI,KAAG9I,CAAC,KAAGA,CAAC,GAAC,KAAK,CAAC,CAAC,EAAC,YAAY,CAACsH,IAAI,CAACxH,CAAC,CAAC,KAAGA,CAAC,GAACA,CAAC,CAACgJ,WAAW,CAAC,CAAC,EAACpJ,CAAC,CAACI,CAAC,CAAC,KAAGA,CAAC,GAAC,gBAAgB,CAAC,CAAC,EAACJ,CAAC,CAACI,CAAC,CAAC,GAACE,CAAC,CAAC;IAAA;IAAC,QAAQ,IAAEZ,CAAC,IAAEM,CAAC,CAACsJ,QAAQ,IAAEC,KAAK,CAACC,OAAO,CAACxJ,CAAC,CAACoI,KAAK,CAAC,KAAGpI,CAAC,CAACoI,KAAK,GAACtI,oDAAC,CAACF,CAAC,CAAC9K,QAAQ,CAAC,CAAC8O,OAAO,CAAC,UAASpE,CAAC,EAAC;MAACA,CAAC,CAAC6C,KAAK,CAACoH,QAAQ,GAAC,CAAC,CAAC,IAAEzJ,CAAC,CAACoI,KAAK,CAACrB,OAAO,CAACvH,CAAC,CAAC6C,KAAK,CAAC+F,KAAK,CAAC;IAAA,CAAC,CAAC,CAAC,EAAC,QAAQ,IAAE1I,CAAC,IAAE,IAAI,IAAEM,CAAC,CAAC0J,YAAY,KAAG1J,CAAC,CAACoI,KAAK,GAACtI,oDAAC,CAACF,CAAC,CAAC9K,QAAQ,CAAC,CAAC8O,OAAO,CAAC,UAASpE,CAAC,EAAC;MAACA,CAAC,CAAC6C,KAAK,CAACoH,QAAQ,GAACzJ,CAAC,CAACsJ,QAAQ,GAAC,CAAC,CAAC,IAAEtJ,CAAC,CAAC0J,YAAY,CAAC3C,OAAO,CAACvH,CAAC,CAAC6C,KAAK,CAAC+F,KAAK,CAAC,GAACpI,CAAC,CAAC0J,YAAY,IAAElK,CAAC,CAAC6C,KAAK,CAAC+F,KAAK;IAAA,CAAC,CAAC,CAAC,EAAC5I,CAAC,CAAC6C,KAAK,GAACrC,CAAC,EAACJ,CAAC,CAACqJ,KAAK,IAAErJ,CAAC,CAAC+J,SAAS,KAAGX,EAAE,CAACY,UAAU,GAAC,WAAW,IAAGhK,CAAC,EAAC,IAAI,IAAEA,CAAC,CAAC+J,SAAS,KAAG3J,CAAC,CAACiJ,KAAK,GAACrJ,CAAC,CAAC+J,SAAS,CAAC,EAAC3B,MAAM,CAACC,cAAc,CAACjI,CAAC,EAAC,WAAW,EAACgJ,EAAE,CAAC,CAAC;EAAA;EAACxJ,CAAC,CAACgE,QAAQ,GAACgE,CAAC,EAAC0B,EAAE,IAAEA,EAAE,CAAC1J,CAAC,CAAC;AAAA,CAAC;AAAC,IAAIqK,EAAE,GAACjK,2CAAC,CAACkK,GAAG;AAAClK,2CAAC,CAACkK,GAAG,GAAC,UAAStK,CAAC,EAAC;EAACqK,EAAE,IAAEA,EAAE,CAACrK,CAAC,CAAC,EAACuJ,CAAC,GAACvJ,CAAC,CAAC6E,GAAG;AAAA,CAAC;AAAC,IAAI0F,EAAE,GAAC;IAACC,sBAAsB,EAAC;MAACvH,OAAO,EAAC;QAACwH,WAAW,EAAC,SAAAA,CAASzK,CAAC,EAAC;UAAC,OAAOuJ,CAAC,CAACmB,GAAG,CAAC1K,CAAC,CAAC6E,GAAG,CAAC,CAAChC,KAAK,CAAC+F,KAAK;QAAA;MAAC;IAAC;EAAC,CAAC;EAAC+B,EAAE,GAAC,QAAQ;AAAC,SAASC,EAAEA,CAAC5K,CAAC,EAAC;EAAC,OAAOE,iDAAC,CAACjC,IAAI,CAAC,IAAI,EAAC+B,CAAC,CAAC;AAAA;AAAC,SAAS6K,EAAEA,CAAC7K,CAAC,EAAC;EAAC,OAAM,CAAC,CAACA,CAAC,IAAEA,CAAC,CAACgE,QAAQ,KAAGgE,CAAC;AAAA;AAAC,SAAS8C,EAAEA,CAAC9K,CAAC,EAAC;EAAC,OAAO6K,EAAE,CAAC7K,CAAC,CAAC,GAACkB,gDAAC,CAAC6J,KAAK,CAAC,IAAI,EAACC,SAAS,CAAC,GAAChL,CAAC;AAAA;AAAC,SAASiL,EAAEA,CAACjL,CAAC,EAAC;EAAC,OAAM,CAAC,CAACA,CAAC,CAAC8E,GAAG,KAAGpE,8CAAC,CAAC,IAAI,EAACV,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;AAAA;AAAC,SAASkL,EAAEA,CAAClL,CAAC,EAAC;EAAC,OAAOA,CAAC,KAAGA,CAAC,CAACmL,IAAI,IAAE,CAAC,KAAGnL,CAAC,CAACiH,QAAQ,IAAEjH,CAAC,CAAC,IAAE,IAAI;AAAA;AAAC,IAAIoL,EAAE,GAAC,SAAAA,CAASpL,CAAC,EAACE,CAAC,EAAC;IAAC,OAAOF,CAAC,CAACE,CAAC,CAAC;EAAA,CAAC;EAACmL,EAAE,GAAC,SAAAA,CAASrL,CAAC,EAACE,CAAC,EAAC;IAAC,OAAOF,CAAC,CAACE,CAAC,CAAC;EAAA,CAAC;EAACoL,EAAE,GAAC9K,4CAAC;AAAC,SAAS+K,EAAEA,CAACvL,CAAC,EAAC;EAACA,CAAC,CAAC,CAAC;AAAA;AAAC,SAASwL,EAAEA,CAACxL,CAAC,EAAC;EAAC,OAAOA,CAAC;AAAA;AAAC,SAASyL,EAAEA,CAAA,EAAE;EAAC,OAAM,CAAC,CAAC,CAAC,EAACF,EAAE,CAAC;AAAA;AAAC,IAAIG,EAAE,GAAC9J,yDAAC;AAAC,SAAS+J,EAAEA,CAAC3L,CAAC,EAACE,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACF,CAAC,CAAC,CAAC;IAACI,CAAC,GAACc,sDAAC,CAAC;MAACI,CAAC,EAAC;QAACoD,EAAE,EAACxE,CAAC;QAACsB,CAAC,EAACxB;MAAC;IAAC,CAAC,CAAC;IAACM,CAAC,GAACF,CAAC,CAAC,CAAC,CAAC,CAACkB,CAAC;IAACd,CAAC,GAACJ,CAAC,CAAC,CAAC,CAAC;EAAC,OAAOsB,6DAAC,CAAC,YAAU;IAACpB,CAAC,CAACoE,EAAE,GAACxE,CAAC,EAACI,CAAC,CAACkB,CAAC,GAACxB,CAAC,EAACyC,CAAC,CAACnC,CAAC,CAACoE,EAAE,EAAC1E,CAAC,CAAC,CAAC,CAAC,IAAEQ,CAAC,CAAC;MAACc,CAAC,EAAChB;IAAC,CAAC,CAAC;EAAA,CAAC,EAAC,CAACR,CAAC,EAACI,CAAC,EAACF,CAAC,CAAC,CAAC,EAACwB,uDAAC,CAAC,YAAU;IAAC,OAAOiB,CAAC,CAACnC,CAAC,CAACoE,EAAE,EAACpE,CAAC,CAACkB,CAAC,CAAC,CAAC,CAAC,IAAEhB,CAAC,CAAC;MAACc,CAAC,EAAChB;IAAC,CAAC,CAAC,EAACR,CAAC,CAAC,YAAU;MAAC2C,CAAC,CAACnC,CAAC,CAACoE,EAAE,EAACpE,CAAC,CAACkB,CAAC,CAAC,CAAC,CAAC,IAAEhB,CAAC,CAAC;QAACc,CAAC,EAAChB;MAAC,CAAC,CAAC;IAAA,CAAC,CAAC;EAAA,CAAC,EAAC,CAACR,CAAC,CAAC,CAAC,EAACI,CAAC;AAAA;AAAC,IAAIwL,EAAE,GAAC;EAACzK,QAAQ,EAACC,kDAAC;EAACC,KAAK,EAACC,+CAAC;EAACC,UAAU,EAACC,oDAAC;EAACC,SAAS,EAACC,mDAAC;EAACC,eAAe,EAACC,yDAAC;EAACiK,kBAAkB,EAACH,EAAE;EAACI,aAAa,EAACL,EAAE;EAACM,gBAAgB,EAACP,EAAE;EAACQ,oBAAoB,EAACL,EAAE;EAACM,eAAe,EAACV,EAAE;EAAC1J,MAAM,EAACC,gDAAC;EAACC,mBAAmB,EAACC,6DAAC;EAACC,OAAO,EAACC,iDAAC;EAACC,WAAW,EAACC,qDAAC;EAACC,UAAU,EAACC,oDAAC;EAACC,aAAa,EAACC,uDAAC;EAAC0J,OAAO,EAAC,QAAQ;EAACC,QAAQ,EAAChI,CAAC;EAAC1D,MAAM,EAAC4H,CAAC;EAAC1H,OAAO,EAAC4H,CAAC;EAAC6D,sBAAsB,EAACnB,EAAE;EAACoB,YAAY,EAAC7E,CAAC;EAACvH,aAAa,EAACC,iDAAC;EAACW,aAAa,EAACC,iDAAC;EAACwL,aAAa,EAAC1B,EAAE;EAAC3J,YAAY,EAAC6J,EAAE;EAAC/J,SAAS,EAACC,6CAAC;EAACT,QAAQ,EAACC,4CAAC;EAAC+L,cAAc,EAAC1B,EAAE;EAAC2B,WAAW,EAACtB,EAAE;EAACnL,SAAS,EAACC,6CAAC;EAACyM,aAAa,EAAC7J,CAAC;EAAC8J,IAAI,EAAC5J,CAAC;EAAC6J,UAAU,EAAC5I,CAAC;EAAC6I,SAAS,EAACvB,EAAE;EAACwB,uBAAuB,EAACzB,EAAE;EAAC0B,UAAU,EAACxB,EAAE;EAACyB,QAAQ,EAACvH,CAAC;EAACwH,YAAY,EAAClH,CAAC;EAACmH,IAAI,EAACrH,CAAC;EAACsH,kDAAkD,EAAC3C;AAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;ACArkR,IAAIvK,CAAC;EAACc,CAAC;EAACN,CAAC;EAACI,CAAC;EAACV,CAAC;EAACI,CAAC;EAACI,CAAC;EAACQ,CAAC;EAACd,CAAC;EAACY,CAAC,GAAC,CAAC,CAAC;EAACM,CAAC,GAAC,EAAE;EAACF,CAAC,GAAC,mEAAmE;AAAC,SAASI,CAACA,CAACxB,CAAC,EAACc,CAAC,EAAC;EAAC,KAAI,IAAIN,CAAC,IAAIM,CAAC,EAACd,CAAC,CAACQ,CAAC,CAAC,GAACM,CAAC,CAACN,CAAC,CAAC;EAAC,OAAOR,CAAC;AAAA;AAAC,SAAS0B,CAACA,CAAC1B,CAAC,EAAC;EAAC,IAAIc,CAAC,GAACd,CAAC,CAACkH,UAAU;EAACpG,CAAC,IAAEA,CAAC,CAACuG,WAAW,CAACrH,CAAC,CAAC;AAAA;AAAC,SAASkC,CAACA,CAACpB,CAAC,EAACN,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIV,CAAC;IAACI,CAAC;IAACI,CAAC;IAACQ,CAAC,GAAC,CAAC,CAAC;EAAC,KAAIR,CAAC,IAAIF,CAAC,EAAC,KAAK,IAAEE,CAAC,GAACR,CAAC,GAACM,CAAC,CAACE,CAAC,CAAC,GAAC,KAAK,IAAEA,CAAC,GAACJ,CAAC,GAACE,CAAC,CAACE,CAAC,CAAC,GAACQ,CAAC,CAACR,CAAC,CAAC,GAACF,CAAC,CAACE,CAAC,CAAC;EAAC,IAAGsK,SAAS,CAAC1G,MAAM,GAAC,CAAC,KAAGpD,CAAC,CAAC5L,QAAQ,GAAC0V,SAAS,CAAC1G,MAAM,GAAC,CAAC,GAACtE,CAAC,CAACgD,IAAI,CAACgI,SAAS,EAAC,CAAC,CAAC,GAACpK,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOE,CAAC,IAAE,IAAI,IAAEA,CAAC,CAACqM,YAAY,EAAC,KAAIzM,CAAC,IAAII,CAAC,CAACqM,YAAY,EAAC,KAAK,CAAC,KAAGjM,CAAC,CAACR,CAAC,CAAC,KAAGQ,CAAC,CAACR,CAAC,CAAC,GAACI,CAAC,CAACqM,YAAY,CAACzM,CAAC,CAAC,CAAC;EAAC,OAAOoB,CAAC,CAAChB,CAAC,EAACI,CAAC,EAAChB,CAAC,EAACI,CAAC,EAAC,IAAI,CAAC;AAAA;AAAC,SAASwB,CAACA,CAAC9B,CAAC,EAACY,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIQ,CAAC,GAAC;IAACrJ,IAAI,EAACmI,CAAC;IAAC6C,KAAK,EAACjC,CAAC;IAACwM,GAAG,EAAClN,CAAC;IAAC6C,GAAG,EAACzC,CAAC;IAACwE,GAAG,EAAC,IAAI;IAACF,EAAE,EAAC,IAAI;IAACjB,GAAG,EAAC,CAAC;IAACe,GAAG,EAAC,IAAI;IAACa,GAAG,EAAC,KAAK,CAAC;IAACV,GAAG,EAAC,IAAI;IAACmB,GAAG,EAAC,IAAI;IAAC9R,WAAW,EAAC,KAAK,CAAC;IAACmR,GAAG,EAAC,IAAI,IAAE3E,CAAC,GAAC,EAAEF,CAAC,GAACE;EAAC,CAAC;EAAC,OAAO,IAAI,IAAEA,CAAC,IAAE,IAAI,IAAEI,CAAC,CAAC6I,KAAK,IAAE7I,CAAC,CAAC6I,KAAK,CAACzI,CAAC,CAAC,EAACA,CAAC;AAAA;AAAC,SAASU,CAACA,CAAA,EAAE;EAAC,OAAM;IAACqB,OAAO,EAAC;EAAI,CAAC;AAAA;AAAC,SAASb,CAACA,CAACpC,CAAC,EAAC;EAAC,OAAOA,CAAC,CAAC1K,QAAQ;AAAA;AAAC,SAASyO,CAACA,CAAC/D,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAAC;EAAC,IAAII,CAAC;EAAC,KAAIA,CAAC,IAAIE,CAAC,EAAC,UAAU,KAAGF,CAAC,IAAE,KAAK,KAAGA,CAAC,IAAEA,CAAC,IAAIQ,CAAC,IAAE2B,CAAC,CAACzC,CAAC,EAACM,CAAC,EAAC,IAAI,EAACE,CAAC,CAACF,CAAC,CAAC,EAACM,CAAC,CAAC;EAAC,KAAIN,CAAC,IAAIQ,CAAC,EAACZ,CAAC,IAAE,UAAU,IAAE,OAAOY,CAAC,CAACR,CAAC,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,KAAK,KAAGA,CAAC,IAAE,OAAO,KAAGA,CAAC,IAAE,SAAS,KAAGA,CAAC,IAAEE,CAAC,CAACF,CAAC,CAAC,KAAGQ,CAAC,CAACR,CAAC,CAAC,IAAEmC,CAAC,CAACzC,CAAC,EAACM,CAAC,EAACQ,CAAC,CAACR,CAAC,CAAC,EAACE,CAAC,CAACF,CAAC,CAAC,EAACM,CAAC,CAAC;AAAA;AAAC,SAAS0B,CAACA,CAACtC,CAAC,EAACc,CAAC,EAACN,CAAC,EAAC;EAAC,GAAG,KAAGM,CAAC,CAAC,CAAC,CAAC,GAACd,CAAC,CAACqN,WAAW,CAACvM,CAAC,EAAC,IAAI,IAAEN,CAAC,GAAC,EAAE,GAACA,CAAC,CAAC,GAACR,CAAC,CAACc,CAAC,CAAC,GAAC,IAAI,IAAEN,CAAC,GAAC,EAAE,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAEY,CAAC,CAACgH,IAAI,CAACtH,CAAC,CAAC,GAACN,CAAC,GAACA,CAAC,GAAC,IAAI;AAAA;AAAC,SAASiC,CAACA,CAACzC,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAAC;EAAC,IAAII,CAAC;EAACN,CAAC,EAAC,IAAG,OAAO,KAAGc,CAAC;IAAC,IAAG,QAAQ,IAAE,OAAON,CAAC,EAACR,CAAC,CAACsN,KAAK,CAACC,OAAO,GAAC/M,CAAC,CAAC,KAAI;MAAC,IAAG,QAAQ,IAAE,OAAOI,CAAC,KAAGZ,CAAC,CAACsN,KAAK,CAACC,OAAO,GAAC3M,CAAC,GAAC,EAAE,CAAC,EAACA,CAAC,EAAC,KAAIE,CAAC,IAAIF,CAAC,EAACJ,CAAC,IAAEM,CAAC,IAAIN,CAAC,IAAE8B,CAAC,CAACtC,CAAC,CAACsN,KAAK,EAACxM,CAAC,EAAC,EAAE,CAAC;MAAC,IAAGN,CAAC,EAAC,KAAIM,CAAC,IAAIN,CAAC,EAACI,CAAC,IAAEJ,CAAC,CAACM,CAAC,CAAC,KAAGF,CAAC,CAACE,CAAC,CAAC,IAAEwB,CAAC,CAACtC,CAAC,CAACsN,KAAK,EAACxM,CAAC,EAACN,CAAC,CAACM,CAAC,CAAC,CAAC;IAAA;EAAC,OAAK,IAAG,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,IAAE,GAAG,KAAGA,CAAC,CAAC,CAAC,CAAC,EAACR,CAAC,GAACQ,CAAC,MAAIA,CAAC,GAACA,CAAC,CAAC+I,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC,CAAC,EAAC/I,CAAC,GAACA,CAAC,CAAC8I,WAAW,CAAC,CAAC,IAAG5J,CAAC,GAACc,CAAC,CAAC8I,WAAW,CAAC,CAAC,CAAC4D,KAAK,CAAC,CAAC,CAAC,GAAC1M,CAAC,CAAC0M,KAAK,CAAC,CAAC,CAAC,EAACxN,CAAC,CAACc,CAAC,KAAGd,CAAC,CAACc,CAAC,GAAC,CAAC,CAAC,CAAC,EAACd,CAAC,CAACc,CAAC,CAACA,CAAC,GAACR,CAAC,CAAC,GAACE,CAAC,EAACA,CAAC,GAACI,CAAC,IAAEZ,CAAC,CAACyN,gBAAgB,CAAC3M,CAAC,EAACR,CAAC,GAACsC,CAAC,GAACZ,CAAC,EAAC1B,CAAC,CAAC,GAACN,CAAC,CAAC0N,mBAAmB,CAAC5M,CAAC,EAACR,CAAC,GAACsC,CAAC,GAACZ,CAAC,EAAC1B,CAAC,CAAC,CAAC,KAAK,IAAG,yBAAyB,KAAGQ,CAAC,EAAC;IAAC,IAAGZ,CAAC,EAACY,CAAC,GAACA,CAAC,CAAC+I,OAAO,CAAC,aAAa,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,QAAQ,EAAC,GAAG,CAAC,CAAC,KAAK,IAAG,OAAO,KAAG/I,CAAC,IAAE,QAAQ,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,MAAM,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAE,UAAU,KAAGA,CAAC,IAAEA,CAAC,IAAId,CAAC,EAAC,IAAG;MAACA,CAAC,CAACc,CAAC,CAAC,GAAC,IAAI,IAAEN,CAAC,GAAC,EAAE,GAACA,CAAC;MAAC,MAAMR,CAAC;IAAA,CAAC,QAAMA,CAAC,EAAC,CAAC;IAAC,UAAU,IAAE,OAAOQ,CAAC,KAAG,IAAI,IAAEA,CAAC,IAAE,CAAC,CAAC,KAAGA,CAAC,IAAE,CAAC,CAAC,IAAEM,CAAC,CAACyG,OAAO,CAAC,GAAG,CAAC,GAACvH,CAAC,CAAC2N,eAAe,CAAC7M,CAAC,CAAC,GAACd,CAAC,CAAC4N,YAAY,CAAC9M,CAAC,EAACN,CAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAASwB,CAACA,CAAChC,CAAC,EAAC;EAACE,CAAC,GAAC,CAAC,CAAC;EAAC,IAAG;IAAC,OAAO,IAAI,CAACY,CAAC,CAACd,CAAC,CAACnI,IAAI,GAAC,CAAC,CAAC,CAAC,CAACiJ,CAAC,CAAC5B,KAAK,GAAC4B,CAAC,CAAC5B,KAAK,CAACc,CAAC,CAAC,GAACA,CAAC,CAAC;EAAA,CAAC,SAAO;IAACE,CAAC,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS0C,CAACA,CAAC5C,CAAC,EAAC;EAACE,CAAC,GAAC,CAAC,CAAC;EAAC,IAAG;IAAC,OAAO,IAAI,CAACY,CAAC,CAACd,CAAC,CAACnI,IAAI,GAAC,CAAC,CAAC,CAAC,CAACiJ,CAAC,CAAC5B,KAAK,GAAC4B,CAAC,CAAC5B,KAAK,CAACc,CAAC,CAAC,GAACA,CAAC,CAAC;EAAA,CAAC,SAAO;IAACE,CAAC,GAAC,CAAC,CAAC;EAAA;AAAC;AAAC,SAASwD,CAACA,CAAC1D,CAAC,EAACc,CAAC,EAAC;EAAC,IAAI,CAAC+B,KAAK,GAAC7C,CAAC,EAAC,IAAI,CAAC+G,OAAO,GAACjG,CAAC;AAAA;AAAC,SAASmD,CAACA,CAACjE,CAAC,EAACc,CAAC,EAAC;EAAC,IAAG,IAAI,IAAEA,CAAC,EAAC,OAAOd,CAAC,CAAC4E,EAAE,GAACX,CAAC,CAACjE,CAAC,CAAC4E,EAAE,EAAC5E,CAAC,CAAC4E,EAAE,CAACE,GAAG,CAACyC,OAAO,CAACvH,CAAC,CAAC,GAAC,CAAC,CAAC,GAAC,IAAI;EAAC,KAAI,IAAIQ,CAAC,EAACM,CAAC,GAACd,CAAC,CAAC8E,GAAG,CAACR,MAAM,EAACxD,CAAC,EAAE,EAAC,IAAG,IAAI,KAAGN,CAAC,GAACR,CAAC,CAAC8E,GAAG,CAAChE,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEN,CAAC,CAACkE,GAAG,EAAC,OAAOlE,CAAC,CAACkE,GAAG;EAAC,OAAM,UAAU,IAAE,OAAO1E,CAAC,CAACnI,IAAI,GAACoM,CAAC,CAACjE,CAAC,CAAC,GAAC,IAAI;AAAA;AAAC,SAAS6G,CAACA,CAAC7G,CAAC,EAAC;EAAC,IAAIc,CAAC,EAACN,CAAC;EAAC,IAAG,IAAI,KAAGR,CAAC,GAACA,CAAC,CAAC4E,EAAE,CAAC,IAAE,IAAI,IAAE5E,CAAC,CAAC6E,GAAG,EAAC;IAAC,KAAI7E,CAAC,CAAC0E,GAAG,GAAC1E,CAAC,CAAC6E,GAAG,CAACsG,IAAI,GAAC,IAAI,EAACrK,CAAC,GAAC,CAAC,EAACA,CAAC,GAACd,CAAC,CAAC8E,GAAG,CAACR,MAAM,EAACxD,CAAC,EAAE,EAAC,IAAG,IAAI,KAAGN,CAAC,GAACR,CAAC,CAAC8E,GAAG,CAAChE,CAAC,CAAC,CAAC,IAAE,IAAI,IAAEN,CAAC,CAACkE,GAAG,EAAC;MAAC1E,CAAC,CAAC0E,GAAG,GAAC1E,CAAC,CAAC6E,GAAG,CAACsG,IAAI,GAAC3K,CAAC,CAACkE,GAAG;MAAC;IAAK;IAAC,OAAOmC,CAAC,CAAC7G,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS0C,CAACA,CAAC1C,CAAC,EAAC;EAACE,CAAC,GAAC2N,UAAU,CAAC7N,CAAC,CAAC,GAACkB,CAAC,CAAClB,CAAC,CAAC;AAAA;AAAC,SAASyE,CAACA,CAACzE,CAAC,EAAC;EAAC,CAAC,CAACA,CAAC,CAACuF,GAAG,KAAGvF,CAAC,CAACuF,GAAG,GAAC,CAAC,CAAC,CAAC,IAAEjF,CAAC,CAAC2F,IAAI,CAACjG,CAAC,CAAC,IAAE,CAACgH,CAAC,CAACsD,GAAG,EAAE,IAAE5J,CAAC,KAAGI,CAAC,CAACgN,iBAAiB,KAAG,CAAC,CAACpN,CAAC,GAACI,CAAC,CAACgN,iBAAiB,KAAGpL,CAAC,EAAEsE,CAAC,CAAC;AAAA;AAAC,SAASA,CAACA,CAAA,EAAE;EAAC,IAAIhH,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAACQ,CAAC,EAACQ,CAAC,EAACd,CAAC;EAAC,KAAIE,CAAC,CAACyN,IAAI,CAAC,UAAS/N,CAAC,EAACc,CAAC,EAAC;IAAC,OAAOd,CAAC,CAACqF,GAAG,CAAC1B,GAAG,GAAC7C,CAAC,CAACuE,GAAG,CAAC1B,GAAG;EAAA,CAAC,CAAC,EAAC3D,CAAC,GAACM,CAAC,CAAC0N,KAAK,CAAC,CAAC,GAAEhO,CAAC,CAACuF,GAAG,KAAGzE,CAAC,GAACR,CAAC,CAACgE,MAAM,EAAC1D,CAAC,GAAC,KAAK,CAAC,EAACV,CAAC,GAAC,KAAK,CAAC,EAACgB,CAAC,GAAC,CAACR,CAAC,GAAC,CAACF,CAAC,GAACR,CAAC,EAAEqF,GAAG,EAAEX,GAAG,EAAC,CAACtE,CAAC,GAACI,CAAC,CAAC2E,GAAG,MAAIvE,CAAC,GAAC,EAAE,EAAC,CAACV,CAAC,GAACsB,CAAC,CAAC,CAAC,CAAC,EAACd,CAAC,CAAC,EAAE2E,GAAG,GAAC3E,CAAC,CAAC2E,GAAG,GAAC,CAAC,EAACO,CAAC,CAACxF,CAAC,EAACM,CAAC,EAACR,CAAC,EAACM,CAAC,CAACkK,GAAG,EAAC,KAAK,CAAC,KAAGtK,CAAC,CAAC6N,eAAe,EAAC,IAAI,IAAEvN,CAAC,CAACsF,GAAG,GAAC,CAAC9E,CAAC,CAAC,GAAC,IAAI,EAACN,CAAC,EAAC,IAAI,IAAEM,CAAC,GAAC+C,CAAC,CAACvD,CAAC,CAAC,GAACQ,CAAC,EAACR,CAAC,CAACsF,GAAG,CAAC,EAACpC,CAAC,CAAChD,CAAC,EAACF,CAAC,CAAC,EAACA,CAAC,CAACgE,GAAG,IAAExD,CAAC,IAAE2F,CAAC,CAACnG,CAAC,CAAC,CAAC,EAACJ,CAAC,CAACgE,MAAM,GAACxD,CAAC,IAAER,CAAC,CAACyN,IAAI,CAAC,UAAS/N,CAAC,EAACc,CAAC,EAAC;IAAC,OAAOd,CAAC,CAACqF,GAAG,CAAC1B,GAAG,GAAC7C,CAAC,CAACuE,GAAG,CAAC1B,GAAG;EAAA,CAAC,CAAC,CAAC;EAACqD,CAAC,CAACsD,GAAG,GAAC,CAAC;AAAA;AAAC,SAASpC,CAACA,CAAClI,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACd,CAAC,EAACgB,CAAC,EAAC;EAAC,IAAII,CAAC;IAACE,CAAC;IAACQ,CAAC;IAACN,CAAC;IAACmC,CAAC;IAACzB,CAAC;IAACG,CAAC;IAACT,CAAC,GAACpB,CAAC,IAAEA,CAAC,CAACkE,GAAG,IAAExD,CAAC;IAACsB,CAAC,GAACZ,CAAC,CAACsC,MAAM;EAAC,KAAI9D,CAAC,CAACsE,GAAG,GAAC,EAAE,EAACtD,CAAC,GAAC,CAAC,EAACA,CAAC,GAACV,CAAC,CAACwD,MAAM,EAAC9C,CAAC,EAAE,EAAC,IAAG,IAAI,KAAGI,CAAC,GAACpB,CAAC,CAACsE,GAAG,CAACtD,CAAC,CAAC,GAAC,IAAI,KAAGI,CAAC,GAACd,CAAC,CAACU,CAAC,CAAC,CAAC,IAAE,SAAS,IAAE,OAAOI,CAAC,GAAC,IAAI,GAAC,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,IAAE,QAAQ,IAAE,OAAOA,CAAC,GAACE,CAAC,CAAC,IAAI,EAACF,CAAC,EAAC,IAAI,EAAC,IAAI,EAACA,CAAC,CAAC,GAACmI,KAAK,CAACC,OAAO,CAACpI,CAAC,CAAC,GAACE,CAAC,CAACM,CAAC,EAAC;IAAC9M,QAAQ,EAACsM;EAAC,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,IAAI,CAAC,GAACA,CAAC,CAAC+B,GAAG,GAAC,CAAC,GAAC7B,CAAC,CAACF,CAAC,CAAC/J,IAAI,EAAC+J,CAAC,CAACiB,KAAK,EAACjB,CAAC,CAACwL,GAAG,EAACxL,CAAC,CAACmB,GAAG,GAACnB,CAAC,CAACmB,GAAG,GAAC,IAAI,EAACnB,CAAC,CAACyD,GAAG,CAAC,GAACzD,CAAC,CAAC,EAAC;IAAC,IAAGA,CAAC,CAACgD,EAAE,GAACpE,CAAC,EAACoB,CAAC,CAAC+B,GAAG,GAACnD,CAAC,CAACmD,GAAG,GAAC,CAAC,EAAC,IAAI,MAAIzB,CAAC,GAACF,CAAC,CAACR,CAAC,CAAC,CAAC,IAAEU,CAAC,IAAEN,CAAC,CAACwL,GAAG,IAAElL,CAAC,CAACkL,GAAG,IAAExL,CAAC,CAAC/J,IAAI,KAAGqK,CAAC,CAACrK,IAAI,EAACmK,CAAC,CAACR,CAAC,CAAC,GAAC,KAAK,CAAC,CAAC,KAAK,KAAIE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACkB,CAAC,EAAClB,CAAC,EAAE,EAAC;MAAC,IAAG,CAACQ,CAAC,GAACF,CAAC,CAACN,CAAC,CAAC,KAAGE,CAAC,CAACwL,GAAG,IAAElL,CAAC,CAACkL,GAAG,IAAExL,CAAC,CAAC/J,IAAI,KAAGqK,CAAC,CAACrK,IAAI,EAAC;QAACmK,CAAC,CAACN,CAAC,CAAC,GAAC,KAAK,CAAC;QAAC;MAAK;MAACQ,CAAC,GAAC,IAAI;IAAA;IAAC0D,CAAC,CAAC5F,CAAC,EAAC4B,CAAC,EAACM,CAAC,GAACA,CAAC,IAAElB,CAAC,EAACd,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACd,CAAC,EAACgB,CAAC,CAAC,EAAC2C,CAAC,GAACnC,CAAC,CAAC8C,GAAG,EAAC,CAAChD,CAAC,GAACE,CAAC,CAACmB,GAAG,KAAGb,CAAC,CAACa,GAAG,IAAErB,CAAC,KAAGe,CAAC,KAAGA,CAAC,GAAC,EAAE,CAAC,EAACP,CAAC,CAACa,GAAG,IAAEN,CAAC,CAACwD,IAAI,CAAC/D,CAAC,CAACa,GAAG,EAAC,IAAI,EAACnB,CAAC,CAAC,EAACa,CAAC,CAACwD,IAAI,CAACvE,CAAC,EAACE,CAAC,CAACiD,GAAG,IAAEd,CAAC,EAACnC,CAAC,CAAC,CAAC,EAAC,IAAI,IAAEmC,CAAC,IAAE,IAAI,IAAEzB,CAAC,KAAGA,CAAC,GAACyB,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOnC,CAAC,CAAC/J,IAAI,IAAE+J,CAAC,CAACkD,GAAG,KAAG5C,CAAC,CAAC4C,GAAG,GAAClD,CAAC,CAAC2D,GAAG,GAACnF,CAAC,GAAC2E,CAAC,CAACnD,CAAC,EAACxB,CAAC,EAACJ,CAAC,CAAC,GAACI,CAAC,GAAC4H,CAAC,CAAChI,CAAC,EAAC4B,CAAC,EAACM,CAAC,EAACF,CAAC,EAAC+B,CAAC,EAAC3D,CAAC,CAAC,EAAC,UAAU,IAAE,OAAOI,CAAC,CAAC3I,IAAI,KAAG2I,CAAC,CAAC+E,GAAG,GAACnF,CAAC,CAAC,IAAEA,CAAC,IAAE8B,CAAC,CAACwC,GAAG,IAAEtE,CAAC,IAAEA,CAAC,CAAC8G,UAAU,IAAElH,CAAC,KAAGI,CAAC,GAAC6D,CAAC,CAAC/B,CAAC,CAAC,CAAC;EAAA;EAAC,KAAI1B,CAAC,CAACkE,GAAG,GAACpC,CAAC,EAACd,CAAC,GAACoB,CAAC,EAACpB,CAAC,EAAE,GAAE,IAAI,IAAEQ,CAAC,CAACR,CAAC,CAAC,KAAG,UAAU,IAAE,OAAOhB,CAAC,CAAC3I,IAAI,IAAE,IAAI,IAAEmK,CAAC,CAACR,CAAC,CAAC,CAACkD,GAAG,IAAE1C,CAAC,CAACR,CAAC,CAAC,CAACkD,GAAG,IAAElE,CAAC,CAAC+E,GAAG,KAAG/E,CAAC,CAAC+E,GAAG,GAACN,CAAC,CAACrE,CAAC,CAAC,CAACsN,WAAW,CAAC,EAAC3F,CAAC,CAACvG,CAAC,CAACR,CAAC,CAAC,EAACQ,CAAC,CAACR,CAAC,CAAC,CAAC,CAAC;EAAC,IAAGiB,CAAC,EAAC,KAAIjB,CAAC,GAAC,CAAC,EAACA,CAAC,GAACiB,CAAC,CAAC6B,MAAM,EAAC9C,CAAC,EAAE,EAACgB,CAAC,CAACC,CAAC,CAACjB,CAAC,CAAC,EAACiB,CAAC,CAAC,EAAEjB,CAAC,CAAC,EAACiB,CAAC,CAAC,EAAEjB,CAAC,CAAC,CAAC;AAAA;AAAC,SAASuD,CAACA,CAAC/E,CAAC,EAACc,CAAC,EAACN,CAAC,EAAC;EAAC,KAAI,IAAII,CAAC,EAACV,CAAC,GAACF,CAAC,CAAC8E,GAAG,EAACxE,CAAC,GAAC,CAAC,EAACJ,CAAC,IAAEI,CAAC,GAACJ,CAAC,CAACoE,MAAM,EAAChE,CAAC,EAAE,EAAC,CAACM,CAAC,GAACV,CAAC,CAACI,CAAC,CAAC,MAAIM,CAAC,CAACgE,EAAE,GAAC5E,CAAC,EAACc,CAAC,GAAC,UAAU,IAAE,OAAOF,CAAC,CAAC/I,IAAI,GAACkN,CAAC,CAACnE,CAAC,EAACE,CAAC,EAACN,CAAC,CAAC,GAACwH,CAAC,CAACxH,CAAC,EAACI,CAAC,EAACA,CAAC,EAACV,CAAC,EAACU,CAAC,CAAC8D,GAAG,EAAC5D,CAAC,CAAC,CAAC;EAAC,OAAOA,CAAC;AAAA;AAAC,SAAS0G,CAACA,CAACxH,CAAC,EAACc,CAAC,EAAC;EAAC,OAAOA,CAAC,GAACA,CAAC,IAAE,EAAE,EAAC,IAAI,IAAEd,CAAC,IAAE,SAAS,IAAE,OAAOA,CAAC,KAAG+J,KAAK,CAACC,OAAO,CAAChK,CAAC,CAAC,GAACA,CAAC,CAACmO,IAAI,CAAC,UAASnO,CAAC,EAAC;IAACwH,CAAC,CAACxH,CAAC,EAACc,CAAC,CAAC;EAAA,CAAC,CAAC,GAACA,CAAC,CAACmF,IAAI,CAACjG,CAAC,CAAC,CAAC,EAACc,CAAC;AAAA;AAAC,SAASkH,CAACA,CAAChI,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAAC;EAAC,IAAII,CAAC,EAACQ,CAAC,EAACd,CAAC;EAAC,IAAG,KAAK,CAAC,KAAGU,CAAC,CAACyE,GAAG,EAAC7E,CAAC,GAACI,CAAC,CAACyE,GAAG,EAACzE,CAAC,CAACyE,GAAG,GAAC,KAAK,CAAC,CAAC,KAAK,IAAG,IAAI,IAAE/E,CAAC,IAAEN,CAAC,IAAEI,CAAC,IAAE,IAAI,IAAEJ,CAAC,CAACgH,UAAU,EAAClH,CAAC,EAAC,IAAG,IAAI,IAAEM,CAAC,IAAEA,CAAC,CAAC4G,UAAU,KAAGlH,CAAC,EAACA,CAAC,CAACoH,WAAW,CAAClH,CAAC,CAAC,EAACQ,CAAC,GAAC,IAAI,CAAC,KAAI;IAAC,KAAIQ,CAAC,GAACZ,CAAC,EAACF,CAAC,GAAC,CAAC,EAAC,CAACc,CAAC,GAACA,CAAC,CAACgN,WAAW,KAAG9N,CAAC,GAACQ,CAAC,CAAC0D,MAAM,EAAClE,CAAC,IAAE,CAAC,EAAC,IAAGc,CAAC,IAAEhB,CAAC,EAAC,MAAMF,CAAC;IAACA,CAAC,CAACsF,YAAY,CAACpF,CAAC,EAACI,CAAC,CAAC,EAACI,CAAC,GAACJ,CAAC;EAAA;EAAC,OAAO,KAAK,CAAC,KAAGI,CAAC,GAACA,CAAC,GAACR,CAAC,CAACgO,WAAW;AAAA;AAAC,SAASjJ,CAACA,CAACjF,CAAC,EAAC;EAAC,IAAIc,CAAC,EAACN,CAAC,EAACI,CAAC;EAAC,IAAG,IAAI,IAAEZ,CAAC,CAACnI,IAAI,IAAE,QAAQ,IAAE,OAAOmI,CAAC,CAACnI,IAAI,EAAC,OAAOmI,CAAC,CAAC0E,GAAG;EAAC,IAAG1E,CAAC,CAAC8E,GAAG,EAAC,KAAIhE,CAAC,GAACd,CAAC,CAAC8E,GAAG,CAACR,MAAM,GAAC,CAAC,EAACxD,CAAC,IAAE,CAAC,EAACA,CAAC,EAAE,EAAC,IAAG,CAACN,CAAC,GAACR,CAAC,CAAC8E,GAAG,CAAChE,CAAC,CAAC,MAAIF,CAAC,GAACqE,CAAC,CAACzE,CAAC,CAAC,CAAC,EAAC,OAAOI,CAAC;EAAC,OAAO,IAAI;AAAA;AAAC,SAASgF,CAACA,CAAC5F,CAAC,EAACQ,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACd,CAAC,EAACY,CAAC,EAAC;EAAC,IAAIM,CAAC;IAACF,CAAC;IAACM,CAAC;IAACQ,CAAC;IAACJ,CAAC;IAACF,CAAC;IAACmC,CAAC;IAACzB,CAAC;IAACG,CAAC;IAACT,CAAC;IAACY,CAAC;IAACqB,CAAC;IAAC4C,CAAC;IAACnE,CAAC;IAAC+B,CAAC;IAACuC,CAAC,GAACxG,CAAC,CAAC3I,IAAI;EAAC,IAAG,KAAK,CAAC,KAAG2I,CAAC,CAACtM,WAAW,EAAC,OAAO,IAAI;EAAC,IAAI,IAAE0M,CAAC,CAACoF,GAAG,KAAGhF,CAAC,GAACJ,CAAC,CAACoF,GAAG,EAAC5F,CAAC,GAACI,CAAC,CAACkE,GAAG,GAAC9D,CAAC,CAAC8D,GAAG,EAAClE,CAAC,CAACwF,GAAG,GAAC,IAAI,EAACtF,CAAC,GAAC,CAACN,CAAC,CAAC,CAAC,EAAC,CAACkB,CAAC,GAACR,CAAC,CAAC6C,GAAG,KAAGrC,CAAC,CAACd,CAAC,CAAC;EAAC,IAAG;IAACR,CAAC,EAAC,IAAG,UAAU,IAAE,OAAOgH,CAAC,EAAC;MAAC,IAAG1E,CAAC,GAAC9B,CAAC,CAACqC,KAAK,EAACJ,CAAC,GAAC,CAACnB,CAAC,GAAC0F,CAAC,CAACoH,WAAW,KAAGlO,CAAC,CAACoB,CAAC,CAACuD,GAAG,CAAC,EAAC7C,CAAC,GAACV,CAAC,GAACmB,CAAC,GAACA,CAAC,CAACI,KAAK,CAAC+F,KAAK,GAACtH,CAAC,CAACsD,EAAE,GAAC1E,CAAC,EAACU,CAAC,CAACiE,GAAG,GAACd,CAAC,GAAC,CAAC3C,CAAC,GAACZ,CAAC,CAACqE,GAAG,GAACjE,CAAC,CAACiE,GAAG,EAAED,EAAE,GAACxD,CAAC,CAACiN,GAAG,IAAE,WAAW,IAAGrH,CAAC,IAAEA,CAAC,CAAC3D,SAAS,CAAC5C,MAAM,GAACD,CAAC,CAACqE,GAAG,GAACzD,CAAC,GAAC,IAAI4F,CAAC,CAAC1E,CAAC,EAACN,CAAC,CAAC,IAAExB,CAAC,CAACqE,GAAG,GAACzD,CAAC,GAAC,IAAIsC,CAAC,CAACpB,CAAC,EAACN,CAAC,CAAC,EAACZ,CAAC,CAAClN,WAAW,GAAC8S,CAAC,EAAC5F,CAAC,CAACX,MAAM,GAACwH,CAAC,CAAC,EAACxF,CAAC,IAAEA,CAAC,CAAC6L,GAAG,CAAClN,CAAC,CAAC,EAACA,CAAC,CAACyB,KAAK,GAACP,CAAC,EAAClB,CAAC,CAACqC,KAAK,KAAGrC,CAAC,CAACqC,KAAK,GAAC,CAAC,CAAC,CAAC,EAACrC,CAAC,CAAC2F,OAAO,GAAC/E,CAAC,EAACZ,CAAC,CAACsJ,GAAG,GAACxK,CAAC,EAACwB,CAAC,GAACN,CAAC,CAACmE,GAAG,GAAC,CAAC,CAAC,EAACnE,CAAC,CAAC4E,GAAG,GAAC,EAAE,EAAC5E,CAAC,CAACmN,GAAG,GAAC,EAAE,CAAC,EAAC,IAAI,IAAEnN,CAAC,CAACoN,GAAG,KAAGpN,CAAC,CAACoN,GAAG,GAACpN,CAAC,CAACqC,KAAK,CAAC,EAAC,IAAI,IAAEuD,CAAC,CAACyH,wBAAwB,KAAGrN,CAAC,CAACoN,GAAG,IAAEpN,CAAC,CAACqC,KAAK,KAAGrC,CAAC,CAACoN,GAAG,GAAChN,CAAC,CAAC,CAAC,CAAC,EAACJ,CAAC,CAACoN,GAAG,CAAC,CAAC,EAAChN,CAAC,CAACJ,CAAC,CAACoN,GAAG,EAACxH,CAAC,CAACyH,wBAAwB,CAACnM,CAAC,EAAClB,CAAC,CAACoN,GAAG,CAAC,CAAC,CAAC,EAACtM,CAAC,GAACd,CAAC,CAACyB,KAAK,EAACf,CAAC,GAACV,CAAC,CAACqC,KAAK,EAACrC,CAAC,CAACiE,GAAG,GAAC7E,CAAC,EAACkB,CAAC,EAAC,IAAI,IAAEsF,CAAC,CAACyH,wBAAwB,IAAE,IAAI,IAAErN,CAAC,CAACsN,kBAAkB,IAAEtN,CAAC,CAACsN,kBAAkB,CAAC,CAAC,EAAC,IAAI,IAAEtN,CAAC,CAAC2G,iBAAiB,IAAE3G,CAAC,CAAC4E,GAAG,CAACC,IAAI,CAAC7E,CAAC,CAAC2G,iBAAiB,CAAC,CAAC,KAAI;QAAC,IAAG,IAAI,IAAEf,CAAC,CAACyH,wBAAwB,IAAEnM,CAAC,KAAGJ,CAAC,IAAE,IAAI,IAAEd,CAAC,CAACuN,yBAAyB,IAAEvN,CAAC,CAACuN,yBAAyB,CAACrM,CAAC,EAACN,CAAC,CAAC,EAAC,CAACZ,CAAC,CAACsD,GAAG,IAAE,IAAI,IAAEtD,CAAC,CAAC8B,qBAAqB,IAAE,CAAC,CAAC,KAAG9B,CAAC,CAAC8B,qBAAqB,CAACZ,CAAC,EAAClB,CAAC,CAACoN,GAAG,EAACxM,CAAC,CAAC,IAAExB,CAAC,CAAC6E,GAAG,KAAGzE,CAAC,CAACyE,GAAG,EAAC;UAAC,KAAI7E,CAAC,CAAC6E,GAAG,KAAGzE,CAAC,CAACyE,GAAG,KAAGjE,CAAC,CAACyB,KAAK,GAACP,CAAC,EAAClB,CAAC,CAACqC,KAAK,GAACrC,CAAC,CAACoN,GAAG,EAACpN,CAAC,CAACmE,GAAG,GAAC,CAAC,CAAC,CAAC,EAAC/E,CAAC,CAACkE,GAAG,GAAC9D,CAAC,CAAC8D,GAAG,EAAClE,CAAC,CAACsE,GAAG,GAAClE,CAAC,CAACkE,GAAG,EAACtE,CAAC,CAACsE,GAAG,CAACV,OAAO,CAAC,UAASpE,CAAC,EAAC;YAACA,CAAC,KAAGA,CAAC,CAAC4E,EAAE,GAACpE,CAAC,CAAC;UAAA,CAAC,CAAC,EAACoC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACxB,CAAC,CAACmN,GAAG,CAACjK,MAAM,EAAC1B,CAAC,EAAE,EAACxB,CAAC,CAAC4E,GAAG,CAACC,IAAI,CAAC7E,CAAC,CAACmN,GAAG,CAAC3L,CAAC,CAAC,CAAC;UAACxB,CAAC,CAACmN,GAAG,GAAC,EAAE,EAACnN,CAAC,CAAC4E,GAAG,CAAC1B,MAAM,IAAEpD,CAAC,CAAC+E,IAAI,CAAC7E,CAAC,CAAC;UAAC,MAAMpB,CAAC;QAAA;QAAC,IAAI,IAAEoB,CAAC,CAACwN,mBAAmB,IAAExN,CAAC,CAACwN,mBAAmB,CAACtM,CAAC,EAAClB,CAAC,CAACoN,GAAG,EAACxM,CAAC,CAAC,EAAC,IAAI,IAAEZ,CAAC,CAAC0G,kBAAkB,IAAE1G,CAAC,CAAC4E,GAAG,CAACC,IAAI,CAAC,YAAU;UAAC7E,CAAC,CAAC0G,kBAAkB,CAAC5F,CAAC,EAACJ,CAAC,EAACF,CAAC,CAAC;QAAA,CAAC,CAAC;MAAA;MAAC,IAAGR,CAAC,CAAC2F,OAAO,GAAC/E,CAAC,EAACZ,CAAC,CAACyB,KAAK,GAACP,CAAC,EAAClB,CAAC,CAAC+D,GAAG,GAACnF,CAAC,EAACiE,CAAC,GAACnD,CAAC,CAACwJ,GAAG,EAACzD,CAAC,GAAC,CAAC,EAAC,WAAW,IAAGG,CAAC,IAAEA,CAAC,CAAC3D,SAAS,CAAC5C,MAAM,EAAC;QAAC,KAAIW,CAAC,CAACqC,KAAK,GAACrC,CAAC,CAACoN,GAAG,EAACpN,CAAC,CAACmE,GAAG,GAAC,CAAC,CAAC,EAACtB,CAAC,IAAEA,CAAC,CAACzD,CAAC,CAAC,EAACc,CAAC,GAACF,CAAC,CAACX,MAAM,CAACW,CAAC,CAACyB,KAAK,EAACzB,CAAC,CAACqC,KAAK,EAACrC,CAAC,CAAC2F,OAAO,CAAC,EAACrE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACtB,CAAC,CAACmN,GAAG,CAACjK,MAAM,EAAC5B,CAAC,EAAE,EAACtB,CAAC,CAAC4E,GAAG,CAACC,IAAI,CAAC7E,CAAC,CAACmN,GAAG,CAAC7L,CAAC,CAAC,CAAC;QAACtB,CAAC,CAACmN,GAAG,GAAC,EAAE;MAAA,CAAC,MAAK,GAAE;QAACnN,CAAC,CAACmE,GAAG,GAAC,CAAC,CAAC,EAACtB,CAAC,IAAEA,CAAC,CAACzD,CAAC,CAAC,EAACc,CAAC,GAACF,CAAC,CAACX,MAAM,CAACW,CAAC,CAACyB,KAAK,EAACzB,CAAC,CAACqC,KAAK,EAACrC,CAAC,CAAC2F,OAAO,CAAC,EAAC3F,CAAC,CAACqC,KAAK,GAACrC,CAAC,CAACoN,GAAG;MAAA,CAAC,QAAMpN,CAAC,CAACmE,GAAG,IAAE,EAAEsB,CAAC,GAAC,EAAE;MAAEzF,CAAC,CAACqC,KAAK,GAACrC,CAAC,CAACoN,GAAG,EAAC,IAAI,IAAEpN,CAAC,CAAC0F,eAAe,KAAG5G,CAAC,GAACsB,CAAC,CAACA,CAAC,CAAC,CAAC,CAAC,EAACtB,CAAC,CAAC,EAACkB,CAAC,CAAC0F,eAAe,CAAC,CAAC,CAAC,CAAC,EAACpF,CAAC,IAAE,IAAI,IAAEN,CAAC,CAACyN,uBAAuB,KAAGjN,CAAC,GAACR,CAAC,CAACyN,uBAAuB,CAAC3M,CAAC,EAACJ,CAAC,CAAC,CAAC,EAAC2C,CAAC,GAAC,IAAI,IAAEnD,CAAC,IAAEA,CAAC,CAACzJ,IAAI,KAAGuK,CAAC,IAAE,IAAI,IAAEd,CAAC,CAAC8L,GAAG,GAAC9L,CAAC,CAACuB,KAAK,CAACvN,QAAQ,GAACgM,CAAC,EAAC4G,CAAC,CAAClI,CAAC,EAAC+J,KAAK,CAACC,OAAO,CAACvF,CAAC,CAAC,GAACA,CAAC,GAAC,CAACA,CAAC,CAAC,EAACjE,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACd,CAAC,EAACY,CAAC,CAAC,EAACI,CAAC,CAAC+J,IAAI,GAAC3K,CAAC,CAACkE,GAAG,EAAClE,CAAC,CAACwF,GAAG,GAAC,IAAI,EAAC5E,CAAC,CAAC4E,GAAG,CAAC1B,MAAM,IAAEpD,CAAC,CAAC+E,IAAI,CAAC7E,CAAC,CAAC,EAAC2C,CAAC,KAAG3C,CAAC,CAACiN,GAAG,GAACjN,CAAC,CAACwD,EAAE,GAAC,IAAI,CAAC,EAACxD,CAAC,CAACsD,GAAG,GAAC,CAAC,CAAC;IAAA,CAAC,MAAK,IAAI,IAAEhE,CAAC,IAAEF,CAAC,CAAC6E,GAAG,KAAGzE,CAAC,CAACyE,GAAG,IAAE7E,CAAC,CAACsE,GAAG,GAAClE,CAAC,CAACkE,GAAG,EAACtE,CAAC,CAACkE,GAAG,GAAC9D,CAAC,CAAC8D,GAAG,IAAElE,CAAC,CAACkE,GAAG,GAACP,CAAC,CAACvD,CAAC,CAAC8D,GAAG,EAAClE,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACF,CAAC,CAAC;IAAC,CAACM,CAAC,GAACR,CAAC,CAACgO,MAAM,KAAGxN,CAAC,CAACd,CAAC,CAAC;EAAA,CAAC,QAAMR,CAAC,EAAC;IAACQ,CAAC,CAAC6E,GAAG,GAAC,IAAI,EAAC,CAACrE,CAAC,IAAE,IAAI,IAAEN,CAAC,MAAIF,CAAC,CAACkE,GAAG,GAACtE,CAAC,EAACI,CAAC,CAACwF,GAAG,GAAC,CAAC,CAAChF,CAAC,EAACN,CAAC,CAACA,CAAC,CAAC6G,OAAO,CAACnH,CAAC,CAAC,CAAC,GAAC,IAAI,CAAC,EAACU,CAAC,CAAC4D,GAAG,CAAC1E,CAAC,EAACQ,CAAC,EAACI,CAAC,CAAC;EAAA;AAAC;AAAC,SAASgD,CAACA,CAAC5D,CAAC,EAACQ,CAAC,EAAC;EAACM,CAAC,CAAC+D,GAAG,IAAE/D,CAAC,CAAC+D,GAAG,CAACrE,CAAC,EAACR,CAAC,CAAC,EAACA,CAAC,CAACmO,IAAI,CAAC,UAAS3N,CAAC,EAAC;IAAC,IAAG;MAACR,CAAC,GAACQ,CAAC,CAACwF,GAAG,EAACxF,CAAC,CAACwF,GAAG,GAAC,EAAE,EAAChG,CAAC,CAACmO,IAAI,CAAC,UAASnO,CAAC,EAAC;QAACA,CAAC,CAACgD,IAAI,CAACxC,CAAC,CAAC;MAAA,CAAC,CAAC;IAAA,CAAC,QAAMR,CAAC,EAAC;MAACc,CAAC,CAAC4D,GAAG,CAAC1E,CAAC,EAACQ,CAAC,CAAC6E,GAAG,CAAC;IAAA;EAAC,CAAC,CAAC;AAAA;AAAC,SAASlB,CAACA,CAACrD,CAAC,EAACN,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACQ,CAAC,EAACd,CAAC,EAAC;EAAC,IAAIkB,CAAC;IAACF,CAAC;IAACI,CAAC;IAACU,CAAC,GAACtB,CAAC,CAACiC,KAAK;IAACf,CAAC,GAACtB,CAAC,CAACqC,KAAK;IAACjB,CAAC,GAACpB,CAAC,CAAC3I,IAAI;IAACuK,CAAC,GAAC,CAAC;EAAC,IAAG,KAAK,KAAGR,CAAC,KAAGtB,CAAC,GAAC,CAAC,CAAC,CAAC,EAAC,IAAI,IAAEI,CAAC,EAAC,OAAK0B,CAAC,GAAC1B,CAAC,CAAC4D,MAAM,EAAClC,CAAC,EAAE,EAAC,IAAG,CAACd,CAAC,GAACZ,CAAC,CAAC0B,CAAC,CAAC,KAAG,cAAc,IAAGd,CAAC,IAAE,CAAC,CAACM,CAAC,KAAGA,CAAC,GAACN,CAAC,CAACyN,SAAS,KAAGnN,CAAC,GAAC,CAAC,KAAGN,CAAC,CAAC2F,QAAQ,CAAC,EAAC;IAACnG,CAAC,GAACQ,CAAC,EAACZ,CAAC,CAAC0B,CAAC,CAAC,GAAC,IAAI;IAAC;EAAK;EAAC,IAAG,IAAI,IAAEtB,CAAC,EAAC;IAAC,IAAG,IAAI,KAAGc,CAAC,EAAC,OAAO2E,QAAQ,CAACyI,cAAc,CAAClN,CAAC,CAAC;IAAChB,CAAC,GAACR,CAAC,GAACiG,QAAQ,CAAC0I,eAAe,CAAC,4BAA4B,EAACrN,CAAC,CAAC,GAAC2E,QAAQ,CAACtG,aAAa,CAAC2B,CAAC,EAACE,CAAC,CAACoN,EAAE,IAAEpN,CAAC,CAAC,EAACpB,CAAC,GAAC,IAAI,EAACN,CAAC,GAAC,CAAC,CAAC;EAAA;EAAC,IAAG,IAAI,KAAGwB,CAAC,EAACM,CAAC,KAAGJ,CAAC,IAAE1B,CAAC,IAAEU,CAAC,CAAC1L,IAAI,KAAG0M,CAAC,KAAGhB,CAAC,CAAC1L,IAAI,GAAC0M,CAAC,CAAC,CAAC,KAAI;IAAC,IAAGpB,CAAC,GAACA,CAAC,IAAEV,CAAC,CAACgD,IAAI,CAAClC,CAAC,CAACqG,UAAU,CAAC,EAAC/F,CAAC,GAAC,CAACc,CAAC,GAACtB,CAAC,CAACiC,KAAK,IAAE7B,CAAC,EAAEmO,uBAAuB,EAAC3N,CAAC,GAACM,CAAC,CAACqN,uBAAuB,EAAC,CAAC/O,CAAC,EAAC;MAAC,IAAG,IAAI,IAAEM,CAAC,EAAC,KAAIwB,CAAC,GAAC,CAAC,CAAC,EAACE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACtB,CAAC,CAACsO,UAAU,CAAC9K,MAAM,EAAClC,CAAC,EAAE,EAACF,CAAC,CAACpB,CAAC,CAACsO,UAAU,CAAChN,CAAC,CAAC,CAACgB,IAAI,CAAC,GAACtC,CAAC,CAACsO,UAAU,CAAChN,CAAC,CAAC,CAACwG,KAAK;MAAC,CAACpH,CAAC,IAAEJ,CAAC,MAAII,CAAC,KAAGJ,CAAC,IAAEI,CAAC,CAAC6N,MAAM,IAAEjO,CAAC,CAACiO,MAAM,IAAE7N,CAAC,CAAC6N,MAAM,KAAGvO,CAAC,CAACwO,SAAS,CAAC,KAAGxO,CAAC,CAACwO,SAAS,GAAC9N,CAAC,IAAEA,CAAC,CAAC6N,MAAM,IAAE,EAAE,CAAC,CAAC;IAAA;IAAC,IAAGtL,CAAC,CAACjD,CAAC,EAACgB,CAAC,EAACI,CAAC,EAAC5B,CAAC,EAACF,CAAC,CAAC,EAACoB,CAAC,EAAChB,CAAC,CAACsE,GAAG,GAAC,EAAE,CAAC,KAAK,IAAG1C,CAAC,GAAC5B,CAAC,CAACqC,KAAK,CAACvN,QAAQ,EAAC4S,CAAC,CAACpH,CAAC,EAACiJ,KAAK,CAACC,OAAO,CAAC5H,CAAC,CAAC,GAACA,CAAC,GAAC,CAACA,CAAC,CAAC,EAAC5B,CAAC,EAACI,CAAC,EAACV,CAAC,EAACI,CAAC,IAAE,eAAe,KAAGsB,CAAC,EAAClB,CAAC,EAACQ,CAAC,EAACR,CAAC,GAACA,CAAC,CAAC,CAAC,CAAC,GAACE,CAAC,CAACkE,GAAG,IAAEb,CAAC,CAACrD,CAAC,EAAC,CAAC,CAAC,EAACR,CAAC,CAAC,EAAC,IAAI,IAAEM,CAAC,EAAC,KAAI0B,CAAC,GAAC1B,CAAC,CAAC4D,MAAM,EAAClC,CAAC,EAAE,GAAE,IAAI,IAAE1B,CAAC,CAAC0B,CAAC,CAAC,IAAEV,CAAC,CAAChB,CAAC,CAAC0B,CAAC,CAAC,CAAC;IAAChC,CAAC,KAAG,OAAO,IAAG0B,CAAC,IAAE,KAAK,CAAC,MAAIM,CAAC,GAACN,CAAC,CAAC8G,KAAK,CAAC,KAAGxG,CAAC,KAAGtB,CAAC,CAAC8H,KAAK,IAAE,UAAU,KAAGhH,CAAC,IAAE,CAACQ,CAAC,IAAE,QAAQ,KAAGR,CAAC,IAAEQ,CAAC,KAAGF,CAAC,CAAC0G,KAAK,CAAC,IAAEnG,CAAC,CAAC3B,CAAC,EAAC,OAAO,EAACsB,CAAC,EAACF,CAAC,CAAC0G,KAAK,EAAC,CAAC,CAAC,CAAC,EAAC,SAAS,IAAG9G,CAAC,IAAE,KAAK,CAAC,MAAIM,CAAC,GAACN,CAAC,CAACyN,OAAO,CAAC,IAAEnN,CAAC,KAAGtB,CAAC,CAACyO,OAAO,IAAE9M,CAAC,CAAC3B,CAAC,EAAC,SAAS,EAACsB,CAAC,EAACF,CAAC,CAACqN,OAAO,EAAC,CAAC,CAAC,CAAC,CAAC;EAAA;EAAC,OAAOzO,CAAC;AAAA;AAAC,SAAS0B,CAACA,CAACxC,CAAC,EAACQ,CAAC,EAACI,CAAC,EAAC;EAAC,IAAG;IAAC,UAAU,IAAE,OAAOZ,CAAC,GAACA,CAAC,CAACQ,CAAC,CAAC,GAACR,CAAC,CAACiD,OAAO,GAACzC,CAAC;EAAA,CAAC,QAAMR,CAAC,EAAC;IAACc,CAAC,CAAC4D,GAAG,CAAC1E,CAAC,EAACY,CAAC,CAAC;EAAA;AAAC;AAAC,SAAS2H,CAACA,CAACvI,CAAC,EAACQ,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIV,CAAC,EAACI,CAAC;EAAC,IAAGQ,CAAC,CAACkE,OAAO,IAAElE,CAAC,CAACkE,OAAO,CAAChF,CAAC,CAAC,EAAC,CAACE,CAAC,GAACF,CAAC,CAAC+C,GAAG,MAAI7C,CAAC,CAAC+C,OAAO,IAAE/C,CAAC,CAAC+C,OAAO,KAAGjD,CAAC,CAAC0E,GAAG,IAAElC,CAAC,CAACtC,CAAC,EAAC,IAAI,EAACM,CAAC,CAAC,CAAC,EAAC,IAAI,KAAGN,CAAC,GAACF,CAAC,CAAC6E,GAAG,CAAC,EAAC;IAAC,IAAG3E,CAAC,CAACoG,oBAAoB,EAAC,IAAG;MAACpG,CAAC,CAACoG,oBAAoB,CAAC,CAAC;IAAA,CAAC,QAAMtG,CAAC,EAAC;MAACc,CAAC,CAAC4D,GAAG,CAAC1E,CAAC,EAACQ,CAAC,CAAC;IAAA;IAACN,CAAC,CAACiL,IAAI,GAACjL,CAAC,CAACiF,GAAG,GAAC,IAAI,EAACnF,CAAC,CAAC6E,GAAG,GAAC,KAAK,CAAC;EAAA;EAAC,IAAG3E,CAAC,GAACF,CAAC,CAAC8E,GAAG,EAAC,KAAIxE,CAAC,GAAC,CAAC,EAACA,CAAC,GAACJ,CAAC,CAACoE,MAAM,EAAChE,CAAC,EAAE,EAACJ,CAAC,CAACI,CAAC,CAAC,IAAEiI,CAAC,CAACrI,CAAC,CAACI,CAAC,CAAC,EAACE,CAAC,EAACI,CAAC,IAAE,UAAU,IAAE,OAAOZ,CAAC,CAACnI,IAAI,CAAC;EAAC+I,CAAC,IAAE,IAAI,IAAEZ,CAAC,CAAC0E,GAAG,IAAEhD,CAAC,CAAC1B,CAAC,CAAC0E,GAAG,CAAC,EAAC1E,CAAC,CAAC4E,EAAE,GAAC5E,CAAC,CAAC0E,GAAG,GAAC1E,CAAC,CAACuF,GAAG,GAAC,KAAK,CAAC;AAAA;AAAC,SAAS0C,CAACA,CAACjI,CAAC,EAACc,CAAC,EAACN,CAAC,EAAC;EAAC,OAAO,IAAI,CAACtM,WAAW,CAAC8L,CAAC,EAACQ,CAAC,CAAC;AAAA;AAAC,SAASgF,CAACA,CAAChF,CAAC,EAACI,CAAC,EAACV,CAAC,EAAC;EAAC,IAAII,CAAC,EAACI,CAAC,EAACQ,CAAC;EAACJ,CAAC,CAAC8D,EAAE,IAAE9D,CAAC,CAAC8D,EAAE,CAACpE,CAAC,EAACI,CAAC,CAAC,EAACF,CAAC,GAAC,CAACJ,CAAC,GAAC,UAAU,IAAE,OAAOJ,CAAC,IAAE,IAAI,GAACA,CAAC,IAAEA,CAAC,CAAC4E,GAAG,IAAElE,CAAC,CAACkE,GAAG,EAAC5D,CAAC,GAAC,EAAE,EAAC0E,CAAC,CAAChF,CAAC,EAACJ,CAAC,GAAC,CAAC,CAACF,CAAC,IAAEJ,CAAC,IAAEU,CAAC,EAAEkE,GAAG,GAAC5C,CAAC,CAACE,CAAC,EAAC,IAAI,EAAC,CAAC5B,CAAC,CAAC,CAAC,EAACE,CAAC,IAAEM,CAAC,EAACA,CAAC,EAAC,KAAK,CAAC,KAAGJ,CAAC,CAACqN,eAAe,EAAC,CAAC3N,CAAC,IAAEJ,CAAC,GAAC,CAACA,CAAC,CAAC,GAACQ,CAAC,GAAC,IAAI,GAACE,CAAC,CAAC4O,UAAU,GAACxP,CAAC,CAACgD,IAAI,CAACpC,CAAC,CAACuG,UAAU,CAAC,GAAC,IAAI,EAACjG,CAAC,EAAC,CAACZ,CAAC,IAAEJ,CAAC,GAACA,CAAC,GAACQ,CAAC,GAACA,CAAC,CAACgE,GAAG,GAAC9D,CAAC,CAAC4O,UAAU,EAAClP,CAAC,CAAC,EAACsD,CAAC,CAAC1C,CAAC,EAACV,CAAC,CAAC;AAAA;AAAC,SAASmC,CAACA,CAAC3C,CAAC,EAACc,CAAC,EAAC;EAAC0E,CAAC,CAACxF,CAAC,EAACc,CAAC,EAAC6B,CAAC,CAAC;AAAA;AAAC,SAAS+C,CAACA,CAAC5E,CAAC,EAACN,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIV,CAAC;IAACI,CAAC;IAACI,CAAC;IAACQ,CAAC,GAACM,CAAC,CAAC,CAAC,CAAC,EAACV,CAAC,CAAC+B,KAAK,CAAC;EAAC,KAAInC,CAAC,IAAIF,CAAC,EAAC,KAAK,IAAEE,CAAC,GAACR,CAAC,GAACM,CAAC,CAACE,CAAC,CAAC,GAAC,KAAK,IAAEA,CAAC,GAACJ,CAAC,GAACE,CAAC,CAACE,CAAC,CAAC,GAACQ,CAAC,CAACR,CAAC,CAAC,GAACF,CAAC,CAACE,CAAC,CAAC;EAAC,OAAOsK,SAAS,CAAC1G,MAAM,GAAC,CAAC,KAAGpD,CAAC,CAAC5L,QAAQ,GAAC0V,SAAS,CAAC1G,MAAM,GAAC,CAAC,GAACtE,CAAC,CAACgD,IAAI,CAACgI,SAAS,EAAC,CAAC,CAAC,GAACpK,CAAC,CAAC,EAACkB,CAAC,CAAChB,CAAC,CAACjJ,IAAI,EAACqJ,CAAC,EAAChB,CAAC,IAAEY,CAAC,CAACsM,GAAG,EAAC9M,CAAC,IAAEQ,CAAC,CAACiC,GAAG,EAAC,IAAI,CAAC;AAAA;AAAC,SAAS8F,CAACA,CAAC7I,CAAC,EAACc,CAAC,EAAC;EAAC,IAAIN,CAAC,GAAC;IAACqE,GAAG,EAAC/D,CAAC,GAAC,MAAM,GAACV,CAAC,EAAE;IAACwE,EAAE,EAAC5E,CAAC;IAACyP,QAAQ,EAAC,SAAAA,CAASzP,CAAC,EAACc,CAAC,EAAC;MAAC,OAAOd,CAAC,CAAC1K,QAAQ,CAACwL,CAAC,CAAC;IAAA,CAAC;IAAC4O,QAAQ,EAAC,SAAAA,CAAS1P,CAAC,EAAC;MAAC,IAAIQ,CAAC,EAACI,CAAC;MAAC,OAAO,IAAI,CAACkG,eAAe,KAAGtG,CAAC,GAAC,EAAE,EAAC,CAACI,CAAC,GAAC,CAAC,CAAC,EAAEE,CAAC,CAAC,GAAC,IAAI,EAAC,IAAI,CAACgG,eAAe,GAAC,YAAU;QAAC,OAAOlG,CAAC;MAAA,CAAC,EAAC,IAAI,CAACsC,qBAAqB,GAAC,UAASlD,CAAC,EAAC;QAAC,IAAI,CAAC6C,KAAK,CAAC+F,KAAK,KAAG5I,CAAC,CAAC4I,KAAK,IAAEpI,CAAC,CAAC2N,IAAI,CAAC,UAASnO,CAAC,EAAC;UAACA,CAAC,CAAC0E,GAAG,GAAC,CAAC,CAAC,EAACD,CAAC,CAACzE,CAAC,CAAC;QAAA,CAAC,CAAC;MAAA,CAAC,EAAC,IAAI,CAACsO,GAAG,GAAC,UAAStO,CAAC,EAAC;QAACQ,CAAC,CAACyF,IAAI,CAACjG,CAAC,CAAC;QAAC,IAAIc,CAAC,GAACd,CAAC,CAACsG,oBAAoB;QAACtG,CAAC,CAACsG,oBAAoB,GAAC,YAAU;UAAC9F,CAAC,CAAC8G,MAAM,CAAC9G,CAAC,CAAC+G,OAAO,CAACvH,CAAC,CAAC,EAAC,CAAC,CAAC,EAACc,CAAC,IAAEA,CAAC,CAACkC,IAAI,CAAChD,CAAC,CAAC;QAAA,CAAC;MAAA,CAAC,CAAC,EAACA,CAAC,CAAC1K,QAAQ;IAAA;EAAC,CAAC;EAAC,OAAOkL,CAAC,CAACkP,QAAQ,CAAC9K,EAAE,GAACpE,CAAC,CAACiP,QAAQ,CAACrB,WAAW,GAAC5N,CAAC;AAAA;AAACR,CAAC,GAACsB,CAAC,CAACkM,KAAK,EAAC1M,CAAC,GAAC;EAAC4D,GAAG,EAAC,SAAAA,CAAS1E,CAAC,EAACc,CAAC,EAACN,CAAC,EAACI,CAAC,EAAC;IAAC,KAAI,IAAIV,CAAC,EAACI,CAAC,EAACI,CAAC,EAACI,CAAC,GAACA,CAAC,CAAC8D,EAAE,GAAE,IAAG,CAAC1E,CAAC,GAACY,CAAC,CAAC+D,GAAG,KAAG,CAAC3E,CAAC,CAAC0E,EAAE,EAAC,IAAG;MAAC,IAAG,CAACtE,CAAC,GAACJ,CAAC,CAAChM,WAAW,KAAG,IAAI,IAAEoM,CAAC,CAACqP,wBAAwB,KAAGzP,CAAC,CAACiG,QAAQ,CAAC7F,CAAC,CAACqP,wBAAwB,CAAC3P,CAAC,CAAC,CAAC,EAACU,CAAC,GAACR,CAAC,CAACqF,GAAG,CAAC,EAAC,IAAI,IAAErF,CAAC,CAAC0P,iBAAiB,KAAG1P,CAAC,CAAC0P,iBAAiB,CAAC5P,CAAC,EAACY,CAAC,IAAE,CAAC,CAAC,CAAC,EAACF,CAAC,GAACR,CAAC,CAACqF,GAAG,CAAC,EAAC7E,CAAC,EAAC,OAAOR,CAAC,CAACmO,GAAG,GAACnO,CAAC;IAAA,CAAC,QAAMY,CAAC,EAAC;MAACd,CAAC,GAACc,CAAC;IAAA;IAAC,MAAMd,CAAC;EAAA;AAAC,CAAC,EAACQ,CAAC,GAAC,CAAC,EAACI,CAAC,GAAC,SAAAA,CAASZ,CAAC,EAAC;EAAC,OAAO,IAAI,IAAEA,CAAC,IAAE,KAAK,CAAC,KAAGA,CAAC,CAAC9L,WAAW;AAAA,CAAC,EAACgM,CAAC,GAAC,CAAC,CAAC,EAACwD,CAAC,CAACL,SAAS,CAAC8C,QAAQ,GAAC,UAASnG,CAAC,EAACc,CAAC,EAAC;EAAC,IAAIN,CAAC;EAACA,CAAC,GAAC,IAAI,IAAE,IAAI,CAACgO,GAAG,IAAE,IAAI,CAACA,GAAG,KAAG,IAAI,CAAC/K,KAAK,GAAC,IAAI,CAAC+K,GAAG,GAAC,IAAI,CAACA,GAAG,GAAChN,CAAC,CAAC,CAAC,CAAC,EAAC,IAAI,CAACiC,KAAK,CAAC,EAAC,UAAU,IAAE,OAAOzD,CAAC,KAAGA,CAAC,GAACA,CAAC,CAACwB,CAAC,CAAC,CAAC,CAAC,EAAChB,CAAC,CAAC,EAAC,IAAI,CAACqC,KAAK,CAAC,CAAC,EAAC7C,CAAC,IAAEwB,CAAC,CAAChB,CAAC,EAACR,CAAC,CAAC,EAAC,IAAI,IAAEA,CAAC,IAAE,IAAI,CAACqF,GAAG,KAAGvE,CAAC,IAAE,IAAI,CAACyN,GAAG,CAACtI,IAAI,CAACnF,CAAC,CAAC,EAAC2D,CAAC,CAAC,IAAI,CAAC,CAAC;AAAA,CAAC,EAACf,CAAC,CAACL,SAAS,CAACgD,WAAW,GAAC,UAASrG,CAAC,EAAC;EAAC,IAAI,CAACqF,GAAG,KAAG,IAAI,CAACX,GAAG,GAAC,CAAC,CAAC,EAAC1E,CAAC,IAAE,IAAI,CAACgG,GAAG,CAACC,IAAI,CAACjG,CAAC,CAAC,EAACyE,CAAC,CAAC,IAAI,CAAC,CAAC;AAAA,CAAC,EAACf,CAAC,CAACL,SAAS,CAAC5C,MAAM,GAAC2B,CAAC,EAAC9B,CAAC,GAAC,EAAE,EAACY,CAAC,GAAC,UAAU,IAAE,OAAO2O,OAAO,GAACA,OAAO,CAACxM,SAAS,CAACsB,IAAI,CAAC1G,IAAI,CAAC4R,OAAO,CAACC,OAAO,CAAC,CAAC,CAAC,GAACjC,UAAU,EAAC7G,CAAC,CAACsD,GAAG,GAAC,CAAC,EAAClK,CAAC,GAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA1tU;AAAA,IAAIF,CAAC;EAACI,CAAC;EAACE,CAAC;EAACI,CAAC;EAACF,CAAC,GAAC,CAAC;EAACQ,CAAC,GAAC,EAAE;EAACF,CAAC,GAAC,EAAE;EAACZ,CAAC,GAACJ,2CAAC,CAAC2D,GAAG;EAACvC,CAAC,GAACpB,2CAAC,CAACsK,GAAG;EAAC5I,CAAC,GAAC1B,2CAAC,CAAC8O,MAAM;EAAChO,CAAC,GAACd,2CAAC,CAAC6E,GAAG;EAAC7C,CAAC,GAAChC,2CAAC,CAACgF,OAAO;AAAC,SAASpD,CAACA,CAAC1B,CAAC,EAACM,CAAC,EAAC;EAACR,2CAAC,CAACgG,GAAG,IAAEhG,2CAAC,CAACgG,GAAG,CAAC1F,CAAC,EAACJ,CAAC,EAACQ,CAAC,IAAEF,CAAC,CAAC,EAACE,CAAC,GAAC,CAAC;EAAC,IAAIE,CAAC,GAACN,CAAC,CAAC4E,GAAG,KAAG5E,CAAC,CAAC4E,GAAG,GAAC;IAACN,EAAE,EAAC,EAAE;IAACoB,GAAG,EAAC;EAAE,CAAC,CAAC;EAAC,OAAO9F,CAAC,IAAEU,CAAC,CAACgE,EAAE,CAACN,MAAM,IAAE1D,CAAC,CAACgE,EAAE,CAACqB,IAAI,CAAC;IAAC8J,GAAG,EAAC/O;EAAC,CAAC,CAAC,EAACJ,CAAC,CAACgE,EAAE,CAAC1E,CAAC,CAAC;AAAA;AAAC,SAAS4B,CAACA,CAAC9B,CAAC,EAAC;EAAC,OAAOU,CAAC,GAAC,CAAC,EAACwB,CAAC,CAAC+F,CAAC,EAACjI,CAAC,CAAC;AAAA;AAAC,SAASkC,CAACA,CAAClC,CAAC,EAACQ,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIF,CAAC,GAACkB,CAAC,CAAC1B,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,IAAGQ,CAAC,CAACR,CAAC,GAACF,CAAC,EAAC,CAACU,CAAC,CAACmE,GAAG,KAAGnE,CAAC,CAACkE,EAAE,GAAC,CAAChE,CAAC,GAACA,CAAC,CAACJ,CAAC,CAAC,GAACyH,CAAC,CAAC,KAAK,CAAC,EAACzH,CAAC,CAAC,EAAC,UAASR,CAAC,EAAC;IAAC,IAAIE,CAAC,GAACQ,CAAC,CAACsP,GAAG,GAACtP,CAAC,CAACsP,GAAG,CAAC,CAAC,CAAC,GAACtP,CAAC,CAACkE,EAAE,CAAC,CAAC,CAAC;MAACtE,CAAC,GAACI,CAAC,CAACR,CAAC,CAACA,CAAC,EAACF,CAAC,CAAC;IAACE,CAAC,KAAGI,CAAC,KAAGI,CAAC,CAACsP,GAAG,GAAC,CAAC1P,CAAC,EAACI,CAAC,CAACkE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAClE,CAAC,CAACmE,GAAG,CAACsB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EAAA,CAAC,CAAC,EAACzF,CAAC,CAACmE,GAAG,GAACvE,CAAC,EAAC,CAACA,CAAC,CAACE,CAAC,CAAC,EAAC;IAACF,CAAC,CAACE,CAAC,GAAC,CAAC,CAAC;IAAC,IAAIU,CAAC,GAACZ,CAAC,CAAC4C,qBAAqB;IAAC5C,CAAC,CAAC4C,qBAAqB,GAAC,UAASlD,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;MAAC,IAAG,CAACI,CAAC,CAACmE,GAAG,CAACK,GAAG,EAAC,OAAM,CAAC,CAAC;MAAC,IAAI1E,CAAC,GAACE,CAAC,CAACmE,GAAG,CAACK,GAAG,CAACN,EAAE,CAACqL,MAAM,CAAC,UAASjQ,CAAC,EAAC;QAAC,OAAOA,CAAC,CAAC6E,GAAG;MAAA,CAAC,CAAC;MAAC,IAAGrE,CAAC,CAAC0P,KAAK,CAAC,UAASlQ,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAACgQ,GAAG;MAAA,CAAC,CAAC,EAAC,OAAM,CAAC9O,CAAC,IAAEA,CAAC,CAAC8B,IAAI,CAAC,IAAI,EAAChD,CAAC,EAACE,CAAC,EAACI,CAAC,CAAC;MAAC,IAAIM,CAAC,GAAC,CAAC,CAAC;MAAC,OAAOJ,CAAC,CAAC4D,OAAO,CAAC,UAASpE,CAAC,EAAC;QAAC,IAAGA,CAAC,CAACgQ,GAAG,EAAC;UAAC,IAAI9P,CAAC,GAACF,CAAC,CAAC4E,EAAE,CAAC,CAAC,CAAC;UAAC5E,CAAC,CAAC4E,EAAE,GAAC5E,CAAC,CAACgQ,GAAG,EAAChQ,CAAC,CAACgQ,GAAG,GAAC,KAAK,CAAC,EAAC9P,CAAC,KAAGF,CAAC,CAAC4E,EAAE,CAAC,CAAC,CAAC,KAAGhE,CAAC,GAAC,CAAC,CAAC,CAAC;QAAA;MAAC,CAAC,CAAC,EAAC,EAAE,CAACA,CAAC,IAAEF,CAAC,CAACmE,GAAG,CAAChC,KAAK,KAAG7C,CAAC,CAAC,KAAG,CAACkB,CAAC,IAAEA,CAAC,CAAC8B,IAAI,CAAC,IAAI,EAAChD,CAAC,EAACE,CAAC,EAACI,CAAC,CAAC,CAAC;IAAA,CAAC;EAAA;EAAC,OAAOI,CAAC,CAACsP,GAAG,IAAEtP,CAAC,CAACkE,EAAE;AAAA;AAAC,SAASpD,CAACA,CAAChB,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIF,CAAC,GAACkB,CAAC,CAAC1B,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACF,2CAAC,CAACwO,GAAG,IAAExG,CAAC,CAACtH,CAAC,CAACwE,GAAG,EAACtE,CAAC,CAAC,KAAGF,CAAC,CAACkE,EAAE,GAACpE,CAAC,EAACE,CAAC,CAACE,CAAC,GAACA,CAAC,EAACN,CAAC,CAAC4E,GAAG,CAACc,GAAG,CAACC,IAAI,CAACvF,CAAC,CAAC,CAAC;AAAA;AAAC,SAASY,CAACA,CAACd,CAAC,EAACI,CAAC,EAAC;EAAC,IAAIF,CAAC,GAACkB,CAAC,CAAC1B,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,CAACF,2CAAC,CAACwO,GAAG,IAAExG,CAAC,CAACtH,CAAC,CAACwE,GAAG,EAACtE,CAAC,CAAC,KAAGF,CAAC,CAACkE,EAAE,GAACpE,CAAC,EAACE,CAAC,CAACE,CAAC,GAACA,CAAC,EAACN,CAAC,CAAC0F,GAAG,CAACC,IAAI,CAACvF,CAAC,CAAC,CAAC;AAAA;AAAC,SAAS0B,CAACA,CAACpC,CAAC,EAAC;EAAC,OAAOU,CAAC,GAAC,CAAC,EAACgF,CAAC,CAAC,YAAU;IAAC,OAAM;MAACzC,OAAO,EAACjD;IAAC,CAAC;EAAA,CAAC,EAAC,EAAE,CAAC;AAAA;AAAC,SAASiE,CAACA,CAACjE,CAAC,EAACE,CAAC,EAACI,CAAC,EAAC;EAACI,CAAC,GAAC,CAAC,EAACY,CAAC,CAAC,YAAU;IAAC,OAAM,UAAU,IAAE,OAAOtB,CAAC,IAAEA,CAAC,CAACE,CAAC,CAAC,CAAC,CAAC,EAAC,YAAU;MAAC,OAAOF,CAAC,CAAC,IAAI,CAAC;IAAA,CAAC,IAAEA,CAAC,IAAEA,CAAC,CAACiD,OAAO,GAAC/C,CAAC,CAAC,CAAC,EAAC,YAAU;MAAC,OAAOF,CAAC,CAACiD,OAAO,GAAC,IAAI;IAAA,CAAC,IAAE,KAAK,CAAC;EAAA,CAAC,EAAC,IAAI,IAAE3C,CAAC,GAACA,CAAC,GAACA,CAAC,CAAC6P,MAAM,CAACnQ,CAAC,CAAC,CAAC;AAAA;AAAC,SAAS0F,CAACA,CAAC1F,CAAC,EAACM,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACoB,CAAC,CAAC1B,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAO8H,CAAC,CAACxH,CAAC,CAAC0E,GAAG,EAAC5E,CAAC,CAAC,IAAEE,CAAC,CAACuP,GAAG,GAAC/P,CAAC,CAAC,CAAC,EAACQ,CAAC,CAACI,CAAC,GAACN,CAAC,EAACE,CAAC,CAACwF,GAAG,GAAChG,CAAC,EAACQ,CAAC,CAACuP,GAAG,IAAEvP,CAAC,CAACoE,EAAE;AAAA;AAAC,SAASH,CAACA,CAACzE,CAAC,EAACE,CAAC,EAAC;EAAC,OAAOQ,CAAC,GAAC,CAAC,EAACgF,CAAC,CAAC,YAAU;IAAC,OAAO1F,CAAC;EAAA,CAAC,EAACE,CAAC,CAAC;AAAA;AAAC,SAASqI,CAACA,CAACvI,CAAC,EAAC;EAAC,IAAIQ,CAAC,GAACF,CAAC,CAACyG,OAAO,CAAC/G,CAAC,CAAC6E,GAAG,CAAC;IAACjE,CAAC,GAACgB,CAAC,CAAC1B,CAAC,EAAE,EAAC,CAAC,CAAC;EAAC,OAAOU,CAAC,CAACI,CAAC,GAAChB,CAAC,EAACQ,CAAC,IAAE,IAAI,IAAEI,CAAC,CAACgE,EAAE,KAAGhE,CAAC,CAACgE,EAAE,GAAC,CAAC,CAAC,EAACpE,CAAC,CAAC8N,GAAG,CAAChO,CAAC,CAAC,CAAC,EAACE,CAAC,CAACqC,KAAK,CAAC+F,KAAK,IAAE5I,CAAC,CAAC4E,EAAE;AAAA;AAAC,SAASlB,CAACA,CAACxD,CAAC,EAACI,CAAC,EAAC;EAACN,2CAAC,CAACuC,aAAa,IAAEvC,2CAAC,CAACuC,aAAa,CAACjC,CAAC,GAACA,CAAC,CAACJ,CAAC,CAAC,GAACA,CAAC,CAAC;AAAA;AAAC,SAAS2G,CAACA,CAAC7G,CAAC,EAAC;EAAC,IAAIQ,CAAC,GAACoB,CAAC,CAAC1B,CAAC,EAAE,EAAC,EAAE,CAAC;IAACU,CAAC,GAACkB,CAAC,CAAC,CAAC;EAAC,OAAOtB,CAAC,CAACoE,EAAE,GAAC5E,CAAC,EAACM,CAAC,CAACsP,iBAAiB,KAAGtP,CAAC,CAACsP,iBAAiB,GAAC,UAAS5P,CAAC,EAACE,CAAC,EAAC;IAACM,CAAC,CAACoE,EAAE,IAAEpE,CAAC,CAACoE,EAAE,CAAC5E,CAAC,EAACE,CAAC,CAAC,EAACU,CAAC,CAAC,CAAC,CAAC,CAACZ,CAAC,CAAC;EAAA,CAAC,CAAC,EAAC,CAACY,CAAC,CAAC,CAAC,CAAC,EAAC,YAAU;IAACA,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA;AAAC,SAASkF,CAACA,CAAA,EAAE;EAAC,IAAI9F,CAAC,GAAC4B,CAAC,CAAC1B,CAAC,EAAE,EAAC,EAAE,CAAC;EAAC,IAAG,CAACF,CAAC,CAAC4E,EAAE,EAAC;IAAC,KAAI,IAAIpE,CAAC,GAACF,CAAC,CAAC+E,GAAG,EAAC,IAAI,KAAG7E,CAAC,IAAE,CAACA,CAAC,CAAC4P,GAAG,IAAE,IAAI,KAAG5P,CAAC,CAACoE,EAAE,GAAEpE,CAAC,GAACA,CAAC,CAACoE,EAAE;IAAC,IAAIhE,CAAC,GAACJ,CAAC,CAAC4P,GAAG,KAAG5P,CAAC,CAAC4P,GAAG,GAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IAACpQ,CAAC,CAAC4E,EAAE,GAAC,GAAG,GAAChE,CAAC,CAAC,CAAC,CAAC,GAAC,GAAG,GAACA,CAAC,CAAC,CAAC,CAAC,EAAE;EAAA;EAAC,OAAOZ,CAAC,CAAC4E,EAAE;AAAA;AAAC,SAAStC,CAACA,CAAA,EAAE;EAAC,KAAI,IAAIpC,CAAC,EAACA,CAAC,GAACgB,CAAC,CAAC8M,KAAK,CAAC,CAAC,GAAE,IAAG9N,CAAC,CAACiF,GAAG,IAAEjF,CAAC,CAACgF,GAAG,EAAC,IAAG;IAAChF,CAAC,CAACgF,GAAG,CAACc,GAAG,CAAC5B,OAAO,CAACL,CAAC,CAAC,EAAC7D,CAAC,CAACgF,GAAG,CAACc,GAAG,CAAC5B,OAAO,CAACxB,CAAC,CAAC,EAAC1C,CAAC,CAACgF,GAAG,CAACc,GAAG,GAAC,EAAE;EAAA,CAAC,QAAM1F,CAAC,EAAC;IAACJ,CAAC,CAACgF,GAAG,CAACc,GAAG,GAAC,EAAE,EAAChG,2CAAC,CAAC0E,GAAG,CAACpE,CAAC,EAACJ,CAAC,CAACmF,GAAG,CAAC;EAAA;AAAC;AAACrF,2CAAC,CAAC2D,GAAG,GAAC,UAAS3D,CAAC,EAAC;EAACM,CAAC,GAAC,IAAI,EAACF,CAAC,IAAEA,CAAC,CAACJ,CAAC,CAAC;AAAA,CAAC,EAACA,2CAAC,CAACsK,GAAG,GAAC,UAAStK,CAAC,EAAC;EAACoB,CAAC,IAAEA,CAAC,CAACpB,CAAC,CAAC,EAACE,CAAC,GAAC,CAAC;EAAC,IAAIU,CAAC,GAAC,CAACN,CAAC,GAACN,CAAC,CAAC6E,GAAG,EAAEK,GAAG;EAACtE,CAAC,KAAGJ,CAAC,KAAGF,CAAC,IAAEM,CAAC,CAACoF,GAAG,GAAC,EAAE,EAAC1F,CAAC,CAAC0F,GAAG,GAAC,EAAE,EAACpF,CAAC,CAACgE,EAAE,CAACR,OAAO,CAAC,UAASpE,CAAC,EAAC;IAACA,CAAC,CAACgQ,GAAG,KAAGhQ,CAAC,CAAC4E,EAAE,GAAC5E,CAAC,CAACgQ,GAAG,CAAC,EAAChQ,CAAC,CAAC+P,GAAG,GAAC/O,CAAC,EAAChB,CAAC,CAACgQ,GAAG,GAAChQ,CAAC,CAACY,CAAC,GAAC,KAAK,CAAC;EAAA,CAAC,CAAC,KAAGA,CAAC,CAACoF,GAAG,CAAC5B,OAAO,CAACL,CAAC,CAAC,EAACnD,CAAC,CAACoF,GAAG,CAAC5B,OAAO,CAACxB,CAAC,CAAC,EAAChC,CAAC,CAACoF,GAAG,GAAC,EAAE,CAAC,CAAC,EAACxF,CAAC,GAACF,CAAC;AAAA,CAAC,EAACN,2CAAC,CAAC8O,MAAM,GAAC,UAAS5O,CAAC,EAAC;EAACwB,CAAC,IAAEA,CAAC,CAACxB,CAAC,CAAC;EAAC,IAAIQ,CAAC,GAACR,CAAC,CAAC2E,GAAG;EAACnE,CAAC,IAAEA,CAAC,CAACwE,GAAG,KAAGxE,CAAC,CAACwE,GAAG,CAACc,GAAG,CAAC1B,MAAM,KAAG,CAAC,KAAGpD,CAAC,CAAC+E,IAAI,CAACvF,CAAC,CAAC,IAAEE,CAAC,KAAGZ,2CAAC,CAACqQ,qBAAqB,IAAE,CAAC,CAACzP,CAAC,GAACZ,2CAAC,CAACqQ,qBAAqB,KAAG7I,CAAC,EAAElF,CAAC,CAAC,CAAC,EAAC5B,CAAC,CAACwE,GAAG,CAACN,EAAE,CAACR,OAAO,CAAC,UAASpE,CAAC,EAAC;IAACA,CAAC,CAACY,CAAC,KAAGZ,CAAC,CAACkF,GAAG,GAAClF,CAAC,CAACY,CAAC,CAAC,EAACZ,CAAC,CAAC+P,GAAG,KAAG/O,CAAC,KAAGhB,CAAC,CAAC4E,EAAE,GAAC5E,CAAC,CAAC+P,GAAG,CAAC,EAAC/P,CAAC,CAACY,CAAC,GAAC,KAAK,CAAC,EAACZ,CAAC,CAAC+P,GAAG,GAAC/O,CAAC;EAAA,CAAC,CAAC,CAAC,EAACR,CAAC,GAACF,CAAC,GAAC,IAAI;AAAA,CAAC,EAACN,2CAAC,CAAC6E,GAAG,GAAC,UAAS3E,CAAC,EAACI,CAAC,EAAC;EAACA,CAAC,CAAC6N,IAAI,CAAC,UAASjO,CAAC,EAAC;IAAC,IAAG;MAACA,CAAC,CAAC8F,GAAG,CAAC5B,OAAO,CAACL,CAAC,CAAC,EAAC7D,CAAC,CAAC8F,GAAG,GAAC9F,CAAC,CAAC8F,GAAG,CAACiK,MAAM,CAAC,UAASjQ,CAAC,EAAC;QAAC,OAAM,CAACA,CAAC,CAAC4E,EAAE,IAAEhC,CAAC,CAAC5C,CAAC,CAAC;MAAA,CAAC,CAAC;IAAA,CAAC,QAAMQ,CAAC,EAAC;MAACF,CAAC,CAAC6N,IAAI,CAAC,UAASnO,CAAC,EAAC;QAACA,CAAC,CAACgG,GAAG,KAAGhG,CAAC,CAACgG,GAAG,GAAC,EAAE,CAAC;MAAA,CAAC,CAAC,EAAC1F,CAAC,GAAC,EAAE,EAACN,2CAAC,CAAC0E,GAAG,CAAClE,CAAC,EAACN,CAAC,CAACmF,GAAG,CAAC;IAAA;EAAC,CAAC,CAAC,EAACvE,CAAC,IAAEA,CAAC,CAACZ,CAAC,EAACI,CAAC,CAAC;AAAA,CAAC,EAACN,2CAAC,CAACgF,OAAO,GAAC,UAAS9E,CAAC,EAAC;EAAC8B,CAAC,IAAEA,CAAC,CAAC9B,CAAC,CAAC;EAAC,IAAII,CAAC;IAACE,CAAC,GAACN,CAAC,CAAC2E,GAAG;EAACrE,CAAC,IAAEA,CAAC,CAAC0E,GAAG,KAAG1E,CAAC,CAAC0E,GAAG,CAACN,EAAE,CAACR,OAAO,CAAC,UAASpE,CAAC,EAAC;IAAC,IAAG;MAAC+D,CAAC,CAAC/D,CAAC,CAAC;IAAA,CAAC,QAAMA,CAAC,EAAC;MAACM,CAAC,GAACN,CAAC;IAAA;EAAC,CAAC,CAAC,EAACQ,CAAC,CAAC0E,GAAG,GAAC,KAAK,CAAC,EAAC5E,CAAC,IAAEN,2CAAC,CAAC0E,GAAG,CAACpE,CAAC,EAACE,CAAC,CAAC6E,GAAG,CAAC,CAAC;AAAA,CAAC;AAAC,IAAI5C,CAAC,GAAC,UAAU,IAAE,OAAO4N,qBAAqB;AAAC,SAAS7I,CAACA,CAACxH,CAAC,EAAC;EAAC,IAAIE,CAAC;IAACI,CAAC,GAAC,SAAAA,CAAA,EAAU;MAACgQ,YAAY,CAAC9P,CAAC,CAAC,EAACiC,CAAC,IAAE8N,oBAAoB,CAACrQ,CAAC,CAAC,EAAC2N,UAAU,CAAC7N,CAAC,CAAC;IAAA,CAAC;IAACQ,CAAC,GAACqN,UAAU,CAACvN,CAAC,EAAC,GAAG,CAAC;EAACmC,CAAC,KAAGvC,CAAC,GAACmQ,qBAAqB,CAAC/P,CAAC,CAAC,CAAC;AAAA;AAAC,SAASyD,CAACA,CAAC/D,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACI,CAAC;IAACE,CAAC,GAACR,CAAC,CAAC6E,GAAG;EAAC,UAAU,IAAE,OAAOrE,CAAC,KAAGR,CAAC,CAAC6E,GAAG,GAAC,KAAK,CAAC,EAACrE,CAAC,CAAC,CAAC,CAAC,EAACF,CAAC,GAACJ,CAAC;AAAA;AAAC,SAAS0C,CAACA,CAAC5C,CAAC,EAAC;EAAC,IAAIE,CAAC,GAACI,CAAC;EAACN,CAAC,CAAC6E,GAAG,GAAC7E,CAAC,CAAC4E,EAAE,CAAC,CAAC,EAACtE,CAAC,GAACJ,CAAC;AAAA;AAAC,SAAS8H,CAACA,CAAChI,CAAC,EAACE,CAAC,EAAC;EAAC,OAAM,CAACF,CAAC,IAAEA,CAAC,CAACsE,MAAM,KAAGpE,CAAC,CAACoE,MAAM,IAAEpE,CAAC,CAACiO,IAAI,CAAC,UAASjO,CAAC,EAACI,CAAC,EAAC;IAAC,OAAOJ,CAAC,KAAGF,CAAC,CAACM,CAAC,CAAC;EAAA,CAAC,CAAC;AAAA;AAAC,SAAS2H,CAACA,CAACjI,CAAC,EAACE,CAAC,EAAC;EAAC,OAAM,UAAU,IAAE,OAAOA,CAAC,GAACA,CAAC,CAACF,CAAC,CAAC,GAACE,CAAC;AAAA;;;;;;;;;;;;;;;;;;;;ACA1sG;AACmE;AACzD;AACqB;AAC7B;AACS;AAAA,MAAAtI,GAAA;AAAA,MAAAoZ,GAAA;AAAA,MAAAC,GAAA,YAAAA,CAAAC,EAAA;EAAA;IAAAha,SAAA,EAAAga;EAAA;AAAA;AAAA,SAAAC,mDAAAvY,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IA6G+DnE,4DAAE,eAqD6f,CAAC;IArDhgBA,gEAAE,KAqD6oB,CAAC;IArDhpBA,0DAAE,CAqDupB,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAgB,MAAA,GArD1pBnF,2DAAE;IAAFA,wDAAE,YAAAmF,MAAA,CAAAyX,SAAA,MAqD8d,CAAC,YAAAzX,MAAA,CAAA0X,OAAA,QAAD,CAAC;IArDje7c,uDAAE,EAqDujB,CAAC;IArD1jBA,wDAAE,qBAAAmF,MAAA,CAAAlB,QAqDujB,CAAC,4BArD1jBjE,6DAAE,IAAAwc,GAAA,EAAArX,MAAA,CAAA4X,WAAA,CAqDujB,CAAC;EAAA;AAAA;AAAA,SAAAC,mDAAA7Y,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArD1jBnE,4DAAE,gBAqD+xB,CAAC;IArDlyBA,gEAAE,KAqD+6B,CAAC;IArDl7BA,0DAAE,CAqD07B,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAA8Y,MAAA,GArD77Bjd,2DAAE;IAAFA,wDAAE,YAAAid,MAAA,CAAAL,SAAA,MAqDgwB,CAAC,YAAAK,MAAA,CAAAJ,OAAA,QAAD,CAAC;IArDnwB7c,uDAAE,EAqDy1B,CAAC;IArD51BA,wDAAE,qBAAAid,MAAA,CAAAhZ,QAqDy1B,CAAC,4BArD51BjE,6DAAE,IAAAwc,GAAA,EAAAS,MAAA,CAAAF,WAAA,CAqDy1B,CAAC;EAAA;AAAA;AAAA,SAAAG,mDAAA/Y,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArD51BnE,4DAAE,aAqD4jC,CAAC;IArD/jCA,gEAAE,KAqD4sC,CAAC;IArD/sCA,0DAAE,CAqDotC,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAzB,MAAA,GArDvtC1C,2DAAE;IAAFA,wDAAE,YAAA0C,MAAA,CAAAka,SAAA,MAqD6hC,CAAC,YAAAla,MAAA,CAAAma,OAAA,QAAD,CAAC;IArDhiC7c,uDAAE,EAqDsnC,CAAC;IArDznCA,wDAAE,qBAAA0C,MAAA,CAAAuB,QAqDsnC,CAAC,4BArDznCjE,6DAAE,IAAAwc,GAAA,EAAA9Z,MAAA,CAAAqa,WAAA,CAqDsnC,CAAC;EAAA;AAAA;AAAA,SAAAI,mDAAAhZ,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArDznCnE,4DAAE,cAqDw1C,CAAC;IArD31CA,gEAAE,KAqDw+C,CAAC;IArD3+CA,0DAAE,CAqDi/C,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAiZ,MAAA,GArDp/Cpd,2DAAE;IAAFA,wDAAE,YAAAod,MAAA,CAAAR,SAAA,MAqDyzC,CAAC,YAAAQ,MAAA,CAAAP,OAAA,QAAD,CAAC;IArD5zC7c,uDAAE,EAqDk5C,CAAC;IArDr5CA,wDAAE,qBAAAod,MAAA,CAAAnZ,QAqDk5C,CAAC,4BArDr5CjE,6DAAE,IAAAwc,GAAA,EAAAY,MAAA,CAAAL,WAAA,CAqDk5C,CAAC;EAAA;AAAA;AAAA,SAAAM,mDAAAlZ,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArDr5CnE,4DAAE,cAqDqnD,CAAC;IArDxnDA,gEAAE,KAqDqwD,CAAC;IArDxwDA,0DAAE,CAqD8wD,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAmZ,MAAA,GArDjxDtd,2DAAE;IAAFA,wDAAE,YAAAsd,MAAA,CAAAV,SAAA,MAqDslD,CAAC,YAAAU,MAAA,CAAAT,OAAA,QAAD,CAAC;IArDzlD7c,uDAAE,EAqD+qD,CAAC;IArDlrDA,wDAAE,qBAAAsd,MAAA,CAAArZ,QAqD+qD,CAAC,4BArDlrDjE,6DAAE,IAAAwc,GAAA,EAAAc,MAAA,CAAAP,WAAA,CAqD+qD,CAAC;EAAA;AAAA;AAAA,SAAAQ,mDAAApZ,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArDlrDnE,4DAAE,cAqDk5D,CAAC;IArDr5DA,gEAAE,KAqDkiE,CAAC;IArDriEA,0DAAE,CAqD2iE,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAS,MAAA,GArD9iE5E,2DAAE;IAAFA,wDAAE,YAAA4E,MAAA,CAAAgY,SAAA,MAqDm3D,CAAC,YAAAhY,MAAA,CAAAiY,OAAA,QAAD,CAAC;IArDt3D7c,uDAAE,EAqD48D,CAAC;IArD/8DA,wDAAE,qBAAA4E,MAAA,CAAAX,QAqD48D,CAAC,4BArD/8DjE,6DAAE,IAAAwc,GAAA,EAAA5X,MAAA,CAAAmY,WAAA,CAqD48D,CAAC;EAAA;AAAA;AAAA,MAAAS,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,GAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,MAAAC,IAAA;AAAA,SAAAC,qDAAApa,EAAA,EAAAC,GAAA;EAAA,IAAAD,EAAA;IArD/8DnE,uDAAE,4BAwOggF,CAAC;EAAA;EAAA,IAAAmE,EAAA;IAAA,MAAAqa,kBAAA,GAAApa,GAAA,CAAA3B,SAAA;IAxOngFzC,wDAAE,cAAAwe,kBAAA,CAAAC,WAwO2pE,CAAC,aAAAD,kBAAA,CAAAE,oBAAD,CAAC,UAAAF,kBAAA,CAAAG,KAAD,CAAC,cAAAH,kBAAA,CAAA5B,SAAD,CAAC,YAAA4B,kBAAA,CAAA3B,OAAD,CAAC,YAAA2B,kBAAA,CAAAI,OAAD,CAAC,aAAAJ,kBAAA,CAAAK,aAAD,CAAC,gBAAAL,kBAAA,CAAAzB,WAAD,CAAC;EAAA;AAAA;AAnV5wE,MAAM+B,cAAc,GAAG;EACnB7U,aAAa,EAAE,IAAI;EACnB8U,aAAa,EAAE,IAAI;EACnBvW,MAAM,EAAE,IAAI;EACZwW,YAAY,EAAE,IAAI;EAClBC,SAAS,EAAE;AACf,CAAC;AACD;AACA;AACA;AACA,MAAMC,kBAAkB,GAAG,CACvB,QAAQ,EACR,cAAc,EACd,WAAW,CACd;AAED,MAAMC,cAAc,GAAGpL,MAAM,CAACnF,SAAS,CAACuQ,cAAc;AACtD;AACA;AACA;AACA;AACA,SAASC,QAAQA,CAACC,KAAK,EAAE;EACrB,IAAI/J,KAAK,CAACC,OAAO,CAAC8J,KAAK,CAAC,EAAE;IACtB,OAAOA,KAAK,CAAC5P,GAAG,CAAC2P,QAAQ,CAAC;EAC9B,CAAC,MACI,IAAIC,KAAK,YAAYC,IAAI,EAAE;IAC5B,OAAO,IAAIA,IAAI,CAACD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC;EACpC,CAAC,MACI,IAAI,OAAOF,KAAK,KAAK,QAAQ,IAAIA,KAAK,EAAE;IAAE;IAC3C,OAAOG,OAAO,CAACH,KAAK,EAAED,QAAQ,CAAC;EACnC,CAAC,MACI;IAAE;IACH,OAAOC,KAAK;EAChB;AACJ;AACA,SAASG,OAAOA,CAACH,KAAK,EAAEI,IAAI,EAAE;EAC1B,MAAMC,MAAM,GAAG,CAAC,CAAC;EACjB,KAAK,MAAM/G,GAAG,IAAI0G,KAAK,EAAE;IACrB,IAAIF,cAAc,CAAC5Q,IAAI,CAAC8Q,KAAK,EAAE1G,GAAG,CAAC,EAAE;MACjC+G,MAAM,CAAC/G,GAAG,CAAC,GAAG8G,IAAI,CAACJ,KAAK,CAAC1G,GAAG,CAAC,EAAEA,GAAG,CAAC;IACvC;EACJ;EACA,OAAO+G,MAAM;AACjB;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASC,SAASA,CAAChT,CAAC,EAAEkB,CAAC,EAAE;EACrB,IAAIlB,CAAC,KAAKkB,CAAC,EACP,OAAO,IAAI;EACf,IAAIlB,CAAC,IAAIkB,CAAC,IAAI,OAAOlB,CAAC,IAAI,QAAQ,IAAI,OAAOkB,CAAC,IAAI,QAAQ,EAAE;IACxD,IAAIlB,CAAC,CAAClN,WAAW,KAAKoO,CAAC,CAACpO,WAAW,EAC/B,OAAO,KAAK;IAChB,IAAIoQ,MAAM,EAAE1D,CAAC,EAAEyT,IAAI;IACnB,IAAItK,KAAK,CAACC,OAAO,CAAC5I,CAAC,CAAC,EAAE;MAClBkD,MAAM,GAAGlD,CAAC,CAACkD,MAAM;MACjB,IAAIA,MAAM,IAAIhC,CAAC,CAACgC,MAAM,EAClB,OAAO,KAAK;MAChB,KAAK1D,CAAC,GAAG0D,MAAM,EAAE1D,CAAC,EAAE,KAAK,CAAC,GACtB,IAAI,CAACwT,SAAS,CAAChT,CAAC,CAACR,CAAC,CAAC,EAAE0B,CAAC,CAAC1B,CAAC,CAAC,CAAC,EACtB,OAAO,KAAK;MACpB,OAAO,IAAI;IACf;IACA,IAAIQ,CAAC,CAAClN,WAAW,KAAKogB,MAAM,EACxB,OAAOlT,CAAC,CAACmT,MAAM,KAAKjS,CAAC,CAACiS,MAAM,IAAInT,CAAC,CAACoT,KAAK,KAAKlS,CAAC,CAACkS,KAAK;IACvD,IAAIpT,CAAC,CAAC4S,OAAO,KAAKxL,MAAM,CAACnF,SAAS,CAAC2Q,OAAO,EACtC,OAAO5S,CAAC,CAAC4S,OAAO,CAAC,CAAC,KAAK1R,CAAC,CAAC0R,OAAO,CAAC,CAAC;IACtC,IAAI5S,CAAC,CAACqT,QAAQ,KAAKjM,MAAM,CAACnF,SAAS,CAACoR,QAAQ,EACxC,OAAOrT,CAAC,CAACqT,QAAQ,CAAC,CAAC,KAAKnS,CAAC,CAACmS,QAAQ,CAAC,CAAC;IACxCJ,IAAI,GAAG7L,MAAM,CAAC6L,IAAI,CAACjT,CAAC,CAAC;IACrBkD,MAAM,GAAG+P,IAAI,CAAC/P,MAAM;IACpB,IAAIA,MAAM,KAAKkE,MAAM,CAAC6L,IAAI,CAAC/R,CAAC,CAAC,CAACgC,MAAM,EAChC,OAAO,KAAK;IAChB,KAAK1D,CAAC,GAAG0D,MAAM,EAAE1D,CAAC,EAAE,KAAK,CAAC,GACtB,IAAI,CAAC4H,MAAM,CAACnF,SAAS,CAACuQ,cAAc,CAAC5Q,IAAI,CAACV,CAAC,EAAE+R,IAAI,CAACzT,CAAC,CAAC,CAAC,EACjD,OAAO,KAAK;IACpB,KAAKA,CAAC,GAAG0D,MAAM,EAAE1D,CAAC,EAAE,KAAK,CAAC,GAAG;MACzB,IAAIwM,GAAG,GAAGiH,IAAI,CAACzT,CAAC,CAAC;MACjB,IAAI,CAACwT,SAAS,CAAChT,CAAC,CAACgM,GAAG,CAAC,EAAE9K,CAAC,CAAC8K,GAAG,CAAC,CAAC,EAC1B,OAAO,KAAK;IACpB;IACA,OAAO,IAAI;EACf;EACA;EACA,OAAOhM,CAAC,KAAKA,CAAC,IAAIkB,CAAC,KAAKA,CAAC;AAC7B;AAEA,MAAMoS,gBAAgB,GAAG,OAAOnO,QAAQ,KAAK,WAAW,GAAGA,QAAQ,CAACoO,sBAAsB,CAAC,CAAC,GAAG,IAAI;AACnG,MAAMC,0BAA0B,CAAC;EAC7B1gB,WAAWA,CAAC2gB,OAAO,EAAE;IACjB,IAAI,CAACA,OAAO,GAAGA,OAAO;EAC1B;EACAC,eAAeA,CAAA,EAAG;IACd,IAAIJ,gBAAgB,EAAE;MAClBA,gBAAgB,CAACtN,WAAW,CAAC,IAAI,CAACyN,OAAO,CAACE,aAAa,CAAC;IAC5D;EACJ;EACA;EACAnW,WAAWA,CAAA,EAAG;IACV,IAAI8V,gBAAgB,EAAE;MAClBA,gBAAgB,CAACrN,WAAW,CAAC,IAAI,CAACwN,OAAO,CAACE,aAAa,CAAC;IAC5D;EACJ;AACJ;AACAH,0BAA0B,CAAC9f,IAAI,YAAAkgB,mCAAA9U,CAAA;EAAA,YAAAA,CAAA,IAAyF0U,0BAA0B,EAApCngB,+DAAE,CAAoDA,qDAAa;AAAA,CAA4C;AAC7NmgB,0BAA0B,CAACM,IAAI,kBAD+EzgB,+DAAE;EAAAoD,IAAA,EACJ+c,0BAA0B;EAAAtc,SAAA;EAAA8c,kBAAA,EAAAxd,GAAA;EAAAW,KAAA;EAAAC,IAAA;EAAAE,QAAA,WAAA2c,oCAAAzc,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MADxBnE,6DAAE;MAAFA,0DAAE,EACyG,CAAC;IAAA;EAAA;EAAA+gB,aAAA;AAAA,EAA8D;AACxR;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAF8GhhB,+DAAE,CAEpBmgB,0BAA0B,EAAc,CAAC;IACzH/c,IAAI,EAAEkI,oDAAS;IACf4V,IAAI,EAAE,CAAC;MACCC,QAAQ,EAAE,oBAAoB;MAC9Bld,QAAQ,EAAE,2BAA2B;MACrC8c,aAAa,EAAE/E,4DAAiB,CAACoF;IACrC,CAAC;EACT,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEhe,IAAI,EAAEpD,qDAAawgB;IAAC,CAAC,CAAC;EAAE,CAAC;AAAA;AAE7E,MAAMa,cAAc,GAAG,OAAOvP,QAAQ,KAAK,WAAW,GAAGA,QAAQ,CAACoO,sBAAsB,CAAC,CAAC,GAAG,IAAI;AACjG,MAAMoB,2BAA2B,CAAC;EAC9BjB,eAAeA,CAAA,EAAG;IACd,MAAMkB,MAAM,GAAG,IAAI,CAACC,SAAS,EAAElB,aAAa,CAAC,CAAC;IAC9CmB,SAAS,CAACF,MAAM,EAAE,IAAI,CAACG,SAAS,CAAC;IACjCC,YAAY,CAACJ,MAAM,EAAEzhB,SAAS,EAAE,IAAI,CAAC8e,OAAO,CAAC;IAC7C;IACA,IAAI,CAAC8C,SAAS,CAAC7I,KAAK,CAAC+I,OAAO,GAAG,MAAM;IACrC,IAAI,CAACC,QAAQ,CAACN,MAAM,CAAC;EACzB;EACAO,WAAWA,CAACC,OAAO,EAAE;IACjB,MAAMR,MAAM,GAAG,IAAI,CAACC,SAAS,EAAElB,aAAa;IAC5C;IACA;IACA,IAAIiB,MAAM,EAAE;MACR;MACA;MACA,IAAI,IAAI,CAACG,SAAS,CAACjP,UAAU,KAAK4O,cAAc,EAAE;QAC9CI,SAAS,CAACF,MAAM,EAAE,IAAI,CAACG,SAAS,CAAC;QACjCC,YAAY,CAACJ,MAAM,EAAEzhB,SAAS,EAAE,IAAI,CAAC8e,OAAO,CAAC;QAC7C,IAAI,CAACiD,QAAQ,CAACN,MAAM,CAAC;MACzB,CAAC,MACI;QACD,MAAMS,aAAa,GAAGD,OAAO,CAAC,SAAS,CAAC;QACxC,IAAIC,aAAa,EAAE;UACfL,YAAY,CAACJ,MAAM,EAAES,aAAa,CAACC,aAAa,EAAED,aAAa,CAACE,YAAY,CAAC;QACjF;MACJ;IACJ;EACJ;EACA;EACA/X,WAAWA,CAAA,EAAG;IACV;IACA;IACA,IAAI,CAACuX,SAAS,CAACjP,UAAU,KAAK4O,cAAc,IACxCA,cAAc,EAAE;MAChBA,cAAc,CAACzO,WAAW,CAAC,IAAI,CAAC8O,SAAS,CAAC;IAC9C;IACA,IAAI,CAACG,QAAQ,CAAC,IAAI,CAAC;EACvB;AACJ;AACAP,2BAA2B,CAACjhB,IAAI,YAAA8hB,oCAAA1W,CAAA;EAAA,YAAAA,CAAA,IAAyF6V,2BAA2B;AAAA,CAAmD;AACvMA,2BAA2B,CAACb,IAAI,kBArD8EzgB,+DAAE;EAAAoD,IAAA,EAqDHke,2BAA2B;EAAAzd,SAAA;EAAAue,SAAA,WAAAC,kCAAAle,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MArD1BnE,yDAAE,CAAAuc,GAAA;IAAA;IAAA,IAAApY,EAAA;MAAA,IAAAoe,EAAA;MAAFviB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAod,SAAA,GAAAe,EAAA,CAAAG,KAAA;IAAA;EAAA;EAAAC,MAAA;IAAAjB,SAAA;IAAAG,QAAA;IAAAlD,KAAA;IAAA/B,SAAA;IAAAC,OAAA;IAAA+B,OAAA;IAAA3a,QAAA;IAAA8Y,WAAA;EAAA;EAAA6F,QAAA,GAAF5iB,kEAAE;EAAA8D,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAA6e,qCAAA3e,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MAAFnE,wDAAE,IAAA0c,kDAAA,wBAqDuqB,CAAC;MArD1qB1c,wDAAE,IAAAgd,kDAAA,wBAqD08B,CAAC;MArD78Bhd,wDAAE,IAAAkd,kDAAA,wBAqDouC,CAAC;MArDvuCld,wDAAE,IAAAmd,kDAAA,wBAqDigD,CAAC;MArDpgDnd,wDAAE,IAAAqd,kDAAA,wBAqD8xD,CAAC;MArDjyDrd,wDAAE,IAAAud,kDAAA,wBAqD2jE,CAAC;IAAA;IAAA,IAAApZ,EAAA;MArD9jEnE,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,SAqD+a,CAAC;MArDlb3e,uDAAE,EAqDgtB,CAAC;MArDntBA,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,UAqDgtB,CAAC;MArDntB3e,uDAAE,EAqDg/B,CAAC;MArDn/BA,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,OAqDg/B,CAAC;MArDn/B3e,uDAAE,EAqD2wC,CAAC;MArD9wCA,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,QAqD2wC,CAAC;MArD9wC3e,uDAAE,EAqDwiD,CAAC;MArD3iDA,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,QAqDwiD,CAAC;MArD3iD3e,uDAAE,EAqDq0D,CAAC;MArDx0DA,wDAAE,SAAAoE,GAAA,CAAAua,KAAA,QAqDq0D,CAAC;IAAA;EAAA;EAAAoE,YAAA,GAAgR7iB,iDAAO,EAA0EA,oDAAU,EAAiEA,oDAAU,EAAwDA,6DAAmB;EAAA6gB,aAAA;AAAA,EAAyI;AAChkF;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAtD8GhhB,+DAAE,CAsDpBshB,2BAA2B,EAAc,CAAC;IAC1Hle,IAAI,EAAEkI,oDAAS;IACf4V,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,qBAAqB;MAAEJ,aAAa,EAAE/E,4DAAiB,CAACoF,IAAI;MAAEnd,QAAQ,EAAE;IAAurD,CAAC;EACvxD,CAAC,CAAC,QAAkB;IAAEyd,SAAS,EAAE,CAAC;MAC1Bte,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAE4F,QAAQ,EAAE,CAAC;MACXze,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAE0C,KAAK,EAAE,CAAC;MACRvb,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEW,SAAS,EAAE,CAAC;MACZxZ,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEY,OAAO,EAAE,CAAC;MACVzZ,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAE2C,OAAO,EAAE,CAAC;MACVxb,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEhY,QAAQ,EAAE,CAAC;MACXb,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEc,WAAW,EAAE,CAAC;MACd3Z,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEuF,SAAS,EAAE,CAAC;MACZpe,IAAI,EAAE8Y,oDAAS;MACfgF,IAAI,EAAE,CAAC,QAAQ;IACnB,CAAC;EAAE,CAAC;AAAA;AAChB,SAASO,SAASA,CAAC2B,OAAO,EAAE1B,SAAS,EAAE;EACnCA,SAAS,CAACjP,UAAU,EAAE5B,YAAY,CAACuS,OAAO,EAAE1B,SAAS,CAACjI,WAAW,CAAC;EAClE,IAAI4H,cAAc,EAAE;IAChBA,cAAc,CAAC1O,WAAW,CAAC+O,SAAS,CAAC;EACzC;AACJ;AACA,SAASC,YAAYA,CAAC0B,EAAE,EAAEC,aAAa,GAAG,CAAC,CAAC,EAAEC,YAAY,GAAG,CAAC,CAAC,EAAE;EAC7D;EACA,KAAK,MAAMC,QAAQ,IAAIF,aAAa,EAAE;IAClC,IAAI,EAAEE,QAAQ,IAAID,YAAY,CAAC,EAAE;MAC7BF,EAAE,CAACG,QAAQ,CAAC,GAAG,IAAI;IACvB;EACJ;EACA,KAAK,MAAMA,QAAQ,IAAID,YAAY,EAAE;IACjCF,EAAE,CAACG,QAAQ,CAAC,GAAGD,YAAY,CAACC,QAAQ,CAAC;EACzC;AACJ;AAEA,MAAMC,qBAAqB,CAAC;EACxBhkB,WAAWA,CAAC2gB,OAAO,EAAEsD,cAAc,EAAE;IACjC,IAAI,CAACtD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACuD,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,cAAc,GAAG,CAAC,CAAC,CAAC,CAAC;IAC1B,IAAI,CAACC,kBAAkB,GAAG,IAAI3Q,GAAG,CAAC,CAAC;IACnC,MAAM4Q,oBAAoB,GAAG,IAAIxH,2DAAoB,CAAC,CAAC;IACvDwH,oBAAoB,CAACha,SAAS,CAAE+Z,kBAAkB,IAAK;MACnD,IAAI,CAACA,kBAAkB,GAAGA,kBAAkB;MAC5C,IAAI,CAACE,oBAAoB,GAAGjkB,SAAS,CAAC,CAAC;MACvC4jB,cAAc,CAACM,aAAa,CAAC,CAAC;IAClC,CAAC,CAAC;IACF,IAAI,CAACC,qBAAqB,GAAGH,oBAAoB,CAACI,MAAM,CAAC1a,IAAI,CAACsa,oBAAoB,CAAC;EACvF;EACAzD,eAAeA,CAAA,EAAG;IACd,MAAM;MAAE8D;IAAoB,CAAC,GAAG,IAAI;IACpC,MAAMzY,OAAO,GAAG;MACZ,GAAG,IAAI,CAACA,OAAO;MACf,GAAG,IAAI,CAAC0Y,iBAAiB,CAAC;IAC9B,CAAC;IACD;IACA,IAAI,CAACR,cAAc,GAAGpE,OAAO,CAAC9T,OAAO,EAAE,CAAC2Y,SAAS,EAAEC,UAAU,KAAOH,mBAAmB,IAAIrF,cAAc,CAACwF,UAAU,CAAC,GAC/GlF,QAAQ,CAACiF,SAAS,CAAC,GACnBA,SAAU,CAAC;IACjB,MAAME,UAAU,GAAG,IAAI,CAACnE,OAAO,CAACE,aAAa;IAC7C,MAAMqD,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAItH,wDAAQ,CAACkI,UAAU,EAAE;MACtD,GAAG7Y,OAAO;MACV,GAAG,IAAI,CAAC8Y,iBAAiB,CAAC;IAC9B,CAAC,CAAC;IACF;IACA;IACA,MAAMC,UAAU,GAAGF,UAAU,CAACG,OAAO,CAAC,aAAa,CAAC;IACpD,IAAID,UAAU,IAAIA,UAAU,CAACE,gBAAgB,EAAE;MAC3CF,UAAU,CAACE,gBAAgB,CAAC,CAAC,CAACzU,IAAI,CAAC,MAAM;QACrCvM,MAAM,CAACiY,qBAAqB,CAAC,MAAM;UAC/B+H,QAAQ,CAAC3X,MAAM,CAAC,CAAC;QACrB,CAAC,CAAC;MACN,CAAC,CAAC;IACN,CAAC,MACI;MACD2X,QAAQ,CAAC3X,MAAM,CAAC,CAAC;IACrB;IACA;IACA;IACA;IACAoN,UAAU,CAAC,MAAMuK,QAAQ,CAACiB,UAAU,CAAC,CAAC,CAAC;EAC3C;EACA;AACJ;AACA;AACA;EACIC,SAASA,CAAA,EAAG;IACR,IAAI,IAAI,CAAClB,QAAQ,EAAE;MAAE;MACjB,MAAM;QAAEQ,mBAAmB;QAAEP;MAAe,CAAC,GAAG,IAAI;MACpD,MAAMkB,UAAU,GAAG;QACf,GAAG,IAAI,CAACpZ,OAAO;QACf,GAAG,IAAI,CAAC0Y,iBAAiB,CAAC;MAC9B,CAAC;MACD,MAAMW,mBAAmB,GAAG,CAAC,CAAC;MAC9B,MAAMC,kBAAkB,GAAG,EAAE;MAC7B;MACA,KAAK,MAAMV,UAAU,IAAIQ,UAAU,EAAE;QACjC,IAAIA,UAAU,CAAC3F,cAAc,CAACmF,UAAU,CAAC,EAAE;UACvC,IAAID,SAAS,GAAGS,UAAU,CAACR,UAAU,CAAC;UACtC,IAAIH,mBAAmB,IAAIrF,cAAc,CAACwF,UAAU,CAAC,EAAE;YACnD,IAAI,CAAC3E,SAAS,CAACiE,cAAc,CAACU,UAAU,CAAC,EAAED,SAAS,CAAC,EAAE;cACnDT,cAAc,CAACU,UAAU,CAAC,GAAGlF,QAAQ,CAACiF,SAAS,CAAC;cAChDW,kBAAkB,CAACxT,IAAI,CAAC8S,UAAU,CAAC;YACvC;UACJ,CAAC,MACI;YACD,IAAIV,cAAc,CAACU,UAAU,CAAC,KAAKD,SAAS,EAAE;cAC1CT,cAAc,CAACU,UAAU,CAAC,GAAGD,SAAS;cACtCW,kBAAkB,CAACxT,IAAI,CAAC8S,UAAU,CAAC;YACvC;UACJ;UACAS,mBAAmB,CAACT,UAAU,CAAC,GAAGD,SAAS;QAC/C;MACJ;MACA,MAAMY,cAAc,GAAGlR,MAAM,CAAC6L,IAAI,CAACgE,cAAc,CAAC;MAClD;MACA,KAAK,MAAMU,UAAU,IAAIW,cAAc,EAAE;QACrC,IAAI,EAAEX,UAAU,IAAIQ,UAAU,CAAC,EAAE;UAAE;UAC/B,OAAOlB,cAAc,CAACU,UAAU,CAAC;UACjCU,kBAAkB,CAACxT,IAAI,CAAC8S,UAAU,CAAC;QACvC;MACJ;MACA,IAAIU,kBAAkB,CAACnV,MAAM,EAAE;QAC3B,IAAI,CAAC8T,QAAQ,CAACuB,cAAc,CAAC,CAAC;QAC9B,IAAI,CAACvB,QAAQ,CAACwB,YAAY,CAAC;UACvB,GAAGJ,mBAAmB;UACtB,GAAG,IAAI,CAACP,iBAAiB,CAAC;QAC9B,CAAC,EAAEQ,kBAAkB,CAAC;MAC1B;IACJ;EACJ;EACAI,qBAAqBA,CAAA,EAAG;IACpB,IAAI,IAAI,CAACzB,QAAQ,EAAE;MAAE;MACjB,IAAI,CAACA,QAAQ,CAAC0B,eAAe,CAAC,CAAC;IACnC;EACJ;EACAlb,WAAWA,CAAA,EAAG;IACV,IAAI,IAAI,CAACwZ,QAAQ,EAAE;MAAE;MACjB,IAAI,CAACA,QAAQ,CAAC2B,OAAO,CAAC,CAAC;MACvB,IAAI,CAAC3B,QAAQ,GAAG,IAAI;IACxB;EACJ;EACA,IAAI4B,gBAAgBA,CAAA,EAAG;IACnB,OAAO,IAAI,CAACxB,oBAAoB,KAC3B,IAAI,CAACA,oBAAoB,GAAG,CAAC,GAAG,IAAI,CAACF,kBAAkB,CAAC2B,MAAM,CAAC,CAAC,CAAC,CAAC;EAC3E;EACAC,MAAMA,CAAA,EAAG;IACL,OAAO,IAAI,CAAC9B,QAAQ;EACxB;EACAS,iBAAiBA,CAAA,EAAG;IAChB,MAAM1Y,OAAO,GAAG,CAAC,CAAC;IAClB,KAAK,MAAMga,SAAS,IAAIxG,kBAAkB,EAAE;MACxC,MAAMyG,UAAU,GAAG,IAAI,CAACD,SAAS,CAAC;MAClC,IAAIC,UAAU,IAAI,IAAI,EAAE;QAAE;QACtBja,OAAO,CAACga,SAAS,CAAC,GAAGC,UAAU;MACnC;IACJ;IACA,OAAOja,OAAO;EAClB;EACA8Y,iBAAiBA,CAAA,EAAG;IAChB,OAAO;MACHP,qBAAqB,EAAE,IAAI,CAACA,qBAAqB;MACjD2B,sBAAsB,EAAE,IAAI;MAC5BC,uBAAuB,EAAE;IAC7B,CAAC;EACL;EACA;EACAC,oBAAoBA,CAACC,KAAK,EAAEC,eAAe,EAAE;IACzC,OAAOA,eAAe,CAACC,EAAE;EAC7B;AACJ;AACAxC,qBAAqB,CAACpjB,IAAI,YAAA6lB,8BAAAza,CAAA;EAAA,YAAAA,CAAA,IAAyFgY,qBAAqB,EAvO1BzjB,+DAAE,CAuO0CA,qDAAa,GAvOzDA,+DAAE,CAuOoEA,4DAAoB;AAAA,CAA4C;AACpPyjB,qBAAqB,CAAChD,IAAI,kBAxOoFzgB,+DAAE;EAAAoD,IAAA,EAwOTqgB,qBAAqB;EAAA5f,SAAA;EAAAuiB,cAAA,WAAAC,qCAAAliB,EAAA,EAAAC,GAAA,EAAAkiB,QAAA;IAAA,IAAAniB,EAAA;MAxOdnE,4DAAE,CAAAsmB,QAAA,EAAA9I,GAAA;MAAFxd,4DAAE,CAAAsmB,QAAA,EAAA7I,GAAA;MAAFzd,4DAAE,CAAAsmB,QAAA,EAAA5I,GAAA;MAAF1d,4DAAE,CAAAsmB,QAAA,EAAA3I,GAAA;MAAF3d,4DAAE,CAAAsmB,QAAA,EAAA1I,GAAA;MAAF5d,4DAAE,CAAAsmB,QAAA,EAAAzI,GAAA;MAAF7d,4DAAE,CAAAsmB,QAAA,EAAAxI,GAAA;MAAF9d,4DAAE,CAAAsmB,QAAA,EAAAvI,IAAA;MAAF/d,4DAAE,CAAAsmB,QAAA,EAAAtI,IAAA;MAAFhe,4DAAE,CAAAsmB,QAAA,EAAArI,IAAA;MAAFje,4DAAE,CAAAsmB,QAAA,EAAApI,IAAA;MAAFle,4DAAE,CAAAsmB,QAAA,EAAAnI,IAAA;MAAFne,4DAAE,CAAAsmB,QAAA,EAAAlI,IAAA;MAAFpe,4DAAE,CAAAsmB,QAAA,EAAAjI,IAAA;MAAFre,4DAAE,CAAAsmB,QAAA,EAAAhI,IAAA;IAAA;IAAA,IAAAna,EAAA;MAAA,IAAAoe,EAAA;MAAFviB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAoiB,gBAAA,GAAAjE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAqiB,cAAA,GAAAlE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAsiB,iBAAA,GAAAnE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAuiB,mBAAA,GAAApE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAwiB,YAAA,GAAArE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAyiB,eAAA,GAAAtE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA0iB,gBAAA,GAAAvE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA2iB,aAAA,GAAAxE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA4iB,eAAA,GAAAzE,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA6iB,eAAA,GAAA1E,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA8iB,yBAAA,GAAA3E,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAA+iB,yBAAA,GAAA5E,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAgjB,oBAAA,GAAA7E,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAijB,mBAAA,GAAA9E,EAAA,CAAAG,KAAA;MAAF1iB,4DAAE,CAAAuiB,EAAA,GAAFviB,yDAAE,QAAAoE,GAAA,CAAAkjB,wBAAA,GAAA/E,EAAA,CAAAG,KAAA;IAAA;EAAA;EAAAC,MAAA;IAAAjX,OAAA;IAAAyY,mBAAA;IAAA3b,MAAA;IAAAwW,YAAA;IAAAC,SAAA;EAAA;EAAAnb,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAsjB,+BAAApjB,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MAAFnE,4DAAE,wBAwOigE,CAAC;MAxOpgEA,wDAAE,IAAAue,oDAAA,gCAwOggF,CAAC;MAxOngFve,0DAAE,CAwOuhF,CAAC;IAAA;IAAA,IAAAmE,EAAA;MAxO1hFnE,uDAAE,EAwO4kE,CAAC;MAxO/kEA,wDAAE,YAAAoE,GAAA,CAAAmhB,gBAwO4kE,CAAC,iBAAAnhB,GAAA,CAAA0hB,oBAAD,CAAC;IAAA;EAAA;EAAA/C,YAAA,GAAqe5C,0BAA0B,EAA4CmB,2BAA2B,EAAqKphB,oDAAU;EAAA6gB,aAAA;AAAA,EAAoI;AACtjG;EAAA,QAAAC,SAAA,oBAAAA,SAAA,KAzO8GhhB,+DAAE,CAyOpByjB,qBAAqB,EAAc,CAAC;IACpHrgB,IAAI,EAAEkI,oDAAS;IACf4V,IAAI,EAAE,CAAC;MAAEC,QAAQ,EAAE,eAAe;MAAEJ,aAAa,EAAE/E,4DAAiB,CAACoF,IAAI,CAAC;MAAA;MAChEnd,QAAQ,EAAE;IAA+iB,CAAC;EACxkB,CAAC,CAAC,EAAkB,YAAY;IAAE,OAAO,CAAC;MAAEb,IAAI,EAAEpD,qDAAawgB;IAAC,CAAC,EAAE;MAAEpd,IAAI,EAAEpD,4DAAoBmmB;IAAC,CAAC,CAAC;EAAE,CAAC,EAAkB;IAAEza,OAAO,EAAE,CAAC;MAC3HtI,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEkI,mBAAmB,EAAE,CAAC;MACtB/gB,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEzT,MAAM,EAAE,CAAC;MACTpF,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAE+C,YAAY,EAAE,CAAC;MACf5b,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEgD,SAAS,EAAE,CAAC;MACZ7b,IAAI,EAAE6Y,gDAAKA;IACf,CAAC,CAAC;IAAEuK,gBAAgB,EAAE,CAAC;MACnBpjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,kBAAkB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC/C,CAAC,CAAC;IAAEhB,cAAc,EAAE,CAAC;MACjBrjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,gBAAgB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC7C,CAAC,CAAC;IAAEf,iBAAiB,EAAE,CAAC;MACpBtjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,mBAAmB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAChD,CAAC,CAAC;IAAEd,mBAAmB,EAAE,CAAC;MACtBvjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,qBAAqB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAClD,CAAC,CAAC;IAAEb,YAAY,EAAE,CAAC;MACfxjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,cAAc,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC3C,CAAC,CAAC;IAAEZ,eAAe,EAAE,CAAC;MAClBzjB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,iBAAiB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC9C,CAAC,CAAC;IAAEX,gBAAgB,EAAE,CAAC;MACnB1jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,kBAAkB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC/C,CAAC,CAAC;IAAEV,aAAa,EAAE,CAAC;MAChB3jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,eAAe,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC5C,CAAC,CAAC;IAAET,eAAe,EAAE,CAAC;MAClB5jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,iBAAiB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC9C,CAAC,CAAC;IAAER,eAAe,EAAE,CAAC;MAClB7jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,iBAAiB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAC9C,CAAC,CAAC;IAAEP,yBAAyB,EAAE,CAAC;MAC5B9jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,2BAA2B,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IACxD,CAAC,CAAC;IAAEN,yBAAyB,EAAE,CAAC;MAC5B/jB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,2BAA2B,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IACxD,CAAC,CAAC;IAAEL,oBAAoB,EAAE,CAAC;MACvBhkB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,sBAAsB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IACnD,CAAC,CAAC;IAAEJ,mBAAmB,EAAE,CAAC;MACtBjkB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,qBAAqB,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IAClD,CAAC,CAAC;IAAEH,wBAAwB,EAAE,CAAC;MAC3BlkB,IAAI,EAAE+Y,uDAAY;MAClB+E,IAAI,EAAE,CAAC,0BAA0B,EAAE;QAAEuG,MAAM,EAAE;MAAK,CAAC;IACvD,CAAC;EAAE,CAAC;AAAA;AAEhB,MAAMjmB,kBAAkB,CAAC;AAEzBA,kBAAkB,CAACnB,IAAI,YAAAqnB,2BAAAjc,CAAA;EAAA,YAAAA,CAAA,IAAyFjK,kBAAkB;AAAA,CAAkD;AACpLA,kBAAkB,CAACmmB,IAAI,kBAzSuF3nB,8DAAE;EAAAoD,IAAA,EAySC5B;AAAkB,EAEjC;AAClGA,kBAAkB,CAACqmB,IAAI,kBA5SuF7nB,8DAAE;EAAAkB,OAAA,GA4S+B,CACnII,yDAAY,CACf;AAAA,EAAI;AACb;EAAA,QAAA0f,SAAA,oBAAAA,SAAA,KA/S8GhhB,+DAAE,CA+SpBwB,kBAAkB,EAAc,CAAC;IACjH4B,IAAI,EAAEgZ,mDAAQ;IACd8E,IAAI,EAAE,CAAC;MACCrf,YAAY,EAAE,CACV4hB,qBAAqB,EACrBtD,0BAA0B,EAC1BmB,2BAA2B,CAC9B;MACDpgB,OAAO,EAAE,CACLI,yDAAY,CACf;MACDD,OAAO,EAAE,CACLoiB,qBAAqB;IAE7B,CAAC;EACT,CAAC,CAAC;AAAA;;AAEV;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxbo/C;AACt7C;AACM;AAC7C;AAEvB,MAAMsJ,aAAa,GAAG,EAAE;AAExB,MAAMC,qBAAqB,GAAG;EAC1BC,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE;IACFC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC,CAAE;EACZ,CAAC;;EACDC,SAAS,EAAE,KAAK;EAChBjlB,UAAU,EAAE;IACRklB,IAAI,EAAE,MAAM;IACZljB,IAAI,EAAE,MAAM;IACZmjB,QAAQ,EAAE,WAAW;IACrBC,QAAQ,EAAE,WAAW;IACrBC,IAAI,EAAE,MAAM;IACZC,KAAK,EAAE,OAAO;IACdC,KAAK,EAAE,OAAO;IACdT,IAAI,EAAE,MAAM;IACZU,GAAG,EAAE,KAAK;IACVC,IAAI,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE,GAAG;EACbC,YAAY,EAAE,MAAM;EACpBC,SAAS,EAAE,OAAO;EAClBC,QAAQ,EAAE,MAAM;EAChBC,SAAS,EAAE,OAAO;EAClBC,UAAU,EAAE,SAAS;EACrBC,YAAY,EAAE,MAAM;EACpBC,YAAY,EAAE;AAClB,CAAC;AACD,MAAMC,aAAa,GAAGva,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEvB,qBAAqB,CAAC,EAAE;EAC1E;EACA;EACAwB,WAAW,EAAE;IACTlB,IAAI,EAAE,aAAa;IACnBljB,IAAI,EAAE,SAAS;IACfsjB,KAAKA,CAACtlB,UAAU,EAAEqmB,IAAI,EAAE;MACpB,OAAQA,IAAI,KAAK,KAAK,GAChB,OAAO,GACN,QAAOrmB,UAAW,EAAC;IAC9B;EACJ,CAAC;EAAEsmB,QAAQ,EAAE,SAAS;EAAEC,WAAW,EAAE,UAAU;EAAEC,YAAYA,CAACC,QAAQ,EAAE;IACpE,OAAQ,QAAOA,QAAS,cAAaA,QAAQ,KAAK,CAAC,GAAG,EAAE,GAAG,GAAI,EAAC;EACpE;AAAE,CAAC,CAAC;AACR,SAASC,kBAAkBA,CAACC,kBAAkB,EAAE;EAC5C,IAAIC,WAAW,GAAGD,kBAAkB,CAAClf,MAAM,GAAG,CAAC,GAAGkf,kBAAkB,CAAC,CAAC,CAAC,CAAC9B,IAAI,GAAG,IAAI;EACnF,IAAIgC,aAAa,GAAGlC,aAAa,CAACrR,MAAM,CAACqT,kBAAkB,CAAC;EAC5D,IAAIG,YAAY,GAAG;IACftZ,EAAE,EAAE0Y;EACR,CAAC;EACD,KAAK,IAAIa,SAAS,IAAIF,aAAa,EAAE;IACjCC,YAAY,CAACC,SAAS,CAAClC,IAAI,CAAC,GAAGkC,SAAS;EAC5C;EACA,OAAO;IACH1f,GAAG,EAAEyf,YAAY;IACjBF;EACJ,CAAC;AACL;AACA,SAASI,WAAWA,CAACC,aAAa,EAAEC,SAAS,EAAE;EAC3C,IAAI,OAAOD,aAAa,KAAK,QAAQ,IAAI,CAAC/Z,KAAK,CAACC,OAAO,CAAC8Z,aAAa,CAAC,EAAE;IACpE,OAAOE,WAAW,CAACF,aAAa,CAACpC,IAAI,EAAE,CAACoC,aAAa,CAACpC,IAAI,CAAC,EAAEoC,aAAa,CAAC;EAC/E;EACA,OAAOG,WAAW,CAACH,aAAa,EAAEC,SAAS,CAAC;AAChD;AACA,SAASE,WAAWA,CAACC,OAAO,EAAEH,SAAS,EAAE;EACrC,IAAII,KAAK,GAAG,EAAE,CAAChU,MAAM,CAAC+T,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC;EACtC,IAAIE,GAAG,GAAGC,cAAc,CAACF,KAAK,EAAEJ,SAAS,CAAC,IAAIhB,aAAa;EAC3D,OAAOiB,WAAW,CAACE,OAAO,EAAEC,KAAK,EAAEC,GAAG,CAAC;AAC3C;AACA,SAASC,cAAcA,CAACF,KAAK,EAAEJ,SAAS,EAAE;EACtC,KAAK,IAAInjB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGujB,KAAK,CAAC7f,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACtC,IAAI0jB,KAAK,GAAGH,KAAK,CAACvjB,CAAC,CAAC,CAAC2jB,iBAAiB,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IACnD,KAAK,IAAIhd,CAAC,GAAG8c,KAAK,CAAChgB,MAAM,EAAEkD,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;MACtC,IAAIid,QAAQ,GAAGH,KAAK,CAAC9W,KAAK,CAAC,CAAC,EAAEhG,CAAC,CAAC,CAACkd,IAAI,CAAC,GAAG,CAAC;MAC1C,IAAIX,SAAS,CAACU,QAAQ,CAAC,EAAE;QACrB,OAAOV,SAAS,CAACU,QAAQ,CAAC;MAC9B;IACJ;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAAST,WAAWA,CAACE,OAAO,EAAEC,KAAK,EAAEC,GAAG,EAAE;EACtC,IAAIO,MAAM,GAAGnI,sDAAU,CAAC,CAACiF,qBAAqB,EAAE2C,GAAG,CAAC,EAAE,CAAC,YAAY,CAAC,CAAC;EACrE,OAAOO,MAAM,CAACjD,IAAI,CAAC,CAAC;EACpB,IAAI;IAAEC;EAAK,CAAC,GAAGgD,MAAM;EACrB,OAAOA,MAAM,CAAChD,IAAI;EAClB,OAAO;IACHuC,OAAO;IACPC,KAAK;IACLxC,IAAI;IACJiD,kBAAkB,EAAE,IAAIC,IAAI,CAACC,YAAY,CAACZ,OAAO,CAAC;IAClD/jB,OAAO,EAAEwkB;EACb,CAAC;AACL;;AAEA;AACA,SAASI,YAAYA,CAACjR,KAAK,EAAE;EACzB,OAAO;IACH4G,EAAE,EAAE+B,sDAAI,CAAC,CAAC;IACVrZ,IAAI,EAAE0Q,KAAK,CAAC1Q,IAAI;IAChB4hB,kBAAkB,EAAElR,KAAK,CAACkR,kBAAkB,GAAG,IAAIjR,IAAI,CAACD,KAAK,CAACkR,kBAAkB,CAAC,GAAGzwB,SAAS;IAC7F0wB,IAAI,EAAEnR,KAAK,CAACmR,IAAI,IAAI,EAAE;IACtBC,QAAQ,EAAEpR,KAAK,CAACoR,QAAQ,IAAI,EAAE;IAC9BC,cAAc,EAAErR,KAAK,CAACqR,cAAc,IAAI,EAAE;IAC1CC,WAAW,EAAE,EAAE,CAACjV,MAAM,CAAC2D,KAAK,CAACsR,WAAW,IAAI,EAAE,CAAC;IAC/CC,aAAa,EAAEvR,KAAK,CAACuR,aAAa,IAAI,CAAC,CAAC;IACxCC,oBAAoB,EAAExR,KAAK,CAACwR,oBAAoB,IAAI,EAAE;IACtDC,mBAAmB,EAAEzR,KAAK,CAACyR,mBAAmB,IAAI,CAAC,CAAC;IACpDC,uBAAuB,EAAE1R,KAAK,CAAC0R,uBAAuB,IAAI,EAAE;IAC5DC,0BAA0B,EAAE3R,KAAK,CAAC2R,0BAA0B,IAAI,EAAE;IAClEC,wBAAwB,EAAE5R,KAAK,CAAC4R,wBAAwB,IAAI,EAAE;IAC9DC,yBAAyB,EAAE7R,KAAK,CAAC6R,yBAAyB,IAAI,EAAE;IAChEC,mBAAmB,EAAE9R,KAAK,CAAC8R,mBAAmB,IAAI,EAAE;IACpDC,kBAAkB,EAAE/R,KAAK,CAAC+R,kBAAkB,IAAI,EAAE;IAClDlpB,KAAK,EAAEmX,KAAK,CAACnX,KAAK,IAAI,CAAC,CAAC;IACxBmpB,qBAAqB,EAAEhS,KAAK,CAACgS,qBAAqB,IAAI,EAAE;IACxDC,YAAY,EAAEjS,KAAK,CAACiS,YAAY,IAAI,IAAI;IACxCC,qBAAqB,EAAElS,KAAK,CAACkS,qBAAqB,IAAI,EAAE;IACxDC,oBAAoB,EAAEnS,KAAK,CAACmS,oBAAoB,IAAI,EAAE;IACtDC,qBAAqB,EAAEpS,KAAK,CAACoS,qBAAqB,IAAI,EAAE;IACxDC,qBAAqB,EAAErS,KAAK,CAACqS,qBAAqB,IAAI,EAAE;IACxDC,oBAAoB,EAAEtS,KAAK,CAACsS,oBAAoB,IAAI,EAAE;IACtDC,YAAY,EAAEvS,KAAK,CAACuS,YAAY,IAAI,CAAC,CAAC;IACtCC,eAAe,EAAExS,KAAK,CAACwS,eAAe,IAAI,EAAE;IAC5CC,YAAY,EAAEzS,KAAK,CAACyS,YAAY;IAChCC,cAAc,EAAE1S,KAAK,CAAC0S,cAAc,IAAI,EAAE;IAC1CC,kBAAkB,EAAE3S,KAAK,CAAC2S,kBAAkB;IAC5CzpB,WAAW,EAAE8W,KAAK,CAAC9W,WAAW,IAAI,EAAE;IACpC0pB,mBAAmB,EAAE5S,KAAK,CAAC4S,mBAAmB;IAC9CC,oBAAoB,EAAE7S,KAAK,CAAC6S,oBAAoB,IAAI,CAAC,CAAC;IACtDC,cAAc,EAAE9S,KAAK,CAAC8S,cAAc,IAAI,IAAI;IAC5CC,gBAAgB,EAAE/S,KAAK,CAAC+S,gBAAgB,IAAI,CAAC,CAAC;IAC9CC,cAAc,EAAEhT,KAAK,CAACgT,cAAc,IAAI,CAAC,CAAC;IAC1CC,eAAe,EAAEjT,KAAK,CAACiT,eAAe,IAAI,CAAC;EAC/C,CAAC;AACL;AACA,SAASC,gBAAgBA,CAACC,UAAU,EAAEC,UAAU,EAAE;EAC9C,IAAIC,gBAAgB,GAAG,CAAC,CAAC;EACzB,IAAIC,KAAK,GAAG;IACRpC,kBAAkB,EAAEzwB,SAAS;IAC7B2wB,QAAQ,EAAE,EAAE;IACZC,cAAc,EAAE,EAAE;IAClBC,WAAW,EAAE,EAAE;IACfC,aAAa,EAAE,CAAC,CAAC;IACjBC,oBAAoB,EAAE,EAAE;IACxBC,mBAAmB,EAAE,CAAC,CAAC;IACvBC,uBAAuB,EAAE,EAAE;IAC3BC,0BAA0B,EAAE,EAAE;IAC9BC,wBAAwB,EAAE,EAAE;IAC5BC,yBAAyB,EAAE,EAAE;IAC7BC,mBAAmB,EAAE,EAAE;IACvBC,kBAAkB,EAAE,EAAE;IACtBlpB,KAAK,EAAE,CAAC,CAAC;IACTmpB,qBAAqB,EAAE,EAAE;IACzBC,YAAY,EAAE,IAAI;IAClBC,qBAAqB,EAAE,EAAE;IACzBC,oBAAoB,EAAE,EAAE;IACxBC,qBAAqB,EAAE,EAAE;IACzBC,qBAAqB,EAAE,EAAE;IACzBC,oBAAoB,EAAE,EAAE;IACxBC,YAAY,EAAE,CAAC,CAAC;IAChBC,eAAe,EAAE,EAAE;IACnBC,YAAY,EAAE,IAAI;IAClBC,cAAc,EAAE,EAAE;IAClBC,kBAAkB,EAAE,IAAI;IACxBzpB,WAAW,EAAE,EAAE;IACf0pB,mBAAmB,EAAE,IAAI;IACzBC,oBAAoB,EAAE,CAAC,CAAC;IACxBC,cAAc,EAAE,IAAI;IACpBC,gBAAgB,EAAE,CAAC,CAAC;IACpBC,cAAc,EAAE,CAAC,CAAC;IAClBC,eAAe,EAAE,CAAC;EACtB,CAAC;EACD,SAASM,OAAOA,CAACC,IAAI,EAAE;IACnB,KAAK,IAAIC,GAAG,IAAID,IAAI,EAAE;MAClB,MAAME,UAAU,GAAGD,GAAG,CAACnkB,IAAI;MAC3B,MAAMqkB,SAAS,GAAGN,gBAAgB,CAACK,UAAU,CAAC;MAC9C,IAAIC,SAAS,KAAKlzB,SAAS,EAAE;QACzB4yB,gBAAgB,CAACK,UAAU,CAAC,GAAGD,GAAG,CAAC7M,EAAE;QACrC2M,OAAO,CAACE,GAAG,CAACtC,IAAI,CAAC;QACjBmC,KAAK,GAAGM,YAAY,CAACN,KAAK,EAAEG,GAAG,CAAC;MACpC,CAAC,MACI,IAAIE,SAAS,KAAKF,GAAG,CAAC7M,EAAE,EAAE;QAC3B;QACAiN,OAAO,CAACC,IAAI,CAAE,qBAAoBJ,UAAW,GAAE,CAAC;MACpD;IACJ;EACJ;EACA,IAAIP,UAAU,EAAE;IACZI,OAAO,CAACJ,UAAU,CAAC;EACvB;EACAI,OAAO,CAACH,UAAU,CAAC;EACnB,OAAOE,KAAK;AAChB;AACA,SAASS,qBAAqBA,CAAA,EAAG;EAC7B,IAAIC,mBAAmB,GAAG,EAAE;EAC5B,IAAIC,iBAAiB,GAAG,EAAE;EAC1B,IAAIC,YAAY;EAChB,OAAO,CAACC,YAAY,EAAEf,UAAU,KAAK;IACjC,IAAI,CAACc,YAAY,IAAI,CAACtL,sDAAa,CAACuL,YAAY,EAAEH,mBAAmB,CAAC,IAAI,CAACpL,sDAAa,CAACwK,UAAU,EAAEa,iBAAiB,CAAC,EAAE;MACrHC,YAAY,GAAGhB,gBAAgB,CAACiB,YAAY,EAAEf,UAAU,CAAC;IAC7D;IACAY,mBAAmB,GAAGG,YAAY;IAClCF,iBAAiB,GAAGb,UAAU;IAC9B,OAAOc,YAAY;EACvB,CAAC;AACL;AACA,SAASN,YAAYA,CAACQ,MAAM,EAAEC,MAAM,EAAE;EAClC,OAAO;IACHnD,kBAAkB,EAAEoD,oBAAoB,CAACF,MAAM,CAAClD,kBAAkB,EAAEmD,MAAM,CAACnD,kBAAkB,CAAC;IAC9FE,QAAQ,EAAEgD,MAAM,CAAChD,QAAQ,CAAC/U,MAAM,CAACgY,MAAM,CAACjD,QAAQ,CAAC;IACjDC,cAAc,EAAE+C,MAAM,CAAC/C,cAAc,CAAChV,MAAM,CAACgY,MAAM,CAAChD,cAAc,CAAC;IACnEC,WAAW,EAAE8C,MAAM,CAAC9C,WAAW,CAACjV,MAAM,CAACgY,MAAM,CAAC/C,WAAW,CAAC;IAC1DC,aAAa,EAAE7c,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAAC7C,aAAa,CAAC,EAAE8C,MAAM,CAAC9C,aAAa,CAAC;IAC3FC,oBAAoB,EAAE4C,MAAM,CAAC5C,oBAAoB,CAACnV,MAAM,CAACgY,MAAM,CAAC7C,oBAAoB,CAAC;IACrFC,mBAAmB,EAAE/c,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAAC3C,mBAAmB,CAAC,EAAE4C,MAAM,CAAC5C,mBAAmB,CAAC;IAC7GC,uBAAuB,EAAE0C,MAAM,CAAC1C,uBAAuB,CAACrV,MAAM,CAACgY,MAAM,CAAC3C,uBAAuB,CAAC;IAC9FC,0BAA0B,EAAEyC,MAAM,CAACzC,0BAA0B,CAACtV,MAAM,CAACgY,MAAM,CAAC1C,0BAA0B,CAAC;IACvGC,wBAAwB,EAAEwC,MAAM,CAACxC,wBAAwB,CAACvV,MAAM,CAACgY,MAAM,CAACzC,wBAAwB,CAAC;IACjGC,yBAAyB,EAAEuC,MAAM,CAACvC,yBAAyB,CAACxV,MAAM,CAACgY,MAAM,CAACxC,yBAAyB,CAAC;IACpGC,mBAAmB,EAAEsC,MAAM,CAACtC,mBAAmB,CAACzV,MAAM,CAACgY,MAAM,CAACvC,mBAAmB,CAAC;IAClFC,kBAAkB,EAAEqC,MAAM,CAACrC,kBAAkB,CAAC1V,MAAM,CAACgY,MAAM,CAACtC,kBAAkB,CAAC;IAC/ElpB,KAAK,EAAE6L,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAACvrB,KAAK,CAAC,EAAEwrB,MAAM,CAACxrB,KAAK,CAAC;IACnEmpB,qBAAqB,EAAEoC,MAAM,CAACpC,qBAAqB,CAAC3V,MAAM,CAACgY,MAAM,CAACrC,qBAAqB,CAAC;IACxFC,YAAY,EAAEoC,MAAM,CAACpC,YAAY,IAAImC,MAAM,CAACnC,YAAY;IACxDC,qBAAqB,EAAEkC,MAAM,CAAClC,qBAAqB,CAAC7V,MAAM,CAACgY,MAAM,CAACnC,qBAAqB,CAAC;IACxFC,oBAAoB,EAAEiC,MAAM,CAACjC,oBAAoB,CAAC9V,MAAM,CAACgY,MAAM,CAAClC,oBAAoB,CAAC;IACrFC,qBAAqB,EAAEgC,MAAM,CAAChC,qBAAqB,CAAC/V,MAAM,CAACgY,MAAM,CAACjC,qBAAqB,CAAC;IACxFE,oBAAoB,EAAE8B,MAAM,CAAC9B,oBAAoB,CAACjW,MAAM,CAACgY,MAAM,CAAC/B,oBAAoB,CAAC;IACrFD,qBAAqB,EAAE+B,MAAM,CAAC/B,qBAAqB,CAAChW,MAAM,CAACgY,MAAM,CAAChC,qBAAqB,CAAC;IACxFE,YAAY,EAAE7d,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAAC7B,YAAY,CAAC,EAAE8B,MAAM,CAAC9B,YAAY,CAAC;IACxFC,eAAe,EAAE4B,MAAM,CAAC5B,eAAe,CAACnW,MAAM,CAACgY,MAAM,CAAC7B,eAAe,CAAC;IACtEC,YAAY,EAAE4B,MAAM,CAAC5B,YAAY,IAAI2B,MAAM,CAAC3B,YAAY;IACxDC,cAAc,EAAE0B,MAAM,CAAC1B,cAAc,CAACrW,MAAM,CAACgY,MAAM,CAAC3B,cAAc,CAAC;IACnEC,kBAAkB,EAAE0B,MAAM,CAAC1B,kBAAkB,IAAIyB,MAAM,CAACzB,kBAAkB;IAC1EzpB,WAAW,EAAEkrB,MAAM,CAAClrB,WAAW,IAAImrB,MAAM,CAACnrB,WAAW;IACrD0pB,mBAAmB,EAAEwB,MAAM,CAACxB,mBAAmB,IAAIyB,MAAM,CAACzB,mBAAmB;IAC7EC,oBAAoB,EAAEne,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAACvB,oBAAoB,CAAC,EAAEwB,MAAM,CAACxB,oBAAoB,CAAC;IAChHC,cAAc,EAAEuB,MAAM,CAACvB,cAAc,IAAIsB,MAAM,CAACtB,cAAc;IAC9DC,gBAAgB,EAAEre,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAACrB,gBAAgB,CAAC,EAAEsB,MAAM,CAACtB,gBAAgB,CAAC;IACpGC,cAAc,EAAEte,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAACpB,cAAc,CAAC,EAAEqB,MAAM,CAACrB,cAAc,CAAC;IAC9FC,eAAe,EAAEve,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEkF,MAAM,CAACnB,eAAe,CAAC,EAAEoB,MAAM,CAACpB,eAAe;EACpG,CAAC;AACL;AACA,SAASqB,oBAAoBA,CAACC,KAAK,EAAEC,KAAK,EAAE;EACxC,IAAID,KAAK,KAAK9zB,SAAS,EAAE;IACrB,OAAO+zB,KAAK;EAChB;EACA,IAAIA,KAAK,KAAK/zB,SAAS,EAAE;IACrB,OAAO8zB,KAAK;EAChB;EACA,OAAO,IAAItU,IAAI,CAACwU,IAAI,CAACC,GAAG,CAACH,KAAK,CAACrU,OAAO,CAAC,CAAC,EAAEsU,KAAK,CAACtU,OAAO,CAAC,CAAC,CAAC,CAAC;AAC/D;AAEA,MAAMyU,aAAa,SAAS9L,kDAAK,CAAC;AAElC8L,aAAa,CAACplB,SAAS,CAACqlB,OAAO,GAAG;EAC9BC,IAAI,EAAE,mBAAmB;EACzBC,eAAe,EAAE,gBAAgB;EACjCC,WAAW,EAAE,iBAAiB;EAC9BC,MAAM,EAAE,6BAA6B;EACrCC,YAAY,EAAE;AAClB,CAAC;AACDN,aAAa,CAACplB,SAAS,CAAC2lB,aAAa,GAAG,SAAS;AACjDP,aAAa,CAACplB,SAAS,CAAC4lB,WAAW,GAAG;EAClC7tB,KAAK,EAAE,WAAW;EAClB2mB,IAAI,EAAE,sBAAsB;EAC5BljB,IAAI,EAAE,uBAAuB;EAC7BmjB,QAAQ,EAAE,uBAAuB;EACjCC,QAAQ,EAAE;AACd,CAAC;AACDwG,aAAa,CAACplB,SAAS,CAAC6lB,cAAc,GAAG;EACrCnH,IAAI,EAAE,uBAAuB;EAC7BljB,IAAI,EAAE,sBAAsB;EAC5BmjB,QAAQ,EAAE,wBAAwB;EAClCC,QAAQ,EAAE;AACd,CAAC;AACDwG,aAAa,CAACplB,SAAS,CAAC8lB,kBAAkB,GAAG,aAAa,CAAC,CAAC;AAC5DV,aAAa,CAACplB,SAAS,CAAC+lB,8BAA8B,GAAG,MAAM;AAC/DX,aAAa,CAACplB,SAAS,CAACgmB,kBAAkB,GAAG,UAAU;AAEvD,SAASC,eAAeA,CAACC,cAAc,EAAEC,eAAe,EAAE;EACtD,IAAIC,IAAI,GAAG,CAAC,CAAC;EACb,IAAIC,QAAQ;EACZ,KAAKA,QAAQ,IAAIH,cAAc,EAAE;IAC7BI,aAAa,CAACD,QAAQ,EAAED,IAAI,EAAEF,cAAc,EAAEC,eAAe,CAAC;EAClE;EACA,KAAKE,QAAQ,IAAIF,eAAe,EAAE;IAC9BG,aAAa,CAACD,QAAQ,EAAED,IAAI,EAAEF,cAAc,EAAEC,eAAe,CAAC;EAClE;EACA,OAAOC,IAAI;AACf;AACA,SAASE,aAAaA,CAACD,QAAQ,EAAED,IAAI,EAAEF,cAAc,EAAEC,eAAe,EAAE;EACpE,IAAIC,IAAI,CAACC,QAAQ,CAAC,EAAE;IAChB,OAAOD,IAAI,CAACC,QAAQ,CAAC;EACzB;EACA,IAAIE,OAAO,GAAGC,YAAY,CAACH,QAAQ,EAAED,IAAI,EAAEF,cAAc,EAAEC,eAAe,CAAC;EAC3E,IAAII,OAAO,EAAE;IACTH,IAAI,CAACC,QAAQ,CAAC,GAAGE,OAAO;EAC5B;EACA,OAAOA,OAAO;AAClB;AACA,SAASC,YAAYA,CAACH,QAAQ,EAAED,IAAI,EAAEF,cAAc,EAAEC,eAAe,EAAE;EACnE,IAAIM,aAAa,GAAGP,cAAc,CAACG,QAAQ,CAAC;EAC5C,IAAIK,cAAc,GAAGP,eAAe,CAACE,QAAQ,CAAC;EAC9C,IAAIM,SAAS,GAAI5mB,IAAI,IAAO0mB,aAAa,IAAIA,aAAa,CAAC1mB,IAAI,CAAC,KAAK,IAAI,GAAI0mB,aAAa,CAAC1mB,IAAI,CAAC,GAC1F2mB,cAAc,IAAIA,cAAc,CAAC3mB,IAAI,CAAC,KAAK,IAAI,GAAI2mB,cAAc,CAAC3mB,IAAI,CAAC,GAAG,IAAM;EACtF,IAAI6mB,YAAY,GAAGD,SAAS,CAAC,WAAW,CAAC;EACzC,IAAIE,SAAS,GAAGF,SAAS,CAAC,WAAW,CAAC;EACtC,IAAIG,QAAQ,GAAG,IAAI;EACnB,IAAID,SAAS,EAAE;IACX,IAAIA,SAAS,KAAKR,QAAQ,EAAE;MACxB,MAAM,IAAIU,KAAK,CAAC,uDAAuD,CAAC;IAC5E;IACAD,QAAQ,GAAGR,aAAa,CAACO,SAAS,EAAET,IAAI,EAAEF,cAAc,EAAEC,eAAe,CAAC;EAC9E;EACA,IAAI,CAACS,YAAY,IAAIE,QAAQ,EAAE;IAC3BF,YAAY,GAAGE,QAAQ,CAACj1B,SAAS;EACrC;EACA,IAAI,CAAC+0B,YAAY,EAAE;IACf,OAAO,IAAI,CAAC,CAAC;EACjB;;EACA,OAAO;IACHpyB,IAAI,EAAE6xB,QAAQ;IACdx0B,SAAS,EAAE+0B,YAAY;IACvBI,QAAQ,EAAE7hB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAGmH,QAAQ,GAAGA,QAAQ,CAACE,QAAQ,GAAG,CAAC,CAAE,CAAC,EAAGP,aAAa,GAAGA,aAAa,CAACQ,UAAU,GAAG,CAAC,CAAE,CAAC;IAChIC,SAAS,EAAE/hB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAGmH,QAAQ,GAAGA,QAAQ,CAACI,SAAS,GAAG,CAAC,CAAE,CAAC,EAAGR,cAAc,GAAGA,cAAc,CAACO,UAAU,GAAG,CAAC,CAAE;EACvI,CAAC;AACL;AAEA,SAASE,gBAAgBA,CAACpT,MAAM,EAAE;EAC9B,OAAOnD,sDAAO,CAACmD,MAAM,EAAEqT,eAAe,CAAC;AAC3C;AACA,SAASA,eAAeA,CAAC3W,KAAK,EAAE;EAC5B,IAAIwW,UAAU,GAAG,OAAOxW,KAAK,KAAK,UAAU,GACxC;IAAE5e,SAAS,EAAE4e;EAAM,CAAC,GACpBA,KAAK;EACT,IAAI;IAAE5e;EAAU,CAAC,GAAGo1B,UAAU;EAC9B,IAAIA,UAAU,CAACI,OAAO,EAAE;IACpB;IACAx1B,SAAS,GAAGy1B,uBAAuB,CAACL,UAAU,CAAC;EACnD,CAAC,MACI,IAAIp1B,SAAS,IAAI,EAAEA,SAAS,CAACmO,SAAS,YAAYuZ,kDAAa,CAAC,EAAE;IACnE;IACA;IACA1nB,SAAS,GAAGy1B,uBAAuB,CAACniB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEsH,UAAU,CAAC,EAAE;MAAEI,OAAO,EAAEx1B;IAAU,CAAC,CAAC,CAAC;EAC7G;EACA,OAAO;IACHg1B,SAAS,EAAEI,UAAU,CAACzyB,IAAI;IAC1B3C,SAAS,EAAEA,SAAS;IACpBo1B,UAAU,CAAE;EAChB,CAAC;AACL;;AACA,SAASK,uBAAuBA,CAACxqB,OAAO,EAAE;EACtC,OAAQyqB,SAAS,IAAM3qB,qDAAa,CAAC4c,kDAAe,CAACpN,QAAQ,EAAE,IAAI,EAAG1I,OAAO,IAAM9G,qDAAa,CAAC6c,kDAAgB,EAAE;IAAE1J,KAAK,EAAE,KAAK;IAAE/B,SAAS,EAAE0L,sDAAmB,CAAChW,OAAO,CAAC8jB,QAAQ,CAAC;IAAErZ,WAAW,EAAEhJ,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE4H,SAAS,CAAC,EAAE;MAAEE,gBAAgB,EAAE/jB,OAAO,CAAC5G,OAAO,CAAC2qB;IAAiB,CAAC,CAAC;IAAEC,aAAa,EAAEx2B,SAAS;IAAEy2B,eAAe,EAAE7qB,OAAO,CAACuqB,OAAO;IAAEO,kBAAkB,EAAE9qB,OAAO,CAAC+qB,UAAU;IAAEC,QAAQ,EAAEhrB,OAAO,CAACgrB,QAAQ;IAAEC,WAAW,EAAEjrB,OAAO,CAACirB;EAAY,CAAC,CAAE,CAAE;AACjd;AAEA,SAASC,cAAcA,CAACC,aAAa,EAAEC,eAAe,EAAEC,sBAAsB,EAAEC,cAAc,EAAE;EAC5F,IAAIlC,cAAc,GAAGiB,gBAAgB,CAACc,aAAa,CAAC;EACpD,IAAI9B,eAAe,GAAGgB,gBAAgB,CAACe,eAAe,CAAC5uB,KAAK,CAAC;EAC7D,IAAI+uB,QAAQ,GAAGpC,eAAe,CAACC,cAAc,EAAEC,eAAe,CAAC;EAC/D,OAAOvV,sDAAO,CAACyX,QAAQ,EAAG9B,OAAO,IAAK+B,aAAa,CAAC/B,OAAO,EAAEJ,eAAe,EAAE+B,eAAe,EAAEC,sBAAsB,EAAEC,cAAc,CAAC,CAAC;AAC3I;AACA,SAASE,aAAaA,CAAC/B,OAAO,EAAEJ,eAAe,EAAE+B,eAAe,EAAEC,sBAAsB,EAAEC,cAAc,EAAE;EACtG,IAAIG,aAAa,GAAGhC,OAAO,CAACW,SAAS,CAACsB,QAAQ,IAC1CjC,OAAO,CAACS,QAAQ,CAACwB,QAAQ,IACzBL,sBAAsB,CAACK,QAAQ,IAC/BN,eAAe,CAACM,QAAQ;EAC5B,IAAIA,QAAQ,GAAG,IAAI;EACnB,IAAIC,YAAY,GAAG,EAAE;EACrB,IAAIC,UAAU,GAAG,EAAE;EACnB,IAAIC,mBAAmB,GAAG,CAAC,CAAC;EAC5B,IAAIJ,aAAa,EAAE;IACfC,QAAQ,GAAGI,oBAAoB,CAACL,aAAa,CAAC;IAC9C,IAAIC,QAAQ,EAAE;MAAE;MACZ,IAAIK,KAAK,GAAGlP,sDAA2B,CAAC6O,QAAQ,CAAC;MACjDC,YAAY,GAAGI,KAAK,CAAChJ,IAAI;MACzB,IAAIgJ,KAAK,CAACtjB,KAAK,KAAK,CAAC,EAAE;QACnBmjB,UAAU,GAAGD,YAAY;QACzBE,mBAAmB,GAAGxC,eAAe,CAACsC,YAAY,CAAC,GAAGtC,eAAe,CAACsC,YAAY,CAAC,CAACxB,UAAU,GAAG,CAAC,CAAC;MACvG;IACJ;EACJ;EACA,IAAI6B,eAAe,GAAIC,aAAa,IAAK;IACrC,IAAIC,aAAa,GAAGD,aAAa,CAACvvB,UAAU,IAAI,CAAC,CAAC;IAClD,IAAIyvB,aAAa,GAAG1C,OAAO,CAACS,QAAQ,CAACiC,aAAa;IAClD,IAAIA,aAAa,IAAI,IAAI,IAAID,aAAa,CAACC,aAAa,CAAC,IAAI,IAAI,EAAE;MAC/D,OAAOD,aAAa,CAACC,aAAa,CAAC;IACvC;IACA,IAAID,aAAa,CAACzC,OAAO,CAAC/xB,IAAI,CAAC,IAAI,IAAI,EAAE;MACrC,OAAOw0B,aAAa,CAACzC,OAAO,CAAC/xB,IAAI,CAAC;IACtC;IACA,IAAIw0B,aAAa,CAACN,UAAU,CAAC,IAAI,IAAI,EAAE;MACnC,OAAOM,aAAa,CAACN,UAAU,CAAC;IACpC;IACA,OAAO,IAAI;EACf,CAAC;EACD,IAAIQ,gBAAgB,GAAIH,aAAa,IAAK;IACtC,IAAInJ,WAAW,GAAGmJ,aAAa,CAACnJ,WAAW,IAAI,CAAC,CAAC;IACjD,IAAIuJ,SAAS,GAAG5C,OAAO,CAACS,QAAQ,CAACiC,aAAa,CAAC,CAAC;IAChD,IAAIE,SAAS,IAAI,IAAI,IAAIvJ,WAAW,CAACuJ,SAAS,CAAC,IAAI,IAAI,EAAE;MACrD,OAAOvJ,WAAW,CAACuJ,SAAS,CAAC;IACjC;IACA,IAAIvJ,WAAW,CAAC2G,OAAO,CAAC/xB,IAAI,CAAC,IAAI,IAAI,EAAE;MACnC,OAAOorB,WAAW,CAAC2G,OAAO,CAAC/xB,IAAI,CAAC;IACpC;IACA,IAAIorB,WAAW,CAAC8I,UAAU,CAAC,IAAI,IAAI,EAAE;MACjC,OAAO9I,WAAW,CAAC8I,UAAU,CAAC;IAClC;IACA,OAAO,IAAI;EACf,CAAC;EACD,OAAO;IACHl0B,IAAI,EAAE+xB,OAAO,CAAC/xB,IAAI;IAClB3C,SAAS,EAAE00B,OAAO,CAAC10B,SAAS;IAC5B22B,QAAQ;IACRC,YAAY;IACZC,UAAU;IACVU,cAAc,EAAE7C,OAAO,CAACS,QAAQ;IAChCkB,eAAe,EAAE/iB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEgJ,mBAAmB,CAAC,EAAEpC,OAAO,CAACW,SAAS,CAAC;IACzFmC,kBAAkB,EAAEP,eAAe,CAACX,sBAAsB,CAAC,IACvDW,eAAe,CAACZ,eAAe,CAAC;IAAI;IACpC3B,OAAO,CAACW,SAAS,CAAC1tB,UAAU;IAChC8vB,iBAAiB,EAAER,eAAe,CAACV,cAAc,CAAC,IAC9C7B,OAAO,CAACS,QAAQ,CAACxtB,UAAU,IAC3BsvB,eAAe,CAACjP,kDAAoB,CAAC,IACrC0M,OAAO,CAAC/xB,IAAI;IAChB;IACA+0B,mBAAmB,EAAEL,gBAAgB,CAACf,sBAAsB,CAAC,IACzDe,gBAAgB,CAAChB,eAAe,CAAC,IACjC3B,OAAO,CAACW,SAAS,CAACsC,UAAU;IAChCC,kBAAkB,EAAEP,gBAAgB,CAACd,cAAc,CAAC,IAChD7B,OAAO,CAACS,QAAQ,CAACwC,UAAU,IAC3BN,gBAAgB,CAACrP,kDAAoB;IACzC;EACJ,CAAC;AACL;AACA;AACA,IAAI6P,gBAAgB,GAAG,CAAC,CAAC;AACzB,SAASd,oBAAoBA,CAACL,aAAa,EAAE;EACzC,IAAIoB,IAAI,GAAGC,IAAI,CAACC,SAAS,CAACtB,aAAa,CAAC;EACxC,IAAIuB,GAAG,GAAGJ,gBAAgB,CAACC,IAAI,CAAC;EAChC,IAAIG,GAAG,KAAK54B,SAAS,EAAE;IACnB44B,GAAG,GAAGlQ,sDAAc,CAAC2O,aAAa,CAAC;IACnCmB,gBAAgB,CAACC,IAAI,CAAC,GAAGG,GAAG;EAChC;EACA,OAAOA,GAAG;AACd;AAEA,SAASC,cAAcA,CAAC1D,QAAQ,EAAE2D,MAAM,EAAE;EACtC,QAAQA,MAAM,CAACx1B,IAAI;IACf,KAAK,kBAAkB;MACnB6xB,QAAQ,GAAG2D,MAAM,CAAC3D,QAAQ;EAClC;EACA,OAAOA,QAAQ;AACnB;AAEA,SAAS4D,iBAAiBA,CAACC,WAAW,EAAEF,MAAM,EAAE;EAC5C,QAAQA,MAAM,CAACx1B,IAAI;IACf,KAAK,aAAa;MACd,OAAOw1B,MAAM,CAACG,UAAU;IAC5B;MACI,OAAOD,WAAW;EAC1B;AACJ;AACA;AACA;AACA,SAASE,cAAcA,CAACttB,OAAO,EAAEutB,OAAO,EAAEC,UAAU,EAAE;EAClD,IAAIC,gBAAgB,GAAGztB,OAAO,CAAC0tB,WAAW;EAC1C;EACA,IAAID,gBAAgB,IAAI,IAAI,EAAE;IAC1B,OAAOF,OAAO,CAACI,YAAY,CAACF,gBAAgB,CAAC;EACjD;EACA,OAAOD,UAAU,CAACI,aAAa,CAAC,CAAC;AACrC;AAEA,SAASC,4BAA4BA,CAACxC,sBAAsB,EAAE6B,MAAM,EAAE;EAClE,QAAQA,MAAM,CAACx1B,IAAI;IACf,KAAK,YAAY;MACb,OAAO2Q,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEwI,sBAAsB,CAAC,EAAE;QAAE,CAAC6B,MAAM,CAACtU,UAAU,GAAGsU,MAAM,CAACY;MAAe,CAAC,CAAC;IACnH;MACI,OAAOzC,sBAAsB;EACrC;AACJ;AAEA,SAAS0C,iBAAiBA,CAACC,kBAAkB,EAAEd,MAAM,EAAEE,WAAW,EAAEa,oBAAoB,EAAE;EACtF,IAAIC,EAAE;EACN,QAAQhB,MAAM,CAACx1B,IAAI;IACf,KAAK,kBAAkB;MACnB,OAAOu2B,oBAAoB,CAACE,KAAK,CAACjB,MAAM,CAACG,UAAU,IAAID,WAAW,CAAC;IACvE,KAAK,aAAa;MACd,OAAOa,oBAAoB,CAACE,KAAK,CAACjB,MAAM,CAACG,UAAU,CAAC;IACxD,KAAK,MAAM;MACPa,EAAE,GAAGD,oBAAoB,CAACG,SAAS,CAACJ,kBAAkB,EAAEZ,WAAW,CAAC;MACpE,IAAIc,EAAE,CAACG,OAAO,EAAE;QACZ,OAAOH,EAAE;MACb;MACA;IACJ,KAAK,MAAM;MACPA,EAAE,GAAGD,oBAAoB,CAACK,SAAS,CAACN,kBAAkB,EAAEZ,WAAW,CAAC;MACpE,IAAIc,EAAE,CAACG,OAAO,EAAE;QACZ,OAAOH,EAAE;MACb;MACA;EACR;EACA,OAAOF,kBAAkB;AAC7B;AAEA,SAASO,gBAAgBA,CAAClyB,eAAe,EAAEmyB,WAAW,EAAE5nB,OAAO,EAAE;EAC7D,IAAI6nB,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAW,GAAG,IAAI;EAC9D,OAAOC,UAAU,CAAC,CAAC,CAAC,EAAEC,mBAAmB,CAACtyB,eAAe,EAAEuK,OAAO,CAAC,EAAE6nB,WAAW,EAAE7nB,OAAO,CAAC;AAC9F;AACA,SAASgoB,kBAAkBA,CAACtb,YAAY,EAAE4Z,MAAM,EAAEsB,WAAW,EAAE5nB,OAAO,EAAE;EACpE,IAAI6nB,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAW,GAAG,IAAI,CAAC,CAAC;EAChE,QAAQvB,MAAM,CAACx1B,IAAI;IACf,KAAK,mBAAmB;MAAE;MACtB,OAAOg3B,UAAU,CAACpb,YAAY,EAAE4Z,MAAM,CAAC2B,OAAO,EAAEJ,WAAW,EAAE7nB,OAAO,CAAC;IACzE,KAAK,qBAAqB;MACtB,OAAOkoB,YAAY,CAACxb,YAAY,EAAE4Z,MAAM,CAAC6B,QAAQ,CAAC;IACtD,KAAK,MAAM,CAAC,CAAC;IACb,KAAK,MAAM;IACX,KAAK,aAAa;IAClB,KAAK,kBAAkB;MACnB,IAAIP,WAAW,EAAE;QACb,OAAOQ,iBAAiB,CAAC1b,YAAY,EAAEmb,WAAW,EAAE7nB,OAAO,CAAC;MAChE;MACA,OAAO0M,YAAY;IACvB,KAAK,qBAAqB;MACtB,OAAO2b,iBAAiB,CAAC3b,YAAY,EAAE4Z,MAAM,CAACgC,SAAS;MAAG;MACtDlS,sDAAW,CAACkQ,MAAM,CAACgC,SAAS,CAAC,GAC7BC,oBAAoB,CAAC7b,YAAY,EAAE1M,OAAO,CAAC,EAAE6nB,WAAW,EAAEvB,MAAM,CAACkC,SAAS,IAAI,KAAK,EAAExoB,OAAO,CAAC;IACrG,KAAK,gBAAgB;IACrB,KAAK,qBAAqB;MACtB,OAAOyoB,eAAe,CAAC/b,YAAY,EAAE4Z,MAAM,CAAC6B,QAAQ,EAAE7B,MAAM,CAACoC,OAAO,EAAEpC,MAAM,CAACqC,UAAU,CAAC;IAC5F,KAAK,0BAA0B;MAC3B,OAAO,CAAC,CAAC;IACb;MACI,OAAOjc,YAAY;EAC3B;AACJ;AACA,SAASkc,6BAA6BA,CAAClc,YAAY,EAAEkb,WAAW,EAAE5nB,OAAO,EAAE;EACvE,IAAI6nB,WAAW,GAAGD,WAAW,GAAGA,WAAW,CAACC,WAAW,GAAG,IAAI,CAAC,CAAC;EAChE,OAAOQ,iBAAiB,CAAC3b,YAAY,EAAE6b,oBAAoB,CAAC7b,YAAY,EAAE1M,OAAO,CAAC,EAAE6nB,WAAW,EAAE,IAAI,EAAE7nB,OAAO,CAAC;AACnH;AACA,SAAS6oB,0BAA0BA,CAACnc,YAAY,EAAE;EAC9C,KAAK,IAAIyb,QAAQ,IAAIzb,YAAY,EAAE;IAC/B,IAAIA,YAAY,CAACyb,QAAQ,CAAC,CAACW,UAAU,EAAE;MACnC,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAChB;AACA,SAAShB,UAAUA,CAACiB,eAAe,EAAEd,OAAO,EAAEU,UAAU,EAAE3oB,OAAO,EAAE;EAC/D,IAAI0iB,IAAI,GAAG,CAAC,CAAC;EACb,KAAK,IAAIlV,MAAM,IAAIya,OAAO,EAAE;IACxBvF,IAAI,CAAClV,MAAM,CAAC2a,QAAQ,CAAC,GAAG3a,MAAM;EAClC;EACA,IAAImb,UAAU,EAAE;IACZjG,IAAI,GAAG0F,iBAAiB,CAAC1F,IAAI,EAAEiG,UAAU,EAAE3oB,OAAO,CAAC;EACvD;EACA,OAAOyB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE8M,eAAe,CAAC,EAAErG,IAAI,CAAC;AAClE;AACA,SAASwF,YAAYA,CAACa,eAAe,EAAEZ,QAAQ,EAAE;EAC7C,OAAO9R,sDAAU,CAAC0S,eAAe,EAAGC,WAAW,IAAKA,WAAW,CAACb,QAAQ,KAAKA,QAAQ,CAAC;AAC1F;AACA,SAASC,iBAAiBA,CAACa,UAAU,EAAEN,UAAU,EAAE3oB,OAAO,EAAE;EACxD,OAAOqoB,iBAAiB,CAACY,UAAU,EAAE5S,sDAAU,CAAC4S,UAAU,EAAGD,WAAW,IAAKE,aAAa,CAACF,WAAW,EAAEL,UAAU,EAAE3oB,OAAO,CAAC,CAAC,EAAE2oB,UAAU,EAAE,KAAK,EAAE3oB,OAAO,CAAC;AAC9J;AACA,SAASkpB,aAAaA,CAACF,WAAW,EAAEL,UAAU,EAAE3oB,OAAO,EAAE;EACrD,IAAI,CAACmpB,mBAAmB,CAACH,WAAW,EAAEhpB,OAAO,CAAC,EAAE;IAC5C,OAAO,CAACgpB,WAAW,CAACI,aAAa;EACrC;EACA,OAAO,CAACppB,OAAO,CAAC5G,OAAO,CAACiwB,YAAY,IAChC,CAACL,WAAW,CAACL,UAAU,IACvBK,WAAW,CAACF,UAAU;EAAI;EAC1BH,UAAU,CAACxyB,KAAK,GAAG6yB,WAAW,CAACL,UAAU,CAACxyB,KAAK,IAC/CwyB,UAAU,CAACvyB,GAAG,GAAG4yB,WAAW,CAACL,UAAU,CAACvyB,GAAG;AACnD;AACA,SAASiyB,iBAAiBA,CAACiB,WAAW,EAAEC,YAAY,EAAEZ,UAAU,EAAEH,SAAS,EAAExoB,OAAO,EAAE;EAClF,IAAIwpB,WAAW,GAAG,CAAC,CAAC;EACpB,KAAK,IAAIrB,QAAQ,IAAImB,WAAW,EAAE;IAC9B,IAAI9b,MAAM,GAAG8b,WAAW,CAACnB,QAAQ,CAAC;IAClC,IAAIoB,YAAY,CAACpB,QAAQ,CAAC,EAAE;MACxBqB,WAAW,CAACrB,QAAQ,CAAC,GAAGsB,WAAW,CAACjc,MAAM,EAAEmb,UAAU,EAAEH,SAAS,EAAExoB,OAAO,CAAC;IAC/E,CAAC,MACI;MACDwpB,WAAW,CAACrB,QAAQ,CAAC,GAAG3a,MAAM;IAClC;EACJ;EACA,OAAOgc,WAAW;AACtB;AACA,SAASC,WAAWA,CAACT,WAAW,EAAEL,UAAU,EAAEH,SAAS,EAAExoB,OAAO,EAAE;EAC9D,IAAI;IAAE5G,OAAO;IAAEswB;EAAY,CAAC,GAAG1pB,OAAO;EACtC,IAAI2pB,SAAS,GAAG3pB,OAAO,CAAC4pB,WAAW,CAACrK,eAAe,CAACyJ,WAAW,CAACa,WAAW,CAAC;EAC5E,IAAInB,OAAO,GAAGhT,sDAAI,CAAC,CAAC;EACpBiU,SAAS,CAACG,KAAK,CAAC;IACZd,WAAW;IACXe,KAAK,EAAEpB,UAAU;IACjBH,SAAS;IACTxoB;EACJ,CAAC,EAAGomB,GAAG,IAAK;IACR,IAAI;MAAE4D;IAAU,CAAC,GAAG5D,GAAG;IACvB,IAAIhtB,OAAO,CAAC6wB,kBAAkB,EAAE;MAC5BD,SAAS,GAAG5wB,OAAO,CAAC6wB,kBAAkB,CAAChuB,IAAI,CAACytB,WAAW,EAAEM,SAAS,EAAE5D,GAAG,CAAC8D,QAAQ,CAAC,IAAIF,SAAS;IAClG;IACA,IAAIhB,WAAW,CAACmB,OAAO,EAAE;MACrBH,SAAS,GAAGhB,WAAW,CAACmB,OAAO,CAACluB,IAAI,CAACytB,WAAW,EAAEM,SAAS,EAAE5D,GAAG,CAAC8D,QAAQ,CAAC,IAAIF,SAAS;IAC3F;IACAhqB,OAAO,CAACoqB,QAAQ,CAAC;MACbt5B,IAAI,EAAE,gBAAgB;MACtBq3B,QAAQ,EAAEa,WAAW,CAACb,QAAQ;MAC9BO,OAAO;MACPC,UAAU;MACVqB;IACJ,CAAC,CAAC;EACN,CAAC,EAAGK,KAAK,IAAK;IACV,IAAIC,YAAY,GAAG,KAAK;IACxB,IAAIlxB,OAAO,CAACmxB,kBAAkB,EAAE;MAC5BnxB,OAAO,CAACmxB,kBAAkB,CAACtuB,IAAI,CAACytB,WAAW,EAAEW,KAAK,CAAC;MACnDC,YAAY,GAAG,IAAI;IACvB;IACA,IAAItB,WAAW,CAACwB,OAAO,EAAE;MACrBxB,WAAW,CAACwB,OAAO,CAACH,KAAK,CAAC;MAC1BC,YAAY,GAAG,IAAI;IACvB;IACA,IAAI,CAACA,YAAY,EAAE;MACf1J,OAAO,CAACC,IAAI,CAACwJ,KAAK,CAACI,OAAO,EAAEJ,KAAK,CAAC;IACtC;IACArqB,OAAO,CAACoqB,QAAQ,CAAC;MACbt5B,IAAI,EAAE,qBAAqB;MAC3Bq3B,QAAQ,EAAEa,WAAW,CAACb,QAAQ;MAC9BO,OAAO;MACPC,UAAU;MACV0B;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;EACF,OAAO5oB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE+M,WAAW,CAAC,EAAE;IAAEF,UAAU,EAAE,IAAI;IAAEM,aAAa,EAAEV;EAAQ,CAAC,CAAC;AACtG;AACA,SAASD,eAAeA,CAACQ,UAAU,EAAEd,QAAQ,EAAEO,OAAO,EAAEC,UAAU,EAAE;EAChE,IAAIK,WAAW,GAAGC,UAAU,CAACd,QAAQ,CAAC;EACtC,IAAIa,WAAW;EAAI;EACfN,OAAO,KAAKM,WAAW,CAACI,aAAa,EAAE;IACvC,OAAO3nB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEgN,UAAU,CAAC,EAAE;MAAE,CAACd,QAAQ,GAAG1mB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE+M,WAAW,CAAC,EAAE;QAAEF,UAAU,EAAE,KAAK;QAAEH;MAAW,CAAC;IAAE,CAAC,CAAC;EACzJ;EACA,OAAOM,UAAU;AACrB;AACA,SAASV,oBAAoBA,CAAC7b,YAAY,EAAE1M,OAAO,EAAE;EACjD,OAAOqW,sDAAU,CAAC3J,YAAY,EAAGsc,WAAW,IAAKG,mBAAmB,CAACH,WAAW,EAAEhpB,OAAO,CAAC,CAAC;AAC/F;AACA,SAAS+nB,mBAAmBA,CAACxE,UAAU,EAAEvjB,OAAO,EAAE;EAC9C,IAAI0qB,QAAQ,GAAGpU,sDAAwB,CAACtW,OAAO,CAAC;EAChD,IAAI2qB,UAAU,GAAG,EAAE,CAACvhB,MAAM,CAACma,UAAU,CAAC7W,YAAY,IAAI,EAAE,CAAC;EACzD,IAAIub,OAAO,GAAG,EAAE,CAAC,CAAC;EAClB,IAAI1E,UAAU,CAACqH,aAAa,EAAE;IAC1BD,UAAU,CAACE,OAAO,CAACtH,UAAU,CAACqH,aAAa,CAAC;EAChD;EACA,IAAIrH,UAAU,CAACrtB,MAAM,EAAE;IACnBy0B,UAAU,CAACE,OAAO,CAACtH,UAAU,CAACrtB,MAAM,CAAC;EACzC;EACA,KAAK,IAAI40B,SAAS,IAAIH,UAAU,EAAE;IAC9B,IAAInd,MAAM,GAAG+I,sDAAgB,CAACuU,SAAS,EAAE9qB,OAAO,EAAE0qB,QAAQ,CAAC;IAC3D,IAAIld,MAAM,EAAE;MACRya,OAAO,CAAC/oB,IAAI,CAACsO,MAAM,CAAC;IACxB;EACJ;EACA,OAAOya,OAAO;AAClB;AACA,SAASkB,mBAAmBA,CAACH,WAAW,EAAEhpB,OAAO,EAAE;EAC/C,IAAIugB,IAAI,GAAGvgB,OAAO,CAAC4pB,WAAW,CAACrK,eAAe;EAC9C,OAAO,CAACgB,IAAI,CAACyI,WAAW,CAACa,WAAW,CAAC,CAACkB,WAAW;AACrD;AAEA,SAASC,mBAAmBA,CAACC,gBAAgB,EAAE3E,MAAM,EAAE;EACnD,QAAQA,MAAM,CAACx1B,IAAI;IACf,KAAK,gBAAgB;MACjB,OAAO,IAAI;IACf,KAAK,cAAc;MACf,OAAOw1B,MAAM,CAAC4E,SAAS;IAC3B;MACI,OAAOD,gBAAgB;EAC/B;AACJ;AAEA,SAASE,mBAAmBA,CAACC,iBAAiB,EAAE9E,MAAM,EAAE;EACpD,QAAQA,MAAM,CAACx1B,IAAI;IACf,KAAK,gBAAgB;MACjB,OAAO,EAAE;IACb,KAAK,cAAc;MACf,OAAOw1B,MAAM,CAAC+E,eAAe;IACjC;MACI,OAAOD,iBAAiB;EAChC;AACJ;AAEA,SAASE,eAAeA,CAACC,WAAW,EAAEjF,MAAM,EAAE;EAC1C,IAAIkF,OAAO;EACX,QAAQlF,MAAM,CAACx1B,IAAI;IACf,KAAK,kBAAkB;MACnB,OAAO,IAAI;IACf,KAAK,gBAAgB;MACjB06B,OAAO,GAAGlF,MAAM,CAAC5pB,KAAK;MACtB,OAAO;QACH+uB,cAAc,EAAED,OAAO,CAACC,cAAc;QACtCC,aAAa,EAAEF,OAAO,CAACE,aAAa;QACpCC,OAAO,EAAEH,OAAO,CAACG;MACrB,CAAC;IACL;MACI,OAAOJ,WAAW;EAC1B;AACJ;AAEA,SAASK,iBAAiBA,CAACC,aAAa,EAAEvF,MAAM,EAAE;EAC9C,IAAIwF,SAAS;EACb,QAAQxF,MAAM,CAACx1B,IAAI;IACf,KAAK,oBAAoB;MACrB,OAAO,IAAI;IACf,KAAK,kBAAkB;MACnBg7B,SAAS,GAAGxF,MAAM,CAAC5pB,KAAK;MACxB,OAAO;QACH+uB,cAAc,EAAEK,SAAS,CAACL,cAAc;QACxCC,aAAa,EAAEI,SAAS,CAACJ,aAAa;QACtCC,OAAO,EAAEG,SAAS,CAACH;MACvB,CAAC;IACL;MACI,OAAOE,aAAa;EAC5B;AACJ;AAEA,SAASE,aAAaA,CAACt2B,eAAe,EAAEu2B,uBAAuB,EAAEC,KAAK,EAAEC,SAAS,EAAExC,WAAW,EAAE;EAC5F,IAAIyC,MAAM,GAAG12B,eAAe,CAACkC,aAAa,GAAGy0B,YAAY,CAAC32B,eAAe,CAACkC,aAAa,EAAElC,eAAe,EAAEu2B,uBAAuB,EAAEC,KAAK,EAAEC,SAAS,EAAExC,WAAW,CAAC,GAAG,IAAI;EACxK,IAAI2C,MAAM,GAAG52B,eAAe,CAACgX,aAAa,GAAG2f,YAAY,CAAC32B,eAAe,CAACgX,aAAa,EAAEhX,eAAe,EAAEu2B,uBAAuB,EAAEC,KAAK,EAAEC,SAAS,EAAExC,WAAW,CAAC,GAAG,IAAI;EACxK,OAAO;IAAEyC,MAAM;IAAEE;EAAO,CAAC;AAC7B;AACA,SAASD,YAAYA,CAACE,cAAc,EAAE72B,eAAe,EAAEu2B,uBAAuB,EAAEC,KAAK,EAAEC,SAAS,EAAExC,WAAW,EAAE;EAC3G,IAAI6C,cAAc,GAAG,CAAC,CAAC;EACvB,IAAIC,gBAAgB,GAAG,EAAE;EACzB,IAAIC,QAAQ,GAAG,KAAK;EACpB,KAAK,IAAIC,WAAW,IAAIJ,cAAc,EAAE;IACpC,IAAIK,UAAU,GAAGL,cAAc,CAACI,WAAW,CAAC;IAC5C,IAAIE,UAAU,GAAGC,YAAY,CAACF,UAAU,EAAEl3B,eAAe,EAAEu2B,uBAAuB,EAAEC,KAAK,EAAEC,SAAS,EAAExC,WAAW,CAAC;IAClH6C,cAAc,CAACG,WAAW,CAAC,GAAGE,UAAU,CAACE,OAAO;IAChDN,gBAAgB,CAACttB,IAAI,CAAC,GAAG0tB,UAAU,CAACJ,gBAAgB,CAAC;IACrDC,QAAQ,GAAGA,QAAQ,IAAIG,UAAU,CAACH,QAAQ;EAC9C;EACA,OAAO;IAAEF,cAAc;IAAEC,gBAAgB;IAAEC;EAAS,CAAC;AACzD;AACA;AACA;AACA;AACA,SAASI,YAAYA,CAACF,UAAU,EAAEl3B,eAAe;AAAE;AACnDu2B,uBAAuB;AAAE;AACzBC,KAAK,EAAEC,SAAS,EAAExC,WAAW,EAAE;EAC3B,IAAIqD,KAAK,GAAGt3B,eAAe,CAACslB,SAAS,KAAK,KAAK;EAC/C,IAAIiS,qBAAqB,GAAGv3B,eAAe,CAACw3B,aAAa,IAAI,CAAC,CAAC;EAC/D,IAAIC,2BAA2B,GAAGlB,uBAAuB,CAACl2B,UAAU,IAAI,CAAC,CAAC;EAC1E,IAAIq3B,kBAAkB,GAAG13B,eAAe,CAACK,UAAU,IAAI,CAAC,CAAC;EACzD,IAAIs3B,2BAA2B,GAAGpB,uBAAuB,CAAC9P,WAAW,IAAI,CAAC,CAAC;EAC3E,IAAImR,mBAAmB,GAAG53B,eAAe,CAACymB,WAAW,IAAI,CAAC,CAAC;EAC3D,IAAIoR,cAAc,GAAGX,UAAU,GAAGA,UAAU,CAAClP,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE;EAC5D,IAAI+O,gBAAgB,GAAG,EAAE;EACzB,IAAIC,QAAQ,GAAG,KAAK;EACpB,IAAIK,OAAO,GAAGQ,cAAc,CAACnwB,GAAG,CAAEowB,cAAc,IAAMA,cAAc,CAAC9P,KAAK,CAAC,GAAG,CAAC,CAACtgB,GAAG,CAAEqwB,UAAU,IAAK;IAChG,IAAIA,UAAU,KAAK,OAAO,EAAE;MACxBf,QAAQ,GAAG,IAAI;MACf,OAAO;QAAEe;MAAW,CAAC;IACzB;IACA,IAAIC,iBAAiB;IACrB,IAAI3J,QAAQ;IACZ,IAAI4J,WAAW;IACf,IAAIC,UAAU,CAAC,CAAC;IAChB,IAAI73B,UAAU,CAAC,CAAC;IAChB,IAAIgwB,UAAU;IACd;IACA,IAAK2H,iBAAiB,GAAGT,qBAAqB,CAACQ,UAAU,CAAC,EAAG;MACzDE,WAAW,GAAIE,EAAE,IAAK;QAClB,IAAIH,iBAAiB,CAACI,KAAK,EAAE;UACzBJ,iBAAiB,CAACI,KAAK,CAAC5xB,IAAI,CAAC2xB,EAAE,CAACE,MAAM,EAAEF,EAAE,EAAEA,EAAE,CAACE,MAAM,CAAC,CAAC,CAAC;QAC5D;MACJ,CAAC;;MACD,CAACH,UAAU,GAAG1B,KAAK,CAAC8B,wBAAwB,CAACN,iBAAiB,CAAC,MAC1DE,UAAU,GAAG1B,KAAK,CAAC+B,YAAY,CAACR,UAAU,EAAET,KAAK,CAAC,CAAC,KACnDj3B,UAAU,GAAG23B,iBAAiB,CAACQ,IAAI,CAAC;MACzCnI,UAAU,GAAG2H,iBAAiB,CAACS,IAAI,IAAIT,iBAAiB,CAACQ,IAAI;IACjE,CAAC,MACI,IAAKnK,QAAQ,GAAGoI,SAAS,CAACsB,UAAU,CAAC,EAAG;MACzChB,gBAAgB,CAACttB,IAAI,CAACsuB,UAAU,CAAC;MACjCE,WAAW,GAAGA,CAAA,KAAM;QAChBhE,WAAW,CAACyE,UAAU,CAACX,UAAU,CAAC;MACtC,CAAC;MACD,CAAC13B,UAAU,GAAGguB,QAAQ,CAAC6B,kBAAkB,MACpCgI,UAAU,GAAG1B,KAAK,CAAC+B,YAAY,CAACR,UAAU,EAAET,KAAK,CAAC,CAAC,KACnDj3B,UAAU,GAAGguB,QAAQ,CAAC8B,iBAAiB,CAAC;MAC7C,IAAIwI,YAAY,GAAGtK,QAAQ,CAAC6B,kBAAkB,IAC1C7B,QAAQ,CAAC8B,iBAAiB;MAC9BE,UAAU,GAAGtP,sDAAkB,CAACsN,QAAQ,CAAC+B,mBAAmB,IACxD/B,QAAQ,CAACiC,kBAAkB,IAC3BtwB,eAAe,CAAC2mB,QAAQ,EAAE,CAACgS,YAAY,EAAEZ,UAAU,CAAC;MAAE;MAC1DY,YAAY,CAAC;IACjB,CAAC,MACI,IAAI1E,WAAW,CAAC8D,UAAU,CAAC,EAAE;MAAE;MAChCE,WAAW,GAAGA,CAAA,KAAM;QAChBhE,WAAW,CAAC8D,UAAU,CAAC,CAAC,CAAC;MAC7B,CAAC;MACD,CAAC13B,UAAU,GAAGo3B,2BAA2B,CAACM,UAAU,CAAC,MAChDG,UAAU,GAAG1B,KAAK,CAAC+B,YAAY,CAACR,UAAU,EAAET,KAAK,CAAC,CAAC,KACnDj3B,UAAU,GAAGq3B,kBAAkB,CAACK,UAAU,CAAC,CAAC,CAAC,CAAC;MACnD,IAAIA,UAAU,KAAK,UAAU,IAAIA,UAAU,KAAK,UAAU,EAAE;QACxD,IAAIa,UAAU,GAAGb,UAAU,KAAK,UAAU,GAAG,MAAM,GAAG,MAAM;QAC5D1H,UAAU,GAAGtP,sDAAkB,CAAC4W,2BAA2B,CAACiB,UAAU,CAAC,IACnEhB,mBAAmB,CAACgB,UAAU,CAAC,EAAE,CACjClB,kBAAkB,CAAChS,IAAI,IAAI,MAAM,EACjC,MAAM,CACT,EAAEgS,kBAAkB,CAACK,UAAU,CAAC,CAAC;MACtC,CAAC,MACI;QACD1H,UAAU,GAAIwI,OAAO,IAAK9X,sDAAkB,CAAC4W,2BAA2B,CAACI,UAAU,CAAC,IAChFH,mBAAmB,CAACG,UAAU,CAAC,EAAE,CACjCL,kBAAkB,CAACmB,OAAO,CAAC,IAAIA,OAAO,EACtCA,OAAO,CACV,EAAEnB,kBAAkB,CAACK,UAAU,CAAC,CAAC;MACtC;IACJ;IACA,OAAO;MAAEA,UAAU;MAAEE,WAAW;MAAEC,UAAU;MAAE73B,UAAU;MAAEgwB;IAAW,CAAC;EAC1E,CAAC,CAAE,CAAC;EACJ,OAAO;IAAEgH,OAAO;IAAEN,gBAAgB;IAAEC;EAAS,CAAC;AAClD;;AAEA;AACA,MAAM8B,QAAQ,CAAC;EACXphC,WAAWA,CAAC2D,IAAI,EAAE09B,cAAc,EAAE7H,OAAO,EAAE;IACvC,IAAI,CAAC71B,IAAI,GAAGA,IAAI;IAChB,IAAI,CAAC09B,cAAc,GAAGA,cAAc;IACpC,IAAI,CAAC7H,OAAO,GAAGA,OAAO;EAC1B;EACA,IAAItV,QAAQA,CAAA,EAAG;IACX,OAAO,IAAI,CAACmd,cAAc,CAAC,CAAC,CAAC9E,WAAW;EAC5C;EACA,IAAIt8B,KAAKA,CAAA,EAAG;IACR,OAAO,IAAI,CAACohC,cAAc,CAAC,CAAC,CAACC,SAAS;EAC1C;EACA,IAAIC,WAAWA,CAAA,EAAG;IACd,OAAO,IAAI,CAAC/H,OAAO,CAACgI,MAAM,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,CAAC5G,WAAW,CAACC,WAAW,CAAC1xB,KAAK,CAAC;EACnF;EACA,IAAIy4B,SAASA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACjI,OAAO,CAACgI,MAAM,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,CAAC5G,WAAW,CAACC,WAAW,CAACzxB,GAAG,CAAC;EACjF;EACA,IAAIy4B,YAAYA,CAAA,EAAG;IACf,OAAO,IAAI,CAAClI,OAAO,CAACgI,MAAM,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,CAAC5G,WAAW,CAACkH,YAAY,CAAC34B,KAAK,CAAC;EACpF;EACA,IAAI44B,UAAUA,CAAA,EAAG;IACb,OAAO,IAAI,CAACpI,OAAO,CAACgI,MAAM,CAAC,IAAI,CAACH,cAAc,CAAC,CAAC,CAAC5G,WAAW,CAACkH,YAAY,CAAC14B,GAAG,CAAC;EAClF;EACA44B,SAASA,CAAC3yB,IAAI,EAAE;IACZ,OAAO,IAAI,CAACmyB,cAAc,CAAC,CAAC,CAACp1B,OAAO,CAACiD,IAAI,CAAC,CAAC,CAAC;EAChD;AACJ;;AAEA,IAAI4yB,gBAAgB,GAAG;EACnBlE,WAAW,EAAE,IAAI;EACjBmE,SAASA,CAACC,OAAO,EAAE;IACf,IAAInsB,KAAK,CAACC,OAAO,CAACksB,OAAO,CAACj5B,MAAM,CAAC,EAAE;MAC/B,OAAOi5B,OAAO,CAACj5B,MAAM;IACzB;IACA,OAAO,IAAI;EACf,CAAC;EACD4zB,KAAKA,CAACsF,GAAG,EAAEC,eAAe,EAAE;IACxBA,eAAe,CAAC;MACZrF,SAAS,EAAEoF,GAAG,CAACpG,WAAW,CAACsG;IAC/B,CAAC,CAAC;EACN;AACJ,CAAC;AACD,MAAMC,sBAAsB,GAAGvR,YAAY,CAAC;EACxC3hB,IAAI,EAAE,oBAAoB;EAC1BkjB,eAAe,EAAE,CAAC0P,gBAAgB;AACtC,CAAC,CAAC;AAEF,IAAIO,gBAAgB,GAAG;EACnBN,SAASA,CAACC,OAAO,EAAE;IACf,IAAI,OAAOA,OAAO,CAACj5B,MAAM,KAAK,UAAU,EAAE;MACtC,OAAOi5B,OAAO,CAACj5B,MAAM;IACzB;IACA,OAAO,IAAI;EACf,CAAC;EACD4zB,KAAKA,CAACsF,GAAG,EAAEC,eAAe,EAAEI,aAAa,EAAE;IACvC,MAAM;MAAE9I;IAAQ,CAAC,GAAGyI,GAAG,CAACpvB,OAAO;IAC/B,MAAMmN,IAAI,GAAGiiB,GAAG,CAACpG,WAAW,CAACsG,IAAI;IACjC7Y,sDAAW,CAACtJ,IAAI,CAACjW,IAAI,CAAC,IAAI,EAAEwf,sDAAyB,CAAC0Y,GAAG,CAACrF,KAAK,EAAEpD,OAAO,CAAC,CAAC,EAAGqD,SAAS,IAAKqF,eAAe,CAAC;MAAErF;IAAU,CAAC,CAAC,EAAEyF,aAAa,CAAC;EAC7I;AACJ,CAAC;AACD,MAAMC,qBAAqB,GAAG1R,YAAY,CAAC;EACvC3hB,IAAI,EAAE,mBAAmB;EACzBkjB,eAAe,EAAE,CAACiQ,gBAAgB;AACtC,CAAC,CAAC;AAEF,MAAMG,+BAA+B,GAAG;EACpCC,MAAM,EAAEC,MAAM;EACdC,WAAW,EAAEnZ,kDAAQ;EACrBoZ,UAAU,EAAEF,MAAM;EAClBG,QAAQ,EAAEH,MAAM;EAChBI,aAAa,EAAEJ;AACnB,CAAC;AAED,IAAIK,cAAc,GAAG;EACjBhB,SAASA,CAACC,OAAO,EAAE;IACf,IAAIA,OAAO,CAAC/9B,GAAG,KAAK+9B,OAAO,CAACgB,MAAM,KAAK,MAAM,IAAI,CAAChB,OAAO,CAACgB,MAAM,CAAC,EAAE;MAC/D,OAAO;QACH/+B,GAAG,EAAE+9B,OAAO,CAAC/9B,GAAG;QAChB++B,MAAM,EAAE,MAAM;QACdP,MAAM,EAAE,CAACT,OAAO,CAACS,MAAM,IAAI,KAAK,EAAEQ,WAAW,CAAC,CAAC;QAC/CN,WAAW,EAAEX,OAAO,CAACW,WAAW;QAChCC,UAAU,EAAEZ,OAAO,CAACY,UAAU;QAC9BC,QAAQ,EAAEb,OAAO,CAACa,QAAQ;QAC1BC,aAAa,EAAEd,OAAO,CAACc;MAC3B,CAAC;IACL;IACA,OAAO,IAAI;EACf,CAAC;EACDnG,KAAKA,CAACsF,GAAG,EAAEC,eAAe,EAAEI,aAAa,EAAE;IACvC,MAAM;MAAEH;IAAK,CAAC,GAAGF,GAAG,CAACpG,WAAW;IAChC,MAAMqH,aAAa,GAAGC,kBAAkB,CAAChB,IAAI,EAAEF,GAAG,CAACrF,KAAK,EAAEqF,GAAG,CAACpvB,OAAO,CAAC;IACtE4W,sDAAW,CAAC0Y,IAAI,CAACM,MAAM,EAAEN,IAAI,CAACl+B,GAAG,EAAEi/B,aAAa,CAAC,CAACzyB,IAAI,CAAC,CAAC,CAACosB,SAAS,EAAEE,QAAQ,CAAC,KAAK;MAC9EmF,eAAe,CAAC;QAAErF,SAAS;QAAEE;MAAS,CAAC,CAAC;IAC5C,CAAC,EAAEuF,aAAa,CAAC;EACrB;AACJ,CAAC;AACD,MAAMc,yBAAyB,GAAGvS,YAAY,CAAC;EAC3C3hB,IAAI,EAAE,mBAAmB;EACzBmiB,mBAAmB,EAAEmR,+BAA+B;EACpDpQ,eAAe,EAAE,CAAC2Q,cAAc;AACpC,CAAC,CAAC;AACF,SAASI,kBAAkBA,CAAChB,IAAI,EAAEvF,KAAK,EAAE/pB,OAAO,EAAE;EAC9C,IAAI;IAAE2mB,OAAO;IAAEvtB;EAAQ,CAAC,GAAG4G,OAAO;EAClC,IAAI+vB,UAAU;EACd,IAAIC,QAAQ;EACZ,IAAIC,aAAa;EACjB,IAAIO,mBAAmB;EACvB,IAAIC,MAAM,GAAG,CAAC,CAAC;EACfV,UAAU,GAAGT,IAAI,CAACS,UAAU;EAC5B,IAAIA,UAAU,IAAI,IAAI,EAAE;IACpBA,UAAU,GAAG32B,OAAO,CAAC22B,UAAU;EACnC;EACAC,QAAQ,GAAGV,IAAI,CAACU,QAAQ;EACxB,IAAIA,QAAQ,IAAI,IAAI,EAAE;IAClBA,QAAQ,GAAG52B,OAAO,CAAC42B,QAAQ;EAC/B;EACAC,aAAa,GAAGX,IAAI,CAACW,aAAa;EAClC,IAAIA,aAAa,IAAI,IAAI,EAAE;IACvBA,aAAa,GAAG72B,OAAO,CAAC62B,aAAa;EACzC;EACA;EACA,IAAI,OAAOX,IAAI,CAACQ,WAAW,KAAK,UAAU,EAAE;IACxC;IACAU,mBAAmB,GAAGlB,IAAI,CAACQ,WAAW,CAAC,CAAC;EAC5C,CAAC,MACI;IACD;IACAU,mBAAmB,GAAGlB,IAAI,CAACQ,WAAW,IAAI,CAAC,CAAC;EAChD;EACAruB,MAAM,CAACwa,MAAM,CAACwU,MAAM,EAAED,mBAAmB,CAAC;EAC1CC,MAAM,CAACV,UAAU,CAAC,GAAGpJ,OAAO,CAAC+J,SAAS,CAAC3G,KAAK,CAAC5zB,KAAK,CAAC;EACnDs6B,MAAM,CAACT,QAAQ,CAAC,GAAGrJ,OAAO,CAAC+J,SAAS,CAAC3G,KAAK,CAAC3zB,GAAG,CAAC;EAC/C,IAAIuwB,OAAO,CAACgK,QAAQ,KAAK,OAAO,EAAE;IAC9BF,MAAM,CAACR,aAAa,CAAC,GAAGtJ,OAAO,CAACgK,QAAQ;EAC5C;EACA,OAAOF,MAAM;AACjB;AAEA,MAAMG,yBAAyB,GAAG;EAC9BC,UAAU,EAAEla,kDAAQ;EACpBma,SAAS,EAAE5a,kDAAc;EACzB6a,OAAO,EAAE7a,kDAAc;EACvB4O,QAAQ,EAAE5O,kDAAc;EACxB8a,UAAU,EAAEra,kDAAQ;EACpBsa,QAAQ,EAAEta,kDAAQA;AACtB,CAAC;AAED,IAAIua,SAAS,GAAG;EACZC,KAAKA,CAAChC,OAAO,EAAExI,OAAO,EAAE;IACpB,IAAIwI,OAAO,CAAC0B,UAAU,IAAI1B,OAAO,CAAC2B,SAAS,IAAI3B,OAAO,CAAC4B,OAAO,IAAI5B,OAAO,CAAC6B,UAAU,IAAI7B,OAAO,CAAC8B,QAAQ,EAAE;MACtG,IAAIG,aAAa,GAAG;QAChBP,UAAU,EAAE1B,OAAO,CAAC0B,UAAU,IAAI,IAAI;QACtCC,SAAS,EAAE3B,OAAO,CAAC2B,SAAS,IAAI,IAAI;QACpCC,OAAO,EAAE5B,OAAO,CAAC4B,OAAO,IAAI,IAAI;QAChCC,UAAU,EAAE7B,OAAO,CAAC6B,UAAU,GAAGrK,OAAO,CAACI,YAAY,CAACoI,OAAO,CAAC6B,UAAU,CAAC,GAAG,IAAI;QAChFC,QAAQ,EAAE9B,OAAO,CAAC8B,QAAQ,GAAGtK,OAAO,CAACI,YAAY,CAACoI,OAAO,CAAC8B,QAAQ,CAAC,GAAG,IAAI;QAC1EtK;MACJ,CAAC;MACD,IAAI7B,QAAQ;MACZ,IAAIqK,OAAO,CAACrK,QAAQ,EAAE;QAClBA,QAAQ,GAAGqK,OAAO,CAACrK,QAAQ;MAC/B;MACA,IAAI,CAACA,QAAQ,IAAIqK,OAAO,CAAC2B,SAAS,IAAI3B,OAAO,CAAC4B,OAAO,EAAE;QACnDjM,QAAQ,GAAGjO,sDAAiB,CAACsY,OAAO,CAAC4B,OAAO,EAAE5B,OAAO,CAAC2B,SAAS,CAAC;MACpE;MACA,OAAO;QACHO,WAAW,EAAEC,OAAO,CAAC,CAACnC,OAAO,CAAC2B,SAAS,IAAI,CAAC3B,OAAO,CAAC4B,OAAO,CAAC;QAC5DjM,QAAQ;QACRyM,QAAQ,EAAEH,aAAa,CAAE;MAC7B,CAAC;IACL;;IACA,OAAO,IAAI;EACf,CAAC;EACDI,MAAMA,CAACD,QAAQ,EAAEE,YAAY,EAAE9K,OAAO,EAAE;IACpC,IAAI+K,mBAAmB,GAAG5a,sDAAe,CAAC2a,YAAY,EAAE;MAAEt7B,KAAK,EAAEo7B,QAAQ,CAACP,UAAU;MAAE56B,GAAG,EAAEm7B,QAAQ,CAACN;IAAS,CAAC,CAAC;IAC/G,IAAIS,mBAAmB,EAAE;MACrB,OAAOC,YAAY,CAACJ,QAAQ,CAACV,UAAU,EAAEU,QAAQ,CAACT,SAAS,EAAES,QAAQ,CAAC5K,OAAO,EAAEA,OAAO,EAAE+K,mBAAmB,CAAC;IAChH;IACA,OAAO,EAAE;EACb;AACJ,CAAC;AACD,MAAME,2BAA2B,GAAG5T,YAAY,CAAC;EAC7C3hB,IAAI,EAAE,wBAAwB;EAC9BojB,cAAc,EAAE,CAACyR,SAAS,CAAC;EAC3B5S,aAAa,EAAEsS;AACnB,CAAC,CAAC;AACF,SAASe,YAAYA,CAACd,UAAU,EAAEC,SAAS,EAAEe,YAAY,EAAEC,eAAe,EAAEL,YAAY,EAAE;EACtF,IAAIM,OAAO,GAAGlB,UAAU,GAAGza,sDAAW,CAACya,UAAU,CAAC,GAAG,IAAI;EACzD,IAAImB,SAAS,GAAGjb,sDAAU,CAAC0a,YAAY,CAACt7B,KAAK,CAAC;EAC9C,IAAI87B,SAAS,GAAGR,YAAY,CAACr7B,GAAG;EAChC,IAAI87B,cAAc,GAAG,EAAE;EACvB;EACA,IAAIpB,SAAS,EAAE;IACX,IAAIA,SAAS,CAACqB,YAAY,GAAG,CAAC,EAAE;MAC5B;MACAF,SAAS,GAAGjb,sDAAO,CAACib,SAAS,EAAE,CAAC,CAAC;IACrC,CAAC,MACI,IAAInB,SAAS,CAACqB,YAAY,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE;MACpD;MACAH,SAAS,GAAGhb,sDAAO,CAACgb,SAAS,EAAE,CAAC,CAAC,CAAC;IACtC;EACJ;EACA,OAAOA,SAAS,GAAGC,SAAS,EAAE;IAC1B,IAAIG,aAAa;IACjB;IACA,IAAI,CAACL,OAAO,IAAIA,OAAO,CAACC,SAAS,CAACK,SAAS,CAAC,CAAC,CAAC,EAAE;MAC5C,IAAIvB,SAAS,EAAE;QACXsB,aAAa,GAAGN,eAAe,CAACQ,GAAG,CAACN,SAAS,EAAElB,SAAS,CAAC;MAC7D,CAAC,MACI;QACDsB,aAAa,GAAGJ,SAAS;MAC7B;MACAE,cAAc,CAAChzB,IAAI,CAAC4yB,eAAe,CAAC/K,YAAY,CAAC8K,YAAY,CAAClD,MAAM,CAACyD,aAAa,CAAC,CAAC,CAAC;IACzF;IACAJ,SAAS,GAAGhb,sDAAO,CAACgb,SAAS,EAAE,CAAC,CAAC;EACrC;EACA,OAAOE,cAAc;AACzB;AAEA,MAAMK,mBAAmB,GAAGvU,YAAY,CAAC;EACrC3hB,IAAI,EAAE,gBAAgB;EACtBujB,oBAAoB,EAAE;IAClB1pB,MAAMA,CAACA,MAAM,EAAE8J,OAAO,EAAE;MACpBwyB,kBAAkB,CAAC,CAACt8B,MAAM,CAAC,EAAE8J,OAAO,CAAC;IACzC,CAAC;IACD0M,YAAY,EAAE8lB;EAClB;AACJ,CAAC,CAAC;AACF;AACA;AACA;AACA,SAASA,kBAAkBA,CAACniB,MAAM,EAAErQ,OAAO,EAAE;EACzC,IAAIyyB,cAAc,GAAGxb,sDAAiB,CAACjX,OAAO,CAACwuB,cAAc,CAAC,CAAC,CAAC9hB,YAAY,CAAC;EAC7E,IAAI+lB,cAAc,CAACl1B,MAAM,KAAK,CAAC,IAC3B8S,MAAM,CAAC9S,MAAM,KAAK,CAAC,IACnByF,KAAK,CAACC,OAAO,CAACwvB,cAAc,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IACrC1vB,KAAK,CAACC,OAAO,CAACoN,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE;IAC1BrQ,OAAO,CAACoqB,QAAQ,CAAC;MACbt5B,IAAI,EAAE,kBAAkB;MACxBq3B,QAAQ,EAAEsK,cAAc,CAAC,CAAC,CAAC,CAACtK,QAAQ;MACpC6B,SAAS,EAAE3Z,MAAM,CAAC,CAAC;IACvB,CAAC,CAAC;IACF;EACJ;EACA,IAAIsiB,SAAS,GAAG,EAAE;EAClB,KAAK,IAAI5lB,KAAK,IAAIsD,MAAM,EAAE;IACtB,IAAIuiB,UAAU,GAAG,KAAK;IACtB,KAAK,IAAI/4B,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG44B,cAAc,CAACl1B,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MAC/C,IAAI44B,cAAc,CAAC54B,CAAC,CAAC,CAAC64B,IAAI,KAAK3lB,KAAK,EAAE;QAClC0lB,cAAc,CAAClyB,MAAM,CAAC1G,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QAC7B+4B,UAAU,GAAG,IAAI;QACjB;MACJ;IACJ;IACA,IAAI,CAACA,UAAU,EAAE;MACbD,SAAS,CAACzzB,IAAI,CAAC6N,KAAK,CAAC;IACzB;EACJ;EACA,KAAK,IAAI8lB,aAAa,IAAIJ,cAAc,EAAE;IACtCzyB,OAAO,CAACoqB,QAAQ,CAAC;MACbt5B,IAAI,EAAE,qBAAqB;MAC3Bq3B,QAAQ,EAAE0K,aAAa,CAAC1K;IAC5B,CAAC,CAAC;EACN;EACA,KAAK,IAAI2K,QAAQ,IAAIH,SAAS,EAAE;IAC5B3yB,OAAO,CAAC0pB,WAAW,CAACqJ,cAAc,CAACD,QAAQ,CAAC;EAChD;AACJ;AAEA,SAASE,iBAAiBA,CAACpL,WAAW,EAAE5nB,OAAO,EAAE;EAC7CA,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,UAAU,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEvF,sDAAyB,CAACkR,WAAW,CAACC,WAAW,EAAE7nB,OAAO,CAAC2mB,OAAO,CAAC,CAAC,EAAE;IAAEwM,IAAI,EAAEnzB,OAAO,CAACozB;EAAQ,CAAC,CAAC,CAAC;AACzK;AAEA,SAASC,gBAAgBA,CAACC,UAAU,EAAEtzB,OAAO,EAAE;EAC3C,IAAI;IAAEizB;EAAQ,CAAC,GAAGjzB,OAAO;EACzB,IAAIizB,OAAO,CAACM,WAAW,CAAC,WAAW,CAAC,EAAE;IAClCN,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEhc,sDAAc,CAACoc,UAAU,EAAEtzB,OAAO,CAAC,CAAC;EACrE;AACJ;;AAEA;AACA;AACA;AACA;AACA,MAAMwzB,aAAa,GAAG,CAClBjE,sBAAsB,EACtBG,qBAAqB,EACrBa,yBAAyB,EACzBqB,2BAA2B,EAC3BW,mBAAmB,EACnBvU,YAAY,CAAC;EACT3hB,IAAI,EAAE,MAAM;EACZ+hB,cAAc,EAAE,CACX1hB,KAAK,IAAKmsB,0BAA0B,CAACnsB,KAAK,CAACgQ,YAAY,CAAC,CAC5D;EACDsT,eAAe,EAAE;IACb4H,WAAW,EAAEoL,iBAAiB;IAC9BM,UAAU,EAAED;EAChB;AACJ,CAAC,CAAC,CACL;AAED,MAAMI,UAAU,CAAC;EACbtmC,WAAWA,CAACumC,aAAa,EAAEC,aAAa,EAAE;IACtC,IAAI,CAACD,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACC,aAAa,GAAG,IAAI1c,kDAAa,CAAC,IAAI,CAAC2c,KAAK,CAAC58B,IAAI,CAAC,IAAI,CAAC,CAAC;EACjE;EACA68B,OAAOA,CAACC,IAAI,EAAEC,KAAK,EAAE;IACjB,IAAI,CAACL,KAAK,CAAC10B,IAAI,CAAC80B,IAAI,CAAC;IACrB,IAAI,CAACH,aAAa,CAACE,OAAO,CAACE,KAAK,CAAC;EACrC;EACAC,KAAKA,CAACC,KAAK,EAAE;IACT,IAAI,CAACN,aAAa,CAACK,KAAK,CAACC,KAAK,CAAC;EACnC;EACAC,MAAMA,CAACD,KAAK,EAAEE,KAAK,EAAE;IACjB,IAAI,CAACR,aAAa,CAACO,MAAM,CAACD,KAAK,EAAEE,KAAK,CAAC;EAC3C;EACAP,KAAKA,CAAA,EAAG;IACJ,IAAI;MAAEF;IAAM,CAAC,GAAG,IAAI;IACpB,OAAOA,KAAK,CAACr2B,MAAM,EAAE;MACjB,IAAI+2B,cAAc,GAAG,EAAE;MACvB,IAAIN,IAAI;MACR,OAAQA,IAAI,GAAGJ,KAAK,CAAC3sB,KAAK,CAAC,CAAC,EAAG;QAC3B,IAAI,CAACstB,OAAO,CAACP,IAAI,CAAC;QAClBM,cAAc,CAACp1B,IAAI,CAAC80B,IAAI,CAAC;MAC7B;MACA,IAAI,CAACQ,OAAO,CAACF,cAAc,CAAC;IAChC,CAAC,CAAC;EACN;;EACAC,OAAOA,CAACP,IAAI,EAAE;IACV,IAAI,IAAI,CAACN,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACM,IAAI,CAAC;IAC5B;EACJ;EACAQ,OAAOA,CAACF,cAAc,EAAE;IACpB,IAAI,IAAI,CAACX,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAACW,cAAc,CAAC;IACtC;EACJ;AACJ;;AAEA;AACA,SAAS/mC,UAAUA,CAACq6B,WAAW,EAAE6M,WAAW,EAAE9N,OAAO,EAAE;EACnD,IAAIoD,KAAK;EACT;EACA,IAAI,gBAAgB,CAAC1oB,IAAI,CAACumB,WAAW,CAAC8M,gBAAgB,CAAC,EAAE;IACrD3K,KAAK,GAAGnC,WAAW,CAACkH,YAAY;EACpC,CAAC,MACI;IAAE;IACH/E,KAAK,GAAGnC,WAAW,CAACC,WAAW;EACnC;EACA,OAAOlB,OAAO,CAACgO,WAAW,CAAC5K,KAAK,CAAC5zB,KAAK,EAAE4zB,KAAK,CAAC3zB,GAAG,EAAEghB,sDAAe,CAACqd,WAAW,CAACG,WAAW,IAAIC,gBAAgB,CAACjN,WAAW,CAAC,CAAC,EAAE;IAC1HkN,cAAc,EAAElN,WAAW,CAACmN,aAAa;IACzCC,gBAAgB,EAAEP,WAAW,CAACQ;EAClC,CAAC,CAAC;AACN;AACA;AACA;AACA,SAASJ,gBAAgBA,CAACjN,WAAW,EAAE;EACnC,IAAI;IAAE8M;EAAiB,CAAC,GAAG9M,WAAW;EACtC,IAAI8M,gBAAgB,KAAK,MAAM,EAAE;IAC7B,OAAO;MAAEvZ,IAAI,EAAE;IAAU,CAAC;EAC9B;EACA,IAAIuZ,gBAAgB,KAAK,OAAO,EAAE;IAC9B,OAAO;MAAEvZ,IAAI,EAAE,SAAS;MAAEE,KAAK,EAAE;IAAO,CAAC,CAAC,CAAC;EAC/C;;EACA,IAAI6Z,IAAI,GAAG7d,sDAAa,CAACuQ,WAAW,CAACkH,YAAY,CAAC34B,KAAK,EAAEyxB,WAAW,CAACkH,YAAY,CAAC14B,GAAG,CAAC;EACtF,IAAI8+B,IAAI,KAAK,IAAI,IAAIA,IAAI,GAAG,CAAC,EAAE;IAC3B;IACA,OAAO;MAAE/Z,IAAI,EAAE,SAAS;MAAEE,KAAK,EAAE,OAAO;MAAEC,GAAG,EAAE;IAAU,CAAC;EAC9D;EACA;EACA,OAAO;IAAEH,IAAI,EAAE,SAAS;IAAEE,KAAK,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAU,CAAC;AAC7D;;AAEA;AACA;AACA;AACA,MAAM6Z,kBAAkB,CAAC;EACrBhoC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACioC,cAAc,GAAG,IAAIC,GAAG,CAAC,CAAC;EACnC;EACAC,WAAWA,CAAC3O,OAAO;EAAE;EACrB4O,QAAQ,EAAE;IACN,MAAMC,UAAU,GAAG,IAAI,CAAC7O,OAAO;IAC/B,IAAIA,OAAO,KAAK6O,UAAU,EAAE;MACxB,IAAI,OAAOD,QAAQ,KAAK,UAAU,EAAE;QAChC,IAAI,CAACE,KAAK,GAAGF,QAAQ;MACzB,CAAC,MACI,IAAI,CAACC,UAAU,EAAE;QAAE;QACpB,IAAI,CAACE,aAAa,GAAG/O,OAAO,CAACgI,MAAM,CAAC4G,QAAQ,GACtC5O,OAAO,CAACI,YAAY,CAACwO,QAAQ,CAAC,GAC9B5O,OAAO,CAACgP,eAAe,CAAC,CAAC,CAAC;QAChC,IAAI,CAACC,gBAAgB,GAAG5oB,IAAI,CAAC6oB,GAAG,CAAC,CAAC;MACtC;MACA,IAAI,CAAClP,OAAO,GAAGA,OAAO;MACtB;MACA,IAAI6O,UAAU,EAAE;QACZ,KAAK,MAAMM,aAAa,IAAI,IAAI,CAACV,cAAc,CAACliB,MAAM,CAAC,CAAC,EAAE;UACtD4iB,aAAa,CAAC,CAAC;QACnB;MACJ;IACJ;EACJ;EACA9O,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAAC0O,aAAa,GACnB,IAAI,CAAC/O,OAAO,CAACoP,iBAAiB,CAAC,IAAI,CAACL,aAAa,CAACzoB,OAAO,CAAC,CAAC,IACxDD,IAAI,CAAC6oB,GAAG,CAAC,CAAC,GAAG,IAAI,CAACD,gBAAgB,CAAC,CAAC,GACvC,IAAI,CAACjP,OAAO,CAACI,YAAY,CAAC,IAAI,CAAC0O,KAAK,CAAC,CAAC,CAAC;EACjD;EACAO,gBAAgBA,CAACC,OAAO,EAAE;IACtB,IAAI,CAACb,cAAc,CAAC9C,GAAG,CAAC2D,OAAO,CAAC;EACpC;EACAC,mBAAmBA,CAACD,OAAO,EAAE;IACzB,IAAI,CAACb,cAAc,CAACz1B,MAAM,CAACs2B,OAAO,CAAC;EACvC;AACJ;;AAEA;AACA;AACA,MAAME,mBAAmB,CAAC;EACtBhpC,WAAWA,CAAC2O,KAAK,EAAE;IACf,IAAI,CAACs6B,sBAAsB,GAAG9e,sDAAO,CAAC,IAAI,CAAC+e,uBAAuB,CAAC;IACnE,IAAI,CAAC7Z,kBAAkB,GAAGlF,sDAAO,CAACkF,kBAAkB,CAAC;IACrD,IAAI,CAACM,WAAW,GAAGxF,sDAAO,CAACwF,WAAW,CAAC;IACvC,IAAI,CAACmD,gBAAgB,GAAGa,qBAAqB,CAAC,CAAC;IAC/C,IAAI,CAACwV,YAAY,GAAGhf,sDAAO,CAACif,cAAc,CAAC;IAC3C,IAAI,CAACC,UAAU,GAAGlf,sDAAO,CAACkf,UAAU,CAAC;IACrC,IAAI,CAACzK,aAAa,GAAGzU,sDAAO,CAACyU,aAAa,CAAC;IAC3C,IAAI,CAACzH,cAAc,GAAGhN,sDAAO,CAACgN,cAAc,CAAC;IAC7C,IAAI,CAACmS,yBAAyB,GAAGlf,sDAAa,CAACkf,yBAAyB,CAAC;IACzE,IAAI,CAACC,YAAY,GAAGpf,sDAAO,CAACof,YAAY,CAAC;IACzC,IAAI,CAACC,gBAAgB,GAAGpf,sDAAa,CAACof,gBAAgB,CAAC;IACvD,IAAI,CAACC,oBAAoB,GAAGtf,sDAAO,CAACsf,oBAAoB,EAAEpf,kDAAY,CAAC;IACvE,IAAI,CAACqf,iBAAiB,GAAGvf,sDAAO,CAACuf,iBAAiB,CAAC;IACnD,IAAI,CAACC,yBAAyB,GAAGvf,sDAAa,CAACuf,yBAAyB,CAAC;IACzE,IAAI,CAACvpC,UAAU,GAAG+pB,sDAAO,CAAC/pB,UAAU,CAAC;IACrC,IAAI,CAACq5B,UAAU,GAAG,IAAIuO,kBAAkB,CAAC,CAAC;IAC1C,IAAI,CAAClC,OAAO,GAAG,IAAIxb,kDAAO,CAAC,CAAC;IAC5B,IAAI,CAACsf,YAAY,GAAG,IAAItD,UAAU,CAAC,IAAI,CAACuD,aAAa,CAAC9/B,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC+/B,UAAU,CAAC//B,IAAI,CAAC,IAAI,CAAC,CAAC;IAC7F,IAAI,CAACggC,2BAA2B,GAAG,CAAC,CAAC;IACrC,IAAI,CAACC,6BAA6B,GAAG,CAAC,CAAC;IACvC,IAAI,CAACC,uBAAuB,GAAG,CAAC,CAAC;IACjC,IAAI,CAACC,yBAAyB,GAAG,CAAC,CAAC;IACnC,IAAI,CAACC,8BAA8B,GAAG,CAAC,CAAC;IACxC,IAAI,CAACC,kBAAkB,GAAG,EAAE;IAC5B,IAAI,CAACC,kBAAkB,GAAG,EAAE;IAC5B,IAAI,CAAChJ,cAAc,GAAG,MAAM,IAAI,CAACngC,IAAI;IACrC,IAAI,CAAC+7B,QAAQ,GAAI9D,MAAM,IAAK;MACxB,IAAI,CAACyQ,YAAY,CAAChD,OAAO,CAACzN,MAAM,CAAC,CAAC,CAAC;IACvC,CAAC;;IACD,IAAI,CAACxqB,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACi7B,YAAY,CAAC7C,KAAK,CAAC,CAAC;IACzB,IAAI,CAACtN,UAAU,GAAG,IAAIuO,kBAAkB,CAAC,CAAC;IAC1C,IAAI1Q,sBAAsB,GAAG,CAAC,CAAC;IAC/B,IAAIgT,WAAW,GAAG,IAAI,CAACC,kBAAkB,CAAC57B,KAAK,CAAC0oB,eAAe,EAAEC,sBAAsB,EAAE3oB,KAAK,CAAC4tB,WAAW,CAAC;IAC3G,IAAIiO,eAAe,GAAGF,WAAW,CAAChiC,eAAe,CAACQ,WAAW,IAAIwhC,WAAW,CAAC7N,WAAW,CAAC3zB,WAAW;IACpG,IAAI2hC,eAAe,GAAG,IAAI,CAACxB,sBAAsB,CAACuB,eAAe,EAAEF,WAAW,EAAE37B,KAAK,CAAC0oB,eAAe,EAAEC,sBAAsB,CAAC;IAC9H;IACA;IACA3oB,KAAK,CAAC4tB,WAAW,CAACmO,kBAAkB,GAAG,IAAI;IAC3C,IAAI,CAAC5E,OAAO,CAAC6E,cAAc,CAACh8B,KAAK,CAAC4tB,WAAW,CAAC;IAC9C,IAAI,CAACuJ,OAAO,CAAC8E,UAAU,CAACH,eAAe,CAACx+B,OAAO,CAAC;IAChD,IAAI4+B,eAAe,GAAG;MAClBpR,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BD,OAAO,EAAE8Q,WAAW,CAAC9Q,OAAO;MAC5BvtB,OAAO,EAAEq+B,WAAW,CAAChiC,eAAe;MACpCm0B,WAAW,EAAE6N,WAAW,CAAC7N,WAAW;MACpCF,WAAW,EAAE5tB,KAAK,CAAC4tB,WAAW;MAC9BU,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvB6I,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBzE,cAAc,EAAE,IAAI,CAACA;IACzB,CAAC;IACD,IAAIhI,WAAW,GAAGE,cAAc,CAAC+Q,WAAW,CAAChiC,eAAe,EAAEgiC,WAAW,CAAC9Q,OAAO,EAAE,IAAI,CAACC,UAAU,CAAC;IACnG,IAAIgB,WAAW,GAAGgQ,eAAe,CAACvQ,oBAAoB,CAACE,KAAK,CAACf,WAAW,CAAC;IACzE,IAAI,CAAC9O,sDAAmB,CAACkQ,WAAW,CAACC,WAAW,EAAErB,WAAW,CAAC,EAAE;MAC5DA,WAAW,GAAGoB,WAAW,CAACkH,YAAY,CAAC34B,KAAK;IAChD;IACA;IACA,KAAK,IAAI8hC,QAAQ,IAAIR,WAAW,CAAC7N,WAAW,CAACvL,WAAW,EAAE;MACtD4Z,QAAQ,CAACD,eAAe,CAAC;IAC7B;IACA;IACA,IAAItrB,YAAY,GAAGib,gBAAgB,CAAC8P,WAAW,CAAChiC,eAAe,EAAEmyB,WAAW,EAAEoQ,eAAe,CAAC;IAC9F,IAAIE,YAAY,GAAG;MACfzT,sBAAsB;MACtBkT,eAAe;MACfnR,WAAW;MACXoB,WAAW;MACXuQ,aAAa,EAAE,IAAI,CAACrB,yBAAyB,CAACkB,eAAe,CAAC;MAC9DtrB,YAAY;MACZ0rB,YAAY,EAAE,CAAC,CAAC;MAChB9E,UAAU,EAAE3b,sDAAqB,CAAC,CAAC;MACnC0gB,oBAAoB,EAAE1gB,sDAAqB,CAAC,CAAC;MAC7C2gB,aAAa,EAAE,IAAI;MACnBC,cAAc,EAAE,EAAE;MAClBC,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,IAAI;MACjBC,eAAe,EAAE,IAAI,CAAC/B,gBAAgB,CAACqB,eAAe,CAAC,CAACU;IAC5D,CAAC;IACD,IAAIC,eAAe,GAAGl3B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE+b,eAAe,CAAC,EAAEE,YAAY,CAAC;IACrF,KAAK,IAAIU,OAAO,IAAInB,WAAW,CAAC7N,WAAW,CAACzL,QAAQ,EAAE;MAClD1c,MAAM,CAACwa,MAAM,CAACic,YAAY,EAAEU,OAAO,CAAC,IAAI,EAAE,IAAI,EAAED,eAAe,CAAC,CAAC;IACrE;IACA,IAAIE,gBAAgB,CAACX,YAAY,EAAEF,eAAe,CAAC,EAAE;MACjD,IAAI,CAAC/E,OAAO,CAACC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;IAC3C;;IACA,IAAI,CAACx2B,KAAK,GAAGw7B,YAAY;IACzB,IAAI,CAACjB,UAAU,CAAC,CAAC;IACjB,IAAI,CAACF,YAAY,CAAC3C,MAAM,CAAC,CAAC;EAC9B;EACAvhB,YAAYA,CAAC2R,eAAe,EAAE9R,kBAAkB,EAAE;IAC9C,IAAI;MAAE5W;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI4W,kBAAkB,KAAKllB,SAAS,EAAE;MAClCsO,KAAK,CAAC0oB,eAAe,GAAGA,eAAe;IAC3C,CAAC,MACI;MACD1oB,KAAK,CAAC0oB,eAAe,GAAG/iB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAGngB,KAAK,CAAC0oB,eAAe,IAAI,CAAC,CAAE,CAAC,EAAEA,eAAe,CAAC;MACxG,IAAI,CAAC+S,kBAAkB,CAACr4B,IAAI,CAAC,GAAGwT,kBAAkB,CAAC;IACvD;IACA,IAAIA,kBAAkB,KAAKllB,SAAS,IAAIklB,kBAAkB,CAACnV,MAAM,EAAE;MAC/D,IAAI,CAACw5B,YAAY,CAAChD,OAAO,CAAC;QACtBjjC,IAAI,EAAE;MACV,CAAC,CAAC;IACN;EACJ;EACAkmC,aAAaA,CAAC1Q,MAAM,EAAE;IAClB,IAAI;MAAExqB,KAAK;MAAEY,KAAK;MAAEu2B;IAAQ,CAAC,GAAG,IAAI;IACpC,IAAIxO,sBAAsB,GAAGwC,4BAA4B,CAACvqB,KAAK,CAAC+nB,sBAAsB,EAAE6B,MAAM,CAAC;IAC/F,IAAImR,WAAW,GAAG,IAAI,CAACC,kBAAkB,CAAC57B,KAAK,CAAC0oB,eAAe,EAAEC,sBAAsB,EAAE3oB,KAAK,CAAC4tB,WAAW,CAAC;IAC3G,IAAIiO,eAAe,GAAGtR,cAAc,CAAC3pB,KAAK,CAACi7B,eAAe,EAAErR,MAAM,CAAC;IACnE,IAAIsR,eAAe,GAAG,IAAI,CAACxB,sBAAsB,CAACuB,eAAe,EAAEF,WAAW,EAAE37B,KAAK,CAAC0oB,eAAe,EAAEC,sBAAsB,CAAC;IAC9H;IACA;IACA3oB,KAAK,CAAC4tB,WAAW,CAACmO,kBAAkB,GAAG,IAAI;IAC3C5E,OAAO,CAAC6E,cAAc,CAACh8B,KAAK,CAAC4tB,WAAW,CAAC;IACzCuJ,OAAO,CAAC8E,UAAU,CAACH,eAAe,CAACx+B,OAAO,CAAC;IAC3C,IAAI4+B,eAAe,GAAG;MAClBpR,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BD,OAAO,EAAE8Q,WAAW,CAAC9Q,OAAO;MAC5BvtB,OAAO,EAAEq+B,WAAW,CAAChiC,eAAe;MACpCm0B,WAAW,EAAE6N,WAAW,CAAC7N,WAAW;MACpCF,WAAW,EAAE5tB,KAAK,CAAC4tB,WAAW;MAC9BU,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvB6I,OAAO;MACPzE,cAAc,EAAE,IAAI,CAACA;IACzB,CAAC;IACD,IAAI;MAAEhI,WAAW;MAAEoB;IAAY,CAAC,GAAGlrB,KAAK;IACxC,IAAI,IAAI,CAACrO,IAAI,IAAI,IAAI,CAACA,IAAI,CAACg5B,oBAAoB,KAAKuQ,eAAe,CAACvQ,oBAAoB,EAAE;MAAE;MACxFO,WAAW,GAAGgQ,eAAe,CAACvQ,oBAAoB,CAACE,KAAK,CAACf,WAAW,CAAC;IACzE;IACAA,WAAW,GAAGD,iBAAiB,CAACC,WAAW,EAAEF,MAAM,CAAC;IACpDsB,WAAW,GAAGT,iBAAiB,CAACS,WAAW,EAAEtB,MAAM,EAAEE,WAAW,EAAEoR,eAAe,CAACvQ,oBAAoB,CAAC;IACvG,IAAIf,MAAM,CAACx1B,IAAI,KAAK,MAAM;IAAI;IAC1Bw1B,MAAM,CAACx1B,IAAI,KAAK,MAAM;IAAI;IAC1B,CAAC4mB,sDAAmB,CAACkQ,WAAW,CAACkH,YAAY,EAAEtI,WAAW,CAAC,EAAE;MAC7DA,WAAW,GAAGoB,WAAW,CAACkH,YAAY,CAAC34B,KAAK;IAChD;IACA,IAAIuW,YAAY,GAAGsb,kBAAkB,CAACtrB,KAAK,CAACgQ,YAAY,EAAE4Z,MAAM,EAAEsB,WAAW,EAAEoQ,eAAe,CAAC;IAC/F,IAAI1E,UAAU,GAAG1b,sDAAgB,CAAClb,KAAK,CAAC42B,UAAU,EAAEhN,MAAM,EAAE5Z,YAAY,EAAEkb,WAAW,EAAEoQ,eAAe,CAAC;IACvG,IAAIc,eAAe,GAAGjQ,0BAA0B,CAACnc,YAAY,CAAC,CAAC,CAAC;IAChE,IAAI2rB,oBAAoB,GAAIS,eAAe,IAAI,CAAClB,eAAe,CAACx+B,OAAO,CAAC2/B,yBAAyB,GAC5Fr8B,KAAK,CAAC27B,oBAAoB,IAAI/E,UAAU;IAAI;IAC7CA,UAAU;IACd,IAAI;MAAE0F,iBAAiB;MAAEN;IAAgB,CAAC,GAAG,IAAI,CAAC/B,gBAAgB,CAACqB,eAAe,CAAC,CAAC,CAAC;IACrF,IAAIiB,eAAe,GAAG,IAAI,CAACrC,oBAAoB,CAAClqB,YAAY,CAAC;IAC7D,IAAI0rB,YAAY,GAAG,IAAI,CAACvB,iBAAiB,CAACwB,oBAAoB,CAAC9X,IAAI,EAAEyY,iBAAiB,EAAEC,eAAe,CAAC;IACxG,IAAIC,QAAQ,GAAG;MACXzU,sBAAsB;MACtBkT,eAAe;MACfnR,WAAW;MACXoB,WAAW;MACXlb,YAAY;MACZ4mB,UAAU;MACV+E,oBAAoB;MACpBK,eAAe;MACfN,YAAY;MACZD,aAAa,EAAE,IAAI,CAACrB,yBAAyB,CAACkB,eAAe,CAAC;MAC9DM,aAAa,EAAEtN,mBAAmB,CAACtuB,KAAK,CAAC47B,aAAa,EAAEhS,MAAM,CAAC;MAC/DiS,cAAc,EAAEpN,mBAAmB,CAACzuB,KAAK,CAAC67B,cAAc,EAAEjS,MAAM,CAAC;MACjEkS,SAAS,EAAElN,eAAe,CAAC5uB,KAAK,CAAC87B,SAAS,EAAElS,MAAM,CAAC;MACnDmS,WAAW,EAAE7M,iBAAiB,CAAClvB,KAAK,CAAC+7B,WAAW,EAAEnS,MAAM;IAC5D,CAAC;IACD,IAAIqS,eAAe,GAAGl3B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE+b,eAAe,CAAC,EAAEkB,QAAQ,CAAC;IACjF,KAAK,IAAIN,OAAO,IAAInB,WAAW,CAAC7N,WAAW,CAACzL,QAAQ,EAAE;MAClD1c,MAAM,CAACwa,MAAM,CAACid,QAAQ,EAAEN,OAAO,CAACl8B,KAAK,EAAE4pB,MAAM,EAAEqS,eAAe,CAAC,CAAC,CAAC,CAAC;IACtE;;IACA,IAAIQ,UAAU,GAAGN,gBAAgB,CAACn8B,KAAK,EAAEs7B,eAAe,CAAC;IACzD,IAAIoB,SAAS,GAAGP,gBAAgB,CAACK,QAAQ,EAAElB,eAAe,CAAC;IAC3D;IACA,IAAI,CAACmB,UAAU,IAAIC,SAAS,EAAE;MAC1BnG,OAAO,CAACC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;IACpC,CAAC,MACI,IAAIiG,UAAU,IAAI,CAACC,SAAS,EAAE;MAC/BnG,OAAO,CAACC,OAAO,CAAC,SAAS,EAAE,KAAK,CAAC;IACrC;IACA,IAAI,CAACx2B,KAAK,GAAGw8B,QAAQ;IACrB,IAAIp9B,KAAK,CAACu9B,QAAQ,EAAE;MAChBv9B,KAAK,CAACu9B,QAAQ,CAAC/S,MAAM,CAAC;IAC1B;EACJ;EACA2Q,UAAUA,CAAA,EAAG;IACT,IAAI;MAAEn7B,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,IAAI48B,OAAO,GAAG,IAAI,CAACjrC,IAAI;IACvB,IAAIopC,WAAW,GAAG,IAAI,CAACC,kBAAkB,CAAC57B,KAAK,CAAC0oB,eAAe,EAAE9nB,KAAK,CAAC+nB,sBAAsB,EAAE3oB,KAAK,CAAC4tB,WAAW,CAAC;IACjH,IAAIkO,eAAe,GAAG,IAAI,CAACxB,sBAAsB,CAAC15B,KAAK,CAACi7B,eAAe,EAAEF,WAAW,EAAE37B,KAAK,CAAC0oB,eAAe,EAAE9nB,KAAK,CAAC+nB,sBAAsB,CAAC;IAC1I,IAAIp2B,IAAI,GAAG,IAAI,CAACA,IAAI,GAAGoT,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;MAAE2K,UAAU,EAAE,IAAI,CAACA,UAAU;MAAE6H,SAAS,EAAE,IAAI,CAAClhC,UAAU,CAACmP,KAAK,CAACkrB,WAAW,EAAEgQ,eAAe,CAACx+B,OAAO,EAAEq+B,WAAW,CAAC9Q,OAAO,CAAC;MAAE+C,WAAW,EAAE5tB,KAAK,CAAC4tB,WAAW;MAAEU,QAAQ,EAAE,IAAI,CAACA,QAAQ;MAAE6I,OAAO,EAAE,IAAI,CAACA,OAAO;MAAEzE,cAAc,EAAE,IAAI,CAACA;IAAe,CAAC,EAAEiJ,WAAW,CAAC,EAAEG,eAAe,CAAC,EAAEl7B,KAAK,CAAC;IAC1V,IAAI68B,cAAc,GAAG9B,WAAW,CAAC7N,WAAW,CAAChK,oBAAoB;IACjE,IAAI4Z,kBAAkB,GAAGF,OAAO,IAAIA,OAAO,CAAC7jC,eAAe;IAC3D,IAAIgkC,kBAAkB,GAAGhC,WAAW,CAAChiC,eAAe;IACpD,IAAI+jC,kBAAkB,IAAIA,kBAAkB,KAAKC,kBAAkB,EAAE;MACjE,IAAID,kBAAkB,CAAC7I,QAAQ,KAAK8I,kBAAkB,CAAC9I,QAAQ,EAAE;QAC7D;QACAj0B,KAAK,CAACgQ,YAAY,GAAGre,IAAI,CAACqe,YAAY,GAAGkc,6BAA6B,CAACv6B,IAAI,CAACqe,YAAY,EAAEhQ,KAAK,CAACkrB,WAAW,EAAEv5B,IAAI,CAAC;QAClHqO,KAAK,CAAC42B,UAAU,GAAGjlC,IAAI,CAACilC,UAAU,GAAGzb,sDAAqB,CAACxpB,IAAI,CAACilC,UAAU,EAAEgG,OAAO,CAAC3S,OAAO,EAAEt4B,IAAI,CAACs4B,OAAO,CAAC;QAC1GjqB,KAAK,CAAC27B,oBAAoB,GAAGhqC,IAAI,CAACgqC,oBAAoB,GAAGxgB,sDAAqB,CAACxpB,IAAI,CAACgqC,oBAAoB,EAAEiB,OAAO,CAAC3S,OAAO,EAAEt4B,IAAI,CAACs4B,OAAO,CAAC;MAC5I;MACA,KAAK,IAAI3U,UAAU,IAAIunB,cAAc,EAAE;QACnC,IAAI,IAAI,CAAC/B,kBAAkB,CAACh3B,OAAO,CAACwR,UAAU,CAAC,KAAK,CAAC,CAAC,IAClDwnB,kBAAkB,CAACxnB,UAAU,CAAC,KAAKynB,kBAAkB,CAACznB,UAAU,CAAC,EAAE;UACnEunB,cAAc,CAACvnB,UAAU,CAAC,CAACynB,kBAAkB,CAACznB,UAAU,CAAC,EAAE3jB,IAAI,CAAC;QACpE;MACJ;IACJ;IACA,IAAI,CAACmpC,kBAAkB,GAAG,EAAE;IAC5B,IAAI17B,KAAK,CAAC49B,MAAM,EAAE;MACd59B,KAAK,CAAC49B,MAAM,CAACrrC,IAAI,CAAC;IACtB;EACJ;EACAqpC,kBAAkBA,CAAClT,eAAe,EAAEC,sBAAsB,EAAEiF,WAAW,EAAE;IACrE;IACA,IAAI,CAAC,IAAI,CAAC6N,kBAAkB,CAACh6B,MAAM,IAC/BinB,eAAe,KAAK,IAAI,CAACmV,qBAAqB,IAC9ClV,sBAAsB,KAAK,IAAI,CAACmV,4BAA4B,EAAE;MAC9D,OAAO,IAAI,CAACC,yBAAyB;IACzC;IACA,IAAI;MAAEC,cAAc;MAAElQ,WAAW;MAAElF,cAAc;MAAEqV,mBAAmB;MAAEC;IAAO,CAAC,GAAG,IAAI,CAACC,yBAAyB,CAACzV,eAAe,EAAEC,sBAAsB,CAAC;IAC1JyV,kBAAkB,CAACF,KAAK,CAAC;IACzB,IAAIrT,OAAO,GAAG,IAAI,CAAC2P,YAAY,CAACwD,cAAc,CAACnJ,QAAQ,EAAEmJ,cAAc,CAACpkC,MAAM,EAAEokC,cAAc,CAACK,qBAAqB,EAAEL,cAAc,CAACM,QAAQ,EAAEN,cAAc,CAACte,QAAQ,EAAEoO,WAAW,EAAEmQ,mBAAmB,EAAED,cAAc,CAACO,qBAAqB,CAAC;IAC/O,IAAInO,SAAS,GAAG,IAAI,CAAC5H,cAAc,CAACsF,WAAW,CAACh0B,KAAK,EAAE,IAAI,CAAC+jC,qBAAqB,EAAE,IAAI,CAACC,4BAA4B,EAAElV,cAAc,CAAC;IACrI,IAAIuH,KAAK,GAAG,IAAI,CAACuK,UAAU,CAACsD,cAAc,EAAElQ,WAAW,CAAC;IACxD,IAAI0Q,aAAa,GAAG,IAAI,CAACvO,aAAa,CAAC+N,cAAc,EAAE,IAAI,CAACH,qBAAqB,EAAE1N,KAAK,EAAEC,SAAS,EAAExC,WAAW,CAAC;IACjH,OAAO,IAAI,CAACmQ,yBAAyB,GAAG;MACpCpkC,eAAe,EAAEqkC,cAAc;MAC/BlQ,WAAW;MACXjD,OAAO;MACPuF,SAAS;MACTD,KAAK;MACLqO,aAAa;MACb5V,cAAc;MACd6V,mBAAmB,EAAER,mBAAmB,CAAC58B;IAC7C,CAAC;EACL;EACA;EACA88B,yBAAyBA,CAACzV,eAAe,EAAEC,sBAAsB,EAAE;IAC/D,IAAI;MAAE+V,OAAO;MAAE9kC;IAAO,CAAC,GAAGoiB,sDAAe,CAAC,CACtC3B,kDAAoB,EACpBqO,eAAe,EACfC,sBAAsB,CACzB,CAAC;IACF,IAAIsV,mBAAmB,GAAG,IAAI,CAACvd,kBAAkB,CAACge,OAAO,CAAC;IAC1D,IAAID,mBAAmB,GAAGR,mBAAmB,CAAC58B,GAAG;IACjD,IAAIunB,cAAc,GAAG,IAAI,CAAC5H,WAAW,CAACpnB,MAAM,IAAIqkC,mBAAmB,CAACrd,WAAW,EAAE6d,mBAAmB,CAAC,CAACnhC,OAAO;IAC7G,IAAIwwB,WAAW,GAAG,IAAI,CAAC3J,gBAAgB,CAACuE,eAAe,CAAC7uB,OAAO,IAAI,EAAE,EAAE69B,aAAa,CAAC;IACrF,IAAI9I,QAAQ,GAAG,IAAI,CAAC4M,8BAA8B,GAAG71B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAElE,kDAAoB,CAAC,EAAEC,kDAA0B,CAAC,EAAEC,kDAAwB,CAAC,EAAE2R,WAAW,CAAC9J,gBAAgB,CAAC,EAAE8J,WAAW,CAAC7J,cAAc,CAAC;IACxQ,IAAIia,KAAK,GAAG,CAAC,CAAC;IACd,IAAI3c,GAAG,GAAGvF,sDAAe,CAAC,CACtB3B,kDAAoB,EACpBuO,cAAc,EACdF,eAAe,EACfC,sBAAsB,CACzB,CAAC;IACF,IAAI0K,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIsL,UAAU,GAAG,IAAI,CAACvD,2BAA2B;IACjD,IAAIwD,cAAc,GAAG,IAAI,CAACvD,6BAA6B;IACvD,IAAIwD,UAAU,GAAG,KAAK;IACtB,KAAK,IAAI3oB,UAAU,IAAIqL,GAAG,EAAE;MACxB,IAAI,IAAI,CAACka,kBAAkB,CAAC/2B,OAAO,CAACwR,UAAU,CAAC,KAAK,CAAC,CAAC,KAAKqL,GAAG,CAACrL,UAAU,CAAC,KAAKyoB,UAAU,CAACzoB,UAAU,CAAC,IAAKkG,kDAA0B,CAAClG,UAAU,CAAC,IAC3IA,UAAU,IAAIyoB,UAAW,IAC1BviB,kDAA0B,CAAClG,UAAU,CAAC,CAACyoB,UAAU,CAACzoB,UAAU,CAAC,EAAEqL,GAAG,CAACrL,UAAU,CAAC,CAAE,CAAC,EAAE;QACnFmd,OAAO,CAACnd,UAAU,CAAC,GAAG0oB,cAAc,CAAC1oB,UAAU,CAAC;MACpD,CAAC,MACI,IAAI0Y,QAAQ,CAAC1Y,UAAU,CAAC,EAAE;QAC3Bmd,OAAO,CAACnd,UAAU,CAAC,GAAG0Y,QAAQ,CAAC1Y,UAAU,CAAC,CAACqL,GAAG,CAACrL,UAAU,CAAC,CAAC;QAC3D2oB,UAAU,GAAG,IAAI;MACrB,CAAC,MACI;QACDX,KAAK,CAAChoB,UAAU,CAAC,GAAGyoB,UAAU,CAACzoB,UAAU,CAAC;MAC9C;IACJ;IACA,IAAI2oB,UAAU,EAAE;MACZ,IAAI,CAACzD,2BAA2B,GAAG7Z,GAAG;MACtC,IAAI,CAAC8Z,6BAA6B,GAAGhI,OAAO;MAC5C,IAAI,CAACwK,qBAAqB,GAAGnV,eAAe;MAC5C,IAAI,CAACoV,4BAA4B,GAAGnV,sBAAsB;IAC9D;IACA,IAAI,CAAC+S,kBAAkB,CAACt4B,IAAI,CAAC,GAAG,IAAI,CAACq4B,kBAAkB,CAAC;IACxD,IAAI,CAACA,kBAAkB,GAAG,EAAE;IAC5B,OAAO;MACHhU,UAAU,EAAE,IAAI,CAAC2T,2BAA2B;MAC5C4C,cAAc,EAAE,IAAI,CAAC3C,6BAA6B;MAClDvN,WAAW;MACXmQ,mBAAmB;MACnBrV,cAAc;MACdsV;IACJ,CAAC;EACL;EACA3D,uBAAuBA,CAAC1T,QAAQ,EAAE8U,WAAW,EAAEjT,eAAe,EAAEC,sBAAsB,EAAE;IACpF,IAAIX,QAAQ,GAAG2T,WAAW,CAACvL,SAAS,CAACvJ,QAAQ,CAAC;IAC9C,IAAI,CAACmB,QAAQ,EAAE;MACX,MAAM,IAAIT,KAAK,CAAE,aAAYV,QAAS,2EAA0E,CAAC;IACrH;IACA,IAAI;MAAEmX,cAAc;MAAEE;IAAM,CAAC,GAAG,IAAI,CAACY,qBAAqB,CAAC9W,QAAQ,EAAE2T,WAAW,CAAC7N,WAAW,EAAE6N,WAAW,CAAC/S,cAAc,EAAEF,eAAe,EAAEC,sBAAsB,CAAC;IAClKyV,kBAAkB,CAACF,KAAK,CAAC;IACzB,IAAI,CAACpT,UAAU,CAAC0O,WAAW,CAACmC,WAAW,CAAC9Q,OAAO,EAAEmT,cAAc,CAACjE,GAAG,CAAC;IACpE,IAAIxO,oBAAoB,GAAG,IAAI,CAACoP,yBAAyB,CAAC;MACtDoE,yBAAyB,EAAE/W,QAAQ,CAAC4B,cAAc,CAACmV,yBAAyB;MAC5EjU,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3B9B,QAAQ,EAAEhB,QAAQ,CAACgB,QAAQ;MAC3BC,YAAY,EAAEjB,QAAQ,CAACiB,YAAY;MACnC+V,cAAc,EAAEhX,QAAQ,CAAC4B,cAAc,CAACoV,cAAc;MACtDnU,OAAO,EAAE8Q,WAAW,CAAC9Q,OAAO;MAC5B+C,WAAW,EAAE,IAAI,CAAC5tB,KAAK,CAAC4tB,WAAW;MACnCqR,WAAW,EAAEjB,cAAc,CAACiB,WAAW;MACvCC,WAAW,EAAElB,cAAc,CAACkB,WAAW;MACvCC,mBAAmB,EAAEnB,cAAc,CAACmB,mBAAmB;MACvDC,QAAQ,EAAEpB,cAAc,CAACoB,QAAQ;MACjCC,aAAa,EAAErB,cAAc,CAACqB,aAAa;MAC3CC,aAAa,EAAEtB,cAAc,CAACsB,aAAa;MAC3CC,UAAU,EAAEvB,cAAc,CAACuB,UAAU;MACrCC,QAAQ,EAAExB,cAAc,CAACwB,QAAQ;MACjCC,eAAe,EAAEzB,cAAc,CAAC0B,UAAU;MAC1CC,iBAAiB,EAAE3B,cAAc,CAAC4B,YAAY;MAC9CC,cAAc,EAAE7B,cAAc,CAAC6B;IACnC,CAAC,CAAC;IACF,IAAIvI,OAAO,GAAG,IAAI,CAACsD,YAAY,CAAC/T,QAAQ,EAAE,IAAI,CAAC6L,cAAc,EAAEiJ,WAAW,CAAC9Q,OAAO,CAAC;IACnF,OAAO;MAAE7C,QAAQ;MAAE1qB,OAAO,EAAE0gC,cAAc;MAAEzS,oBAAoB;MAAE+L;IAAQ,CAAC;EAC/E;EACAwH,qBAAqBA,CAAC9W,QAAQ,EAAE8F,WAAW,EAAElF,cAAc,EAAEF,eAAe,EAAEC,sBAAsB,EAAE;IAClG,IAAIpH,GAAG,GAAGvF,sDAAe,CAAC,CACtB3B,kDAAoB,EACpB2N,QAAQ,CAAC4B,cAAc,EACvBhB,cAAc,EACdF,eAAe,EACfV,QAAQ,CAACU,eAAe,EACxBC,sBAAsB,CACzB,CAAC;IACF,IAAIiG,QAAQ,GAAGjpB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAElE,kDAAoB,CAAC,EAAEC,kDAA0B,CAAC,EAAEC,kDAAwB,CAAC,EAAEE,kDAAoB,CAAC,EAAEyR,WAAW,CAAC9J,gBAAgB,CAAC,EAAE8J,WAAW,CAAC7J,cAAc,CAAC;IACvQ,IAAIoP,OAAO,GAAG,CAAC,CAAC;IAChB,IAAIsL,UAAU,GAAG,IAAI,CAACrD,uBAAuB;IAC7C,IAAIsD,cAAc,GAAG,IAAI,CAACrD,yBAAyB;IACnD,IAAIsD,UAAU,GAAG,KAAK;IACtB,IAAIX,KAAK,GAAG,CAAC,CAAC;IACd,KAAK,IAAIhoB,UAAU,IAAIqL,GAAG,EAAE;MACxB,IAAIA,GAAG,CAACrL,UAAU,CAAC,KAAKyoB,UAAU,CAACzoB,UAAU,CAAC,IACzCkG,kDAA0B,CAAClG,UAAU,CAAC,IACnCkG,kDAA0B,CAAClG,UAAU,CAAC,CAACqL,GAAG,CAACrL,UAAU,CAAC,EAAEyoB,UAAU,CAACzoB,UAAU,CAAC,CAAE,EAAE;QACtFmd,OAAO,CAACnd,UAAU,CAAC,GAAG0oB,cAAc,CAAC1oB,UAAU,CAAC;MACpD,CAAC,MACI;QACD,IAAIqL,GAAG,CAACrL,UAAU,CAAC,KAAK,IAAI,CAACklB,2BAA2B,CAACllB,UAAU,CAAC,IAC/DkG,kDAA0B,CAAClG,UAAU,CAAC,IACnCkG,kDAA0B,CAAClG,UAAU,CAAC,CAACqL,GAAG,CAACrL,UAAU,CAAC,EAAE,IAAI,CAACklB,2BAA2B,CAACllB,UAAU,CAAC,CAAE,EAAE;UAC5G,IAAIA,UAAU,IAAI,IAAI,CAACmlB,6BAA6B,EAAE;YAAE;YACpDhI,OAAO,CAACnd,UAAU,CAAC,GAAG,IAAI,CAACmlB,6BAA6B,CAACnlB,UAAU,CAAC;UACxE;QACJ,CAAC,MACI,IAAI0Y,QAAQ,CAAC1Y,UAAU,CAAC,EAAE;UAC3Bmd,OAAO,CAACnd,UAAU,CAAC,GAAG0Y,QAAQ,CAAC1Y,UAAU,CAAC,CAACqL,GAAG,CAACrL,UAAU,CAAC,CAAC;QAC/D,CAAC,MACI;UACDgoB,KAAK,CAAChoB,UAAU,CAAC,GAAGqL,GAAG,CAACrL,UAAU,CAAC;QACvC;QACA2oB,UAAU,GAAG,IAAI;MACrB;IACJ;IACA,IAAIA,UAAU,EAAE;MACZ,IAAI,CAACvD,uBAAuB,GAAG/Z,GAAG;MAClC,IAAI,CAACga,yBAAyB,GAAGlI,OAAO;IAC5C;IACA,OAAO;MACH5L,UAAU,EAAE,IAAI,CAAC6T,uBAAuB;MACxC0C,cAAc,EAAE,IAAI,CAACzC,yBAAyB;MAC9C2C;IACJ,CAAC;EACL;AACJ;AACA,SAASzD,cAAcA,CAAC5F,QAAQ,EAAEiL,cAAc,EAAEzB,qBAAqB,EAAEC,QAAQ,EAAE5e,QAAQ,EAAEoO,WAAW,EAAEmQ,mBAAmB,EAAE/E,gBAAgB,EAAE;EAC7I,IAAIt/B,MAAM,GAAGonB,WAAW,CAAC8e,cAAc,IAAI7B,mBAAmB,CAACrd,WAAW,EAAEqd,mBAAmB,CAAC58B,GAAG,CAAC;EACpG,OAAO,IAAIib,kDAAO,CAAC;IACfyjB,cAAc,EAAE,SAAS;IACzBlL,QAAQ;IACRmL,iBAAiB,EAAElS,WAAW,CAAClK,kBAAkB;IACjDhqB,MAAM;IACNykC,qBAAqB;IACrBC,QAAQ;IACR5e,QAAQ;IACRgE,YAAY,EAAEoK,WAAW,CAACpK,YAAY;IACtCwV;EACJ,CAAC,CAAC;AACN;AACA,SAASwB,UAAUA,CAACp9B,OAAO,EAAEwwB,WAAW,EAAE;EACtC,IAAImS,UAAU,GAAGnS,WAAW,CAACtK,YAAY,CAAClmB,OAAO,CAAC4iC,WAAW,CAAC,IAAIta,aAAa;EAC/E,OAAO,IAAIqa,UAAU,CAAC3iC,OAAO,CAAC;AAClC;AACA,SAASq9B,yBAAyBA,CAAC36B,KAAK,EAAE;EACtC,IAAImgC,yBAAyB,GAAGngC,KAAK,CAAC++B,yBAAyB,IAAIxiB,kDAAoB;EACvF,OAAO,IAAI4jB,yBAAyB,CAACngC,KAAK,CAAC;AAC/C;AACA,SAAS46B,YAAYA,CAAC5lC,IAAI,EAAE09B,cAAc,EAAE7H,OAAO,EAAE;EACjD,OAAO,IAAI4H,QAAQ,CAACz9B,IAAI,EAAE09B,cAAc,EAAE7H,OAAO,CAAC;AACtD;AACA,SAASiQ,oBAAoBA,CAAClqB,YAAY,EAAE;EACxC,OAAOQ,sDAAO,CAACR,YAAY,EAAGsc,WAAW,IAAKA,WAAW,CAACkT,EAAE,CAAC;AACjE;AACA,SAASrF,iBAAiBA,CAACsF,SAAS,EAAEnD,iBAAiB,EAAEC,eAAe,EAAE;EACtE,IAAIb,YAAY,GAAG;IAAE,EAAE,EAAEY;EAAkB,CAAC;EAC5C,KAAK,IAAIoD,KAAK,IAAID,SAAS,EAAE;IACzB,IAAI3b,GAAG,GAAG2b,SAAS,CAACC,KAAK,CAAC;IAC1B,IAAI5b,GAAG,CAAC2H,QAAQ,IAAI8Q,eAAe,CAACzY,GAAG,CAAC2H,QAAQ,CAAC,EAAE;MAC/CiQ,YAAY,CAACgE,KAAK,CAAC,GAAGnD,eAAe,CAACzY,GAAG,CAAC2H,QAAQ,CAAC;IACvD;EACJ;EACA,OAAOiQ,YAAY;AACvB;AACA,SAASzB,gBAAgBA,CAACqB,eAAe,EAAE;EACvC,IAAI;IAAE5+B;EAAQ,CAAC,GAAG4+B,eAAe;EACjC,OAAO;IACHgB,iBAAiB,EAAE1gB,sDAAa,CAAC;MAC7BhJ,OAAO,EAAElW,OAAO,CAACijC,YAAY;MAC7BC,QAAQ,EAAEljC,OAAO,CAACkjC,QAAQ;MAC1BC,aAAa,EAAEnjC,OAAO,CAACojC,kBAAkB;MACzCC,gBAAgB,EAAErjC,OAAO,CAACsjC,qBAAqB;MAC/CC,UAAU,EAAEvjC,OAAO,CAACwjC,eAAe;MACnCC,OAAO,EAAE,OAAOzjC,OAAO,CAAC0jC,YAAY,KAAK,SAAS,GAAG1jC,OAAO,CAAC0jC,YAAY,GAAGtvC,SAAS;MACrFuvC,KAAK,EAAE3jC,OAAO,CAAC4jC,UAAU;MACzB3mC,eAAe,EAAE+C,OAAO,CAAC6jC,oBAAoB;MAC7C3mC,WAAW,EAAE8C,OAAO,CAAC8jC,gBAAgB;MACrCC,SAAS,EAAE/jC,OAAO,CAACgkC,cAAc;MACjC7mC,KAAK,EAAE6C,OAAO,CAACikC;MACf;IACJ,CAAC,EAAErF,eAAe,CAAC;IACnBU,eAAe,EAAEpgB,sDAAa,CAAC;MAC3BqkB,UAAU,EAAEvjC,OAAO,CAACkkC,gBAAgB;MACpCT,OAAO,EAAE,OAAOzjC,OAAO,CAACmkC,aAAa,KAAK,SAAS,GAAGnkC,OAAO,CAACmkC,aAAa,GAAG/vC,SAAS;MACvFuvC,KAAK,EAAE3jC,OAAO,CAACokC;IACnB,CAAC,EAAExF,eAAe;EACtB,CAAC;AACL;AACA,SAASa,gBAAgBA,CAACn8B,KAAK,EAAEsD,OAAO,EAAE;EACtC,KAAK,IAAIy9B,aAAa,IAAIz9B,OAAO,CAAC4pB,WAAW,CAACxL,cAAc,EAAE;IAC1D,IAAIqf,aAAa,CAAC/gC,KAAK,CAAC,EAAE;MACtB,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAChB;AACA,SAASo6B,yBAAyBA,CAACkB,eAAe,EAAE;EAChD,OAAOzf,sDAAkB,CAACyf,eAAe,CAAC5+B,OAAO,CAAC++B,aAAa,EAAEH,eAAe,CAAC;AACrF;AACA,SAASkC,kBAAkBA,CAAC9gC,OAAO,EAAEskC,QAAQ,EAAE;EAC3C,KAAK,IAAI1rB,UAAU,IAAI5Y,OAAO,EAAE;IAC5BwnB,OAAO,CAACC,IAAI,CAAE,mBAAkB7O,UAAW,GAAE,IACxC0rB,QAAQ,GAAI,cAAaA,QAAS,GAAE,GAAG,EAAE,CAAC,CAAC;EACpD;AACJ;AAEA,MAAMC,cAAc,SAAS9nB,kDAAa,CAAC;EACvCnc,MAAMA,CAAA,EAAG;IACL,IAAInL,QAAQ,GAAG,IAAI,CAACuN,KAAK,CAAC8hC,YAAY,CAACzgC,GAAG,CAAE0gC,WAAW,IAAK,IAAI,CAACC,iBAAiB,CAACD,WAAW,CAAC,CAAC;IAChG,OAAO3kC,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAmB,CAAC,EAAE,GAAG7U,QAAQ,CAAC;EAC/E;EACAuvC,iBAAiBA,CAACD,WAAW,EAAE;IAC3B,IAAI;MAAE/hC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEmwB;IAAM,CAAC,GAAG,IAAI,CAACjsB,OAAO;IAC5B,IAAIzR,QAAQ,GAAG,EAAE;IACjB,IAAIwvC,aAAa,GAAG,IAAI;IACxB,KAAK,IAAIC,MAAM,IAAIH,WAAW,EAAE;MAC5B,IAAI;QAAErQ,UAAU;QAAEE,WAAW;QAAE53B,UAAU;QAAE63B,UAAU;QAAE7H;MAAW,CAAC,GAAGkY,MAAM;MAC5E,IAAIxQ,UAAU,KAAK,OAAO,EAAE;QACxBuQ,aAAa,GAAG,KAAK;QACrBxvC,QAAQ,CAAC2Q,IAAI,CAAChG,qDAAa,CAAC,IAAI,EAAE;UAAEkK,SAAS,EAAE,kBAAkB;UAAEuQ,EAAE,EAAE7X,KAAK,CAACmiC;QAAQ,CAAC,EAAEniC,KAAK,CAAC1O,KAAK,CAAC,CAAC;MACzG,CAAC,MACI;QACD,IAAI8wC,SAAS,GAAG1Q,UAAU,KAAK1xB,KAAK,CAACqiC,YAAY;QACjD,IAAIC,UAAU,GAAI,CAACtiC,KAAK,CAACuiC,cAAc,IAAI7Q,UAAU,KAAK,OAAO,IAC5D,CAAC1xB,KAAK,CAACwiC,aAAa,IAAI9Q,UAAU,KAAK,MAAO,IAC9C,CAAC1xB,KAAK,CAACyiC,aAAa,IAAI/Q,UAAU,KAAK,MAAO;QACnD,IAAIgR,aAAa,GAAG,CAAE,MAAKhR,UAAW,SAAQ,EAAEvB,KAAK,CAACwS,QAAQ,CAAC,QAAQ,CAAC,CAAC;QACzE,IAAIP,SAAS,EAAE;UACXM,aAAa,CAACt/B,IAAI,CAAC+sB,KAAK,CAACwS,QAAQ,CAAC,cAAc,CAAC,CAAC;QACtD;QACAlwC,QAAQ,CAAC2Q,IAAI,CAAChG,qDAAa,CAAC,QAAQ,EAAE;UAAEpI,IAAI,EAAE,QAAQ;UAAE1D,KAAK,EAAE,OAAO04B,UAAU,KAAK,UAAU,GAAGA,UAAU,CAAChqB,KAAK,CAACwyB,OAAO,CAAC,GAAGxI,UAAU;UAAE4Y,QAAQ,EAAEN,UAAU;UAAE,cAAc,EAAEF,SAAS;UAAE96B,SAAS,EAAEo7B,aAAa,CAAC7gB,IAAI,CAAC,GAAG,CAAC;UAAEghB,OAAO,EAAEjR;QAAY,CAAC,EAAE53B,UAAU,KAAK63B,UAAU,GAAGz0B,qDAAa,CAAC,MAAM,EAAE;UAAEkK,SAAS,EAAEuqB,UAAU;UAAEn/B,IAAI,EAAE;QAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;MAC5V;IACJ;IACA,IAAID,QAAQ,CAACgP,MAAM,GAAG,CAAC,EAAE;MACrB,IAAIqhC,cAAc,GAAIb,aAAa,IAAI9R,KAAK,CAACwS,QAAQ,CAAC,aAAa,CAAC,IAAK,EAAE;MAC3E,OAAOvlC,qDAAa,CAAC,KAAK,EAAE;QAAEkK,SAAS,EAAEw7B;MAAe,CAAC,EAAE,GAAGrwC,QAAQ,CAAC;IAC3E;IACA,OAAOA,QAAQ,CAAC,CAAC,CAAC;EACtB;AACJ;AAEA,MAAMswC,OAAO,SAAShpB,kDAAa,CAAC;EAChCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEolC,KAAK;MAAEC;IAAe,CAAC,GAAG,IAAI,CAACjjC,KAAK;IAC1C,IAAIkjC,QAAQ,GAAG,KAAK;IACpB,IAAIC,YAAY;IAChB,IAAIC,UAAU;IACd,IAAI3S,cAAc,GAAGuS,KAAK,CAACvS,cAAc;IACzC,IAAI4S,aAAa,GAAG5S,cAAc,CAACj3B,MAAM;IACzC,IAAIi3B,cAAc,CAACl3B,IAAI,EAAE;MACrB2pC,QAAQ,GAAG,IAAI;MACfC,YAAY,GAAG1S,cAAc,CAACl3B,IAAI;IACtC,CAAC,MACI;MACD4pC,YAAY,GAAG1S,cAAc,CAACp2B,KAAK;IACvC;IACA,IAAIo2B,cAAc,CAACh3B,KAAK,EAAE;MACtBypC,QAAQ,GAAG,IAAI;MACfE,UAAU,GAAG3S,cAAc,CAACh3B,KAAK;IACrC,CAAC,MACI;MACD2pC,UAAU,GAAG3S,cAAc,CAACn2B,GAAG;IACnC;IACA,IAAI+tB,UAAU,GAAG,CACb4a,cAAc,IAAI,EAAE,EACpB,YAAY,EACZC,QAAQ,GAAG,gBAAgB,GAAG,EAAE,CACnC;IACD,OAAQ9lC,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG;IAAE,CAAC,EAC5D,IAAI,CAACyhB,aAAa,CAAC,OAAO,EAAEH,YAAY,IAAI,EAAE,CAAC,EAC/C,IAAI,CAACG,aAAa,CAAC,QAAQ,EAAED,aAAa,IAAI,EAAE,CAAC,EACjD,IAAI,CAACC,aAAa,CAAC,KAAK,EAAEF,UAAU,IAAI,EAAE,CAAC,CAAC;EACpD;EACAE,aAAaA,CAAC/4B,GAAG,EAAEu3B,YAAY,EAAE;IAC7B,IAAI;MAAE9hC;IAAM,CAAC,GAAG,IAAI;IACpB,OAAQ5C,qDAAa,CAACykC,cAAc,EAAE;MAAEt3B,GAAG,EAAEA,GAAG;MAAEu3B,YAAY,EAAEA,YAAY;MAAExwC,KAAK,EAAE0O,KAAK,CAAC1O,KAAK;MAAEkhC,OAAO,EAAExyB,KAAK,CAACwyB,OAAO;MAAE6P,YAAY,EAAEriC,KAAK,CAACqiC,YAAY;MAAEE,cAAc,EAAEviC,KAAK,CAACuiC,cAAc;MAAEC,aAAa,EAAExiC,KAAK,CAACwiC,aAAa;MAAEC,aAAa,EAAEziC,KAAK,CAACyiC,aAAa;MAAEN,OAAO,EAAEniC,KAAK,CAACmiC;IAAQ,CAAC,CAAC;EACvS;AACJ;AAEA,MAAMoB,WAAW,SAASxpB,kDAAa,CAAC;EACpC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACvH,KAAK,GAAG;MACT4iC,cAAc,EAAE;IACpB,CAAC;IACD,IAAI,CAACC,QAAQ,GAAIxuB,EAAE,IAAK;MACpB,IAAI,CAACA,EAAE,GAAGA,EAAE;MACZyH,sDAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;MAC5B,IAAI,CAAC0uB,oBAAoB,CAAC,CAAC;IAC/B,CAAC;IACD,IAAI,CAACC,YAAY,GAAG,MAAM;MACtB,IAAI,CAACD,oBAAoB,CAAC,CAAC;IAC/B,CAAC;EACL;EACA/lC,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,IAAI;MAAEijC;IAAY,CAAC,GAAG7jC,KAAK;IAC3B,IAAIqoB,UAAU,GAAG,CACb,iBAAiB,EAChBwb,WAAW,IAAI7jC,KAAK,CAAC8jC,MAAM,IAAI9jC,KAAK,CAAC+jC,MAAM,GACtC,wBAAwB,CAAC;IAAA,EACzB,yBAAyB,CAAE;IAAA,CACpC;;IACD,IAAIA,MAAM,GAAG,EAAE;IACf,IAAIC,aAAa,GAAG,EAAE;IACtB,IAAIH,WAAW,EAAE;MACb,IAAIjjC,KAAK,CAAC4iC,cAAc,KAAK,IAAI,EAAE;QAC/BO,MAAM,GAAGnjC,KAAK,CAAC4iC,cAAc,GAAGK,WAAW;MAC/C,CAAC,MACI;QACD;QACA;QACA;QACA;QACAG,aAAa,GAAI,GAAG,CAAC,GAAGH,WAAW,GAAI,GAAI,GAAE;MACjD;IACJ,CAAC,MACI;MACDE,MAAM,GAAG/jC,KAAK,CAAC+jC,MAAM,IAAI,EAAE;IAC/B;IACA,OAAQ3mC,qDAAa,CAAC,KAAK,EAAE;MAAE,iBAAiB,EAAE4C,KAAK,CAACikC,WAAW;MAAE/jC,GAAG,EAAE,IAAI,CAACujC,QAAQ;MAAEn8B,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG,CAAC;MAAEpX,KAAK,EAAE;QAAEs5B,MAAM;QAAEC;MAAc;IAAE,CAAC,EAAEhkC,KAAK,CAACvN,QAAQ,CAAC;EACjL;EACAyS,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAChB,OAAO,CAACggC,gBAAgB,CAAC,IAAI,CAACN,YAAY,CAAC;EACpD;EACAngC,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACS,OAAO,CAACigC,mBAAmB,CAAC,IAAI,CAACP,YAAY,CAAC;EACvD;EACAD,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAAC1uB,EAAE;IAAI;IACX,IAAI,CAACjV,KAAK,CAAC6jC,WAAW,CAAC;IAAA,EACzB;MACE,IAAI,CAACvgC,QAAQ,CAAC;QAAEkgC,cAAc,EAAE,IAAI,CAACvuB,EAAE,CAACmvB;MAAY,CAAC,CAAC;IAC1D;EACJ;AACJ;;AAEA;AACA;AACA;AACA,MAAMC,aAAa,SAAS1nB,kDAAW,CAAC;EACpCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf,IAAI,CAACC,cAAc,GAAG,CAACzS,EAAE,EAAE0S,KAAK,KAAK;MACjC,IAAI;QAAEnyC;MAAU,CAAC,GAAG,IAAI;MACxB,IAAI;QAAE6R;MAAQ,CAAC,GAAG7R,SAAS;MAC3B,IAAIoyC,GAAG,GAAG7nB,sDAAQ,CAAC4nB,KAAK,CAAC;MACzB,IAAIC,GAAG;MAAI;MACPpyC,SAAS,CAACqyC,gBAAgB,CAAC5S,EAAE,CAACE,MAAM,CAAC,EAAE;QACvC;QACA;QACA,IAAI2S,eAAe,GAAG9nB,sDAAc,CAACiV,EAAE,CAACE,MAAM,EAAE,sBAAsB,CAAC;QACvE,IAAI18B,GAAG,GAAGqvC,eAAe,GAAGA,eAAe,CAACC,aAAa,CAAC,SAAS,CAAC,CAACC,IAAI,GAAG,EAAE;QAC9E3gC,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,YAAY,EAAE;UAClCniB,EAAE,EAAEuvB,KAAK;UACTnoC,KAAK,EAAE,IAAIygB,kDAAS,CAACzqB,SAAS,CAAC6R,OAAO,EAAEugC,GAAG,CAACK,UAAU,CAACpgB,GAAG,EAAE+f,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC;UACpFC,OAAO,EAAElT,EAAE;UACXuF,IAAI,EAAEnzB,OAAO,CAACozB;QAClB,CAAC,CAAC;QACF,IAAIhiC,GAAG,IAAI,CAACw8B,EAAE,CAACzrB,gBAAgB,EAAE;UAC7B9Q,MAAM,CAAC0vC,QAAQ,CAACJ,IAAI,GAAGvvC,GAAG;QAC9B;MACJ;IACJ,CAAC;IACD,IAAI,CAAC4hB,OAAO,GAAG6F,sDAAgB,CAACunB,QAAQ,CAACrvB,EAAE,EAAE,OAAO,EAAE,WAAW;IAAE;IACnE,IAAI,CAACsvB,cAAc,CAAC;EACxB;AACJ;;AAEA;AACA;AACA;AACA;AACA,MAAMW,aAAa,SAASvoB,kDAAW,CAAC;EACpCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf;IACA,IAAI,CAACa,mBAAmB,GAAIlwB,EAAE,IAAK;MAC/B,IAAIA,EAAE,KAAK,IAAI,CAACmwB,YAAY,EAAE;QAC1B,IAAI,CAACC,cAAc,CAAC,IAAI,EAAE,IAAI,CAACD,YAAY,CAAC;MAChD;IACJ,CAAC;IACD,IAAI,CAACE,cAAc,GAAG,CAACxT,EAAE,EAAE0S,KAAK,KAAK;MACjC,IAAI5nB,sDAAQ,CAAC4nB,KAAK,CAAC,EAAE;QAAE;QACnB,IAAI,CAACY,YAAY,GAAGZ,KAAK;QACzB,IAAI,CAACe,YAAY,CAAC,iBAAiB,EAAEzT,EAAE,EAAE0S,KAAK,CAAC;MACnD;IACJ,CAAC;IACD,IAAI,CAACa,cAAc,GAAG,CAACvT,EAAE,EAAE0S,KAAK,KAAK;MACjC,IAAI,IAAI,CAACY,YAAY,EAAE;QACnB,IAAI,CAACA,YAAY,GAAG,IAAI;QACxB,IAAI,CAACG,YAAY,CAAC,iBAAiB,EAAEzT,EAAE,EAAE0S,KAAK,CAAC;MACnD;IACJ,CAAC;IACD,IAAI,CAACgB,oBAAoB,GAAGxoB,uDAAuB,CAACsnB,QAAQ,CAACrvB,EAAE,EAAE,WAAW;IAAE;IAC9E,IAAI,CAACqwB,cAAc,EAAE,IAAI,CAACD,cAAc,CAAC;EAC7C;EACAnuB,OAAOA,CAAA,EAAG;IACN,IAAI,CAACsuB,oBAAoB,CAAC,CAAC;EAC/B;EACAD,YAAYA,CAACE,YAAY,EAAE3T,EAAE,EAAE0S,KAAK,EAAE;IAClC,IAAI;MAAEnyC;IAAU,CAAC,GAAG,IAAI;IACxB,IAAI;MAAE6R;IAAQ,CAAC,GAAG7R,SAAS;IAC3B,IAAIoyC,GAAG,GAAG7nB,sDAAQ,CAAC4nB,KAAK,CAAC;IACzB,IAAI,CAAC1S,EAAE,IAAIz/B,SAAS,CAACqyC,gBAAgB,CAAC5S,EAAE,CAACE,MAAM,CAAC,EAAE;MAC9C9tB,OAAO,CAACizB,OAAO,CAACC,OAAO,CAACqO,YAAY,EAAE;QAClCxwB,EAAE,EAAEuvB,KAAK;QACTnoC,KAAK,EAAE,IAAIygB,kDAAS,CAAC5Y,OAAO,EAAEugC,GAAG,CAACK,UAAU,CAACpgB,GAAG,EAAE+f,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC;QAC1EC,OAAO,EAAElT,EAAE;QACXuF,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC,CAAC;IACN;EACJ;AACJ;AAEA,MAAMoO,eAAe,SAAS97B,mDAAa,CAAC;EACxCvY,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACgV,gBAAgB,GAAG3B,sDAAO,CAAC2B,mDAAgB,CAAC;IACjD,IAAI,CAACwoB,yBAAyB,GAAGnqB,sDAAO,CAACmqB,yBAAyB,CAAC;IACnE,IAAI,CAACC,iBAAiB,GAAGpqB,sDAAO,CAACoqB,iBAAiB,CAAC;IACnD,IAAI,CAACC,SAAS,GAAG3nC,iDAAS,CAAC,CAAC;IAC5B,IAAI,CAAC4nC,SAAS,GAAG5nC,iDAAS,CAAC,CAAC;IAC5B,IAAI,CAAC6nC,iBAAiB,GAAG,CAAC,CAAC;IAC3B;IACA,IAAI,CAACnlC,KAAK,GAAG;MACTolC,WAAW,EAAE3oB,uDAAc,CAAC;IAChC,CAAC;IACD;IACA;IACA,IAAI,CAAC4oB,4BAA4B,GAAG,CAAC5zC,SAAS,EAAE6zC,aAAa,KAAK;MAC9D,IAAI5B,QAAQ,GAAG/mB,uDAAwB,CAAClrB,SAAS,EAAE6zC,aAAa,CAAC;MACjE,IAAIC,oBAAoB,GAAG,CACvB9B,aAAa,EACba,aAAa,CAChB;MACD,IAAIkB,kBAAkB,GAAGD,oBAAoB,CAAC74B,MAAM,CAAC,IAAI,CAACtN,KAAK,CAAC8tB,WAAW,CAACxK,qBAAqB,CAAC;MAClG,IAAI+iB,YAAY,GAAGD,kBAAkB,CAAC/kC,GAAG,CAAEilC,mBAAmB,IAAK,IAAIA,mBAAmB,CAAChC,QAAQ,CAAC,CAAC;MACrG,IAAI,CAACyB,iBAAiB,CAAC1zC,SAAS,CAACk0C,GAAG,CAAC,GAAGF,YAAY;MACpD5oB,mDAAwB,CAACprB,SAAS,CAACk0C,GAAG,CAAC,GAAGjC,QAAQ;IACtD,CAAC;IACD,IAAI,CAACkC,8BAA8B,GAAIn0C,SAAS,IAAK;MACjD,IAAIo0C,SAAS,GAAG,IAAI,CAACV,iBAAiB,CAAC1zC,SAAS,CAACk0C,GAAG,CAAC;MACrD,IAAIE,SAAS,EAAE;QACX,KAAK,IAAIC,QAAQ,IAAID,SAAS,EAAE;UAC5BC,QAAQ,CAACxvB,OAAO,CAAC,CAAC;QACtB;QACA,OAAO,IAAI,CAAC6uB,iBAAiB,CAAC1zC,SAAS,CAACk0C,GAAG,CAAC;MAChD;MACA,OAAO9oB,mDAAwB,CAACprB,SAAS,CAACk0C,GAAG,CAAC;IAClD,CAAC;IACD;IACA;IACA,IAAI,CAACI,YAAY,GAAG,IAAItrB,kDAAa,CAAC,MAAM;MACxC,IAAI,CAACrb,KAAK,CAACm3B,OAAO,CAACC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;MAC7C,IAAI,CAACp3B,KAAK,CAACm3B,OAAO,CAACC,OAAO,CAAC,cAAc,EAAE;QAAEC,IAAI,EAAE,IAAI,CAACr3B,KAAK,CAACs3B;MAAQ,CAAC,CAAC;IAC5E,CAAC,CAAC;IACF,IAAI,CAACsP,kBAAkB,GAAI9U,EAAE,IAAK;MAC9B,IAAI;QAAEx0B;MAAQ,CAAC,GAAG,IAAI,CAAC0C,KAAK;MAC5B,IAAI1C,OAAO,CAACspC,kBAAkB,IAC1B9U,EAAE,CAACE,MAAM,KAAKz8B,MAAM,CAAC;MAAA,EACvB;QACE,IAAI,CAACoxC,YAAY,CAAC1O,OAAO,CAAC36B,OAAO,CAACupC,iBAAiB,CAAC;MACxD;IACJ,CAAC;EACL;EACA;AACJ;AACA;EACIjpC,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEw+B,aAAa;MAAElhC;IAAQ,CAAC,GAAG0C,KAAK;IACtC,IAAI8mC,SAAS,GAAG,KAAK;IACrB,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,eAAe;IACnB,IAAIhnC,KAAK,CAACinC,YAAY,IAAIjnC,KAAK,CAACknC,QAAQ,EAAE;MACtCH,UAAU,GAAG,EAAE;IACnB,CAAC,MACI,IAAIzpC,OAAO,CAACymC,MAAM,IAAI,IAAI,EAAE;MAC7B+C,SAAS,GAAG,IAAI;IACpB,CAAC,MACI,IAAIxpC,OAAO,CAACxB,aAAa,IAAI,IAAI,EAAE;MACpCirC,UAAU,GAAGzpC,OAAO,CAACxB,aAAa;IACtC,CAAC,MACI;MACDkrC,eAAe,GAAGthB,IAAI,CAACC,GAAG,CAACroB,OAAO,CAACumC,WAAW,EAAE,GAAG,CAAC,CAAC,CAAC;IAC1D;;IACA,IAAIsD,WAAW,GAAG,IAAI,CAAChqB,gBAAgB,CAACnd,KAAK,CAACgoB,QAAQ,EAAEhoB,KAAK,CAACs3B,OAAO,EAAEt3B,KAAK,CAAC1C,OAAO,EAAE0C,KAAK,CAACurB,oBAAoB,EAAEvrB,KAAK,CAAC6qB,OAAO,EAAE7qB,KAAK,CAAC8qB,UAAU,EAAE9qB,KAAK,CAACmwB,KAAK,EAAEnwB,KAAK,CAAC8tB,WAAW,EAAE9tB,KAAK,CAACsuB,QAAQ,EAAEtuB,KAAK,CAAC0yB,cAAc,EAAE1yB,KAAK,CAACm3B,OAAO,EAAEn3B,KAAK,CAAC4tB,WAAW,EAAE,IAAI,CAACqY,4BAA4B,EAAE,IAAI,CAACO,8BAA8B,CAAC;IAClU,IAAIR,WAAW,GAAIxH,aAAa,CAACnO,MAAM,IAAImO,aAAa,CAACnO,MAAM,CAACM,QAAQ,GAClE,IAAI,CAAC/vB,KAAK,CAAColC,WAAW,GACtBt0C,SAAS;IACf,OAAQ0L,qDAAa,CAAC4c,kDAAe,CAACnN,QAAQ,EAAE;MAAE9G,KAAK,EAAEohC;IAAY,CAAC,EAClE/pC,qDAAa,CAACugB,mDAAQ,EAAE;MAAE0C,IAAI,EAAE;IAAM,CAAC,EAAG+mB,OAAO,IAAK;MAClD,IAAIC,YAAY,GAAG,IAAI,CAACzB,iBAAiB,CAAC5lC,KAAK,CAACgoB,QAAQ,EAAEhoB,KAAK,CAAC8rB,WAAW,EAAE9rB,KAAK,CAACurB,oBAAoB,EAAEvrB,KAAK,CAAC0qB,WAAW,EAAE0c,OAAO,EAAEpnC,KAAK,CAAC2yB,SAAS,CAAC;MACrJ,OAAQv1B,qDAAa,CAACM,4CAAQ,EAAE,IAAI,EAChC8gC,aAAa,CAACnO,MAAM,IAAKjzB,qDAAa,CAAC2lC,OAAO,EAAEp9B,MAAM,CAACwa,MAAM,CAAC;QAAEjgB,GAAG,EAAE,IAAI,CAAC2lC,SAAS;QAAE5C,cAAc,EAAE,mBAAmB;QAAED,KAAK,EAAExE,aAAa,CAACnO,MAAM;QAAE8R,OAAO,EAAE6D;MAAY,CAAC,EAAEqB,YAAY,CAAC,CAAE,EAC9LjqC,qDAAa,CAACmmC,WAAW,EAAE;QAAEO,MAAM,EAAEgD,SAAS;QAAE/C,MAAM,EAAEgD,UAAU;QAAElD,WAAW,EAAEmD,eAAe;QAAE/C,WAAW,EAAE+B;MAAY,CAAC,EACxH,IAAI,CAACsB,UAAU,CAACtnC,KAAK,CAAC,EACtB,IAAI,CAACunC,kBAAkB,CAAC,CAAC,CAAC,EAC9B/I,aAAa,CAACjO,MAAM,IAAKnzB,qDAAa,CAAC2lC,OAAO,EAAEp9B,MAAM,CAACwa,MAAM,CAAC;QAAEjgB,GAAG,EAAE,IAAI,CAAC4lC,SAAS;QAAE7C,cAAc,EAAE,mBAAmB;QAAED,KAAK,EAAExE,aAAa,CAACjO,MAAM;QAAE4R,OAAO,EAAE;MAAG,CAAC,EAAEkF,YAAY,CAAC,CAAE,CAAC;IAC9L,CAAC,CAAC,CAAC;EACX;EACAniC,iBAAiBA,CAAA,EAAG;IAChB,IAAI;MAAElF;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI,CAACujB,oBAAoB,GAAGvjB,KAAK,CAAC8tB,WAAW,CAACvK,oBAAoB,CAC7DliB,GAAG,CAAEmmC,wBAAwB,IAAK,IAAIA,wBAAwB,CAACxnC,KAAK,CAAC,CAAC;IAC3EzK,MAAM,CAACqV,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACg8B,kBAAkB,CAAC;IAC1D,IAAI;MAAE1iB;IAAgB,CAAC,GAAGlkB,KAAK,CAAC8tB,WAAW;IAC3C,KAAK,IAAI2Z,QAAQ,IAAIvjB,eAAe,EAAE;MAClCA,eAAe,CAACujB,QAAQ,CAAC,CAACznC,KAAK,CAACynC,QAAQ,CAAC,EAAEznC,KAAK,CAAC;IACrD;EACJ;EACAiF,kBAAkBA,CAACyiC,SAAS,EAAE;IAC1B,IAAI;MAAE1nC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEkkB;IAAgB,CAAC,GAAGlkB,KAAK,CAAC8tB,WAAW;IAC3C,KAAK,IAAI2Z,QAAQ,IAAIvjB,eAAe,EAAE;MAClC,IAAIlkB,KAAK,CAACynC,QAAQ,CAAC,KAAKC,SAAS,CAACD,QAAQ,CAAC,EAAE;QACzCvjB,eAAe,CAACujB,QAAQ,CAAC,CAACznC,KAAK,CAACynC,QAAQ,CAAC,EAAEznC,KAAK,CAAC;MACrD;IACJ;EACJ;EACAyD,oBAAoBA,CAAA,EAAG;IACnBlO,MAAM,CAACsV,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC+7B,kBAAkB,CAAC;IAC7D,IAAI,CAACD,YAAY,CAACgB,KAAK,CAAC,CAAC;IACzB,KAAK,IAAIC,WAAW,IAAI,IAAI,CAACrkB,oBAAoB,EAAE;MAC/CqkB,WAAW,CAAC1wB,OAAO,CAAC,CAAC;IACzB;IACA,IAAI,CAAClX,KAAK,CAACm3B,OAAO,CAACC,OAAO,CAAC,UAAU,CAAC;EAC1C;EACAmQ,kBAAkBA,CAAA,EAAG;IACjB,IAAI;MAAEvnC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIvN,QAAQ,GAAGuN,KAAK,CAAC8tB,WAAW,CAAC1K,oBAAoB,CAAC/hB,GAAG,CAAEkmC,kBAAkB,IAAKA,kBAAkB,CAACvnC,KAAK,CAAC,CAAC;IAC5G,OAAO5C,qDAAa,CAACM,4CAAQ,EAAE,CAAC,CAAC,EAAE,GAAGjL,QAAQ,CAAC;EACnD;EACA60C,UAAUA,CAACtnC,KAAK,EAAE;IACd,IAAI;MAAE8tB;IAAY,CAAC,GAAG9tB,KAAK;IAC3B,IAAI;MAAEgoB;IAAS,CAAC,GAAGhoB,KAAK;IACxB,IAAI+nB,SAAS,GAAG;MACZ+D,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAC9BuQ,aAAa,EAAEr8B,KAAK,CAACq8B,aAAa;MAClC7E,UAAU,EAAEx3B,KAAK,CAACu8B,oBAAoB;MACtCD,YAAY,EAAEt8B,KAAK,CAACs8B,YAAY;MAChCE,aAAa,EAAEx8B,KAAK,CAACw8B,aAAa;MAClCC,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MACpCC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;MAC1BC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;MAC9BsK,YAAY,EAAEjnC,KAAK,CAACinC,YAAY;MAChCC,QAAQ,EAAElnC,KAAK,CAACknC;IACpB,CAAC;IACD,IAAIW,YAAY,GAAG,IAAI,CAAClC,yBAAyB,CAAC7X,WAAW,CAAC7K,qBAAqB,CAAC;IACpF,KAAK,IAAI6kB,WAAW,IAAID,YAAY,EAAE;MAClCliC,MAAM,CAACwa,MAAM,CAAC4H,SAAS,EAAE+f,WAAW,CAACC,SAAS,CAAChgB,SAAS,EAAE/nB,KAAK,CAAC,CAAC;IACrE;IACA,IAAIgoC,aAAa,GAAGhgB,QAAQ,CAAC31B,SAAS;IACtC,OAAQ+K,qDAAa,CAAC4qC,aAAa,EAAEriC,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE4H,SAAS,CAAC,CAAC;EACtE;AACJ;AACA,SAAS6d,iBAAiBA,CAAC5d,QAAQ,EAAE8D,WAAW,EAAEP,oBAAoB,EAAEb,WAAW,EAAEqP,GAAG,EAAEzoC,KAAK,EAAE;EAC7F;EACA,IAAI22C,SAAS,GAAG1c,oBAAoB,CAACE,KAAK,CAACsO,GAAG,EAAEroC,SAAS,EAAE,KAAK,CAAC,CAAC,CAAC;EACnE,IAAIw2C,QAAQ,GAAG3c,oBAAoB,CAACG,SAAS,CAACI,WAAW,EAAEpB,WAAW,EAAE,KAAK,CAAC;EAC9E,IAAIyd,QAAQ,GAAG5c,oBAAoB,CAACK,SAAS,CAACE,WAAW,EAAEpB,WAAW,EAAE,KAAK,CAAC;EAC9E,OAAO;IACHp5B,KAAK;IACL+wC,YAAY,EAAEra,QAAQ,CAAChzB,IAAI;IAC3Bw9B,OAAO,EAAExK,QAAQ,CAACkB,UAAU;IAC5BqZ,cAAc,EAAE0F,SAAS,CAACtc,OAAO,IAAI,CAAC/P,sDAAmB,CAACkQ,WAAW,CAACkH,YAAY,EAAE+G,GAAG,CAAC;IACxFyI,aAAa,EAAE0F,QAAQ,CAACvc,OAAO;IAC/B8W,aAAa,EAAE0F,QAAQ,CAACxc;EAC5B,CAAC;AACL;AACA;AACA;AACA,SAASga,yBAAyBA,CAACyC,UAAU,EAAE;EAC3C,OAAOA,UAAU,CAAC/mC,GAAG,CAAEgnC,QAAQ,IAAK,IAAIA,QAAQ,CAAC,CAAC,CAAC;AACvD;AAEA,MAAMp6B,QAAQ,SAAS4P,mDAAY,CAAC;EAChCxsB,WAAWA,CAAC4jB,EAAE,EAAEyT,eAAe,GAAG,CAAC,CAAC,EAAE;IAClC,KAAK,CAAC,CAAC;IACP,IAAI,CAAC4f,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACC,iBAAiB,GAAG,EAAE;IAC3B,IAAI,CAACC,qBAAqB,GAAG,CAAC;IAC9B,IAAI,CAACC,YAAY,GAAIle,MAAM,IAAK;MAC5B;MACA,QAAQA,MAAM,CAACx1B,IAAI;QACf,KAAK,gBAAgB;QACrB,KAAK,kBAAkB;UACnB,IAAI,CAAC2zC,YAAY,CAACC,QAAQ,CAAC,CAAC;MACpC;IACJ,CAAC;IACD,IAAI,CAACC,UAAU,GAAIt2C,IAAI,IAAK;MACxB,IAAI,CAACu2C,WAAW,GAAGv2C,IAAI;MACvB,IAAI,CAACo2C,YAAY,CAAC1Q,OAAO,CAAC1lC,IAAI,CAACoH,eAAe,CAACovC,aAAa,CAAC;IACjE,CAAC;IACD,IAAI,CAACC,mBAAmB,GAAG,MAAM;MAC7B,IAAI,IAAI,CAACV,WAAW,EAAE;QAClB,IAAI,CAACC,UAAU,GAAG,IAAI;QACtB,IAAI;UAAEO;QAAY,CAAC,GAAG,IAAI;QAC1B/+B,uDAAS,CAAC,MAAM;UACZnM,8CAAM,CAACR,qDAAa,CAAC4gB,mDAAY,EAAE;YAAE1gB,OAAO,EAAEwrC,WAAW,CAACnvC,eAAe;YAAEw2B,KAAK,EAAE2Y,WAAW,CAAC3Y,KAAK;YAAEgH,OAAO,EAAE2R,WAAW,CAAC3R;UAAQ,CAAC,EAAE,CAAC9O,UAAU,EAAE0b,MAAM,EAAEkD,YAAY,EAAEC,QAAQ,KAAK;YACjL,IAAI,CAAC+B,aAAa,CAAC5gB,UAAU,CAAC;YAC9B,IAAI,CAAC6gB,SAAS,CAACnF,MAAM,CAAC;YACtB,OAAQ3mC,qDAAa,CAAC8gB,mDAAQ,CAACrR,QAAQ,EAAE;cAAE9G,KAAK,EAAE,IAAI,CAAC0iC;YAAsB,CAAC,EAC1ErrC,qDAAa,CAACsoC,eAAe,EAAE//B,MAAM,CAACwa,MAAM,CAAC;cAAE8mB,YAAY,EAAEA,YAAY;cAAEC,QAAQ,EAAEA;YAAS,CAAC,EAAE4B,WAAW,CAAC,CAAC,CAAC;UACvH,CAAC,CAAC,EAAE,IAAI,CAAC7zB,EAAE,CAAC;QAChB,CAAC,CAAC;MACN,CAAC,MACI,IAAI,IAAI,CAACszB,UAAU,EAAE;QACtB,IAAI,CAACA,UAAU,GAAG,KAAK;QACvB3qC,8CAAM,CAAC,IAAI,EAAE,IAAI,CAACqX,EAAE,CAAC;QACrB,IAAI,CAACg0B,aAAa,CAAC,EAAE,CAAC;QACtB,IAAI,CAACC,SAAS,CAAC,EAAE,CAAC;MACtB;IACJ,CAAC;IACD9qB,uDAAiB,CAACnJ,EAAE,CAAC;IACrB,IAAI,CAACA,EAAE,GAAGA,EAAE;IACZ,IAAI,CAAC0zB,YAAY,GAAG,IAAIttB,kDAAa,CAAC,IAAI,CAAC2tB,mBAAmB,CAAC;IAC/D,IAAI3O,mBAAmB,CAAC;MACpB3R,eAAe;MACfkF,WAAW,EAAE,IAAI;MACjB2P,QAAQ,EAAE,IAAI,CAACmL,YAAY;MAC3B9K,MAAM,EAAE,IAAI,CAACiL;IACjB,CAAC,CAAC;EACN;EACAjrC,MAAMA,CAAA,EAAG;IACL,IAAIurC,YAAY,GAAG,IAAI,CAACb,WAAW;IACnC,IAAI,CAACa,YAAY,EAAE;MACf,IAAI,CAACb,WAAW,GAAG,IAAI;IAC3B,CAAC,MACI;MACD,IAAI,CAACG,qBAAqB,IAAI,CAAC;IACnC;IACA,IAAI,CAACE,YAAY,CAAC1Q,OAAO,CAAC,CAAC;IAC3B,IAAIkR,YAAY,EAAE;MACd,IAAI,CAAC3yB,UAAU,CAAC,CAAC;IACrB;EACJ;EACAU,OAAOA,CAAA,EAAG;IACN,IAAI,IAAI,CAACoxB,WAAW,EAAE;MAClB,IAAI,CAACA,WAAW,GAAG,KAAK;MACxB,IAAI,CAACK,YAAY,CAAC1Q,OAAO,CAAC,CAAC;IAC/B;EACJ;EACAzhB,UAAUA,CAAA,EAAG;IACTzM,uDAAS,CAAC,MAAM;MACZ,KAAK,CAACyM,UAAU,CAAC,CAAC;IACtB,CAAC,CAAC;EACN;EACA4yB,cAAcA,CAAC/3B,IAAI,EAAE;IACjB,IAAI,CAACs3B,YAAY,CAACvQ,KAAK,CAAC,gBAAgB,CAAC;IACzC/mB,IAAI,CAAC,CAAC;IACN,IAAI,CAACs3B,YAAY,CAACrQ,MAAM,CAAC,gBAAgB,CAAC;EAC9C;EACAxhB,cAAcA,CAAA,EAAG;IACb,IAAI,CAAC6xB,YAAY,CAACvQ,KAAK,CAAC,gBAAgB,CAAC;EAC7C;EACAnhB,eAAeA,CAAA,EAAG;IACd,IAAI,CAAC0xB,YAAY,CAACrQ,MAAM,CAAC,gBAAgB,EAAE,IAAI,CAAC;EACpD;EACAvhB,YAAYA,CAAC2R,eAAe,EAAE9R,kBAAkB,EAAE;IAC9C,IAAI,CAACmlB,kBAAkB,CAAChlB,YAAY,CAAC2R,eAAe,EAAE9R,kBAAkB,CAAC;EAC7E;EACAqyB,aAAaA,CAAC5gB,UAAU,EAAE;IACtB,IAAI,CAACxO,sDAAa,CAACwO,UAAU,EAAE,IAAI,CAACmgB,iBAAiB,CAAC,EAAE;MACpD,IAAI;QAAEa;MAAU,CAAC,GAAG,IAAI,CAACp0B,EAAE;MAC3B,KAAK,IAAI3N,SAAS,IAAI,IAAI,CAACkhC,iBAAiB,EAAE;QAC1Ca,SAAS,CAACC,MAAM,CAAChiC,SAAS,CAAC;MAC/B;MACA,KAAK,IAAIA,SAAS,IAAI+gB,UAAU,EAAE;QAC9BghB,SAAS,CAAC7S,GAAG,CAAClvB,SAAS,CAAC;MAC5B;MACA,IAAI,CAACkhC,iBAAiB,GAAGngB,UAAU;IACvC;EACJ;EACA6gB,SAASA,CAACnF,MAAM,EAAE;IACdzlB,uDAAc,CAAC,IAAI,CAACrJ,EAAE,EAAE,QAAQ,EAAE8uB,MAAM,CAAC;EAC7C;AACJ;AAEA,SAASwF,UAAUA,CAACC,SAAS,EAAElsC,OAAO,GAAG,CAAC,CAAC,EAAE;EACzC,IAAIutB,OAAO,GAAG2P,YAAY,CAACl9B,OAAO,CAAC;EACnC,IAAImsC,SAAS,GAAGnuB,sDAAe,CAAChe,OAAO,CAAC;EACxC,IAAIosC,QAAQ,GAAG7e,OAAO,CAAC8e,gBAAgB,CAACH,SAAS,CAAC;EAClD,IAAI,CAACE,QAAQ,EAAE;IAAE;IACb,OAAO,EAAE;EACb;EACA,OAAO7e,OAAO,CAACwJ,MAAM,CAACqV,QAAQ,CAACE,MAAM,EAAEH,SAAS,EAAE;IAC9CI,SAAS,EAAEH,QAAQ,CAACG;EACxB,CAAC,CAAC;AACN;AACA,SAAShR,WAAWA,CAACiR,UAAU,EAAEC,QAAQ,EAAEzsC,OAAO,EAAE;EAChD,IAAIutB,OAAO,GAAG2P,YAAY,CAAC,OAAOl9B,OAAO,KAAK,QAAQ,IAAIA,OAAO,GAAGA,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;EACnF,IAAImsC,SAAS,GAAGnuB,sDAAe,CAAChe,OAAO,CAAC;EACxC,IAAI0sC,SAAS,GAAGnf,OAAO,CAAC8e,gBAAgB,CAACG,UAAU,CAAC;EACpD,IAAIG,OAAO,GAAGpf,OAAO,CAAC8e,gBAAgB,CAACI,QAAQ,CAAC;EAChD,IAAI,CAACC,SAAS,IAAI,CAACC,OAAO,EAAE;IAAE;IAC1B,OAAO,EAAE;EACb;EACA,OAAOpf,OAAO,CAACgO,WAAW,CAACmR,SAAS,CAACJ,MAAM,EAAEK,OAAO,CAACL,MAAM,EAAEH,SAAS,EAAE;IACpES,cAAc,EAAEF,SAAS,CAACH,SAAS;IACnCM,YAAY,EAAEF,OAAO,CAACJ,SAAS;IAC/B7Q,cAAc,EAAE17B,OAAO,CAAC07B,cAAc;IACtCE,gBAAgB,EAAE7e,kDAAoB,CAACkkB;EAC3C,CAAC,CAAC;AACN;AACA;AACA,SAAS/D,YAAYA,CAAC8J,QAAQ,EAAE;EAC5B,IAAI1qC,MAAM,GAAGonB,WAAW,CAACsjB,QAAQ,CAAC1qC,MAAM,IAAI,IAAI,EAAE8mB,kBAAkB,CAAC,EAAE,CAAC,CAACrf,GAAG,CAAC,CAAC,CAAC;EAC/E,OAAO,IAAIib,kDAAO,CAAC3W,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;IAAE0U,QAAQ,EAAExa,kDAAoB,CAACwa,QAAQ;IAAEkL,cAAc,EAAE;EAAU,CAAC,EAAEuE,QAAQ,CAAC,EAAE;IAAE1qC;EAAO,CAAC,CAAC,CAAC;AAClJ;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASwwC,WAAWA,CAACpqC,KAAK,EAAEqqC,MAAM,EAAE;EAChC,OAAO7rB,uDAAe,CAACxe,KAAK,CAACw3B,UAAU,EAAEx3B,KAAK,CAACs8B,YAAY,EAAEt8B,KAAK,CAAC8rB,WAAW,CAACC,WAAW,EAAEse,MAAM,GAAGrqC,KAAK,CAACioB,gBAAgB,GAAG,IAAI,CAAC,CAACqiB,EAAE;AAC1I;AAEA,MAAMjhC,OAAO,GAAG,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3qES;AAC2C;AAC/B;AAE7C,MAAMmhC,UAAU,GAAG,EAAE;AACrB,MAAMC,QAAQ,GAAG,IAAI3lC,GAAG,CAAC,CAAC;AAC1B,SAAS4lC,YAAYA,CAACC,SAAS,EAAE;EAC7BH,UAAU,CAACpnC,IAAI,CAACunC,SAAS,CAAC;EAC1BF,QAAQ,CAAClpC,OAAO,CAAEqpC,OAAO,IAAK;IAC1BC,cAAc,CAACD,OAAO,EAAED,SAAS,CAAC;EACtC,CAAC,CAAC;AACN;AACA,SAASvsB,iBAAiBA,CAACnJ,EAAE,EAAE;EAC3B,IAAIA,EAAE,CAAC61B,WAAW;EAAI;EAClB71B,EAAE,CAAC81B,WAAW,CAAC;EAAA,EACjB;IACEC,kBAAkB,CAAC/1B,EAAE,CAAC81B,WAAW,CAAC,CAAC,CAAC;EACxC;AACJ;AACA,SAASC,kBAAkBA,CAACC,QAAQ,EAAE;EAClC,IAAIL,OAAO,GAAGH,QAAQ,CAAC5lC,GAAG,CAAComC,QAAQ,CAAC;EACpC,IAAI,CAACL,OAAO,IAAI,CAACA,OAAO,CAACE,WAAW,EAAE;IAClCF,OAAO,GAAGK,QAAQ,CAACrG,aAAa,CAAC,0BAA0B,CAAC;IAC5D,IAAI,CAACgG,OAAO,EAAE;MACVA,OAAO,GAAGlnC,QAAQ,CAACtG,aAAa,CAAC,OAAO,CAAC;MACzCwtC,OAAO,CAAC7/B,YAAY,CAAC,mBAAmB,EAAE,EAAE,CAAC;MAC7C,MAAMmgC,KAAK,GAAGC,aAAa,CAAC,CAAC;MAC7B,IAAID,KAAK,EAAE;QACPN,OAAO,CAACM,KAAK,GAAGA,KAAK;MACzB;MACA,MAAME,QAAQ,GAAGH,QAAQ,KAAKvnC,QAAQ,GAAGA,QAAQ,CAAC2nC,IAAI,GAAGJ,QAAQ;MACjE,MAAMxoC,YAAY,GAAGwoC,QAAQ,KAAKvnC,QAAQ,GACpC0nC,QAAQ,CAACxG,aAAa,CAAC,kDAAkD,CAAC,GAC1EwG,QAAQ,CAACz+B,UAAU;MACzBy+B,QAAQ,CAAC3oC,YAAY,CAACmoC,OAAO,EAAEnoC,YAAY,CAAC;IAChD;IACAgoC,QAAQ,CAACzlC,GAAG,CAACimC,QAAQ,EAAEL,OAAO,CAAC;IAC/BU,iBAAiB,CAACV,OAAO,CAAC;EAC9B;AACJ;AACA,SAASU,iBAAiBA,CAACV,OAAO,EAAE;EAChC,KAAK,MAAMD,SAAS,IAAIH,UAAU,EAAE;IAChCK,cAAc,CAACD,OAAO,EAAED,SAAS,CAAC;EACtC;AACJ;AACA,SAASE,cAAcA,CAACD,OAAO,EAAED,SAAS,EAAE;EACxC,MAAM;IAAEY;EAAM,CAAC,GAAGX,OAAO;EACzB,MAAMY,OAAO,GAAGD,KAAK,CAACE,QAAQ,CAAChqC,MAAM;EACrCkpC,SAAS,CAAChpB,KAAK,CAAC,GAAG,CAAC,CAACpgB,OAAO,CAAC,CAACmqC,QAAQ,EAAE3tC,CAAC,KAAK;IAC1C2tC,QAAQ,GAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;IAC1B,IAAID,QAAQ,EAAE;MACVH,KAAK,CAACK,UAAU,CAACF,QAAQ,GAAG,GAAG,EAAEF,OAAO,GAAGztC,CAAC,CAAC;IACjD;EACJ,CAAC,CAAC;AACN;AACA;AACA;AACA,IAAI8tC,iBAAiB;AACrB,SAASV,aAAaA,CAAA,EAAG;EACrB,IAAIU,iBAAiB,KAAKn6C,SAAS,EAAE;IACjCm6C,iBAAiB,GAAGC,eAAe,CAAC,CAAC;EACzC;EACA,OAAOD,iBAAiB;AAC5B;AACA;AACA;AACA;AACA,SAASC,eAAeA,CAAA,EAAG;EACvB,MAAMC,aAAa,GAAGroC,QAAQ,CAACkhC,aAAa,CAAC,wBAAwB,CAAC;EACtE,IAAImH,aAAa,IAAIA,aAAa,CAACC,YAAY,CAAC,SAAS,CAAC,EAAE;IACxD,OAAOD,aAAa,CAACE,YAAY,CAAC,SAAS,CAAC;EAChD;EACA,MAAMC,WAAW,GAAGxoC,QAAQ,CAACkhC,aAAa,CAAC,eAAe,CAAC;EAC3D,IAAIsH,WAAW,EAAE;IACb,OAAOA,WAAW,CAAChB,KAAK,IAAI,EAAE;EAClC;EACA,OAAO,EAAE;AACb;AACA;AACA;AACA,IAAI,OAAOxnC,QAAQ,KAAK,WAAW,EAAE;EACjCsnC,kBAAkB,CAACtnC,QAAQ,CAAC;AAChC;AAEA,IAAIyoC,QAAQ,GAAG,q/bAAq/b;AACpgczB,YAAY,CAACyB,QAAQ,CAAC;AAEtB,MAAM9wB,aAAa,CAAC;EAChBhqB,WAAWA,CAACwmC,aAAa,EAAE;IACvB,IAAI,CAACA,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACuU,SAAS,GAAG,KAAK;IACtB,IAAI,CAACC,OAAO,GAAG,KAAK;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACC,SAAS,GAAG,CAAC;EACtB;EACAtU,OAAOA,CAACE,KAAK,EAAE;IACX,IAAI,CAACkU,OAAO,GAAG,IAAI;IACnB,IAAI,CAAC,IAAI,CAACG,QAAQ,CAAC,CAAC,EAAE;MAClB,IAAI,CAAC/+B,YAAY,CAAC,CAAC;MACnB,IAAI0qB,KAAK,IAAI,IAAI,EAAE;QACf,IAAI,CAACyQ,QAAQ,CAAC,CAAC;MACnB,CAAC,MACI;QACD,IAAI,CAAC2D,SAAS,GAAGvhC,UAAU;QAAC;QAC5B,IAAI,CAAC49B,QAAQ,CAACxtC,IAAI,CAAC,IAAI,CAAC,EAAE+8B,KAAK,CAAC;MACpC;IACJ;EACJ;EACAC,KAAKA,CAACC,KAAK,GAAG,EAAE,EAAE;IACd,IAAI;MAAEiU;IAAY,CAAC,GAAG,IAAI;IAC1BA,WAAW,CAACjU,KAAK,CAAC,GAAG,CAACiU,WAAW,CAACjU,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAAC5qB,YAAY,CAAC,CAAC;EACvB;EACA6qB,MAAMA,CAACD,KAAK,GAAG,EAAE,EAAEE,KAAK,EAAE;IACtB,IAAI;MAAE+T;IAAY,CAAC,GAAG,IAAI;IAC1B,IAAIjU,KAAK,IAAIiU,WAAW,EAAE;MACtB,IAAI/T,KAAK,EAAE;QACP,OAAO+T,WAAW,CAACjU,KAAK,CAAC;MAC7B,CAAC,MACI;QACDiU,WAAW,CAACjU,KAAK,CAAC,IAAI,CAAC;QACvB,IAAIoU,KAAK,GAAGH,WAAW,CAACjU,KAAK,CAAC;QAC9B,IAAIoU,KAAK,IAAI,CAAC,EAAE;UACZ,OAAOH,WAAW,CAACjU,KAAK,CAAC;QAC7B;MACJ;MACA,IAAI,CAACuQ,QAAQ,CAAC,CAAC;IACnB;EACJ;EACA4D,QAAQA,CAAA,EAAG;IACP,OAAO7mC,MAAM,CAAC6L,IAAI,CAAC,IAAI,CAAC86B,WAAW,CAAC,CAAC7qC,MAAM;EAC/C;EACAmnC,QAAQA,CAAA,EAAG;IACP,IAAI,CAAC,IAAI,CAACwD,SAAS,IAAI,CAAC,IAAI,CAACI,QAAQ,CAAC,CAAC,EAAE;MACrC,IAAI,CAACJ,SAAS,GAAG,IAAI;MACrB,OAAO,IAAI,CAACC,OAAO,EAAE;QACjB,IAAI,CAACA,OAAO,GAAG,KAAK;QACpB,IAAI,CAAC3T,OAAO,CAAC,CAAC,CAAC,CAAC;MACpB;;MACA,IAAI,CAAC0T,SAAS,GAAG,KAAK;IAC1B;EACJ;EACAzE,KAAKA,CAAA,EAAG;IACJ,IAAI,CAACl6B,YAAY,CAAC,CAAC;IACnB,IAAI,CAAC4+B,OAAO,GAAG,KAAK;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;EACzB;EACA7+B,YAAYA,CAAA,EAAG;IACX,IAAI,IAAI,CAAC8+B,SAAS,EAAE;MAChB9+B,YAAY,CAAC,IAAI,CAAC8+B,SAAS,CAAC;MAC5B,IAAI,CAACA,SAAS,GAAG,CAAC;IACtB;EACJ;EACA7T,OAAOA,CAAA,EAAG;IACN,IAAI,IAAI,CAACb,aAAa,EAAE;MACpB,IAAI,CAACA,aAAa,CAAC,CAAC;IACxB;EACJ;AACJ;AAEA,SAAS6U,aAAaA,CAACz3B,EAAE,EAAE;EACvB,IAAIA,EAAE,CAAC5Q,UAAU,EAAE;IACf4Q,EAAE,CAAC5Q,UAAU,CAACG,WAAW,CAACyQ,EAAE,CAAC;EACjC;AACJ;AACA;AACA;AACA,SAAS4H,cAAcA,CAAC5H,EAAE,EAAElC,QAAQ,EAAE;EAClC,IAAIkC,EAAE,CAACqB,OAAO,EAAE;IACZ,OAAOrB,EAAE,CAACqB,OAAO,CAACvD,QAAQ,CAAC;IAC3B;IACA;EACJ;;EACA,IAAI,CAACrP,QAAQ,CAACipC,eAAe,CAACC,QAAQ,CAAC33B,EAAE,CAAC,EAAE;IACxC,OAAO,IAAI;EACf;EACA,GAAG;IACC,IAAI43B,cAAc,CAAC53B,EAAE,EAAElC,QAAQ,CAAC,EAAE;MAC9B,OAAOkC,EAAE;IACb;IACAA,EAAE,GAAIA,EAAE,CAAC63B,aAAa,IAAI73B,EAAE,CAAC5Q,UAAW;EAC5C,CAAC,QAAQ4Q,EAAE,KAAK,IAAI,IAAIA,EAAE,CAAC7Q,QAAQ,KAAK,CAAC;EACzC,OAAO,IAAI;AACf;AACA,SAASyoC,cAAcA,CAAC53B,EAAE,EAAElC,QAAQ,EAAE;EAClC,IAAI+gB,MAAM,GAAG7e,EAAE,CAACrZ,OAAO,IAAIqZ,EAAE,CAAC83B,eAAe,IAAI93B,EAAE,CAAC+3B,iBAAiB;EACrE,OAAOlZ,MAAM,CAAC3zB,IAAI,CAAC8U,EAAE,EAAElC,QAAQ,CAAC;AACpC;AACA;AACA;AACA;AACA,SAASk6B,YAAYA,CAACC,SAAS,EAAEn6B,QAAQ,EAAE;EACvC,IAAIo6B,UAAU,GAAGD,SAAS,YAAYE,WAAW,GAAG,CAACF,SAAS,CAAC,GAAGA,SAAS;EAC3E,IAAIG,UAAU,GAAG,EAAE;EACnB,KAAK,IAAItvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGovC,UAAU,CAAC1rC,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IAC3C,IAAInC,OAAO,GAAGuxC,UAAU,CAACpvC,CAAC,CAAC,CAACuvC,gBAAgB,CAACv6B,QAAQ,CAAC;IACtD,KAAK,IAAIpO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG/I,OAAO,CAAC6F,MAAM,EAAEkD,CAAC,IAAI,CAAC,EAAE;MACxC0oC,UAAU,CAACjqC,IAAI,CAACxH,OAAO,CAAC+I,CAAC,CAAC,CAAC;IAC/B;EACJ;EACA,OAAO0oC,UAAU;AACrB;AACA;AACA;AACA,SAASE,kBAAkBA,CAACC,MAAM,EAAEz6B,QAAQ,EAAE;EAC1C,IAAI06B,OAAO,GAAGD,MAAM,YAAYJ,WAAW,GAAG,CAACI,MAAM,CAAC,GAAGA,MAAM;EAC/D,IAAIH,UAAU,GAAG,EAAE;EACnB,KAAK,IAAItvC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0vC,OAAO,CAAChsC,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACxC,IAAIuG,UAAU,GAAGmpC,OAAO,CAAC1vC,CAAC,CAAC,CAACtL,QAAQ,CAAC,CAAC;IACtC,KAAK,IAAIkS,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGL,UAAU,CAAC7C,MAAM,EAAEkD,CAAC,IAAI,CAAC,EAAE;MAC3C,IAAI+oC,SAAS,GAAGppC,UAAU,CAACK,CAAC,CAAC;MAC7B,IAAI,CAACoO,QAAQ,IAAI85B,cAAc,CAACa,SAAS,EAAE36B,QAAQ,CAAC,EAAE;QAClDs6B,UAAU,CAACjqC,IAAI,CAACsqC,SAAS,CAAC;MAC9B;IACJ;EACJ;EACA,OAAOL,UAAU;AACrB;AACA;AACA;AACA,MAAMM,aAAa,GAAG,wCAAwC;AAC9D,SAASC,UAAUA,CAAC34B,EAAE,EAAEjV,KAAK,EAAE;EAC3B,KAAK,IAAIynC,QAAQ,IAAIznC,KAAK,EAAE;IACxBse,cAAc,CAACrJ,EAAE,EAAEwyB,QAAQ,EAAEznC,KAAK,CAACynC,QAAQ,CAAC,CAAC;EACjD;AACJ;AACA,SAASnpB,cAAcA,CAACrJ,EAAE,EAAE1U,IAAI,EAAEstC,GAAG,EAAE;EACnC,IAAIA,GAAG,IAAI,IAAI,EAAE;IACb54B,EAAE,CAACxK,KAAK,CAAClK,IAAI,CAAC,GAAG,EAAE;EACvB,CAAC,MACI,IAAI,OAAOstC,GAAG,KAAK,QAAQ,IAAIF,aAAa,CAACpoC,IAAI,CAAChF,IAAI,CAAC,EAAE;IAC1D0U,EAAE,CAACxK,KAAK,CAAClK,IAAI,CAAC,GAAI,GAAEstC,GAAI,IAAG;EAC/B,CAAC,MACI;IACD54B,EAAE,CAACxK,KAAK,CAAClK,IAAI,CAAC,GAAGstC,GAAG;EACxB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,qBAAqBA,CAAChc,EAAE,EAAE;EAC/B,IAAIic,EAAE,EAAEC,EAAE;EACV,OAAO,CAACA,EAAE,GAAG,CAACD,EAAE,GAAGjc,EAAE,CAACmc,YAAY,MAAM,IAAI,IAAIF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC5tC,IAAI,CAAC2xB,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,IAAI,IAAIkc,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGlc,EAAE,CAACE,MAAM;AACvI;AACA;AACA,IAAIkc,MAAM,GAAG,CAAC;AACd,SAAS7wB,cAAcA,CAAA,EAAG;EACtB6wB,MAAM,IAAI,CAAC;EACX,OAAO,SAAS,GAAGA,MAAM;AAC7B;;AAEA;AACA,SAASC,cAAcA,CAACrc,EAAE,EAAE;EACxBA,EAAE,CAACqc,cAAc,CAAC,CAAC;AACvB;AACA;AACA;AACA,SAASC,sBAAsBA,CAACr7B,QAAQ,EAAEonB,OAAO,EAAE;EAC/C,OAAQrI,EAAE,IAAK;IACX,IAAIuc,YAAY,GAAGxxB,cAAc,CAACiV,EAAE,CAACE,MAAM,EAAEjf,QAAQ,CAAC;IACtD,IAAIs7B,YAAY,EAAE;MACdlU,OAAO,CAACh6B,IAAI,CAACkuC,YAAY,EAAEvc,EAAE,EAAEuc,YAAY,CAAC;IAChD;EACJ,CAAC;AACL;AACA,SAAStxB,gBAAgBA,CAACmwB,SAAS,EAAEoB,SAAS,EAAEv7B,QAAQ,EAAEonB,OAAO,EAAE;EAC/D,IAAIoU,eAAe,GAAGH,sBAAsB,CAACr7B,QAAQ,EAAEonB,OAAO,CAAC;EAC/D+S,SAAS,CAACtiC,gBAAgB,CAAC0jC,SAAS,EAAEC,eAAe,CAAC;EACtD,OAAO,MAAM;IACTrB,SAAS,CAACriC,mBAAmB,CAACyjC,SAAS,EAAEC,eAAe,CAAC;EAC7D,CAAC;AACL;AACA,SAASvxB,uBAAuBA,CAACkwB,SAAS,EAAEn6B,QAAQ,EAAEy7B,YAAY,EAAEC,YAAY,EAAE;EAC9E,IAAIC,mBAAmB;EACvB,OAAO3xB,gBAAgB,CAACmwB,SAAS,EAAE,WAAW,EAAEn6B,QAAQ,EAAE,CAAC47B,WAAW,EAAEN,YAAY,KAAK;IACrF,IAAIA,YAAY,KAAKK,mBAAmB,EAAE;MACtCA,mBAAmB,GAAGL,YAAY;MAClCG,YAAY,CAACG,WAAW,EAAEN,YAAY,CAAC;MACvC,IAAIO,gBAAgB,GAAIC,YAAY,IAAK;QACrCH,mBAAmB,GAAG,IAAI;QAC1BD,YAAY,CAACI,YAAY,EAAER,YAAY,CAAC;QACxCA,YAAY,CAACxjC,mBAAmB,CAAC,YAAY,EAAE+jC,gBAAgB,CAAC;MACpE,CAAC;MACD;MACAP,YAAY,CAACzjC,gBAAgB,CAAC,YAAY,EAAEgkC,gBAAgB,CAAC;IACjE;EACJ,CAAC,CAAC;AACN;AACA;AACA;AACA,MAAME,oBAAoB,GAAG,CACzB,qBAAqB,EACrB,gBAAgB,EAChB,gBAAgB,EAChB,iBAAiB,EACjB,eAAe,CAClB;AACD;AACA,SAASC,kBAAkBA,CAAC95B,EAAE,EAAEknB,QAAQ,EAAE;EACtC,IAAI6S,YAAY,GAAIld,EAAE,IAAK;IACvBqK,QAAQ,CAACrK,EAAE,CAAC;IACZgd,oBAAoB,CAACvtC,OAAO,CAAE0tC,SAAS,IAAK;MACxCh6B,EAAE,CAACpK,mBAAmB,CAACokC,SAAS,EAAED,YAAY,CAAC;IACnD,CAAC,CAAC;EACN,CAAC;EACDF,oBAAoB,CAACvtC,OAAO,CAAE0tC,SAAS,IAAK;IACxCh6B,EAAE,CAACrK,gBAAgB,CAACqkC,SAAS,EAAED,YAAY,CAAC,CAAC,CAAC;EAClD,CAAC,CAAC;AACN;AACA;AACA;AACA,SAASE,oBAAoBA,CAAC/U,OAAO,EAAE;EACnC,OAAOx0B,MAAM,CAACwa,MAAM,CAAC;IAAE0iB,OAAO,EAAE1I;EAAQ,CAAC,EAAEgV,uBAAuB,CAAChV,OAAO,CAAC,CAAC;AAChF;AACA,SAASgV,uBAAuBA,CAAChV,OAAO,EAAE;EACtC,OAAO;IACHiV,QAAQ,EAAE,CAAC;IACXC,SAASA,CAACvd,EAAE,EAAE;MACV,IAAIA,EAAE,CAACvnB,GAAG,KAAK,OAAO,IAAIunB,EAAE,CAACvnB,GAAG,KAAK,GAAG,EAAE;QACtC4vB,OAAO,CAACrI,EAAE,CAAC;QACXA,EAAE,CAACqc,cAAc,CAAC,CAAC,CAAC,CAAC;MACzB;IACJ;EACJ,CAAC;AACL;;AAEA,IAAImB,UAAU,GAAG,CAAC;AAClB,SAAS11B,IAAIA,CAAA,EAAG;EACZ01B,UAAU,IAAI,CAAC;EACf,OAAOvb,MAAM,CAACub,UAAU,CAAC;AAC7B;AACA;AACA;AACA;AACA,SAASC,aAAaA,CAAA,EAAG;EACrB7rC,QAAQ,CAAC8rC,IAAI,CAACnG,SAAS,CAAC7S,GAAG,CAAC,gBAAgB,CAAC;AACjD;AACA;AACA,SAASiZ,YAAYA,CAAA,EAAG;EACpB/rC,QAAQ,CAAC8rC,IAAI,CAACnG,SAAS,CAACC,MAAM,CAAC,gBAAgB,CAAC;AACpD;AACA;AACA;AACA,SAASoG,gBAAgBA,CAACz6B,EAAE,EAAE;EAC1BA,EAAE,CAACxK,KAAK,CAACklC,UAAU,GAAG,MAAM;EAC5B16B,EAAE,CAACxK,KAAK,CAACmlC,gBAAgB,GAAG,MAAM;EAClC36B,EAAE,CAACrK,gBAAgB,CAAC,aAAa,EAAEujC,cAAc,CAAC;AACtD;AACA,SAAS0B,cAAcA,CAAC56B,EAAE,EAAE;EACxBA,EAAE,CAACxK,KAAK,CAACklC,UAAU,GAAG,EAAE;EACxB16B,EAAE,CAACxK,KAAK,CAACmlC,gBAAgB,GAAG,EAAE;EAC9B36B,EAAE,CAACpK,mBAAmB,CAAC,aAAa,EAAEsjC,cAAc,CAAC;AACzD;AACA;AACA;AACA,SAAS2B,kBAAkBA,CAAC76B,EAAE,EAAE;EAC5BA,EAAE,CAACrK,gBAAgB,CAAC,aAAa,EAAEujC,cAAc,CAAC;AACtD;AACA,SAAS4B,gBAAgBA,CAAC96B,EAAE,EAAE;EAC1BA,EAAE,CAACpK,mBAAmB,CAAC,aAAa,EAAEsjC,cAAc,CAAC;AACzD;AACA,SAAS6B,eAAeA,CAAC/+B,KAAK,EAAE;EAC5B,IAAIg/B,KAAK,GAAG,EAAE;EACd,IAAIC,MAAM,GAAG,EAAE;EACf,IAAInyC,CAAC;EACL,IAAIoyC,KAAK;EACT,IAAI,OAAOl/B,KAAK,KAAK,QAAQ,EAAE;IAC3Bi/B,MAAM,GAAGj/B,KAAK,CAAC0Q,KAAK,CAAC,SAAS,CAAC;EACnC,CAAC,MACI,IAAI,OAAO1Q,KAAK,KAAK,UAAU,EAAE;IAClCi/B,MAAM,GAAG,CAACj/B,KAAK,CAAC;EACpB,CAAC,MACI,IAAI/J,KAAK,CAACC,OAAO,CAAC8J,KAAK,CAAC,EAAE;IAC3Bi/B,MAAM,GAAGj/B,KAAK;EAClB;EACA,KAAKlT,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmyC,MAAM,CAACzuC,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACnCoyC,KAAK,GAAGD,MAAM,CAACnyC,CAAC,CAAC;IACjB,IAAI,OAAOoyC,KAAK,KAAK,QAAQ,EAAE;MAC3BF,KAAK,CAAC7sC,IAAI,CAAC+sC,KAAK,CAACC,MAAM,CAAC,CAAC,CAAC,KAAK,GAAG,GAC9B;QAAEC,KAAK,EAAEF,KAAK,CAACG,SAAS,CAAC,CAAC,CAAC;QAAEC,KAAK,EAAE,CAAC;MAAE,CAAC,GACxC;QAAEF,KAAK,EAAEF,KAAK;QAAEI,KAAK,EAAE;MAAE,CAAC,CAAC;IACnC,CAAC,MACI,IAAI,OAAOJ,KAAK,KAAK,UAAU,EAAE;MAClCF,KAAK,CAAC7sC,IAAI,CAAC;QAAEiO,IAAI,EAAE8+B;MAAM,CAAC,CAAC;IAC/B;EACJ;EACA,OAAOF,KAAK;AAChB;AACA,SAASO,mBAAmBA,CAACC,IAAI,EAAEC,IAAI,EAAEC,UAAU,EAAE;EACjD,IAAI5yC,CAAC;EACL,IAAI6yC,GAAG;EACP,KAAK7yC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4yC,UAAU,CAAClvC,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACvC6yC,GAAG,GAAGC,kBAAkB,CAACJ,IAAI,EAAEC,IAAI,EAAEC,UAAU,CAAC5yC,CAAC,CAAC,CAAC;IACnD,IAAI6yC,GAAG,EAAE;MACL,OAAOA,GAAG;IACd;EACJ;EACA,OAAO,CAAC;AACZ;AACA,SAASC,kBAAkBA,CAACJ,IAAI,EAAEC,IAAI,EAAEI,SAAS,EAAE;EAC/C,IAAIA,SAAS,CAACz/B,IAAI,EAAE;IAChB,OAAOy/B,SAAS,CAACz/B,IAAI,CAACo/B,IAAI,EAAEC,IAAI,CAAC;EACrC;EACA,OAAOK,eAAe,CAACN,IAAI,CAACK,SAAS,CAACT,KAAK,CAAC,EAAEK,IAAI,CAACI,SAAS,CAACT,KAAK,CAAC,CAAC,IAC7DS,SAAS,CAACP,KAAK,IAAI,CAAC,CAAC;AAChC;AACA,SAASQ,eAAeA,CAACxyC,CAAC,EAAEkB,CAAC,EAAE;EAC3B,IAAI,CAAClB,CAAC,IAAI,CAACkB,CAAC,EAAE;IACV,OAAO,CAAC;EACZ;EACA,IAAIA,CAAC,IAAI,IAAI,EAAE;IACX,OAAO,CAAC,CAAC;EACb;EACA,IAAIlB,CAAC,IAAI,IAAI,EAAE;IACX,OAAO,CAAC;EACZ;EACA,IAAI,OAAOA,CAAC,KAAK,QAAQ,IAAI,OAAOkB,CAAC,KAAK,QAAQ,EAAE;IAChD,OAAOs0B,MAAM,CAACx1B,CAAC,CAAC,CAACyyC,aAAa,CAACjd,MAAM,CAACt0B,CAAC,CAAC,CAAC;EAC7C;EACA,OAAOlB,CAAC,GAAGkB,CAAC;AAChB;AACA;AACA;AACA,SAASwxC,QAAQA,CAACpD,GAAG,EAAEqD,GAAG,EAAE;EACxB,IAAIzyC,CAAC,GAAGs1B,MAAM,CAAC8Z,GAAG,CAAC;EACnB,OAAO,KAAK,CAACsD,MAAM,CAAC,CAAC,EAAED,GAAG,GAAGzyC,CAAC,CAACgD,MAAM,CAAC,GAAGhD,CAAC;AAC9C;AACA,SAASic,kBAAkBA,CAAC+uB,SAAS,EAAE32B,IAAI,EAAEs+B,YAAY,EAAE;EACvD,IAAI,OAAO3H,SAAS,KAAK,UAAU,EAAE;IACjC,OAAOA,SAAS,CAAC,GAAG32B,IAAI,CAAC;EAC7B;EACA,IAAI,OAAO22B,SAAS,KAAK,QAAQ,EAAE;IAAE;IACjC,OAAO32B,IAAI,CAACu+B,MAAM,CAAC,CAACC,GAAG,EAAEhe,GAAG,EAAE3b,KAAK,KAAM25B,GAAG,CAACtqC,OAAO,CAAC,GAAG,GAAG2Q,KAAK,EAAE2b,GAAG,IAAI,EAAE,CAAE,EAAEmW,SAAS,CAAC;EAC7F;EACA,OAAO2H,YAAY;AACvB;AACA;AACA;AACA,SAASG,cAAcA,CAAChzC,CAAC,EAAEkB,CAAC,EAAE;EAC1B,OAAOlB,CAAC,GAAGkB,CAAC;AAChB;AACA,SAAS+xC,KAAKA,CAACr0C,CAAC,EAAE;EACd,OAAOA,CAAC,GAAG,CAAC,KAAK,CAAC;AACtB;AACA;AACA;AACA,SAASs0C,wBAAwBA,CAACC,MAAM,EAAE;EACtC,IAAIC,UAAU,GAAGD,MAAM,CAAC9M,aAAa,CAAC,6BAA6B,CAAC;EACpE,IAAIgN,cAAc,GAAGF,MAAM,CAAC9M,aAAa,CAAC,+BAA+B,CAAC;EAC1E,IAAI,CAAC+M,UAAU,EAAE;IACb,MAAM,IAAIpqB,KAAK,CAAC,4CAA4C,CAAC,CAAC,CAAC;EACnE;;EACA,IAAI,CAACqqB,cAAc,EAAE;IACjB,MAAM,IAAIrqB,KAAK,CAAC,8CAA8C,CAAC;EACnE;EACA,OAAOmqB,MAAM,CAACG,qBAAqB,CAAC,CAAC,CAACl1C,KAAK,GAAGg1C,UAAU,CAACE,qBAAqB,CAAC,CAAC,CAACl1C,KAAK;EAAG;EACrFi1C,cAAc,CAACC,qBAAqB,CAAC,CAAC,CAACl1C,KAAK;AACpD;AAEA,MAAMm1C,cAAc,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,EAAE,cAAc,CAAC;AAClE,MAAMC,QAAQ,GAAG,0DAA0D;AAC3E;AACA,SAAS33B,cAAcA,CAACnJ,KAAK,EAAEoP,IAAI,EAAE;EACjC,IAAI,OAAOpP,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAO+gC,WAAW,CAAC/gC,KAAK,CAAC;EAC7B;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,EAAE;IAAE;IACtC,OAAOghC,WAAW,CAAChhC,KAAK,CAAC;EAC7B;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAOghC,WAAW,CAAC;MAAE,CAAC5xB,IAAI,IAAI,cAAc,GAAGpP;IAAM,CAAC,CAAC;EAC3D;EACA,OAAO,IAAI;AACf;AACA,SAAS+gC,WAAWA,CAACvzC,CAAC,EAAE;EACpB,IAAIU,CAAC,GAAG4yC,QAAQ,CAACG,IAAI,CAACzzC,CAAC,CAAC;EACxB,IAAIU,CAAC,EAAE;IACH,IAAIgzC,IAAI,GAAGhzC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IACxB,OAAO;MACHizC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACTjZ,IAAI,EAAE+Y,IAAI,IAAIhzC,CAAC,CAAC,CAAC,CAAC,GAAGmzC,QAAQ,CAACnzC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC;MAC5Ck3B,YAAY,EAAE8b,IAAI,IAAI,CAAChzC,CAAC,CAAC,CAAC,CAAC,GAAGmzC,QAAQ,CAACnzC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI;MAAG;MACrE,CAACA,CAAC,CAAC,CAAC,CAAC,GAAGmzC,QAAQ,CAACnzC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI;MAAG;MAC9C,CAACA,CAAC,CAAC,CAAC,CAAC,GAAGmzC,QAAQ,CAACnzC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,IAAI,IAAI;MAAG;MACxCA,CAAC,CAAC,CAAC,CAAC,GAAGmzC,QAAQ,CAACnzC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC;MAAA;IAExC,CAAC;EACL;;EACA,OAAO,IAAI;AACf;AACA,SAAS8yC,WAAWA,CAACM,GAAG,EAAE;EACtB,IAAIvpB,QAAQ,GAAG;IACXopB,KAAK,EAAEG,GAAG,CAACH,KAAK,IAAIG,GAAG,CAAClzB,IAAI,IAAI,CAAC;IACjCgzB,MAAM,EAAEE,GAAG,CAACF,MAAM,IAAIE,GAAG,CAAChzB,KAAK,IAAI,CAAC;IACpC6Z,IAAI,EAAEmZ,GAAG,CAACnZ,IAAI,IAAImZ,GAAG,CAAC/yB,GAAG,IAAI,CAAC;IAC9B6W,YAAY,EAAE,CAACkc,GAAG,CAACC,KAAK,IAAID,GAAG,CAACz3C,IAAI,IAAI,CAAC,IAAI,EAAE,GAAG,EAAE,GAAG,IAAI;IAAG;IAC1D,CAACy3C,GAAG,CAACE,OAAO,IAAIF,GAAG,CAACx3C,MAAM,IAAI,CAAC,IAAI,EAAE,GAAG,IAAI;IAAG;IAC/C,CAACw3C,GAAG,CAACG,OAAO,IAAIH,GAAG,CAACI,MAAM,IAAI,CAAC,IAAI,IAAI;IAAG;IACzCJ,GAAG,CAAClc,YAAY,IAAIkc,GAAG,CAACK,WAAW,IAAIL,GAAG,CAACM,EAAE,IAAI,CAAC,CAAC,CAAE;EAC9D,CAAC;;EACD,IAAIC,KAAK,GAAGP,GAAG,CAACO,KAAK,IAAIP,GAAG,CAACzzB,IAAI;EACjC,IAAIg0B,KAAK,EAAE;IACP9pB,QAAQ,CAACoQ,IAAI,IAAI0Z,KAAK,GAAG,CAAC;IAC1B9pB,QAAQ,CAAC+pB,cAAc,GAAG,IAAI;EAClC;EACA,OAAO/pB,QAAQ;AACnB;AACA;AACA,SAASgqB,cAAcA,CAACC,EAAE,EAAEC,EAAE,EAAE;EAC5B,OAAOD,EAAE,CAACb,KAAK,KAAKc,EAAE,CAACd,KAAK,IACxBa,EAAE,CAACZ,MAAM,KAAKa,EAAE,CAACb,MAAM,IACvBY,EAAE,CAAC7Z,IAAI,KAAK8Z,EAAE,CAAC9Z,IAAI,IACnB6Z,EAAE,CAAC5c,YAAY,KAAK6c,EAAE,CAAC7c,YAAY;AAC3C;AACA,SAAS8c,WAAWA,CAACC,GAAG,EAAE;EACtB,IAAI,CAACA,GAAG,CAAChB,KAAK,IAAI,CAACgB,GAAG,CAACf,MAAM,IAAI,CAACe,GAAG,CAAC/c,YAAY,EAAE;IAChD,OAAO+c,GAAG,CAACha,IAAI;EACnB;EACA,OAAO,CAAC;AACZ;AACA;AACA,SAASia,YAAYA,CAACJ,EAAE,EAAEC,EAAE,EAAE;EAC1B,OAAO;IACHd,KAAK,EAAEa,EAAE,CAACb,KAAK,GAAGc,EAAE,CAACd,KAAK;IAC1BC,MAAM,EAAEY,EAAE,CAACZ,MAAM,GAAGa,EAAE,CAACb,MAAM;IAC7BjZ,IAAI,EAAE6Z,EAAE,CAAC7Z,IAAI,GAAG8Z,EAAE,CAAC9Z,IAAI;IACvB/C,YAAY,EAAE4c,EAAE,CAAC5c,YAAY,GAAG6c,EAAE,CAAC7c;EACvC,CAAC;AACL;AACA,SAAStb,iBAAiBA,CAACm4B,EAAE,EAAED,EAAE,EAAE;EAC/B,OAAO;IACHb,KAAK,EAAEc,EAAE,CAACd,KAAK,GAAGa,EAAE,CAACb,KAAK;IAC1BC,MAAM,EAAEa,EAAE,CAACb,MAAM,GAAGY,EAAE,CAACZ,MAAM;IAC7BjZ,IAAI,EAAE8Z,EAAE,CAAC9Z,IAAI,GAAG6Z,EAAE,CAAC7Z,IAAI;IACvB/C,YAAY,EAAE6c,EAAE,CAAC7c,YAAY,GAAG4c,EAAE,CAAC5c;EACvC,CAAC;AACL;AACA,SAASid,gBAAgBA,CAACv0C,CAAC,EAAE5B,CAAC,EAAE;EAC5B,OAAO;IACHi1C,KAAK,EAAErzC,CAAC,CAACqzC,KAAK,GAAGj1C,CAAC;IAClBk1C,MAAM,EAAEtzC,CAAC,CAACszC,MAAM,GAAGl1C,CAAC;IACpBi8B,IAAI,EAAEr6B,CAAC,CAACq6B,IAAI,GAAGj8B,CAAC;IAChBk5B,YAAY,EAAEt3B,CAAC,CAACs3B,YAAY,GAAGl5B;EACnC,CAAC;AACL;AACA;AACA;AACA,SAASo2C,YAAYA,CAACH,GAAG,EAAE;EACvB,OAAOI,WAAW,CAACJ,GAAG,CAAC,GAAG,GAAG;AACjC;AACA,SAASK,aAAaA,CAACL,GAAG,EAAE;EACxB,OAAOI,WAAW,CAACJ,GAAG,CAAC,GAAG,EAAE;AAChC;AACA,SAASI,WAAWA,CAACJ,GAAG,EAAE;EACtB,OAAOM,SAAS,CAACN,GAAG,CAAC,GAAG,KAAK;AACjC;AACA,SAASO,cAAcA,CAACP,GAAG,EAAE;EACzB,OAAOM,SAAS,CAACN,GAAG,CAAC,IAAI,IAAI,GAAG,EAAE,CAAC;AACvC;AACA,SAASQ,cAAcA,CAACR,GAAG,EAAE;EACzB,OAAOM,SAAS,CAACN,GAAG,CAAC,GAAG,IAAI;AAChC;AACA,SAASM,SAASA,CAACN,GAAG,EAAE;EACpB,OAAOA,GAAG,CAAChB,KAAK,IAAI,GAAG,GAAG,KAAK,CAAC,GAC5BgB,GAAG,CAACf,MAAM,IAAI,EAAE,GAAG,KAAK,CAAC,GACzBe,GAAG,CAACha,IAAI,GAAG,KAAK,GAChBga,GAAG,CAAC/c,YAAY;AACxB;AACA;AACA,SAASwd,oBAAoBA,CAACC,SAAS,EAAEC,WAAW,EAAE;EAClD,IAAIzpB,GAAG,GAAG,IAAI;EACd,KAAK,IAAIvsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+zC,cAAc,CAACrwC,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IAC/C,IAAIsiB,IAAI,GAAGyxB,cAAc,CAAC/zC,CAAC,CAAC;IAC5B,IAAIg2C,WAAW,CAAC1zB,IAAI,CAAC,EAAE;MACnB,IAAI2zB,QAAQ,GAAGF,SAAS,CAACzzB,IAAI,CAAC,GAAG0zB,WAAW,CAAC1zB,IAAI,CAAC;MAClD,IAAI,CAACmxB,KAAK,CAACwC,QAAQ,CAAC,IAAK1pB,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK0pB,QAAS,EAAE;QACxD,OAAO,IAAI;MACf;MACA1pB,GAAG,GAAG0pB,QAAQ;IAClB,CAAC,MACI,IAAIF,SAAS,CAACzzB,IAAI,CAAC,EAAE;MACtB;MACA,OAAO,IAAI;IACf;EACJ;EACA,OAAOiK,GAAG;AACd;AACA,SAASnQ,2BAA2BA,CAACi5B,GAAG,EAAE;EACtC,IAAIP,EAAE,GAAGO,GAAG,CAAC/c,YAAY;EACzB,IAAIwc,EAAE,EAAE;IACJ,IAAIA,EAAE,GAAG,IAAI,KAAK,CAAC,EAAE;MACjB,OAAO;QAAExyB,IAAI,EAAE,aAAa;QAAEta,KAAK,EAAE8sC;MAAG,CAAC;IAC7C;IACA,IAAIA,EAAE,IAAI,IAAI,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE;MACxB,OAAO;QAAExyB,IAAI,EAAE,QAAQ;QAAEta,KAAK,EAAE8sC,EAAE,GAAG;MAAK,CAAC;IAC/C;IACA,IAAIA,EAAE,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC,KAAK,CAAC,EAAE;MAC7B,OAAO;QAAExyB,IAAI,EAAE,QAAQ;QAAEta,KAAK,EAAE8sC,EAAE,IAAI,IAAI,GAAG,EAAE;MAAE,CAAC;IACtD;IACA,IAAIA,EAAE,EAAE;MACJ,OAAO;QAAExyB,IAAI,EAAE,MAAM;QAAEta,KAAK,EAAE8sC,EAAE,IAAI,IAAI,GAAG,EAAE,GAAG,EAAE;MAAE,CAAC;IACzD;EACJ;EACA,IAAIO,GAAG,CAACha,IAAI,EAAE;IACV,IAAIga,GAAG,CAACL,cAAc,IAAIK,GAAG,CAACha,IAAI,GAAG,CAAC,KAAK,CAAC,EAAE;MAC1C,OAAO;QAAE/Y,IAAI,EAAE,MAAM;QAAEta,KAAK,EAAEqtC,GAAG,CAACha,IAAI,GAAG;MAAE,CAAC;IAChD;IACA,OAAO;MAAE/Y,IAAI,EAAE,KAAK;MAAEta,KAAK,EAAEqtC,GAAG,CAACha;IAAK,CAAC;EAC3C;EACA,IAAIga,GAAG,CAACf,MAAM,EAAE;IACZ,OAAO;MAAEhyB,IAAI,EAAE,OAAO;MAAEta,KAAK,EAAEqtC,GAAG,CAACf;IAAO,CAAC;EAC/C;EACA,IAAIe,GAAG,CAAChB,KAAK,EAAE;IACX,OAAO;MAAE/xB,IAAI,EAAE,MAAM;MAAEta,KAAK,EAAEqtC,GAAG,CAAChB;IAAM,CAAC;EAC7C;EACA,OAAO;IAAE/xB,IAAI,EAAE,aAAa;IAAEta,KAAK,EAAE;EAAE,CAAC;AAC5C;;AAEA;AACA,SAASkuC,WAAWA,CAACC,KAAK,EAAEC,QAAQ,EAAE;EAClC,IAAIC,SAAS,GAAG,CAAC;EACjB,IAAIr2C,CAAC,GAAG,CAAC;EACT,OAAOA,CAAC,GAAGm2C,KAAK,CAACzyC,MAAM,EAAE;IACrB,IAAIyyC,KAAK,CAACn2C,CAAC,CAAC,KAAKo2C,QAAQ,EAAE;MACvBD,KAAK,CAACzvC,MAAM,CAAC1G,CAAC,EAAE,CAAC,CAAC;MAClBq2C,SAAS,IAAI,CAAC;IAClB,CAAC,MACI;MACDr2C,CAAC,IAAI,CAAC;IACV;EACJ;EACA,OAAOq2C,SAAS;AACpB;AACA,SAASv6B,aAAaA,CAACxL,EAAE,EAAE4O,EAAE,EAAEo3B,YAAY,EAAE;EACzC,IAAIhmC,EAAE,KAAK4O,EAAE,EAAE;IACX,OAAO,IAAI;EACf;EACA,IAAIi0B,GAAG,GAAG7iC,EAAE,CAAC5M,MAAM;EACnB,IAAI1D,CAAC;EACL,IAAImzC,GAAG,KAAKj0B,EAAE,CAACxb,MAAM,EAAE;IAAE;IACrB,OAAO,KAAK;EAChB;EACA,KAAK1D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmzC,GAAG,EAAEnzC,CAAC,IAAI,CAAC,EAAE;IACzB,IAAI,EAAEs2C,YAAY,GAAGA,YAAY,CAAChmC,EAAE,CAACtQ,CAAC,CAAC,EAAEkf,EAAE,CAAClf,CAAC,CAAC,CAAC,GAAGsQ,EAAE,CAACtQ,CAAC,CAAC,KAAKkf,EAAE,CAAClf,CAAC,CAAC,CAAC,EAAE;MAChE,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AAEA,MAAMu2C,OAAO,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC;AACjE;AACA,SAASC,QAAQA,CAACp1C,CAAC,EAAEhC,CAAC,EAAE;EACpB,IAAIoB,CAAC,GAAGi2C,cAAc,CAACr1C,CAAC,CAAC;EACzBZ,CAAC,CAAC,CAAC,CAAC,IAAIpB,CAAC,GAAG,CAAC;EACb,OAAOs3C,cAAc,CAACl2C,CAAC,CAAC;AAC5B;AACA,SAAS2c,OAAOA,CAAC/b,CAAC,EAAEhC,CAAC,EAAE;EACnB,IAAIoB,CAAC,GAAGi2C,cAAc,CAACr1C,CAAC,CAAC;EACzBZ,CAAC,CAAC,CAAC,CAAC,IAAIpB,CAAC;EACT,OAAOs3C,cAAc,CAACl2C,CAAC,CAAC;AAC5B;AACA,SAASm2C,KAAKA,CAACv1C,CAAC,EAAEhC,CAAC,EAAE;EACjB,IAAIoB,CAAC,GAAGi2C,cAAc,CAACr1C,CAAC,CAAC;EACzBZ,CAAC,CAAC,CAAC,CAAC,IAAIpB,CAAC;EACT,OAAOs3C,cAAc,CAACl2C,CAAC,CAAC;AAC5B;AACA;AACA;AACA,SAASo2C,SAASA,CAACC,EAAE,EAAEC,EAAE,EAAE;EACvB,OAAOC,QAAQ,CAACF,EAAE,EAAEC,EAAE,CAAC,GAAG,CAAC;AAC/B;AACA,SAASC,QAAQA,CAACF,EAAE,EAAEC,EAAE,EAAE;EACtB,OAAO,CAACA,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;AAChE;AACA,SAAS4jC,SAASA,CAACH,EAAE,EAAEC,EAAE,EAAE;EACvB,OAAO,CAACA,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,GAAG,EAAE,CAAC;AAC3D;AACA,SAAS6jC,WAAWA,CAACJ,EAAE,EAAEC,EAAE,EAAE;EACzB,OAAO,CAACA,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,KAAK,IAAI,GAAG,EAAE,CAAC;AACtD;AACA,SAAS8jC,WAAWA,CAACL,EAAE,EAAEC,EAAE,EAAE;EACzB,OAAO,CAACA,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,IAAI,IAAI;AAC/C;AACA,SAAS+jC,cAAcA,CAACN,EAAE,EAAEC,EAAE,EAAE;EAC5B,IAAIM,KAAK,GAAGl6B,UAAU,CAAC25B,EAAE,CAAC;EAC1B,IAAIQ,KAAK,GAAGn6B,UAAU,CAAC45B,EAAE,CAAC;EAC1B,OAAO;IACHzC,KAAK,EAAE,CAAC;IACRC,MAAM,EAAE,CAAC;IACTjZ,IAAI,EAAE1T,IAAI,CAAC2vB,KAAK,CAACP,QAAQ,CAACK,KAAK,EAAEC,KAAK,CAAC,CAAC;IACxC/e,YAAY,EAAGwe,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGikC,KAAK,CAACjkC,OAAO,CAAC,CAAC,IAAKyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,GAAGgkC,KAAK,CAAChkC,OAAO,CAAC,CAAC;EACpF,CAAC;AACL;AACA;AACA,SAASmkC,cAAcA,CAACV,EAAE,EAAEC,EAAE,EAAE;EAC5B,IAAI91C,CAAC,GAAGwc,aAAa,CAACq5B,EAAE,EAAEC,EAAE,CAAC;EAC7B,IAAI91C,CAAC,KAAK,IAAI,IAAIA,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;IAC3B,OAAOA,CAAC,GAAG,CAAC;EAChB;EACA,OAAO,IAAI;AACf;AACA,SAASwc,aAAaA,CAACq5B,EAAE,EAAEC,EAAE,EAAE;EAC3B,IAAIU,QAAQ,CAACX,EAAE,CAAC,KAAKW,QAAQ,CAACV,EAAE,CAAC,EAAE;IAC/B,OAAOnvB,IAAI,CAAC2vB,KAAK,CAACP,QAAQ,CAACF,EAAE,EAAEC,EAAE,CAAC,CAAC;EACvC;EACA,OAAO,IAAI;AACf;AACA;AACA,SAAS55B,UAAUA,CAAC9b,CAAC,EAAE;EACnB,OAAOs1C,cAAc,CAAC,CAClBt1C,CAAC,CAACq2C,cAAc,CAAC,CAAC,EAClBr2C,CAAC,CAACs2C,WAAW,CAAC,CAAC,EACft2C,CAAC,CAACu2C,UAAU,CAAC,CAAC,CACjB,CAAC;AACN;AACA,SAASC,WAAWA,CAACx2C,CAAC,EAAE;EACpB,OAAOs1C,cAAc,CAAC,CAClBt1C,CAAC,CAACq2C,cAAc,CAAC,CAAC,EAClBr2C,CAAC,CAACs2C,WAAW,CAAC,CAAC,EACft2C,CAAC,CAACu2C,UAAU,CAAC,CAAC,EACdv2C,CAAC,CAACy2C,WAAW,CAAC,CAAC,CAClB,CAAC;AACN;AACA,SAASC,aAAaA,CAAC12C,CAAC,EAAE;EACtB,OAAOs1C,cAAc,CAAC,CAClBt1C,CAAC,CAACq2C,cAAc,CAAC,CAAC,EAClBr2C,CAAC,CAACs2C,WAAW,CAAC,CAAC,EACft2C,CAAC,CAACu2C,UAAU,CAAC,CAAC,EACdv2C,CAAC,CAACy2C,WAAW,CAAC,CAAC,EACfz2C,CAAC,CAAC22C,aAAa,CAAC,CAAC,CACpB,CAAC;AACN;AACA,SAASC,aAAaA,CAAC52C,CAAC,EAAE;EACtB,OAAOs1C,cAAc,CAAC,CAClBt1C,CAAC,CAACq2C,cAAc,CAAC,CAAC,EAClBr2C,CAAC,CAACs2C,WAAW,CAAC,CAAC,EACft2C,CAAC,CAACu2C,UAAU,CAAC,CAAC,EACdv2C,CAAC,CAACy2C,WAAW,CAAC,CAAC,EACfz2C,CAAC,CAAC22C,aAAa,CAAC,CAAC,EACjB32C,CAAC,CAAC62C,aAAa,CAAC,CAAC,CACpB,CAAC;AACN;AACA;AACA,SAASC,UAAUA,CAACrM,MAAM,EAAE7qB,GAAG,EAAEC,GAAG,EAAE;EAClC,IAAI3f,CAAC,GAAGuqC,MAAM,CAAC4L,cAAc,CAAC,CAAC;EAC/B,IAAIz1C,CAAC,GAAGm2C,eAAe,CAACtM,MAAM,EAAEvqC,CAAC,EAAE0f,GAAG,EAAEC,GAAG,CAAC;EAC5C,IAAIjf,CAAC,GAAG,CAAC,EAAE;IACP,OAAOm2C,eAAe,CAACtM,MAAM,EAAEvqC,CAAC,GAAG,CAAC,EAAE0f,GAAG,EAAEC,GAAG,CAAC;EACnD;EACA,IAAIm3B,KAAK,GAAGD,eAAe,CAACtM,MAAM,EAAEvqC,CAAC,GAAG,CAAC,EAAE0f,GAAG,EAAEC,GAAG,CAAC;EACpD,IAAIm3B,KAAK,IAAI,CAAC,EAAE;IACZ,OAAOzwB,IAAI,CAAC0wB,GAAG,CAACr2C,CAAC,EAAEo2C,KAAK,CAAC;EAC7B;EACA,OAAOp2C,CAAC;AACZ;AACA,SAASm2C,eAAeA,CAACtM,MAAM,EAAEvqB,IAAI,EAAEN,GAAG,EAAEC,GAAG,EAAE;EAC7C,IAAIq3B,cAAc,GAAG5B,cAAc,CAAC,CAACp1B,IAAI,EAAE,CAAC,EAAE,CAAC,GAAGi3B,eAAe,CAACj3B,IAAI,EAAEN,GAAG,EAAEC,GAAG,CAAC,CAAC,CAAC;EACnF,IAAIu3B,QAAQ,GAAGt7B,UAAU,CAAC2uB,MAAM,CAAC;EACjC,IAAIxQ,IAAI,GAAG1T,IAAI,CAAC2vB,KAAK,CAACP,QAAQ,CAACuB,cAAc,EAAEE,QAAQ,CAAC,CAAC;EACzD,OAAO7wB,IAAI,CAAC8wB,KAAK,CAACpd,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;AACrC;AACA;AACA,SAASkd,eAAeA,CAACj3B,IAAI,EAAEN,GAAG,EAAEC,GAAG,EAAE;EACrC;EACA,IAAIy3B,GAAG,GAAG,CAAC,GAAG13B,GAAG,GAAGC,GAAG;EACvB;EACA,IAAI03B,KAAK,GAAG,CAAC,CAAC,GAAGjC,cAAc,CAAC,CAACp1B,IAAI,EAAE,CAAC,EAAEo3B,GAAG,CAAC,CAAC,CAAClgB,SAAS,CAAC,CAAC,GAAGxX,GAAG,IAAI,CAAC;EACtE,OAAO,CAAC23B,KAAK,GAAGD,GAAG,GAAG,CAAC;AAC3B;AACA;AACA,SAASE,gBAAgBA,CAACj8C,IAAI,EAAE;EAC5B,OAAO,CACHA,IAAI,CAACk8C,WAAW,CAAC,CAAC,EAClBl8C,IAAI,CAACm8C,QAAQ,CAAC,CAAC,EACfn8C,IAAI,CAACo8C,OAAO,CAAC,CAAC,EACdp8C,IAAI,CAACq8C,QAAQ,CAAC,CAAC,EACfr8C,IAAI,CAACs8C,UAAU,CAAC,CAAC,EACjBt8C,IAAI,CAACu8C,UAAU,CAAC,CAAC,EACjBv8C,IAAI,CAACw8C,eAAe,CAAC,CAAC,CACzB;AACL;AACA,SAASC,gBAAgBA,CAAC54C,CAAC,EAAE;EACzB,OAAO,IAAI2S,IAAI,CAAC3S,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;EAAE;EAC1DA,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;AACpC;AACA,SAASi2C,cAAcA,CAAC95C,IAAI,EAAE;EAC1B,OAAO,CACHA,IAAI,CAAC86C,cAAc,CAAC,CAAC,EACrB96C,IAAI,CAAC+6C,WAAW,CAAC,CAAC,EAClB/6C,IAAI,CAACg7C,UAAU,CAAC,CAAC,EACjBh7C,IAAI,CAACk7C,WAAW,CAAC,CAAC,EAClBl7C,IAAI,CAACo7C,aAAa,CAAC,CAAC,EACpBp7C,IAAI,CAACs7C,aAAa,CAAC,CAAC,EACpBt7C,IAAI,CAAC08C,kBAAkB,CAAC,CAAC,CAC5B;AACL;AACA,SAAS3C,cAAcA,CAACl2C,CAAC,EAAE;EACvB;EACA;EACA,IAAIA,CAAC,CAACkD,MAAM,KAAK,CAAC,EAAE;IAChBlD,CAAC,GAAGA,CAAC,CAAC+O,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;EACrB;EACA,OAAO,IAAI4D,IAAI,CAACA,IAAI,CAACmmC,GAAG,CAAC,GAAG94C,CAAC,CAAC,CAAC;AACnC;AACA;AACA,SAAS+4C,WAAWA,CAACn4C,CAAC,EAAE;EACpB,OAAO,CAACo4C,KAAK,CAACp4C,CAAC,CAACgS,OAAO,CAAC,CAAC,CAAC;AAC9B;AACA,SAASokC,QAAQA,CAACp2C,CAAC,EAAE;EACjB,OAAOA,CAAC,CAACy2C,WAAW,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GACnCz2C,CAAC,CAAC22C,aAAa,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,GAC7B32C,CAAC,CAAC62C,aAAa,CAAC,CAAC,GAAG,IAAI,GACxB72C,CAAC,CAACi4C,kBAAkB,CAAC,CAAC;AAC9B;;AAEA;AACA,SAASI,cAAcA,CAAC5N,MAAM,EAAE6N,cAAc,EAAEC,aAAa,GAAG,KAAK,EAAE;EACnE,IAAIj5C,CAAC,GAAGmrC,MAAM,CAAC+N,WAAW,CAAC,CAAC;EAC5Bl5C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EACzB,IAAI0wC,aAAa,EAAE;IACfj5C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC;EACnC;EACA,IAAIvI,CAAC,CAACgD,MAAM,GAAG,EAAE,EAAE;IAAE;IACjB,IAAIg2C,cAAc,IAAI,IAAI,EAAE;MACxBh5C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC,GAAG,EAAE,EAAE,CAAC;IAC1B,CAAC,MACI,IAAIywC,cAAc,KAAK,CAAC,EAAE;MAC3Bh5C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC,GAAG,EAAE4wC,oBAAoB,CAACH,cAAc,EAAE,IAAI,CAAC,CAAC;IAClE;IACA;EACJ;;EACA,OAAOh5C,CAAC;AACZ;AACA;AACA;AACA;AACA,SAASo5C,eAAeA,CAACjO,MAAM,EAAE;EAC7B,OAAOA,MAAM,CAAC+N,WAAW,CAAC,CAAC,CAAC3wC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;AACnD;AACA,SAAS8wC,iBAAiBA,CAAClO,MAAM,EAAE;EAC/B,OAAOA,MAAM,CAAC+N,WAAW,CAAC,CAAC,CAACI,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AACxD;AACA;AACA,SAASC,mBAAmBA,CAACpO,MAAM,EAAE;EACjC,OAAOqH,QAAQ,CAACrH,MAAM,CAACgM,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GAC1C3E,QAAQ,CAACrH,MAAM,CAACkM,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,GAAG,GACzC7E,QAAQ,CAACrH,MAAM,CAACoM,aAAa,CAAC,CAAC,EAAE,CAAC,CAAC;AAC3C;AACA,SAAS4B,oBAAoBA,CAACnF,OAAO,EAAEwF,KAAK,GAAG,KAAK,EAAE;EAClD,IAAI9F,IAAI,GAAGM,OAAO,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG;EAClC,IAAIyF,GAAG,GAAGxyB,IAAI,CAACwyB,GAAG,CAACzF,OAAO,CAAC;EAC3B,IAAID,KAAK,GAAG9sB,IAAI,CAAC8wB,KAAK,CAAC0B,GAAG,GAAG,EAAE,CAAC;EAChC,IAAIC,IAAI,GAAGzyB,IAAI,CAAC2vB,KAAK,CAAC6C,GAAG,GAAG,EAAE,CAAC;EAC/B,IAAID,KAAK,EAAE;IACP,OAAQ,GAAE9F,IAAI,GAAGlB,QAAQ,CAACuB,KAAK,EAAE,CAAC,CAAE,IAAGvB,QAAQ,CAACkH,IAAI,EAAE,CAAC,CAAE,EAAC;EAC9D;EACA,OAAQ,MAAKhG,IAAK,GAAEK,KAAM,GAAE2F,IAAI,GAAI,IAAGlH,QAAQ,CAACkH,IAAI,EAAE,CAAC,CAAE,EAAC,GAAG,EAAG,EAAC;AACrE;AAEA,SAAS38B,OAAOA,CAAC48B,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAE;EACpD,IAAIC,WAAW;EACf,IAAIC,UAAU;EACd,OAAO,UAAU,GAAGC,OAAO,EAAE;IACzB,IAAI,CAACF,WAAW,EAAE;MACdC,UAAU,GAAGJ,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAEuwC,OAAO,CAAC;IAChD,CAAC,MACI,IAAI,CAAC5+B,aAAa,CAAC0+B,WAAW,EAAEE,OAAO,CAAC,EAAE;MAC3C,IAAIH,YAAY,EAAE;QACdA,YAAY,CAACE,UAAU,CAAC;MAC5B;MACA,IAAIluB,GAAG,GAAG8tB,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAEuwC,OAAO,CAAC;MACzC,IAAI,CAACJ,WAAW,IAAI,CAACA,WAAW,CAAC/tB,GAAG,EAAEkuB,UAAU,CAAC,EAAE;QAC/CA,UAAU,GAAGluB,GAAG;MACpB;IACJ;IACAiuB,WAAW,GAAGE,OAAO;IACrB,OAAOD,UAAU;EACrB,CAAC;AACL;AACA,SAAS/8B,aAAaA,CAAC28B,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAE;EAC1D,IAAII,UAAU;EACd,IAAIF,UAAU;EACd,OAAQG,MAAM,IAAK;IACf,IAAI,CAACD,UAAU,EAAE;MACbF,UAAU,GAAGJ,UAAU,CAACj4C,IAAI,CAAC,IAAI,EAAEw4C,MAAM,CAAC;IAC9C,CAAC,MACI,IAAI,CAACj9B,YAAY,CAACg9B,UAAU,EAAEC,MAAM,CAAC,EAAE;MACxC,IAAIL,YAAY,EAAE;QACdA,YAAY,CAACE,UAAU,CAAC;MAC5B;MACA,IAAIluB,GAAG,GAAG8tB,UAAU,CAACj4C,IAAI,CAAC,IAAI,EAAEw4C,MAAM,CAAC;MACvC,IAAI,CAACN,WAAW,IAAI,CAACA,WAAW,CAAC/tB,GAAG,EAAEkuB,UAAU,CAAC,EAAE;QAC/CA,UAAU,GAAGluB,GAAG;MACpB;IACJ;IACAouB,UAAU,GAAGC,MAAM;IACnB,OAAOH,UAAU;EACrB,CAAC;AACL;AACA,SAASI,gBAAgBA;AAAC;AAC1BR,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAE;EACnC,IAAIO,cAAc,GAAG,EAAE;EACvB,IAAIC,cAAc,GAAG,EAAE;EACvB,OAAQC,UAAU,IAAK;IACnB,IAAIC,UAAU,GAAGH,cAAc,CAACp3C,MAAM;IACtC,IAAIw3C,MAAM,GAAGF,UAAU,CAACt3C,MAAM;IAC9B,IAAI1D,CAAC,GAAG,CAAC;IACT,OAAOA,CAAC,GAAGi7C,UAAU,EAAEj7C,CAAC,IAAI,CAAC,EAAE;MAC3B,IAAI,CAACg7C,UAAU,CAACh7C,CAAC,CAAC,EAAE;QAAE;QAClB,IAAIu6C,YAAY,EAAE;UACdA,YAAY,CAACQ,cAAc,CAAC/6C,CAAC,CAAC,CAAC;QACnC;MACJ,CAAC,MACI,IAAI,CAAC8b,aAAa,CAACg/B,cAAc,CAAC96C,CAAC,CAAC,EAAEg7C,UAAU,CAACh7C,CAAC,CAAC,CAAC,EAAE;QACvD,IAAIu6C,YAAY,EAAE;UACdA,YAAY,CAACQ,cAAc,CAAC/6C,CAAC,CAAC,CAAC;QACnC;QACA,IAAIusB,GAAG,GAAG8tB,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAE6wC,UAAU,CAACh7C,CAAC,CAAC,CAAC;QAC/C,IAAI,CAACs6C,WAAW,IAAI,CAACA,WAAW,CAAC/tB,GAAG,EAAEwuB,cAAc,CAAC/6C,CAAC,CAAC,CAAC,EAAE;UACtD+6C,cAAc,CAAC/6C,CAAC,CAAC,GAAGusB,GAAG;QAC3B;MACJ;IACJ;IACA,OAAOvsB,CAAC,GAAGk7C,MAAM,EAAEl7C,CAAC,IAAI,CAAC,EAAE;MACvB+6C,cAAc,CAAC/6C,CAAC,CAAC,GAAGq6C,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAE6wC,UAAU,CAACh7C,CAAC,CAAC,CAAC;IAC7D;IACA86C,cAAc,GAAGE,UAAU;IAC3BD,cAAc,CAACr0C,MAAM,CAACw0C,MAAM,CAAC,CAAC,CAAC;IAC/B,OAAOH,cAAc;EACzB,CAAC;AACL;AACA,SAASI,eAAeA,CAACd,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAE;EAC5D,IAAIa,cAAc,GAAG,CAAC,CAAC;EACvB,IAAIC,cAAc,GAAG,CAAC,CAAC;EACvB,OAAQC,UAAU,IAAK;IACnB,IAAIC,UAAU,GAAG,CAAC,CAAC;IACnB,KAAK,IAAI/uC,GAAG,IAAI8uC,UAAU,EAAE;MACxB,IAAI,CAACD,cAAc,CAAC7uC,GAAG,CAAC,EAAE;QACtB+uC,UAAU,CAAC/uC,GAAG,CAAC,GAAG6tC,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAEmxC,UAAU,CAAC9uC,GAAG,CAAC,CAAC;MAC7D,CAAC,MACI,IAAI,CAACsP,aAAa,CAACs/B,cAAc,CAAC5uC,GAAG,CAAC,EAAE8uC,UAAU,CAAC9uC,GAAG,CAAC,CAAC,EAAE;QAC3D,IAAI+tC,YAAY,EAAE;UACdA,YAAY,CAACc,cAAc,CAAC7uC,GAAG,CAAC,CAAC;QACrC;QACA,IAAI+f,GAAG,GAAG8tB,UAAU,CAAClwC,KAAK,CAAC,IAAI,EAAEmxC,UAAU,CAAC9uC,GAAG,CAAC,CAAC;QACjD+uC,UAAU,CAAC/uC,GAAG,CAAC,GAAI8tC,WAAW,IAAIA,WAAW,CAAC/tB,GAAG,EAAE8uB,cAAc,CAAC7uC,GAAG,CAAC,CAAC,GACjE6uC,cAAc,CAAC7uC,GAAG,CAAC,GACnB+f,GAAG;MACb,CAAC,MACI;QACDgvB,UAAU,CAAC/uC,GAAG,CAAC,GAAG6uC,cAAc,CAAC7uC,GAAG,CAAC;MACzC;IACJ;IACA4uC,cAAc,GAAGE,UAAU;IAC3BD,cAAc,GAAGE,UAAU;IAC3B,OAAOA,UAAU;EACrB,CAAC;AACL;AAEA,MAAMC,gCAAgC,GAAG;EACrCz6B,IAAI,EAAE,CAAC;EACP06B,SAAS,EAAE,CAAC;EACZC,cAAc,EAAE,CAAC;EACjBz+C,QAAQ,EAAE,CAAC;EACX0+C,UAAU,EAAE;AAChB,CAAC;AACD,MAAMC,6BAA6B,GAAG;EAClCC,YAAY,EAAE,CAAC;EACfC,GAAG,EAAE,CAAC;EACNx6B,IAAI,EAAE,CAAC;EACPE,KAAK,EAAE,CAAC;EACRC,GAAG,EAAE,CAAC;EACNs6B,OAAO,EAAE,CAAC;EACVh/C,IAAI,EAAE,CAAC;EACPC,MAAM,EAAE,CAAC;EACT43C,MAAM,EAAE;AACZ,CAAC;AACD,MAAMoH,WAAW,GAAG,mBAAmB,CAAC,CAAC;AACzC,MAAMC,QAAQ,GAAG,IAAI,CAAC,CAAC;AACvB,MAAMC,cAAc,GAAG,MAAM;AAC7B,MAAMC,MAAM,GAAG,SAAS,CAAC,CAAC;AAC1B,MAAMC,MAAM,GAAG,SAAS;AACxB,MAAMC,eAAe,CAAC;EAClB/oD,WAAWA,CAACgpD,cAAc,EAAE;IACxB,IAAIC,iBAAiB,GAAG,CAAC,CAAC;IAC1B,IAAIC,gBAAgB,GAAG,CAAC,CAAC;IACzB,IAAIC,eAAe,GAAG,CAAC,CAAC,CAAC;IACzB,KAAK,IAAIj6C,IAAI,IAAI85C,cAAc,EAAE;MAC7B,IAAI95C,IAAI,IAAIg5C,gCAAgC,EAAE;QAC1CgB,gBAAgB,CAACh6C,IAAI,CAAC,GAAG85C,cAAc,CAAC95C,IAAI,CAAC;QAC7C,MAAMk6C,QAAQ,GAAGlB,gCAAgC,CAACh5C,IAAI,CAAC;QACvD,IAAIk6C,QAAQ,GAAG,CAAC,EAAE;UACdD,eAAe,GAAG90B,IAAI,CAAC0wB,GAAG,CAACmD,gCAAgC,CAACh5C,IAAI,CAAC,EAAEi6C,eAAe,CAAC;QACvF;MACJ,CAAC,MACI;QACDF,iBAAiB,CAAC/5C,IAAI,CAAC,GAAG85C,cAAc,CAAC95C,IAAI,CAAC;QAC9C,IAAIA,IAAI,IAAIo5C,6BAA6B,EAAE;UAAE;UACzCa,eAAe,GAAG90B,IAAI,CAAC0wB,GAAG,CAACuD,6BAA6B,CAACp5C,IAAI,CAAC,EAAEi6C,eAAe,CAAC;QACpF;MACJ;IACJ;IACA,IAAI,CAACF,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAACC,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAACC,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACE,mBAAmB,GAAGl/B,OAAO,CAACk/B,mBAAmB,CAAC;EAC3D;EACArmB,MAAMA,CAAC35B,IAAI,EAAEwJ,OAAO,EAAE;IAClB,OAAO,IAAI,CAACw2C,mBAAmB,CAAC,IAAI,CAACJ,iBAAiB,EAAE,IAAI,CAACC,gBAAgB,EAAEr2C,OAAO,CAAC,CAACxJ,IAAI,CAAC;EACjG;EACAm+B,WAAWA,CAACx+B,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,EAAE;IACrD,IAAI;MAAEL,iBAAiB;MAAEC;IAAiB,CAAC,GAAG,IAAI;IAClD,IAAIK,YAAY,GAAGC,yBAAyB,CAACxgD,KAAK,CAACuvC,MAAM,EAAEtvC,GAAG,CAACsvC,MAAM,EAAE1lC,OAAO,CAAC67B,cAAc,CAAC;IAC9F,IAAI,CAAC6a,YAAY,EAAE;MACf,OAAO,IAAI,CAACvmB,MAAM,CAACh6B,KAAK,EAAE6J,OAAO,CAAC;IACtC;IACA,IAAI42C,qBAAqB,GAAGF,YAAY;IACxC,IAAIE,qBAAqB,GAAG,CAAC;IAAI;IAC5BR,iBAAiB,CAACj7B,IAAI,KAAK,SAAS,IAAIi7B,iBAAiB,CAACj7B,IAAI,KAAK,SAAS,CAAC,KAC7Ei7B,iBAAiB,CAAC/6B,KAAK,KAAK,SAAS,IAAI+6B,iBAAiB,CAAC/6B,KAAK,KAAK,SAAS,CAAC,KAC/E+6B,iBAAiB,CAAC96B,GAAG,KAAK,SAAS,IAAI86B,iBAAiB,CAAC96B,GAAG,KAAK,SAAS,CAAC,EAAE;MAC9Es7B,qBAAqB,GAAG,CAAC,CAAC,CAAC;IAC/B;;IACA,IAAIC,KAAK,GAAG,IAAI,CAAC1mB,MAAM,CAACh6B,KAAK,EAAE6J,OAAO,CAAC;IACvC,IAAI82C,KAAK,GAAG,IAAI,CAAC3mB,MAAM,CAAC/5B,GAAG,EAAE4J,OAAO,CAAC;IACrC,IAAI62C,KAAK,KAAKC,KAAK,EAAE;MACjB,OAAOD,KAAK;IAChB;IACA,IAAIE,gBAAgB,GAAGC,+BAA+B,CAACZ,iBAAiB,EAAEQ,qBAAqB,CAAC;IAChG,IAAIK,qBAAqB,GAAGT,mBAAmB,CAACO,gBAAgB,EAAEV,gBAAgB,EAAEr2C,OAAO,CAAC;IAC5F,IAAIk3C,QAAQ,GAAGD,qBAAqB,CAAC9gD,KAAK,CAAC;IAC3C,IAAIghD,QAAQ,GAAGF,qBAAqB,CAAC7gD,GAAG,CAAC;IACzC,IAAIghD,SAAS,GAAGC,mBAAmB,CAACR,KAAK,EAAEK,QAAQ,EAAEJ,KAAK,EAAEK,QAAQ,CAAC;IACrE,IAAI7B,SAAS,GAAGe,gBAAgB,CAACf,SAAS,IAAImB,sBAAsB,IAAIz2C,OAAO,CAACg1B,gBAAgB,IAAI,EAAE;IACtG,IAAIoiB,SAAS,EAAE;MACX,OAAOA,SAAS,CAACE,MAAM,GAAGJ,QAAQ,GAAG5B,SAAS,GAAG6B,QAAQ,GAAGC,SAAS,CAACG,KAAK;IAC/E;IACA,OAAOV,KAAK,GAAGvB,SAAS,GAAGwB,KAAK;EACpC;EACAU,eAAeA,CAAA,EAAG;IACd,QAAQ,IAAI,CAAClB,eAAe;MACxB,KAAK,CAAC;MACN,KAAK,CAAC;MACN,KAAK,CAAC;QACF,OAAO,MAAM;MACjB,KAAK,CAAC;QACF,OAAO,OAAO;MAClB,KAAK,CAAC;QACF,OAAO,MAAM;MACjB,KAAK,CAAC;QACF,OAAO,KAAK;MAChB;QACI,OAAO,MAAM;MAAE;IACvB;EACJ;AACJ;;AACA,SAASE,mBAAmBA,CAACJ,iBAAiB,EAAEC,gBAAgB,EAAEr2C,OAAO,EAAE;EACvE,IAAIy3C,mBAAmB,GAAGh2C,MAAM,CAAC6L,IAAI,CAAC8oC,iBAAiB,CAAC,CAAC74C,MAAM;EAC/D,IAAIk6C,mBAAmB,KAAK,CAAC,IAAIrB,iBAAiB,CAACV,YAAY,KAAK,OAAO,EAAE;IACzE,OAAQl/C,IAAI,IAAMk9C,oBAAoB,CAACl9C,IAAI,CAAC+8C,cAAc,CAAE;EAChE;EACA,IAAIkE,mBAAmB,KAAK,CAAC,IAAIpB,gBAAgB,CAACz7B,IAAI,EAAE;IACpD,OAAQpkB,IAAI,IAAMkhD,gBAAgB,CAAC13C,OAAO,CAAC23C,iBAAiB,CAACnhD,IAAI,CAACkvC,MAAM,CAAC,EAAE1lC,OAAO,CAACwb,QAAQ,EAAExb,OAAO,CAACyb,YAAY,EAAEzb,OAAO,CAACtK,MAAM,EAAE2gD,gBAAgB,CAACz7B,IAAI,CAAE;EAC9J;EACA,OAAOg9B,yBAAyB,CAACxB,iBAAiB,EAAEC,gBAAgB,EAAEr2C,OAAO,CAAC;AAClF;AACA,SAAS43C,yBAAyBA,CAACxB,iBAAiB,EAAEC,gBAAgB,EAAEr2C,OAAO,EAAE;EAC7Eo2C,iBAAiB,GAAG30C,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEm6B,iBAAiB,CAAC,CAAC,CAAC;EAC1DC,gBAAgB,GAAG50C,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEo6B,gBAAgB,CAAC,CAAC,CAAC;EACxDwB,gBAAgB,CAACzB,iBAAiB,EAAEC,gBAAgB,CAAC;EACrDD,iBAAiB,CAACzlB,QAAQ,GAAG,KAAK,CAAC,CAAC;EACpC,IAAImnB,YAAY,GAAG,IAAIh6B,IAAI,CAACi6B,cAAc,CAAC/3C,OAAO,CAACtK,MAAM,CAAC0nB,KAAK,EAAEg5B,iBAAiB,CAAC;EACnF,IAAI4B,UAAU,CAAC,CAAC;EAChB,IAAI3B,gBAAgB,CAACd,cAAc,EAAE;IACjC,IAAI0C,SAAS,GAAGx2C,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEm6B,iBAAiB,CAAC;IACpD,OAAO6B,SAAS,CAACphD,MAAM,CAAC,CAAC;IACzBmhD,UAAU,GAAG,IAAIl6B,IAAI,CAACi6B,cAAc,CAAC/3C,OAAO,CAACtK,MAAM,CAAC0nB,KAAK,EAAE66B,SAAS,CAAC;EACzE;EACA,OAAQzhD,IAAI,IAAK;IACb,IAAI;MAAEkvC;IAAO,CAAC,GAAGlvC,IAAI;IACrB,IAAI25B,MAAM;IACV,IAAI6nB,UAAU,IAAI,CAACtS,MAAM,CAACkM,aAAa,CAAC,CAAC,EAAE;MACvCzhB,MAAM,GAAG6nB,UAAU;IACvB,CAAC,MACI;MACD7nB,MAAM,GAAG2nB,YAAY;IACzB;IACA,IAAIv9C,CAAC,GAAG41B,MAAM,CAACA,MAAM,CAACuV,MAAM,CAAC;IAC7B,OAAOwS,WAAW,CAAC39C,CAAC,EAAE/D,IAAI,EAAE4/C,iBAAiB,EAAEC,gBAAgB,EAAEr2C,OAAO,CAAC;EAC7E,CAAC;AACL;AACA,SAAS63C,gBAAgBA,CAACzB,iBAAiB,EAAEC,gBAAgB,EAAE;EAC3D;EACA;EACA,IAAID,iBAAiB,CAACV,YAAY,EAAE;IAChC,IAAI,CAACU,iBAAiB,CAACx/C,IAAI,EAAE;MACzBw/C,iBAAiB,CAACx/C,IAAI,GAAG,SAAS;IACtC;IACA,IAAI,CAACw/C,iBAAiB,CAACv/C,MAAM,EAAE;MAC3Bu/C,iBAAiB,CAACv/C,MAAM,GAAG,SAAS;IACxC;EACJ;EACA;EACA,IAAIu/C,iBAAiB,CAACV,YAAY,KAAK,MAAM,EAAE;IAC3CU,iBAAiB,CAACV,YAAY,GAAG,OAAO;EAC5C;EACA;EACA,IAAIW,gBAAgB,CAACd,cAAc,KAAKa,iBAAiB,CAAC3H,MAAM,IAAI2H,iBAAiB,CAAC1H,WAAW,CAAC,EAAE;IAChG,OAAO2H,gBAAgB,CAACd,cAAc;EAC1C;AACJ;AACA,SAAS2C,WAAWA,CAAC39C,CAAC,EAAE/D,IAAI,EAAE4/C,iBAAiB,EAAEC,gBAAgB,EAAEr2C,OAAO,EAAE;EACxEzF,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAACkzC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC;EAC3B,IAAII,iBAAiB,CAACV,YAAY,KAAK,OAAO,EAAE;IAC5Cn7C,CAAC,GAAG49C,YAAY,CAAC59C,CAAC,EAAGyF,OAAO,CAAC2wB,QAAQ,KAAK,KAAK,IAAIn6B,IAAI,CAAC+8C,cAAc,IAAI,IAAI,GAC1E,KAAK;IAAG;IACRG,oBAAoB,CAACl9C,IAAI,CAAC+8C,cAAc,CAAC,CAAC;EAClD;EACA,IAAI8C,gBAAgB,CAACb,UAAU,EAAE;IAC7Bj7C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAACgzC,QAAQ,EAAE,EAAE,CAAC,CAACrO,IAAI,CAAC,CAAC;EACtC;EACA,IAAI4O,gBAAgB,CAACd,cAAc,EAAE;IACjCh7C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,CAAC;EAC9B;EACA;EACA;EACA,IAAIuzC,gBAAgB,CAACv/C,QAAQ,KAAK,KAAK,EAAE;IACrCyD,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC+yC,WAAW,EAAE,EAAE,CAAC,CAACpO,IAAI,CAAC,CAAC;EACzC,CAAC,MACI,IAAI4O,gBAAgB,CAACv/C,QAAQ,KAAK,QAAQ,EAAE;IAAE;IAC/CyD,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC+yC,WAAW,EAAE,CAACnF,EAAE,EAAEC,EAAE,KAAKA,EAAE,CAACnzB,iBAAiB,CAAC,CAAC,CAAC;EAClE,CAAC,MACI,IAAI64B,gBAAgB,CAACv/C,QAAQ,KAAK,OAAO,EAAE;IAAE;IAC9CyD,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC+yC,WAAW,EAAE,CAACnF,EAAE,EAAEC,EAAE,KAAM,GAAEA,EAAE,CAACnzB,iBAAiB,CAAC,CAAE,GAAE,CAAC;EACxE,CAAC,MACI,IAAI64B,gBAAgB,CAACv/C,QAAQ,KAAK,WAAW,EAAE;IAAE;IAClDyD,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAAC+yC,WAAW,EAAGnF,EAAE,IAAKA,EAAE,CAAClzB,iBAAiB,CAAC,CAAC,CAAC;EAC9D;EACAjjB,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAACizC,cAAc,EAAE,GAAG,CAAC;EAClCx7C,CAAC,GAAGA,CAAC,CAACktC,IAAI,CAAC,CAAC;EACZ,OAAOltC,CAAC;AACZ;AACA,SAAS49C,YAAYA,CAAC59C,CAAC,EAAE69C,MAAM,EAAE;EAC7B,IAAIC,QAAQ,GAAG,KAAK;EACpB99C,CAAC,GAAGA,CAAC,CAACuI,OAAO,CAACmzC,MAAM,EAAE,MAAM;IACxBoC,QAAQ,GAAG,IAAI;IACf,OAAOD,MAAM;EACjB,CAAC,CAAC;EACF;EACA,IAAI,CAACC,QAAQ,EAAE;IACX99C,CAAC,IAAK,IAAG69C,MAAO,EAAC;EACrB;EACA,OAAO79C,CAAC;AACZ;AACA,SAASm9C,gBAAgBA,CAACY,GAAG,EAAE98B,QAAQ,EAAEC,YAAY,EAAE/lB,MAAM,EAAE4Z,OAAO,EAAE;EACpE,IAAIiO,KAAK,GAAG,EAAE;EACd,IAAIjO,OAAO,KAAK,MAAM,EAAE;IACpBiO,KAAK,CAACre,IAAI,CAACuc,YAAY,CAAC;EAC5B,CAAC,MACI,IAAInM,OAAO,KAAK,OAAO,IAAIA,OAAO,KAAK,QAAQ,EAAE;IAClDiO,KAAK,CAACre,IAAI,CAACsc,QAAQ,CAAC;EACxB;EACA,IAAIlM,OAAO,KAAK,MAAM,IAAIA,OAAO,KAAK,OAAO,EAAE;IAC3CiO,KAAK,CAACre,IAAI,CAAC,GAAG,CAAC;EACnB;EACAqe,KAAK,CAACre,IAAI,CAACxJ,MAAM,CAACmoB,kBAAkB,CAACsS,MAAM,CAACmoB,GAAG,CAAC,CAAC;EACjD,IAAI5iD,MAAM,CAAC0D,OAAO,CAAC2hB,SAAS,KAAK,KAAK,EAAE;IAAE;IACtCwC,KAAK,CAAC1c,OAAO,CAAC,CAAC;EACnB;EACA,OAAO0c,KAAK,CAACI,IAAI,CAAC,EAAE,CAAC;AACzB;AACA;AACA;AACA;AACA;AACA,SAASg5B,yBAAyBA,CAAC5H,EAAE,EAAEC,EAAE,EAAEuJ,EAAE,EAAE;EAC3C,IAAIA,EAAE,CAACC,aAAa,CAACzJ,EAAE,CAAC,KAAKwJ,EAAE,CAACC,aAAa,CAACxJ,EAAE,CAAC,EAAE;IAC/C,OAAO,CAAC;EACZ;EACA,IAAIuJ,EAAE,CAACE,cAAc,CAAC1J,EAAE,CAAC,KAAKwJ,EAAE,CAACE,cAAc,CAACzJ,EAAE,CAAC,EAAE;IACjD,OAAO,CAAC;EACZ;EACA,IAAIuJ,EAAE,CAACG,YAAY,CAAC3J,EAAE,CAAC,KAAKwJ,EAAE,CAACG,YAAY,CAAC1J,EAAE,CAAC,EAAE;IAC7C,OAAO,CAAC;EACZ;EACA,IAAIqC,QAAQ,CAACtC,EAAE,CAAC,KAAKsC,QAAQ,CAACrC,EAAE,CAAC,EAAE;IAC/B,OAAO,CAAC;EACZ;EACA,OAAO,CAAC;AACZ;AACA,SAASgI,+BAA+BA,CAAC59C,OAAO,EAAEu/C,WAAW,EAAE;EAC3D,IAAIC,cAAc,GAAG,CAAC,CAAC;EACvB,KAAK,IAAIv8C,IAAI,IAAIjD,OAAO,EAAE;IACtB,IAAI,EAAEiD,IAAI,IAAIo5C,6BAA6B,CAAC;IAAI;IAC5CA,6BAA6B,CAACp5C,IAAI,CAAC,IAAIs8C,WAAW,EAAE;MACpDC,cAAc,CAACv8C,IAAI,CAAC,GAAGjD,OAAO,CAACiD,IAAI,CAAC;IACxC;EACJ;EACA,OAAOu8C,cAAc;AACzB;AACA,SAASvB,mBAAmBA,CAACR,KAAK,EAAEK,QAAQ,EAAEJ,KAAK,EAAEK,QAAQ,EAAE;EAC3D,IAAIzpD,EAAE,GAAG,CAAC;EACV,OAAOA,EAAE,GAAGmpD,KAAK,CAACt5C,MAAM,EAAE;IACtB,IAAIs7C,MAAM,GAAGhC,KAAK,CAACr2C,OAAO,CAAC02C,QAAQ,EAAExpD,EAAE,CAAC;IACxC,IAAImrD,MAAM,KAAK,CAAC,CAAC,EAAE;MACf;IACJ;IACA,IAAIC,OAAO,GAAGjC,KAAK,CAAC5J,MAAM,CAAC,CAAC,EAAE4L,MAAM,CAAC;IACrCnrD,EAAE,GAAGmrD,MAAM,GAAG3B,QAAQ,CAAC35C,MAAM;IAC7B,IAAIw7C,MAAM,GAAGlC,KAAK,CAAC5J,MAAM,CAACv/C,EAAE,CAAC;IAC7B,IAAIE,EAAE,GAAG,CAAC;IACV,OAAOA,EAAE,GAAGkpD,KAAK,CAACv5C,MAAM,EAAE;MACtB,IAAIy7C,MAAM,GAAGlC,KAAK,CAACt2C,OAAO,CAAC22C,QAAQ,EAAEvpD,EAAE,CAAC;MACxC,IAAIorD,MAAM,KAAK,CAAC,CAAC,EAAE;QACf;MACJ;MACA,IAAIC,OAAO,GAAGnC,KAAK,CAAC7J,MAAM,CAAC,CAAC,EAAE+L,MAAM,CAAC;MACrCprD,EAAE,GAAGorD,MAAM,GAAG7B,QAAQ,CAAC55C,MAAM;MAC7B,IAAI27C,MAAM,GAAGpC,KAAK,CAAC7J,MAAM,CAACr/C,EAAE,CAAC;MAC7B,IAAIkrD,OAAO,KAAKG,OAAO,IAAIF,MAAM,KAAKG,MAAM,EAAE;QAC1C,OAAO;UACH5B,MAAM,EAAEwB,OAAO;UACfvB,KAAK,EAAEwB;QACX,CAAC;MACL;IACJ;EACJ;EACA,OAAO,IAAI;AACf;AAEA,SAASI,iBAAiBA,CAACC,QAAQ,EAAEvd,cAAc,EAAE;EACjD,IAAIxhC,CAAC,GAAGwhC,cAAc,CAACwd,aAAa,CAACD,QAAQ,CAAC1T,MAAM,CAAC;EACrD,OAAO;IACHA,MAAM,EAAE0T,QAAQ,CAAC1T,MAAM;IACvB6N,cAAc,EAAE6F,QAAQ,CAAC7F,cAAc;IACvCvD,KAAK,EAAE31C,CAAC;IACR8gB,IAAI,EAAE9gB,CAAC,CAAC,CAAC,CAAC;IACVghB,KAAK,EAAEhhB,CAAC,CAAC,CAAC,CAAC;IACXihB,GAAG,EAAEjhB,CAAC,CAAC,CAAC,CAAC;IACTzD,IAAI,EAAEyD,CAAC,CAAC,CAAC,CAAC;IACVxD,MAAM,EAAEwD,CAAC,CAAC,CAAC,CAAC;IACZo0C,MAAM,EAAEp0C,CAAC,CAAC,CAAC,CAAC;IACZq0C,WAAW,EAAEr0C,CAAC,CAAC,CAAC;EACpB,CAAC;AACL;AAEA,SAASi/C,0BAA0BA,CAACnjD,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,EAAE;EAC7E,IAAI8C,SAAS,GAAGJ,iBAAiB,CAAChjD,KAAK,EAAE6J,OAAO,CAAC67B,cAAc,CAAC;EAChE,IAAI2d,OAAO,GAAGpjD,GAAG,GAAG+iD,iBAAiB,CAAC/iD,GAAG,EAAE4J,OAAO,CAAC67B,cAAc,CAAC,GAAG,IAAI;EACzE,OAAO;IACHrlC,IAAI,EAAE+iD,SAAS;IACfpjD,KAAK,EAAEojD,SAAS;IAChBnjD,GAAG,EAAEojD,OAAO;IACZ7oB,QAAQ,EAAE3wB,OAAO,CAAC2wB,QAAQ;IAC1B8oB,WAAW,EAAEz5C,OAAO,CAACtK,MAAM,CAAC0nB,KAAK;IACjC4X,gBAAgB,EAAEyhB,sBAAsB,IAAIz2C,OAAO,CAACg1B;EACxD,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM0kB,YAAY,CAAC;EACfvsD,WAAWA,CAACwsD,MAAM,EAAE;IAChB,IAAI,CAACA,MAAM,GAAGA,MAAM;EACxB;EACAxpB,MAAMA,CAAC35B,IAAI,EAAEwJ,OAAO,EAAEy2C,sBAAsB,EAAE;IAC1C,OAAOz2C,OAAO,CAACwf,YAAY,CAAC,IAAI,CAACm6B,MAAM,EAAEL,0BAA0B,CAAC9iD,IAAI,EAAE,IAAI,EAAEwJ,OAAO,EAAEy2C,sBAAsB,CAAC,CAAC;EACrH;EACA9hB,WAAWA,CAACx+B,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,EAAE;IACrD,OAAOz2C,OAAO,CAACwf,YAAY,CAAC,IAAI,CAACm6B,MAAM,EAAEL,0BAA0B,CAACnjD,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,CAAC,CAAC;EACrH;AACJ;AAEA,MAAMmD,aAAa,CAAC;EAChBzsD,WAAWA,CAACggB,IAAI,EAAE;IACd,IAAI,CAACA,IAAI,GAAGA,IAAI;EACpB;EACAgjB,MAAMA,CAAC35B,IAAI,EAAEwJ,OAAO,EAAEy2C,sBAAsB,EAAE;IAC1C,OAAO,IAAI,CAACtpC,IAAI,CAACmsC,0BAA0B,CAAC9iD,IAAI,EAAE,IAAI,EAAEwJ,OAAO,EAAEy2C,sBAAsB,CAAC,CAAC;EAC7F;EACA9hB,WAAWA,CAACx+B,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,EAAE;IACrD,OAAO,IAAI,CAACtpC,IAAI,CAACmsC,0BAA0B,CAACnjD,KAAK,EAAEC,GAAG,EAAE4J,OAAO,EAAEy2C,sBAAsB,CAAC,CAAC;EAC7F;AACJ;AAEA,SAASr/B,eAAeA,CAACrK,KAAK,EAAE;EAC5B,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,EAAE;IAAE;IACtC,OAAO,IAAImpC,eAAe,CAACnpC,KAAK,CAAC;EACrC;EACA,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;IAC3B,OAAO,IAAI2sC,YAAY,CAAC3sC,KAAK,CAAC;EAClC;EACA,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAE;IAC7B,OAAO,IAAI6sC,aAAa,CAAC7sC,KAAK,CAAC;EACnC;EACA,OAAO,IAAI;AACf;;AAEA;AACA;AACA,MAAMgL,oBAAoB,GAAG;EACzB8hC,eAAe,EAAEljC,QAAQ;EACzBmjC,gBAAgB,EAAEnjC,QAAQ;EAC1BmO,QAAQ,EAAE5O,cAAc;EACxB6jC,oBAAoB,EAAEpjC,QAAQ;EAC9BqjC,WAAW,EAAErjC,QAAQ;EACrBsW,aAAa,EAAEtW,QAAQ;EACvBsjC,0BAA0B,EAAE/jC,cAAc;EAC1CgkC,yBAAyB,EAAEhkC,cAAc;EACzC6N,gBAAgB,EAAE7N,cAAc;EAChCikC,UAAU,EAAEjkC,cAAc;EAC1BkkC,eAAe,EAAE9oB,OAAO;EACxByJ,WAAW,EAAE7kB,cAAc;EAC3B8kB,WAAW,EAAE9kB,cAAc;EAC3BmkC,gBAAgB,EAAEjjC,eAAe;EACjCkjC,YAAY,EAAEpkC,cAAc;EAC5BqkC,YAAY,EAAErkC,cAAc;EAC5Bve,aAAa,EAAEgf,QAAQ;EACvBlK,aAAa,EAAEkK,QAAQ;EACvB0jB,qBAAqB,EAAExK,MAAM;EAC7BoF,mBAAmB,EAAEpF,MAAM;EAC3B2qB,kBAAkB,EAAElpB,OAAO;EAC3BmpB,UAAU,EAAEnpB,OAAO;EACnBopB,eAAe,EAAEtjC,eAAe;EAChCujC,mBAAmB,EAAEhkC,QAAQ;EAC7BzC,gBAAgB,EAAEyC,QAAQ;EAC1BikC,iBAAiB,EAAEjkC,QAAQ;EAC3BkkC,oBAAoB,EAAElkC,QAAQ;EAC9BmkC,iBAAiB,EAAEnkC,QAAQ;EAC3BxC,cAAc,EAAEwC,QAAQ;EACxBokC,eAAe,EAAEpkC,QAAQ;EACzBqkC,kBAAkB,EAAErkC,QAAQ;EAC5B1gB,WAAW,EAAE45B,MAAM;EACnB8P,WAAW,EAAEsb,MAAM;EACnB3f,QAAQ,EAAEhK,OAAO;EACjB6I,qBAAqB,EAAExjB,QAAQ;EAC/BukC,WAAW,EAAE5pB,OAAO;EACpB6pB,oBAAoB,EAAExkC,QAAQ;EAC9BvC,iBAAiB,EAAEuC,QAAQ;EAC3BykC,kBAAkB,EAAEzkC,QAAQ;EAC5B0kC,qBAAqB,EAAE1kC,QAAQ;EAC/B2lB,QAAQ,EAAEhL,OAAO;EACjBgqB,cAAc,EAAE3kC,QAAQ;EACxB4kC,YAAY,EAAE5kC,QAAQ;EACtB6kC,eAAe,EAAE7kC,QAAQ;EACzB8kC,YAAY,EAAEnqB,OAAO;EACrBoqB,gBAAgB,EAAE/kC,QAAQ;EAC1BglC,sBAAsB,EAAEhlC,QAAQ;EAChCtC,mBAAmB,EAAEsC,QAAQ;EAC7BilC,oBAAoB,EAAEjlC,QAAQ;EAC9BklC,uBAAuB,EAAEllC,QAAQ;EACjCskB,mBAAmB,EAAE3J,OAAO;EAC5BjI,YAAY,EAAEiI,OAAO;EACrBvB,UAAU,EAAEF,MAAM;EAClBG,QAAQ,EAAEH,MAAM;EAChBI,aAAa,EAAEJ,MAAM;EACrBc,QAAQ,EAAEd,MAAM;EAChB2K,OAAO,EAAE7jB,QAAQ;EACjBjhB,MAAM,EAAEihB,QAAQ;EAChBqlB,WAAW,EAAEnM,MAAM;EACnBisB,kBAAkB,EAAEb,MAAM;EAC1Bc,UAAU,EAAEzqB,OAAO;EACnB0qB,sBAAsB,EAAE1qB,OAAO;EAC/B2qB,YAAY,EAAE3qB,OAAO;EACrB4qB,UAAU,EAAEvlC,QAAQ;EACpBwlC,UAAU,EAAErQ,eAAe;EAC3BsQ,gBAAgB,EAAE9qB,OAAO;EACzBoR,kBAAkB,EAAEpR,OAAO;EAC3BqR,iBAAiB,EAAEsY,MAAM;EACzBoB,cAAc,EAAEpB,MAAM;EACtBqB,oBAAoB,EAAErB,MAAM;EAC5BsB,UAAU,EAAEjrB,OAAO;EACnBuO,MAAM,EAAElpB,QAAQ;EAChB/e,aAAa,EAAE+e,QAAQ;EACvBoE,SAAS,EAAE8U,MAAM;EACjB2sB,gBAAgB,EAAEplC,eAAe;EACjCqlC,uBAAuB,EAAEnrB,OAAO;EAChC76B,gBAAgB,EAAE66B,OAAO;EACzB56B,eAAe,EAAE46B,OAAO;EACxB9V,QAAQ,EAAEqU,MAAM;EAChBpU,YAAY,EAAEoU,MAAM;EACpBkJ,yBAAyB,EAAEzH,OAAO;EAClC6G,aAAa,EAAExhB,QAAQ;EACvBmQ,WAAW,EAAEnQ,QAAQ;EACrBkf,GAAG,EAAElf,QAAQ;EACb+lC,kBAAkB,EAAE/lC,QAAQ;EAC5BgmC,iBAAiB,EAAEhmC,QAAQ;EAC3BimC,qBAAqB,EAAEjmC,QAAQ;EAC/BksB,UAAU,EAAElsB,QAAQ;EACpBkmC,aAAa,EAAEvrB,OAAO;EACtB/G,kBAAkB,EAAE5T,QAAQ;EAC5BsT,kBAAkB,EAAEtT,QAAQ;EAC5B0lB,YAAY,EAAExM,MAAM;EACpB2M,kBAAkB,EAAElL,OAAO;EAC3BoL,qBAAqB,EAAEpL,OAAO;EAC9BwL,YAAY,EAAEnmB,QAAQ;EACtBimB,eAAe,EAAEjmB,QAAQ;EACzBqmB,UAAU,EAAErmB,QAAQ;EACpBsmB,oBAAoB,EAAEpN,MAAM;EAC5BqN,gBAAgB,EAAErN,MAAM;EACxBuN,cAAc,EAAEvN,MAAM;EACtBwN,UAAU,EAAExN,MAAM;EAClBitB,eAAe,EAAEnmC,QAAQ;EACzBrC,YAAY,EAAEqC,QAAQ;EACtBomC,aAAa,EAAEpmC,QAAQ;EACvBqmC,gBAAgB,EAAErmC,QAAQ;EAC1B2mB,gBAAgB,EAAE3mB,QAAQ;EAC1B4mB,aAAa,EAAE5mB,QAAQ;EACvB6mB,WAAW,EAAE7mB,QAAQ;EACrBsmC,SAAS,EAAE3rB,OAAO;EAClB4rB,cAAc,EAAErtB,MAAM;EACtBstB,eAAe,EAAExmC,QAAQ;EACzBymC,kBAAkB,EAAEzmC,QAAQ;EAC5BpC,eAAe,EAAEoC,QAAQ;EACzB0mC,gBAAgB,EAAE1mC,QAAQ;EAC1B2mC,mBAAmB,EAAE3mC,QAAQ;EAC7B4mC,mBAAmB,EAAE5mC,QAAQ;EAC7BnC,gBAAgB,EAAEmC,QAAQ;EAC1B6mC,iBAAiB,EAAE7mC,QAAQ;EAC3B8mC,oBAAoB,EAAE9mC,QAAQ;EAC9B+mC,YAAY,EAAE/mC,QAAQ;EACtBgnC,eAAe,EAAEhnC,QAAQ;EACzBinC,WAAW,EAAE3C,MAAM;EACnB4C,iBAAiB,EAAE3nC,cAAc;EACjC2F,UAAU,EAAEgU,MAAM;EAClBiuB,gBAAgB,EAAEnnC,QAAQ;EAC1BlC,aAAa,EAAEkC,QAAQ;EACvBonC,cAAc,EAAEpnC,QAAQ;EACxBqnC,iBAAiB,EAAErnC,QAAQ;EAC3BsnC,YAAY,EAAEhD,MAAM;EACpBiD,QAAQ,EAAE5sB,OAAO;EACjB36B,eAAe,EAAEygB,eAAe;EAChCytB,aAAa,EAAEoW,MAAM;EACrBn/B,YAAY,EAAEnF,QAAQ;EACtB2F,YAAY,EAAE3F,QAAQ;EACtBwnC,iBAAiB,EAAElD,MAAM;EACzBmD,UAAU,EAAE9sB,OAAO;EACnB+sB,oBAAoB,EAAEpD,MAAM;EAC5BqD,mBAAmB,EAAErD,MAAM;EAC3BsD,YAAY,EAAEjtB,OAAO;EACrBktB,aAAa,EAAEvD,MAAM;EACrBwD,cAAc,EAAExD,MAAM;EACtByD,aAAa,EAAEzD,MAAM;EACrB0D,gBAAgB,EAAE1D,MAAM;EACxB2D,gBAAgB,EAAEttB,OAAO;EACzB37B,OAAO,EAAEghB,QAAQ;EACjByjB,QAAQ,EAAE6gB,MAAM;EAChB/f,QAAQ,EAAE+f,MAAM;EAChB9f,aAAa,EAAEtL,MAAM;EACrBuL,aAAa,EAAEllB,cAAc;EAC7BmlB,UAAU,EAAE1kB,QAAQ;EACpBglB,cAAc,EAAErK,OAAO;EACvBkK,UAAU,EAAE7kB,QAAQ;EACpB+kB,YAAY,EAAE/kB,QAAQ;EACtBie,WAAW,EAAEje,QAAQ;EACrBkoC,gBAAgB,EAAEvtB,OAAO;EACzB;EACAvV,YAAY,EAAE8T,MAAM;EACpBzT,QAAQ,EAAEzF,QAAQ;EAClB0F,WAAW,EAAE1F,QAAQ;EACrB+E,SAAS,EAAEmU,MAAM;EACjBlU,QAAQ,EAAEkU,MAAM;EAChBjU,SAAS,EAAEiU,MAAM;EACjBivB,aAAa,EAAEnoC,QAAQ;EACvBooC,kBAAkB,EAAEpoC,QAAQ;EAC5BjC,eAAe,EAAEiC,QAAQ;EACzBqoC,gBAAgB,EAAEroC,QAAQ;EAC1BsoC,mBAAmB,EAAEtoC,QAAQ;EAC7BuoC,gBAAgB,EAAE9nC,eAAe;EACjC;EACA;EACAzF,qBAAqB,EAAEgF,QAAQ;EAC/BrD,sBAAsB,EAAEqD,QAAQ;EAChCpD,uBAAuB,EAAE+d;AAC7B,CAAC;AACD;AACA;AACA,MAAMnb,oBAAoB,GAAG;EACzBkmB,YAAY,EAAE,MAAM;EACpBhC,qBAAqB,EAAE,KAAK;EAC5BpF,mBAAmB,EAAE,UAAU;EAC/BilB,yBAAyB,EAAE,UAAU;EACrCD,0BAA0B,EAAE;IAAE3+B,GAAG,EAAE;EAAE,CAAC;EACtCk/B,kBAAkB,EAAE,KAAK;EACzBz2B,gBAAgB,EAAE,UAAU;EAC5B02B,UAAU,EAAE,IAAI;EAChBxkD,WAAW,EAAE,EAAE;EACf0pC,WAAW,EAAE,IAAI;EACjBhoC,aAAa,EAAE;IACXxB,KAAK,EAAE,OAAO;IACdb,MAAM,EAAE,EAAE;IACVc,GAAG,EAAE;EACT,CAAC;EACDklC,QAAQ,EAAE,IAAI;EACd4f,WAAW,EAAE,KAAK;EAClB/gB,qBAAqB,EAAE,OAAO;EAC9BmC,QAAQ,EAAE,KAAK;EACfmf,YAAY,EAAE,KAAK;EACnBtB,UAAU,EAAE,UAAU;EACtBC,eAAe,EAAE,IAAI;EACrBrf,WAAW,EAAE,UAAU;EACvBC,WAAW,EAAE,UAAU;EACvBC,mBAAmB,EAAE,IAAI;EACzB5R,YAAY,EAAE,IAAI;EAClB0G,UAAU,EAAE,OAAO;EACnBC,QAAQ,EAAE,KAAK;EACfC,aAAa,EAAE,UAAU;EACzBU,QAAQ,EAAE,OAAO;EACjB6J,OAAO,EAAE,EAAE;EACX9kC,MAAM,EAAE,EAAE;EACVsmC,WAAW,EAAE,UAAU;EACvB8f,kBAAkB,EAAE,GAAG;EACvBC,UAAU,EAAE,IAAI;EAChBC,sBAAsB,EAAE,KAAK;EAC7BC,YAAY,EAAE,IAAI;EAClBC,UAAU,EAAE,GAAG;EACfC,UAAU,EAAE,8BAA8B;EAC1C9B,gBAAgB,EAAE;IAAEh/B,KAAK,EAAE,MAAM;IAAEC,GAAG,EAAE,SAAS;IAAEH,IAAI,EAAE;EAAU,CAAC;EACpEunB,kBAAkB,EAAE,IAAI;EACxBC,iBAAiB,EAAE,GAAG;EACtB0Z,cAAc,EAAE,IAAI;EACpBC,oBAAoB,EAAE,CAAC;EACvBC,UAAU,EAAE,KAAK;EACjB2B,QAAQ,EAAE,KAAK;EACfE,UAAU,EAAE,KAAK;EACjBK,cAAc,EAAE,EAAE;EAClBC,aAAa,EAAE,EAAE;EACjBC,gBAAgB,EAAE,EAAE;EACpBO,gBAAgB,EAAE;IAAE7jC,KAAK,EAAE,MAAM;IAAEC,GAAG,EAAE;EAAU,CAAC;EACnDogC,gBAAgB,EAAE;AACtB,CAAC;AACD;AACA;AACA,MAAM1jC,0BAA0B,GAAG;EAC/BmnC,QAAQ,EAAExoC,QAAQ;EAClByoC,SAAS,EAAEzoC,QAAQ;EACnB0oC,QAAQ,EAAE1oC,QAAQ;EAClB2oC,WAAW,EAAE3oC,QAAQ;EACrB4oC,WAAW,EAAE5oC,QAAQ;EACrB6oC,YAAY,EAAE7oC,QAAQ;EACtB3f,UAAU,EAAE2f,QAAQ;EACpB8oC,eAAe,EAAE9oC,QAAQ;EACzB+oC,eAAe,EAAE/oC,QAAQ;EACzBgpC,MAAM,EAAEhpC,QAAQ;EAChBipC,QAAQ,EAAEjpC,QAAQ;EAClBkpC,OAAO,EAAElpC,QAAQ;EACjB;EACAmpC,QAAQ,EAAEnpC,QAAQ;EAClBopC,YAAY,EAAEppC,QAAQ;EACtBqpC,WAAW,EAAErpC,QAAQ;EACrBspC,YAAY,EAAEtpC,QAAQ;EACtBupC,cAAc,EAAEvpC,QAAQ;EACxBwpC,OAAO,EAAExpC,QAAQ;EACjBypC,cAAc,EAAEzpC;AACpB,CAAC;AACD;AACA;AACA,MAAMsB,wBAAwB,GAAG;EAC7BniB,UAAU,EAAE6gB,QAAQ;EACpBuF,WAAW,EAAEvF,QAAQ;EACrB/gB,KAAK,EAAE+gB,QAAQ;EACfhhB,OAAO,EAAEghB,QAAQ;EACjBiU,aAAa,EAAEjU,QAAQ;EACvBzgB,MAAM,EAAEygB,QAAQ;EAChBjK,YAAY,EAAEiK;AAClB,CAAC;AACD,MAAMuB,0BAA0B,GAAG;EAC/BvgB,aAAa,EAAE0oD,mBAAmB;EAClC5zC,aAAa,EAAE4zC,mBAAmB;EAClCvqD,UAAU,EAAEuqD,mBAAmB;EAC/BnkC,WAAW,EAAEmkC,mBAAmB;EAChCrG,WAAW,EAAEqG,mBAAmB;EAChCjlB,aAAa,EAAEilB,mBAAmB;EAClC1qD,OAAO,EAAE2qD,kBAAkB;EAC3BpqD,MAAM,EAAEoqD,kBAAkB;EAC1B5zC,YAAY,EAAE4zC,kBAAkB;EAChC,CAAC,WAAW,GAAGA;AACnB,CAAC;AACD,SAASD,mBAAmBA,CAAChmD,CAAC,EAAEkB,CAAC,EAAE;EAC/B,IAAI,OAAOlB,CAAC,KAAK,QAAQ,IAAI,OAAOkB,CAAC,KAAK,QAAQ,IAAIlB,CAAC,IAAIkB,CAAC,EAAE;IAAE;IAC5D,OAAOic,YAAY,CAACnd,CAAC,EAAEkB,CAAC,CAAC;EAC7B;EACA,OAAOlB,CAAC,KAAKkB,CAAC;AAClB;AACA,SAAS+kD,kBAAkBA,CAACjmD,CAAC,EAAEkB,CAAC,EAAE;EAC9B,IAAIyH,KAAK,CAACC,OAAO,CAAC5I,CAAC,CAAC,IAAI2I,KAAK,CAACC,OAAO,CAAC1H,CAAC,CAAC,EAAE;IACtC,OAAOoa,aAAa,CAACtb,CAAC,EAAEkB,CAAC,CAAC;EAC9B;EACA,OAAOlB,CAAC,KAAKkB,CAAC;AAClB;AACA;AACA;AACA,MAAM4c,oBAAoB,GAAG;EACzBrnB,IAAI,EAAE++B,MAAM;EACZ1hC,SAAS,EAAEwoB,QAAQ;EACnB7gB,UAAU,EAAE+5B,MAAM;EAClBtK,aAAa,EAAEsK,MAAM;EACrBgL,yBAAyB,EAAElkB,QAAQ;EACnCmkB,cAAc,EAAExJ,OAAO;EACvBnN,UAAU,EAAExN,QAAQ;EACpBgN,OAAO,EAAEhN,QAAQ;EACjByN,QAAQ,EAAEzN,QAAQ;EAClB0N,WAAW,EAAE1N;AACjB,CAAC;AACD;AACA;AACA,SAASmB,eAAeA,CAACyoC,UAAU,EAAE;EACjC,OAAO9qC,UAAU,CAAC8qC,UAAU,EAAEroC,0BAA0B,CAAC;AAC7D;AACA,SAASsoC,WAAWA,CAACzzC,KAAK,EAAE2d,QAAQ,EAAE;EAClC,IAAIyE,OAAO,GAAG,CAAC,CAAC;EAChB,IAAI6K,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,IAAIuJ,QAAQ,IAAI7Y,QAAQ,EAAE;IAC3B,IAAI6Y,QAAQ,IAAIx2B,KAAK,EAAE;MACnBoiB,OAAO,CAACoU,QAAQ,CAAC,GAAG7Y,QAAQ,CAAC6Y,QAAQ,CAAC,CAACx2B,KAAK,CAACw2B,QAAQ,CAAC,CAAC;IAC3D;EACJ;EACA,KAAK,IAAIA,QAAQ,IAAIx2B,KAAK,EAAE;IACxB,IAAI,EAAEw2B,QAAQ,IAAI7Y,QAAQ,CAAC,EAAE;MACzBsP,KAAK,CAACuJ,QAAQ,CAAC,GAAGx2B,KAAK,CAACw2B,QAAQ,CAAC;IACrC;EACJ;EACA,OAAO;IAAEpU,OAAO;IAAE6K;EAAM,CAAC;AAC7B;AACA,SAASrjB,QAAQA,CAAC0G,GAAG,EAAE;EACnB,OAAOA,GAAG;AACd;AAEA,MAAM;EAAExQ;AAAe,CAAC,GAAGpL,MAAM,CAACnF,SAAS;AAC3C;AACA;AACA,SAASmZ,UAAUA,CAACgrC,QAAQ,EAAEC,eAAe,EAAE;EAC3C,IAAIC,IAAI,GAAG,CAAC,CAAC;EACb,IAAID,eAAe,EAAE;IACjB,KAAK,IAAIrkD,IAAI,IAAIqkD,eAAe,EAAE;MAC9B,IAAIA,eAAe,CAACrkD,IAAI,CAAC,KAAKgkD,mBAAmB,EAAE;QAAE;QACjD,IAAIO,WAAW,GAAG,EAAE;QACpB;QACA,KAAK,IAAI/mD,CAAC,GAAG4mD,QAAQ,CAACljD,MAAM,GAAG,CAAC,EAAE1D,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;UAC9C,IAAI8vC,GAAG,GAAG8W,QAAQ,CAAC5mD,CAAC,CAAC,CAACwC,IAAI,CAAC;UAC3B,IAAI,OAAOstC,GAAG,KAAK,QAAQ,IAAIA,GAAG,EAAE;YAAE;YAClCiX,WAAW,CAAC/1B,OAAO,CAAC8e,GAAG,CAAC;UAC5B,CAAC,MACI,IAAIA,GAAG,KAAKn8C,SAAS,EAAE;YACxBmzD,IAAI,CAACtkD,IAAI,CAAC,GAAGstC,GAAG,CAAC,CAAC;YAClB;UACJ;QACJ;QACA;QACA,IAAIiX,WAAW,CAACrjD,MAAM,EAAE;UACpBojD,IAAI,CAACtkD,IAAI,CAAC,GAAGoZ,UAAU,CAACmrC,WAAW,CAAC;QACxC;MACJ;IACJ;EACJ;EACA;EACA,KAAK,IAAI/mD,CAAC,GAAG4mD,QAAQ,CAACljD,MAAM,GAAG,CAAC,EAAE1D,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAC9C,IAAIiC,KAAK,GAAG2kD,QAAQ,CAAC5mD,CAAC,CAAC;IACvB,KAAK,IAAIwC,IAAI,IAAIP,KAAK,EAAE;MACpB,IAAI,EAAEO,IAAI,IAAIskD,IAAI,CAAC,EAAE;QAAE;QACnBA,IAAI,CAACtkD,IAAI,CAAC,GAAGP,KAAK,CAACO,IAAI,CAAC;MAC5B;IACJ;EACJ;EACA,OAAOskD,IAAI;AACf;AACA,SAAStqC,UAAUA,CAACqM,IAAI,EAAEvV,IAAI,EAAE;EAC5B,IAAI0zC,QAAQ,GAAG,CAAC,CAAC;EACjB,KAAK,IAAIx6C,GAAG,IAAIqc,IAAI,EAAE;IAClB,IAAIvV,IAAI,CAACuV,IAAI,CAACrc,GAAG,CAAC,EAAEA,GAAG,CAAC,EAAE;MACtBw6C,QAAQ,CAACx6C,GAAG,CAAC,GAAGqc,IAAI,CAACrc,GAAG,CAAC;IAC7B;EACJ;EACA,OAAOw6C,QAAQ;AACnB;AACA,SAAS3zC,OAAOA,CAACwV,IAAI,EAAEvV,IAAI,EAAE;EACzB,IAAI2zC,OAAO,GAAG,CAAC,CAAC;EAChB,KAAK,IAAIz6C,GAAG,IAAIqc,IAAI,EAAE;IAClBo+B,OAAO,CAACz6C,GAAG,CAAC,GAAG8G,IAAI,CAACuV,IAAI,CAACrc,GAAG,CAAC,EAAEA,GAAG,CAAC;EACvC;EACA,OAAOy6C,OAAO;AAClB;AACA,SAAS1qC,WAAWA,CAAC/b,CAAC,EAAE;EACpB,IAAIqoB,IAAI,GAAG,CAAC,CAAC;EACb,KAAK,IAAIq+B,IAAI,IAAI1mD,CAAC,EAAE;IAChBqoB,IAAI,CAACq+B,IAAI,CAAC,GAAG,IAAI;EACrB;EACA,OAAOr+B,IAAI;AACf;AACA;AACA;AACA,SAASzL,iBAAiBA,CAACo3B,GAAG,EAAE;EAC5B,IAAIh0C,CAAC,GAAG,EAAE;EACV,KAAK,IAAIgM,GAAG,IAAIgoC,GAAG,EAAE;IACjBh0C,CAAC,CAAC6E,IAAI,CAACmvC,GAAG,CAAChoC,GAAG,CAAC,CAAC;EACpB;EACA,OAAOhM,CAAC;AACZ;AACA,SAASmd,YAAYA,CAAC+0B,IAAI,EAAEC,IAAI,EAAE;EAC9B,IAAID,IAAI,KAAKC,IAAI,EAAE;IACf,OAAO,IAAI;EACf;EACA,KAAK,IAAInmC,GAAG,IAAIkmC,IAAI,EAAE;IAClB,IAAI1/B,cAAc,CAAC5Q,IAAI,CAACswC,IAAI,EAAElmC,GAAG,CAAC,EAAE;MAChC,IAAI,EAAEA,GAAG,IAAImmC,IAAI,CAAC,EAAE;QAChB,OAAO,KAAK;MAChB;IACJ;EACJ;EACA,KAAK,IAAInmC,GAAG,IAAImmC,IAAI,EAAE;IAClB,IAAI3/B,cAAc,CAAC5Q,IAAI,CAACuwC,IAAI,EAAEnmC,GAAG,CAAC,EAAE;MAChC,IAAIkmC,IAAI,CAAClmC,GAAG,CAAC,KAAKmmC,IAAI,CAACnmC,GAAG,CAAC,EAAE;QACzB,OAAO,KAAK;MAChB;IACJ;EACJ;EACA,OAAO,IAAI;AACf;AACA,MAAM26C,UAAU,GAAG,UAAU;AAC7B,SAASC,sBAAsBA,CAAC1U,IAAI,EAAEC,IAAI,EAAE;EACxC,MAAMl/B,IAAI,GAAG4zC,eAAe,CAAC3U,IAAI,EAAEC,IAAI,CAAC;EACxC,KAAK,IAAInmC,GAAG,IAAIiH,IAAI,EAAE;IAClB,IAAI,CAAC0zC,UAAU,CAAC3/C,IAAI,CAACgF,GAAG,CAAC,EAAE;MACvB,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAAS66C,eAAeA,CAAC3U,IAAI,EAAEC,IAAI,EAAE;EACjC,IAAIl/B,IAAI,GAAG,EAAE;EACb,KAAK,IAAIjH,GAAG,IAAIkmC,IAAI,EAAE;IAClB,IAAI1/B,cAAc,CAAC5Q,IAAI,CAACswC,IAAI,EAAElmC,GAAG,CAAC,EAAE;MAChC,IAAI,EAAEA,GAAG,IAAImmC,IAAI,CAAC,EAAE;QAChBl/B,IAAI,CAACpO,IAAI,CAACmH,GAAG,CAAC;MAClB;IACJ;EACJ;EACA,KAAK,IAAIA,GAAG,IAAImmC,IAAI,EAAE;IAClB,IAAI3/B,cAAc,CAAC5Q,IAAI,CAACuwC,IAAI,EAAEnmC,GAAG,CAAC,EAAE;MAChC,IAAIkmC,IAAI,CAAClmC,GAAG,CAAC,KAAKmmC,IAAI,CAACnmC,GAAG,CAAC,EAAE;QACzBiH,IAAI,CAACpO,IAAI,CAACmH,GAAG,CAAC;MAClB;IACJ;EACJ;EACA,OAAOiH,IAAI;AACf;AACA,SAAS6zC,WAAWA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,aAAa,GAAG,CAAC,CAAC,EAAE;EACzD,IAAIF,QAAQ,KAAKC,QAAQ,EAAE;IACvB,OAAO,IAAI;EACf;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,KAAK,IAAIh7C,GAAG,IAAIg7C,QAAQ,EAAE;IACtB,IAAIh7C,GAAG,IAAI+6C,QAAQ,IAAIG,cAAc,CAACH,QAAQ,CAAC/6C,GAAG,CAAC,EAAEg7C,QAAQ,CAACh7C,GAAG,CAAC,EAAEi7C,aAAa,CAACj7C,GAAG,CAAC,CAAC,EAAE,CAAC,KACrF;MACD,OAAO,KAAK;IAChB;EACJ;EACA;EACA,KAAK,IAAIA,GAAG,IAAI+6C,QAAQ,EAAE;IACtB,IAAI,EAAE/6C,GAAG,IAAIg7C,QAAQ,CAAC,EAAE;MACpB,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AACA;AACA;AACA;AACA,SAASE,cAAcA,CAACC,IAAI,EAAEC,IAAI,EAAEC,UAAU,EAAE;EAC5C,IAAIF,IAAI,KAAKC,IAAI,IAAIC,UAAU,KAAK,IAAI,EAAE;IACtC,OAAO,IAAI;EACf;EACA,IAAIA,UAAU,EAAE;IACZ,OAAOA,UAAU,CAACF,IAAI,EAAEC,IAAI,CAAC;EACjC;EACA,OAAO,KAAK;AAChB;AACA,SAASE,eAAeA,CAACj/B,IAAI,EAAEk/B,UAAU,GAAG,CAAC,EAAEC,QAAQ,EAAEC,IAAI,GAAG,CAAC,EAAE;EAC/D,IAAI17B,GAAG,GAAG,EAAE;EACZ,IAAIy7B,QAAQ,IAAI,IAAI,EAAE;IAClBA,QAAQ,GAAGpgD,MAAM,CAAC6L,IAAI,CAACoV,IAAI,CAAC,CAACnlB,MAAM;EACvC;EACA,KAAK,IAAI1D,CAAC,GAAG+nD,UAAU,EAAE/nD,CAAC,GAAGgoD,QAAQ,EAAEhoD,CAAC,IAAIioD,IAAI,EAAE;IAC9C,IAAInY,GAAG,GAAGjnB,IAAI,CAAC7oB,CAAC,CAAC;IACjB,IAAI8vC,GAAG,KAAKn8C,SAAS,EAAE;MAAE;MACrB44B,GAAG,CAAClnB,IAAI,CAACyqC,GAAG,CAAC;IACjB;EACJ;EACA,OAAOvjB,GAAG;AACd;AAEA,IAAI27B,sBAAsB,GAAG,CAAC,CAAC;AAC/B,SAASC,sBAAsBA,CAAC3lD,IAAI,EAAE4lD,QAAQ,EAAE;EAC5CF,sBAAsB,CAAC1lD,IAAI,CAAC,GAAG4lD,QAAQ;AAC3C;AACA,SAASC,oBAAoBA,CAAC7lD,IAAI,EAAE;EAChC,OAAO,IAAI0lD,sBAAsB,CAAC1lD,IAAI,CAAC,CAAC,CAAC;AAC7C;AACA,MAAM8lD,uBAAuB,CAAC;EAC1B3J,aAAaA,CAAC39C,CAAC,EAAE;IACb,OAAOA,CAAC,CAACy2C,cAAc,CAAC,CAAC;EAC7B;EACAmH,cAAcA,CAAC59C,CAAC,EAAE;IACd,OAAOA,CAAC,CAAC02C,WAAW,CAAC,CAAC;EAC1B;EACAmH,YAAYA,CAAC79C,CAAC,EAAE;IACZ,OAAOA,CAAC,CAAC22C,UAAU,CAAC,CAAC;EACzB;EACA4Q,aAAaA,CAACC,GAAG,EAAE;IACf,OAAO9R,cAAc,CAAC8R,GAAG,CAAC;EAC9B;EACAhJ,aAAaA,CAAC3T,MAAM,EAAE;IAClB,OAAO4K,cAAc,CAAC5K,MAAM,CAAC;EACjC;AACJ;AACAsc,sBAAsB,CAAC,SAAS,EAAEG,uBAAuB,CAAC;AAE1D,MAAMG,MAAM,GAAG,mHAAmH;AAClI,SAASnxB,KAAKA,CAACic,GAAG,EAAE;EAChB,IAAInyC,CAAC,GAAGqnD,MAAM,CAACtU,IAAI,CAACZ,GAAG,CAAC;EACxB,IAAInyC,CAAC,EAAE;IACH,IAAIyqC,MAAM,GAAG,IAAI14B,IAAI,CAACA,IAAI,CAACmmC,GAAG,CAAC8H,MAAM,CAAChgD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAGggD,MAAM,CAAChgD,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAEggD,MAAM,CAAChgD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAEggD,MAAM,CAAChgD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAEggD,MAAM,CAAChgD,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,EAAEggD,MAAM,CAAChgD,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAEA,CAAC,CAAC,EAAE,CAAC,GAAGggD,MAAM,CAAE,KAAIhgD,CAAC,CAAC,EAAE,CAAE,EAAC,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC;IAChM,IAAIm4C,WAAW,CAAC1N,MAAM,CAAC,EAAE;MACrB,IAAI6N,cAAc,GAAG,IAAI;MACzB,IAAIt4C,CAAC,CAAC,EAAE,CAAC,EAAE;QACPs4C,cAAc,GAAG,CAACt4C,CAAC,CAAC,EAAE,CAAC,KAAK,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAKggD,MAAM,CAAChgD,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,GAChEggD,MAAM,CAAChgD,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC;MAC3B;MACA,OAAO;QACHyqC,MAAM;QACN6c,iBAAiB,EAAE,CAACtnD,CAAC,CAAC,CAAC,CAAC;QACxBs4C;MACJ,CAAC;IACL;EACJ;EACA,OAAO,IAAI;AACf;AAEA,MAAMn7B,OAAO,CAAC;EACVjrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,IAAIzP,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAGyP,QAAQ,CAACzP,QAAQ;IAChD,IAAI6xB,eAAe,GAAG7xB,QAAQ,KAAK,OAAO,IAAIA,QAAQ,KAAK,KAAK;IAChE,IAAIyP,QAAQ,CAACtE,iBAAiB,IAAI0mB,eAAe,EAAE;MAC/C,IAAI,CAAC1mB,iBAAiB,GAAG,IAAIsE,QAAQ,CAACtE,iBAAiB,CAACnL,QAAQ,CAAC;IACrE;IACA,IAAI,CAAC8xB,gBAAgB,GAAGnxB,OAAO,CAAC,CAACkxB,eAAe,IAAI,IAAI,CAAC1mB,iBAAiB,CAAC;IAC3E,IAAI,CAACD,cAAc,GAAGqmB,oBAAoB,CAAC9hB,QAAQ,CAACvE,cAAc,CAAC;IACnE,IAAI,CAACnmC,MAAM,GAAG0qC,QAAQ,CAAC1qC,MAAM;IAC7B,IAAI,CAACgtD,OAAO,GAAGtiB,QAAQ,CAAC1qC,MAAM,CAACklB,IAAI,CAACC,GAAG;IACvC,IAAI,CAAC8nC,OAAO,GAAGviB,QAAQ,CAAC1qC,MAAM,CAACklB,IAAI,CAACE,GAAG;IACvC,IAAIslB,QAAQ,CAACjG,qBAAqB,KAAK,KAAK,EAAE;MAC1C,IAAI,CAACuoB,OAAO,GAAG,CAAC;MAChB,IAAI,CAACC,OAAO,GAAG,CAAC;IACpB;IACA,IAAI,OAAOviB,QAAQ,CAAChG,QAAQ,KAAK,QAAQ,EAAE;MACvC,IAAI,CAACsoB,OAAO,GAAGtiB,QAAQ,CAAChG,QAAQ;IACpC;IACA,IAAI,OAAOgG,QAAQ,CAACjG,qBAAqB,KAAK,UAAU,EAAE;MACtD,IAAI,CAACyoB,cAAc,GAAGxiB,QAAQ,CAACjG,qBAAqB;IACxD;IACA,IAAI,CAAC3e,QAAQ,GAAG4kB,QAAQ,CAAC5kB,QAAQ,IAAI,IAAI,GAAG4kB,QAAQ,CAAC5kB,QAAQ,GAAG4kB,QAAQ,CAAC1qC,MAAM,CAAC0D,OAAO,CAACoiB,QAAQ;IAChG,IAAI,CAACC,YAAY,GAAG,CAAC2kB,QAAQ,CAAC3kB,YAAY,IAAI,IAAI,GAAG2kB,QAAQ,CAAC3kB,YAAY,GAAG2kB,QAAQ,CAAC1qC,MAAM,CAAC0D,OAAO,CAACqiB,YAAY,KAAK,IAAI,CAACD,QAAQ;IACnI,IAAI,CAACgE,YAAY,GAAG4gB,QAAQ,CAAC5gB,YAAY;IACzC,IAAI,CAACwV,gBAAgB,GAAGoL,QAAQ,CAACpL,gBAAgB;EACrD;EACA;EACAjO,YAAYA,CAACha,KAAK,EAAE;IAChB,IAAIuiB,IAAI,GAAG,IAAI,CAACmW,gBAAgB,CAAC14B,KAAK,CAAC;IACvC,IAAIuiB,IAAI,KAAK,IAAI,EAAE;MACf,OAAO,IAAI;IACf;IACA,OAAOA,IAAI,CAACoW,MAAM;EACtB;EACA/P,eAAeA,CAAA,EAAG;IACd,IAAI,IAAI,CAAC8sB,gBAAgB,EAAE;MACvB,OAAO,IAAI,CAAC1sB,iBAAiB,CAAC,IAAI/oB,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAAC;IACvD;IACA;IACA;IACA,OAAOsjC,cAAc,CAACkC,gBAAgB,CAAC,IAAIzlC,IAAI,CAAC,CAAC,CAAC,CAAC;EACvD;EACAy4B,gBAAgBA,CAAC14B,KAAK,EAAE;IACpB,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MAC3B,OAAO,IAAI,CAACokB,KAAK,CAACpkB,KAAK,CAAC;IAC5B;IACA,IAAI24B,MAAM,GAAG,IAAI;IACjB,IAAI,OAAO34B,KAAK,KAAK,QAAQ,EAAE;MAC3B24B,MAAM,GAAG,IAAI,CAAC3P,iBAAiB,CAAChpB,KAAK,CAAC;IAC1C,CAAC,MACI,IAAIA,KAAK,YAAYC,IAAI,EAAE;MAC5BD,KAAK,GAAGA,KAAK,CAACE,OAAO,CAAC,CAAC;MACvB,IAAI,CAAComC,KAAK,CAACtmC,KAAK,CAAC,EAAE;QACf24B,MAAM,GAAG,IAAI,CAAC3P,iBAAiB,CAAChpB,KAAK,CAAC;MAC1C;IACJ,CAAC,MACI,IAAI/J,KAAK,CAACC,OAAO,CAAC8J,KAAK,CAAC,EAAE;MAC3B24B,MAAM,GAAG6K,cAAc,CAACxjC,KAAK,CAAC;IAClC;IACA,IAAI24B,MAAM,KAAK,IAAI,IAAI,CAAC0N,WAAW,CAAC1N,MAAM,CAAC,EAAE;MACzC,OAAO,IAAI;IACf;IACA,OAAO;MAAEA,MAAM;MAAE6c,iBAAiB,EAAE,KAAK;MAAE5c,SAAS,EAAE;IAAK,CAAC;EAChE;EACAxU,KAAKA,CAAC52B,CAAC,EAAE;IACL,IAAIgjB,KAAK,GAAG4T,KAAK,CAAC52B,CAAC,CAAC;IACpB,IAAIgjB,KAAK,KAAK,IAAI,EAAE;MAChB,OAAO,IAAI;IACf;IACA,IAAI;MAAEmoB;IAAO,CAAC,GAAGnoB,KAAK;IACtB,IAAIooB,SAAS,GAAG,IAAI;IACpB,IAAIpoB,KAAK,CAACg2B,cAAc,KAAK,IAAI,EAAE;MAC/B,IAAI,IAAI,CAACkP,gBAAgB,EAAE;QACvB/c,MAAM,GAAG,IAAI,CAAC3P,iBAAiB,CAAC2P,MAAM,CAACz4B,OAAO,CAAC,CAAC,GAAGsQ,KAAK,CAACg2B,cAAc,GAAG,EAAE,GAAG,IAAI,CAAC;MACxF,CAAC,MACI;QACD5N,SAAS,GAAGpoB,KAAK,CAACg2B,cAAc;MACpC;IACJ;IACA,OAAO;MAAE7N,MAAM;MAAE6c,iBAAiB,EAAEhlC,KAAK,CAACglC,iBAAiB;MAAE5c;IAAU,CAAC;EAC5E;EACA;EACAkd,OAAOA,CAACnd,MAAM,EAAE;IACZ,OAAO,IAAI,CAAC7J,cAAc,CAAC2c,aAAa,CAAC9S,MAAM,CAAC;EACpD;EACAiN,QAAQA,CAACjN,MAAM,EAAE;IACb,OAAO,IAAI,CAAC7J,cAAc,CAAC4c,cAAc,CAAC/S,MAAM,CAAC;EACrD;EACAod,MAAMA,CAACpd,MAAM,EAAE;IACX,OAAO,IAAI,CAAC7J,cAAc,CAAC6c,YAAY,CAAChT,MAAM,CAAC;EACnD;EACA;EACApT,GAAGA,CAACoT,MAAM,EAAEwJ,GAAG,EAAE;IACb,IAAI70C,CAAC,GAAG,IAAI,CAACwhC,cAAc,CAACwd,aAAa,CAAC3T,MAAM,CAAC;IACjDrrC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAAChB,KAAK;IACjB7zC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAACf,MAAM;IAClB9zC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAACha,IAAI;IAChB76B,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAAC/c,YAAY;IACxB,OAAO,IAAI,CAAC0J,cAAc,CAACumB,aAAa,CAAC/nD,CAAC,CAAC;EAC/C;EACA0oD,QAAQA,CAACrd,MAAM,EAAEwJ,GAAG,EAAE;IAClB,IAAI70C,CAAC,GAAG,IAAI,CAACwhC,cAAc,CAACwd,aAAa,CAAC3T,MAAM,CAAC;IACjDrrC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAAChB,KAAK;IACjB7zC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAACf,MAAM;IAClB9zC,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAACha,IAAI;IAChB76B,CAAC,CAAC,CAAC,CAAC,IAAI60C,GAAG,CAAC/c,YAAY;IACxB,OAAO,IAAI,CAAC0J,cAAc,CAACumB,aAAa,CAAC/nD,CAAC,CAAC;EAC/C;EACA2oD,QAAQA,CAACtd,MAAM,EAAEzsC,CAAC,EAAE;IAChB,IAAIoB,CAAC,GAAG,IAAI,CAACwhC,cAAc,CAACwd,aAAa,CAAC3T,MAAM,CAAC;IACjDrrC,CAAC,CAAC,CAAC,CAAC,IAAIpB,CAAC;IACT,OAAO,IAAI,CAAC4iC,cAAc,CAACumB,aAAa,CAAC/nD,CAAC,CAAC;EAC/C;EACA4oD,SAASA,CAACvd,MAAM,EAAEzsC,CAAC,EAAE;IACjB,IAAIoB,CAAC,GAAG,IAAI,CAACwhC,cAAc,CAACwd,aAAa,CAAC3T,MAAM,CAAC;IACjDrrC,CAAC,CAAC,CAAC,CAAC,IAAIpB,CAAC;IACT,OAAO,IAAI,CAAC4iC,cAAc,CAACumB,aAAa,CAAC/nD,CAAC,CAAC;EAC/C;EACA;EACA6oD,cAAcA,CAACxS,EAAE,EAAEC,EAAE,EAAE;IACnB,IAAI;MAAE9U;IAAe,CAAC,GAAG,IAAI;IAC7B,IAAIwV,QAAQ,CAACX,EAAE,CAAC,KAAKW,QAAQ,CAACV,EAAE,CAAC,IAC7B9U,cAAc,CAAC6c,YAAY,CAAChI,EAAE,CAAC,KAAK7U,cAAc,CAAC6c,YAAY,CAAC/H,EAAE,CAAC,IACnE9U,cAAc,CAAC4c,cAAc,CAAC/H,EAAE,CAAC,KAAK7U,cAAc,CAAC4c,cAAc,CAAC9H,EAAE,CAAC,EAAE;MACzE,OAAO9U,cAAc,CAAC2c,aAAa,CAAC7H,EAAE,CAAC,GAAG9U,cAAc,CAAC2c,aAAa,CAAC9H,EAAE,CAAC;IAC9E;IACA,OAAO,IAAI;EACf;EACAyS,eAAeA,CAACzS,EAAE,EAAEC,EAAE,EAAE;IACpB,IAAI;MAAE9U;IAAe,CAAC,GAAG,IAAI;IAC7B,IAAIwV,QAAQ,CAACX,EAAE,CAAC,KAAKW,QAAQ,CAACV,EAAE,CAAC,IAC7B9U,cAAc,CAAC6c,YAAY,CAAChI,EAAE,CAAC,KAAK7U,cAAc,CAAC6c,YAAY,CAAC/H,EAAE,CAAC,EAAE;MACrE,OAAQ9U,cAAc,CAAC4c,cAAc,CAAC9H,EAAE,CAAC,GAAG9U,cAAc,CAAC4c,cAAc,CAAC/H,EAAE,CAAC,GACzE,CAAC7U,cAAc,CAAC2c,aAAa,CAAC7H,EAAE,CAAC,GAAG9U,cAAc,CAAC2c,aAAa,CAAC9H,EAAE,CAAC,IAAI,EAAE;IAClF;IACA,OAAO,IAAI;EACf;EACA;EACA0S,iBAAiBA,CAAC1S,EAAE,EAAEC,EAAE,EAAE;IACtB,IAAI13C,CAAC,GAAG,IAAI,CAACiqD,cAAc,CAACxS,EAAE,EAAEC,EAAE,CAAC;IACnC,IAAI13C,CAAC,KAAK,IAAI,EAAE;MACZ,OAAO;QAAEkjB,IAAI,EAAE,MAAM;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACrC;IACAA,CAAC,GAAG,IAAI,CAACkqD,eAAe,CAACzS,EAAE,EAAEC,EAAE,CAAC;IAChC,IAAI13C,CAAC,KAAK,IAAI,EAAE;MACZ,OAAO;QAAEkjB,IAAI,EAAE,OAAO;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACtC;IACAA,CAAC,GAAGm4C,cAAc,CAACV,EAAE,EAAEC,EAAE,CAAC;IAC1B,IAAI13C,CAAC,KAAK,IAAI,EAAE;MACZ,OAAO;QAAEkjB,IAAI,EAAE,MAAM;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACrC;IACAA,CAAC,GAAGoe,aAAa,CAACq5B,EAAE,EAAEC,EAAE,CAAC;IACzB,IAAI13C,CAAC,KAAK,IAAI,EAAE;MACZ,OAAO;QAAEkjB,IAAI,EAAE,KAAK;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACpC;IACAA,CAAC,GAAG43C,SAAS,CAACH,EAAE,EAAEC,EAAE,CAAC;IACrB,IAAIrD,KAAK,CAACr0C,CAAC,CAAC,EAAE;MACV,OAAO;QAAEkjB,IAAI,EAAE,MAAM;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACrC;IACAA,CAAC,GAAG63C,WAAW,CAACJ,EAAE,EAAEC,EAAE,CAAC;IACvB,IAAIrD,KAAK,CAACr0C,CAAC,CAAC,EAAE;MACV,OAAO;QAAEkjB,IAAI,EAAE,QAAQ;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACvC;IACAA,CAAC,GAAG83C,WAAW,CAACL,EAAE,EAAEC,EAAE,CAAC;IACvB,IAAIrD,KAAK,CAACr0C,CAAC,CAAC,EAAE;MACV,OAAO;QAAEkjB,IAAI,EAAE,QAAQ;QAAEta,KAAK,EAAE5I;MAAE,CAAC;IACvC;IACA,OAAO;MAAEkjB,IAAI,EAAE,aAAa;MAAEta,KAAK,EAAE8uC,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC;IAAE,CAAC;EACtE;EACAo2C,qBAAqBA,CAAC3S,EAAE,EAAEC,EAAE,EAAE91C,CAAC,EAAE;IAC7B;IACA,IAAIyoD,IAAI;IACR,IAAIzoD,CAAC,CAACqzC,KAAK,EAAE;MACToV,IAAI,GAAG,IAAI,CAACJ,cAAc,CAACxS,EAAE,EAAEC,EAAE,CAAC;MAClC,IAAI2S,IAAI,KAAK,IAAI,EAAE;QACf,OAAOA,IAAI,GAAGjU,YAAY,CAACx0C,CAAC,CAAC;MACjC;IACJ;IACA,IAAIA,CAAC,CAACszC,MAAM,EAAE;MACVmV,IAAI,GAAG,IAAI,CAACH,eAAe,CAACzS,EAAE,EAAEC,EAAE,CAAC;MACnC,IAAI2S,IAAI,KAAK,IAAI,EAAE;QACf,OAAOA,IAAI,GAAG/T,aAAa,CAAC10C,CAAC,CAAC;MAClC;IACJ;IACA,IAAIA,CAAC,CAACq6B,IAAI,EAAE;MACRouB,IAAI,GAAGjsC,aAAa,CAACq5B,EAAE,EAAEC,EAAE,CAAC;MAC5B,IAAI2S,IAAI,KAAK,IAAI,EAAE;QACf,OAAOA,IAAI,GAAGhU,WAAW,CAACz0C,CAAC,CAAC;MAChC;IACJ;IACA,OAAO,CAAC81C,EAAE,CAAC1jC,OAAO,CAAC,CAAC,GAAGyjC,EAAE,CAACzjC,OAAO,CAAC,CAAC,IAAIuiC,SAAS,CAAC30C,CAAC,CAAC;EACvD;EACA;EACA;EACA0oD,OAAOA,CAACtoD,CAAC,EAAEkhB,IAAI,EAAE;IACb,IAAIA,IAAI,KAAK,MAAM,EAAE;MACjB,OAAO,IAAI,CAACqnC,WAAW,CAACvoD,CAAC,CAAC;IAC9B;IACA,IAAIkhB,IAAI,KAAK,OAAO,EAAE;MAClB,OAAO,IAAI,CAACsnC,YAAY,CAACxoD,CAAC,CAAC;IAC/B;IACA,IAAIkhB,IAAI,KAAK,MAAM,EAAE;MACjB,OAAO,IAAI,CAACunC,WAAW,CAACzoD,CAAC,CAAC;IAC9B;IACA,IAAIkhB,IAAI,KAAK,KAAK,EAAE;MAChB,OAAOpF,UAAU,CAAC9b,CAAC,CAAC;IACxB;IACA,IAAIkhB,IAAI,KAAK,MAAM,EAAE;MACjB,OAAOs1B,WAAW,CAACx2C,CAAC,CAAC;IACzB;IACA,IAAIkhB,IAAI,KAAK,QAAQ,EAAE;MACnB,OAAOw1B,aAAa,CAAC12C,CAAC,CAAC;IAC3B;IACA,IAAIkhB,IAAI,KAAK,QAAQ,EAAE;MACnB,OAAO01B,aAAa,CAAC52C,CAAC,CAAC;IAC3B;IACA,OAAO,IAAI;EACf;EACAuoD,WAAWA,CAACvoD,CAAC,EAAE;IACX,OAAO,IAAI,CAAC4gC,cAAc,CAACumB,aAAa,CAAC,CACrC,IAAI,CAACvmB,cAAc,CAAC2c,aAAa,CAACv9C,CAAC,CAAC,CACvC,CAAC;EACN;EACAwoD,YAAYA,CAACxoD,CAAC,EAAE;IACZ,OAAO,IAAI,CAAC4gC,cAAc,CAACumB,aAAa,CAAC,CACrC,IAAI,CAACvmB,cAAc,CAAC2c,aAAa,CAACv9C,CAAC,CAAC,EACpC,IAAI,CAAC4gC,cAAc,CAAC4c,cAAc,CAACx9C,CAAC,CAAC,CACxC,CAAC;EACN;EACAyoD,WAAWA,CAACzoD,CAAC,EAAE;IACX,OAAO,IAAI,CAAC4gC,cAAc,CAACumB,aAAa,CAAC,CACrC,IAAI,CAACvmB,cAAc,CAAC2c,aAAa,CAACv9C,CAAC,CAAC,EACpC,IAAI,CAAC4gC,cAAc,CAAC4c,cAAc,CAACx9C,CAAC,CAAC,EACrCA,CAAC,CAACu2C,UAAU,CAAC,CAAC,GAAI,CAACv2C,CAAC,CAACo3B,SAAS,CAAC,CAAC,GAAG,IAAI,CAACqwB,OAAO,GAAG,CAAC,IAAI,CAAE,CAC5D,CAAC;EACN;EACA;EACA/K,iBAAiBA,CAACjS,MAAM,EAAE;IACtB,IAAI,IAAI,CAACkd,cAAc,EAAE;MACrB,OAAO,IAAI,CAACA,cAAc,CAAC,IAAI,CAACj0B,MAAM,CAAC+W,MAAM,CAAC,CAAC;IACnD;IACA,OAAOqM,UAAU,CAACrM,MAAM,EAAE,IAAI,CAACgd,OAAO,EAAE,IAAI,CAACC,OAAO,CAAC;EACzD;EACA;EACAxyB,MAAMA,CAACuV,MAAM,EAAEH,SAAS,EAAEoe,WAAW,GAAG,CAAC,CAAC,EAAE;IACxC,OAAOpe,SAAS,CAACpV,MAAM,CAAC;MACpBuV,MAAM;MACN6N,cAAc,EAAEoQ,WAAW,CAAChe,SAAS,IAAI,IAAI,GACzCge,WAAW,CAAChe,SAAS,GACrB,IAAI,CAACie,eAAe,CAACle,MAAM;IACnC,CAAC,EAAE,IAAI,CAAC;EACZ;EACA/Q,WAAWA,CAACx+B,KAAK,EAAEC,GAAG,EAAEmvC,SAAS,EAAEoe,WAAW,GAAG,CAAC,CAAC,EAAE;IACjD,IAAIA,WAAW,CAAC7uB,cAAc,EAAE;MAC5B1+B,GAAG,GAAGo6C,KAAK,CAACp6C,GAAG,EAAE,CAAC,CAAC,CAAC;IACxB;IACA,OAAOmvC,SAAS,CAAC5Q,WAAW,CAAC;MACzB+Q,MAAM,EAAEvvC,KAAK;MACbo9C,cAAc,EAAEoQ,WAAW,CAAC3d,cAAc,IAAI,IAAI,GAC9C2d,WAAW,CAAC3d,cAAc,GAC1B,IAAI,CAAC4d,eAAe,CAACztD,KAAK;IAClC,CAAC,EAAE;MACCuvC,MAAM,EAAEtvC,GAAG;MACXm9C,cAAc,EAAEoQ,WAAW,CAAC1d,YAAY,IAAI,IAAI,GAC5C0d,WAAW,CAAC1d,YAAY,GACxB,IAAI,CAAC2d,eAAe,CAACxtD,GAAG;IAChC,CAAC,EAAE,IAAI,EAAEutD,WAAW,CAAC3uB,gBAAgB,CAAC;EAC1C;EACA;AACJ;AACA;AACA;EACItE,SAASA,CAACgV,MAAM,EAAEme,YAAY,GAAG,CAAC,CAAC,EAAE;IACjC,IAAItQ,cAAc,GAAG,IAAI;IACzB,IAAI,CAACsQ,YAAY,CAACC,kBAAkB,EAAE;MAClC,IAAID,YAAY,CAACle,SAAS,IAAI,IAAI,EAAE;QAChC4N,cAAc,GAAGsQ,YAAY,CAACle,SAAS;MAC3C,CAAC,MACI;QACD4N,cAAc,GAAG,IAAI,CAACqQ,eAAe,CAACle,MAAM,CAAC;MACjD;IACJ;IACA,OAAO4N,cAAc,CAAC5N,MAAM,EAAE6N,cAAc,EAAEsQ,YAAY,CAACE,QAAQ,CAAC;EACxE;EACA;EACAhuB,iBAAiBA,CAAC4Y,EAAE,EAAE;IAClB,IAAI,IAAI,CAAChe,QAAQ,KAAK,OAAO,EAAE;MAC3B,OAAO4f,cAAc,CAACkC,gBAAgB,CAAC,IAAIzlC,IAAI,CAAC2hC,EAAE,CAAC,CAAC,CAAC;IACzD;IACA,IAAI,IAAI,CAAChe,QAAQ,KAAK,KAAK,IAAI,CAAC,IAAI,CAACmL,iBAAiB,EAAE;MACpD,OAAO,IAAI9uB,IAAI,CAAC2hC,EAAE,CAAC;IACvB;IACA,OAAO4B,cAAc,CAAC,IAAI,CAACzU,iBAAiB,CAACkoB,gBAAgB,CAACrV,EAAE,CAAC,CAAC;EACtE;EACAiV,eAAeA,CAAC3oD,CAAC,EAAE;IACf,IAAI,IAAI,CAAC01B,QAAQ,KAAK,OAAO,EAAE;MAC3B,OAAO,CAACsiB,gBAAgB,CAAC3C,cAAc,CAACr1C,CAAC,CAAC,CAAC,CAACgpD,iBAAiB,CAAC,CAAC,CAAC,CAAC;IACrE;;IACA,IAAI,IAAI,CAACtzB,QAAQ,KAAK,KAAK,EAAE;MACzB,OAAO,CAAC;IACZ;IACA,IAAI,IAAI,CAACmL,iBAAiB,EAAE;MACxB,OAAO,IAAI,CAACA,iBAAiB,CAACooB,cAAc,CAAC5T,cAAc,CAACr1C,CAAC,CAAC,CAAC;IACnE;IACA,OAAO,IAAI;EACf;EACA;EACA0zB,MAAMA,CAAC1zB,CAAC,EAAE0qC,SAAS,EAAE;IACjB,IAAI,IAAI,CAAChV,QAAQ,KAAK,OAAO,EAAE;MAC3B,OAAOsiB,gBAAgB,CAAC3C,cAAc,CAACr1C,CAAC,CAAC,CAAC;IAC9C;IACA,IAAI,IAAI,CAAC01B,QAAQ,KAAK,KAAK,EAAE;MACzB,OAAO,IAAI3jB,IAAI,CAAC/R,CAAC,CAACgS,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC;;IACA,IAAI,CAAC,IAAI,CAAC6uB,iBAAiB,EAAE;MACzB,OAAO,IAAI9uB,IAAI,CAAC/R,CAAC,CAACgS,OAAO,CAAC,CAAC,IAAI04B,SAAS,IAAI,CAAC,CAAC,CAAC;IACnD;IACA,OAAO,IAAI34B,IAAI,CAAC/R,CAAC,CAACgS,OAAO,CAAC,CAAC,GACvB,IAAI,CAAC6uB,iBAAiB,CAACooB,cAAc,CAAC5T,cAAc,CAACr1C,CAAC,CAAC,CAAC,GAAG,IAAI,GAAG,EAAE,CAAC;EAC7E;AACJ;AAEA,MAAM2a,KAAK,CAAC;EACRzoB,WAAWA,CAACsI,eAAe,EAAE;IACzB,IAAI,IAAI,CAAC2sB,kBAAkB,EAAE;MACzB,IAAI,CAAC+hC,eAAe,CAAC1uD,eAAe,CAAC,IAAI,CAAC2sB,kBAAkB,CAAC,CAAC;IAClE;EACJ;EACA+hC,eAAeA,CAACC,gBAAgB,EAAE;IAC9B,IAAIC,eAAe;IACnB,IAAI72B,UAAU;IACd,IAAI,OAAO42B,gBAAgB,KAAK,QAAQ,IAAIA,gBAAgB,EAAE;MAAE;MAC5DC,eAAe,GAAG5iD,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACiG,WAAW,CAAC;MACrD,KAAKsL,UAAU,IAAI42B,gBAAgB,EAAE;QACjCC,eAAe,CAAC72B,UAAU,CAAC,GAAG,IAAI,CAAC82B,uBAAuB,CAACF,gBAAgB,CAAC52B,UAAU,CAAC,CAAC;MAC5F;MACA,IAAI,CAACtL,WAAW,GAAGmiC,eAAe;IACtC,CAAC,MACI,IAAID,gBAAgB,KAAK,KAAK,EAAE;MACjC,IAAI,CAACliC,WAAW,GAAG,CAAC,CAAC;IACzB;EACJ;EACAoiC,uBAAuBA,CAAClhD,SAAS,EAAE;IAC/B,IAAImhD,MAAM,GAAG,IAAI,CAACjiC,kBAAkB;IACpC,IAAIiiC,MAAM,IAAInhD,SAAS,CAAC5C,OAAO,CAAC+jD,MAAM,CAAC,KAAK,CAAC,EAAE;MAAE;MAC7CnhD,SAAS,GAAGmhD,MAAM,GAAGnhD,SAAS;IAClC;IACA,OAAOA,SAAS;EACpB;EACAq7B,QAAQA,CAACp4B,GAAG,EAAE;IACV,OAAO,IAAI,CAACsb,OAAO,CAACtb,GAAG,CAAC,IAAI,EAAE;EAClC;EACA2nB,YAAYA,CAACR,UAAU,EAAET,KAAK,EAAE;IAC5B,IAAI3pB,SAAS;IACb,IAAI2pB,KAAK,IAAI,IAAI,CAAC5K,cAAc,EAAE;MAC9B/e,SAAS,GAAG,IAAI,CAAC+e,cAAc,CAACqL,UAAU,CAAC,IAAI,IAAI,CAACtL,WAAW,CAACsL,UAAU,CAAC;IAC/E,CAAC,MACI;MACDpqB,SAAS,GAAG,IAAI,CAAC8e,WAAW,CAACsL,UAAU,CAAC;IAC5C;IACA,IAAIpqB,SAAS,EAAE;MACX,OAAQ,GAAE,IAAI,CAAC6e,aAAc,IAAG7e,SAAU,EAAC;IAC/C;IACA,OAAO,EAAE;EACb;EACA2qB,wBAAwBA,CAACN,iBAAiB,EAAE;IACxC,IAAIrqB,SAAS;IACb,IAAI,IAAI,CAACif,8BAA8B,EAAE;MACrCjf,SAAS,GAAGqqB,iBAAiB,CAAC,IAAI,CAACpL,8BAA8B,CAAC;MAClE,IAAIjf,SAAS,EAAE;QACX,OAAQ,GAAE,IAAI,CAAC6e,aAAc,IAAG,IAAI,CAACqiC,uBAAuB,CAAClhD,SAAS,CAAE,EAAC;MAC7E;IACJ;IACA,OAAO,EAAE;EACb;AACJ;AACAwS,KAAK,CAACtZ,SAAS,CAACqlB,OAAO,GAAG,CAAC,CAAC;AAC5B/L,KAAK,CAACtZ,SAAS,CAAC4lB,WAAW,GAAG,CAAC,CAAC;AAChCtM,KAAK,CAACtZ,SAAS,CAAC2lB,aAAa,GAAG,EAAE;AAClCrM,KAAK,CAACtZ,SAAS,CAACgmB,kBAAkB,GAAG,EAAE;;AAEvC;AACA;AACA;AACA;AACA,SAASzc,SAASA,CAAC2+C,cAAc,EAAE;EAC/BA,cAAc,CAAC,CAAC;EAChB,IAAIC,oBAAoB,GAAGpe,2CAAc,CAACt/B,iBAAiB,CAAC,CAAC;EAC7D,IAAI29C,SAAS,GAAG,EAAE;EAClB,SAASC,gBAAgBA,CAAC1sB,QAAQ,EAAE;IAChCysB,SAAS,CAACxlD,IAAI,CAAC+4B,QAAQ,CAAC;EAC5B;EACAoO,2CAAc,CAACt/B,iBAAiB,GAAG49C,gBAAgB;EACnDte,0CAAa,CAACA,iDAAoB,CAACue,aAAa,EAAE,CAAC,CAAC,CAAC,EAAEplD,QAAQ,CAACtG,aAAa,CAAC,KAAK,CAAC,CAAC;EACrF,OAAOwrD,SAAS,CAACnnD,MAAM,EAAE;IACrBmnD,SAAS,CAACz9C,KAAK,CAAC,CAAC,CAAC,CAAC;EACvB;EACAo/B,2CAAc,CAACt/B,iBAAiB,GAAG09C,oBAAoB;AAC3D;AACA,MAAMG,aAAa,SAASve,6CAAgB,CAAC;EACzC3sC,MAAMA,CAAA,EAAG;IAAE,OAAO2sC,iDAAoB,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;EAAE;EACnDrlC,iBAAiBA,CAAA,EAAG;IAAE,IAAI,CAAC5B,QAAQ,CAAC,CAAC,CAAC,CAAC;EAAE;AAC7C;AACA;AACA,SAAStF,aAAaA,CAACqJ,YAAY,EAAE;EACjC,IAAI0hD,WAAW,GAAGxe,iDAAoB,CAACljC,YAAY,CAAC;EACpD,IAAI2hD,YAAY,GAAGD,WAAW,CAACl8C,QAAQ;EACvCk8C,WAAW,CAACl8C,QAAQ,GAAG,YAAY;IAC/B,IAAIo8C,KAAK,GAAG,CAAC,IAAI,CAAChlD,eAAe;IACjC,IAAIxR,QAAQ,GAAGu2D,YAAY,CAAC9gD,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC,CAAC,CAAC;IACpD,IAAI8gD,KAAK,EAAE;MACP,IAAIC,IAAI,GAAG,EAAE;MACb,IAAI,CAAC7oD,qBAAqB,GAAI8oD,MAAM,IAAK;QACrC,IAAI,IAAI,CAACnpD,KAAK,CAAC+F,KAAK,KAAKojD,MAAM,CAACpjD,KAAK,EAAE;UACnCmjD,IAAI,CAAC3nD,OAAO,CAAEpD,CAAC,IAAK;YAChBA,CAAC,CAAC+F,OAAO,GAAGilD,MAAM,CAACpjD,KAAK;YACxB5H,CAAC,CAACqF,WAAW,CAAC,CAAC;UACnB,CAAC,CAAC;QACN;MACJ,CAAC;MACD,IAAI,CAACiI,GAAG,GAAItN,CAAC,IAAK;QACd+qD,IAAI,CAAC9lD,IAAI,CAACjF,CAAC,CAAC;QACZ,IAAIirD,GAAG,GAAGjrD,CAAC,CAACsF,oBAAoB;QAChCtF,CAAC,CAACsF,oBAAoB,GAAG,MAAM;UAC3BylD,IAAI,CAACzkD,MAAM,CAACykD,IAAI,CAACxkD,OAAO,CAACvG,CAAC,CAAC,EAAE,CAAC,CAAC;UAC/BirD,GAAG,IAAIA,GAAG,CAACjpD,IAAI,CAAChC,CAAC,CAAC;QACtB,CAAC;MACL,CAAC;IACL;IACA,OAAO1L,QAAQ;EACnB,CAAC;EACD,OAAOs2D,WAAW;AACtB;AAEA,MAAMM,eAAe,CAAC;EAClBh4D,WAAWA,CAACi4D,QAAQ,EAAEnyB,OAAO,EAAEknB,UAAU,EAAEC,eAAe,EAAE;IACxD,IAAI,CAACgL,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACnyB,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACknB,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACC,eAAe,GAAGA,eAAe;IACtC,IAAI,CAACiL,mBAAmB,GAAItxB,OAAO,IAAK;MACpC,IAAI,CAACuxB,aAAa,GAAG7jD,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACqpC,aAAa,IAAI,CAAC,CAAC,EAAEvxB,OAAO,CAAC;MACzE,IAAI,CAACD,KAAK,CAAC,CAAC;IAChB,CAAC;IACDb,OAAO,CAACpvB,EAAE,CAAC,gBAAgB,EAAE,IAAI,CAACwhD,mBAAmB,CAAC;IACtD,IAAI,CAACE,iBAAiB,CAAC,CAAC;EAC5B;EACAC,MAAMA,CAAA,EAAG;IACL,IAAI,CAACvyB,OAAO,CAACwyB,GAAG,CAAC,gBAAgB,EAAE,IAAI,CAACJ,mBAAmB,CAAC;EAChE;EACAK,MAAMA,CAACC,UAAU,EAAE;IACf,IAAIA,UAAU,IAAI,IAAI,CAACvL,eAAe,EAAE;MACpC,IAAI,CAACmL,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC,MACI;MACD,IAAI,CAACzxB,KAAK,CAAC,CAAC;IAChB;EACJ;EACAyxB,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACF,mBAAmB,CAAC;MACrBO,IAAI,EAAE,IAAI,CAACzL;IACf,CAAC,CAAC;EACN;EACArmB,KAAKA,CAAA,EAAG;IACJ,IAAI,IAAI,CAACwxB,aAAa,IAAI,IAAI,CAACF,QAAQ,CAAC,IAAI,CAACE,aAAa,CAAC,EAAE;MACzD,IAAI,CAACA,aAAa,GAAG,IAAI;IAC7B;EACJ;AACJ;AAEA,MAAMxvC,eAAe,GAAGhc,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,SAASmf,gBAAgBA,CAAC6K,QAAQ,EAAEsP,OAAO,EAAEqB,WAAW,EAAEpN,oBAAoB,EAAEV,OAAO,EAAEC,UAAU,EAAEqF,KAAK,EAAErC,WAAW,EAAEQ,QAAQ,EAAEoE,cAAc,EAAEyE,OAAO,EAAEvJ,WAAW,EAAEqY,4BAA4B,EAAEO,8BAA8B,EAAE;EACnO,OAAO;IACH3b,OAAO;IACPC,UAAU;IACVxtB,OAAO,EAAEq7B,WAAW;IACpB7K,WAAW;IACXqJ,OAAO;IACP7I,QAAQ;IACRoE,cAAc;IACd9E,WAAW;IACX5F,QAAQ;IACRsP,OAAO;IACP/L,oBAAoB;IACpB4E,KAAK;IACLc,KAAK,EAAE0H,WAAW,CAAC1Z,SAAS,KAAK,KAAK;IACtCilB,gBAAgBA,CAAC/J,OAAO,EAAE;MACtBhD,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAEoyB,OAAO,CAAC;IAClC,CAAC;IACDgK,mBAAmBA,CAAChK,OAAO,EAAE;MACzBhD,OAAO,CAACwyB,GAAG,CAAC,SAAS,EAAExvB,OAAO,CAAC;IACnC,CAAC;IACD4vB,qBAAqBA,CAACT,QAAQ,EAAE;MAC5B,OAAO,IAAID,eAAe,CAACC,QAAQ,EAAEnyB,OAAO,EAAE/c,cAAc,CAACue,WAAW,CAAC0lB,UAAU,CAAC,EAAE1lB,WAAW,CAAC2lB,eAAe,CAAC;IACtH,CAAC;IACDrY,4BAA4B;IAC5BO;EACJ,CAAC;AACL;;AAEA;AACA,MAAM58B,aAAa,SAAS1M,6CAAS,CAAC;EAClC;EACAmD,qBAAqBA,CAAC2pD,SAAS,EAAEC,SAAS,EAAE;IACxC,MAAMC,YAAY,GAAG,CAAC7E,WAAW,CAAC,IAAI,CAACrlD,KAAK,EAAEgqD,SAAS,EAAE,IAAI,CAACG,YAAY,CAAC,iBAAiB,CAAC,IACzF,CAAC9E,WAAW,CAAC,IAAI,CAACzkD,KAAK,EAAEqpD,SAAS,EAAE,IAAI,CAACG,aAAa,CAAC,iBAAiB,CAAC;IAC7E;IACA;IACA;IACA,OAAOF,YAAY;EACvB;EACA;EACAG,YAAYA,CAACjtB,QAAQ,EAAE;IACnB,IAAI,CAACioB,WAAW,CAAC,IAAI,CAACzkD,KAAK,EAAE+E,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACvf,KAAK,CAAC,EAAEw8B,QAAQ,CAAC,EAAE,IAAI,CAACgtB,aAAa,CAAC,EAAE;MACtG,IAAI,CAAC9mD,QAAQ,CAAC85B,QAAQ,CAAC;IAC3B;EACJ;AACJ;AACAxzB,aAAa,CAAC0gD,gBAAgB,GAAGA,gBAAgB;AACjD1gD,aAAa,CAAC2gD,gBAAgB,GAAGA,gBAAgB;AACjD3gD,aAAa,CAAC2B,WAAW,GAAGyO,eAAe;AAC3CpQ,aAAa,CAACpJ,SAAS,CAAC2pD,YAAY,GAAG,CAAC,CAAC;AACzCvgD,aAAa,CAACpJ,SAAS,CAAC4pD,aAAa,GAAG,CAAC,CAAC;AAC1C,MAAMrwC,aAAa,SAASnQ,aAAa,CAAC;AAE1CmQ,aAAa,CAACxO,WAAW,GAAGyO,eAAe;AAC3C,SAASswC,gBAAgBA,CAACH,YAAY,EAAE;EACpC,IAAIvjC,IAAI,GAAGjhB,MAAM,CAAC6kD,MAAM,CAAC,IAAI,CAAChqD,SAAS,CAAC2pD,YAAY,CAAC;EACrDxkD,MAAM,CAACwa,MAAM,CAACyG,IAAI,EAAEujC,YAAY,CAAC;EACjC,IAAI,CAAC3pD,SAAS,CAAC2pD,YAAY,GAAGvjC,IAAI;AACtC;AACA,SAAS2jC,gBAAgBA,CAACH,aAAa,EAAE;EACrC,IAAIxjC,IAAI,GAAGjhB,MAAM,CAAC6kD,MAAM,CAAC,IAAI,CAAChqD,SAAS,CAAC4pD,aAAa,CAAC;EACtDzkD,MAAM,CAACwa,MAAM,CAACyG,IAAI,EAAEwjC,aAAa,CAAC;EAClC,IAAI,CAAC5pD,SAAS,CAAC4pD,aAAa,GAAGxjC,IAAI;AACvC;AACA;AACA,SAASlK,MAAMA,CAACxc,GAAG,EAAEE,OAAO,EAAE;EAC1B,IAAI,OAAOF,GAAG,KAAK,UAAU,EAAE;IAC3BA,GAAG,CAACE,OAAO,CAAC;EAChB,CAAC,MACI,IAAIF,GAAG,EAAE;IACV;IACAA,GAAG,CAACE,OAAO,GAAGA,OAAO;EACzB;AACJ;AAEA,MAAMqqD,eAAe,SAAS1wC,aAAa,CAAC;EACxC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAAC0P,EAAE,GAAG+B,IAAI,CAAC,CAAC;IAChB,IAAI,CAAC8wC,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,eAAe,GAAG,EAAE;IACzB,IAAI,CAAClnB,QAAQ,GAAIxuB,EAAE,IAAK;MACpB,MAAM;QAAE3X;MAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;MAChC,MAAM;QAAEgkB;MAAc,CAAC,GAAG,IAAI,CAACloB,KAAK;MACpC,IAAI,CAAC1C,OAAO,CAACma,uBAAuB,IAAI,CAACmzC,yBAAyB,CAAC1iC,aAAa,EAAE5qB,OAAO,CAAC,EAAE;QACxF,IAAI,CAACutD,WAAW,CAAC51C,EAAE,CAAC;MACxB;IACJ,CAAC;IACD,IAAI,CAAC41C,WAAW,GAAI51C,EAAE,IAAK;MACvB,IAAI,IAAI,CAACjV,KAAK,CAAC0jC,KAAK,EAAE;QAClBhnB,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;MAChC;IACJ,CAAC;EACL;EACArX,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC/B,MAAM;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IAC3B,MAAM;MAAEikB,eAAe;MAAE2iC,gBAAgB;MAAEn8C;IAAY,CAAC,GAAG3O,KAAK;IAChE,MAAM+qD,KAAK,GAAGC,YAAY,CAAChrD,KAAK,EAAE,EAAE,EAAE,IAAI,CAACyjC,QAAQ,CAAC;IACpD,IAAIwnB,UAAU,GAAG,KAAK;IACtB,IAAIC,YAAY;IAChB,IAAIR,cAAc,GAAG,EAAE;IACvB,IAAIS,oBAAoB;IACxB,IAAIhjC,eAAe,IAAI,IAAI,EAAE;MACzB,MAAMijC,kBAAkB,GAAG,OAAOjjC,eAAe,KAAK,UAAU,GAC5DA,eAAe,CAACxZ,WAAW,EAAEvR,iDAAa,CAAC,GAC3C+qB,eAAe;MACnB,IAAIijC,kBAAkB,KAAK,IAAI,EAAE;QAC7BH,UAAU,GAAG,IAAI;MACrB,CAAC,MACI;QACD,MAAMI,QAAQ,GAAGD,kBAAkB,IAAI,OAAOA,kBAAkB,KAAK,QAAQ,CAAC,CAAC;QAC/E,IAAIC,QAAQ,IAAK,MAAM,IAAID,kBAAmB,EAAE;UAC5CL,KAAK,CAACz+C,uBAAuB,GAAG;YAAEE,MAAM,EAAE4+C,kBAAkB,CAACE;UAAK,CAAC;QACvE,CAAC,MACI,IAAID,QAAQ,IAAK,UAAU,IAAID,kBAAmB,EAAE;UACrDV,cAAc,GAAGxjD,KAAK,CAAC1G,SAAS,CAACmK,KAAK,CAACxK,IAAI,CAACirD,kBAAkB,CAACG,QAAQ,CAAC;QAC5E,CAAC,MACI,IAAIF,QAAQ,GACX3hD,sDAAc,CAAC0hD,kBAAkB,CAAC,CAAC;QAAA,EACnC,OAAOA,kBAAkB,KAAK,UAAU,CAAC;QAAA,EAC7C;UACE;UACAF,YAAY,GAAGE,kBAAkB;QACrC,CAAC,MACI;UACD;UACAD,oBAAoB,GAAGC,kBAAkB;QAC7C;MACJ;IACJ,CAAC,MACI;MACDH,UAAU,GAAG,CAACL,yBAAyB,CAAC5qD,KAAK,CAACkoB,aAAa,EAAE5qB,OAAO,CAAC;IACzE;IACA,IAAI2tD,UAAU,IAAIH,gBAAgB,EAAE;MAChCI,YAAY,GAAGJ,gBAAgB,CAACn8C,WAAW,CAAC;IAChD;IACA,IAAI,CAAC+7C,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACS,oBAAoB,GAAGA,oBAAoB;IAChD,OAAO/tD,qDAAa,CAAC4C,KAAK,CAACuQ,KAAK,EAAEw6C,KAAK,EAAEG,YAAY,CAAC;EAC1D;EACAhmD,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACsmD,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,sBAAsB,CAAC,IAAI,CAAC;EACrC;EACAxmD,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACumD,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,sBAAsB,CAAC,IAAI,CAAC;EACrC;EACAhoD,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACgoD,sBAAsB,CAAC,KAAK,CAAC,CAAC,CAAC;EACxC;;EACAA,sBAAsBA,CAACC,QAAQ,EAAE;IAC7B,IAAI3d,EAAE;IACN,MAAM;MAAE/tC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC/B,MAAM;MAAE2R,qBAAqB;MAAE2B;IAAuB,CAAC,GAAGtT,OAAO,CAAC5G,OAAO;IACzE,IAAIuY,qBAAqB,EAAE;MACvB,MAAMpF,aAAa,GAAG,CAACs9B,EAAE,GAAG,IAAI,CAACod,oBAAoB,MAAM,IAAI,IAAIpd,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGv2B,sBAAsB,KAAK,IAAI,IAAIA,sBAAsB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,sBAAsB,CAACxX,KAAK,CAACkoB,aAAa,CAAC;MACnN,IAAIzX,aAAa,EAAE;QACfoF,qBAAqB,CAAClQ,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;UAAEtI,EAAE,EAAE,IAAI,CAACA,EAAE;UAAE6zC,QAAQ;UAAEr7C,WAAW,EAAE,IAAI,CAAC/H,IAAI;UAAEgI,oBAAoB,EAAE,IAAI,CAACu6C,WAAW;UAAE;UACvIp6C;QAAc,CAAC,EAAEzQ,KAAK,CAAC,EAAE;UAAEwO,SAAS,EAAE,CAACxO,KAAK,CAACwO,SAAS,IAAI,EAAE,EAAEpB,MAAM,CAACu+C,QAAQ;QAAE,CAAC,CAAC,CAAC;MAC1F;IACJ;EACJ;EACAH,oBAAoBA,CAAA,EAAG;IACnB,MAAM;MAAEd,cAAc;MAAEC;IAAgB,CAAC,GAAG,IAAI;IAChD,MAAM11C,EAAE,GAAG,IAAI,CAAC3M,IAAI;IACpB,IAAI,CAACuR,aAAa,CAAC6wC,cAAc,EAAEC,eAAe,CAAC,EAAE;MACjDA,eAAe,CAACppD,OAAO,CAACmrC,aAAa,CAAC;MACtC,KAAK,IAAIkf,OAAO,IAAIlB,cAAc,EAAE;QAChCz1C,EAAE,CAAC1Q,WAAW,CAACqnD,OAAO,CAAC;MAC3B;MACA,IAAI,CAACjB,eAAe,GAAGD,cAAc;IACzC;EACJ;AACJ;AACAD,eAAe,CAACH,gBAAgB,CAAC;EAC7B97C,SAAS,EAAEqL,aAAa;EACxBpL,OAAO,EAAEiN,YAAY;EACrBlL,OAAO,EAAE20C,sBAAsB;EAC/Bx2C,WAAW,EAAE+M;AACjB,CAAC,CAAC;AACF;AACA;AACA;AACA;AACA;AACA;AACA,SAASkvC,yBAAyBA,CAAC1iC,aAAa,EAAE5qB,OAAO,EAAE;EACvD,IAAIywC,EAAE;EACN,OAAOvY,OAAO,CAACl4B,OAAO,CAACuY,qBAAqB,IACxCqS,aAAa,KACZ,CAAC6lB,EAAE,GAAGzwC,OAAO,CAACka,sBAAsB,MAAM,IAAI,IAAIu2B,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7lB,aAAa,CAAC,CAAC,CAAC;AACvG;AACA,SAAS8iC,YAAYA,CAAChrD,KAAK,EAAE6rD,eAAe,EAAEnoB,KAAK,EAAE;EACjD,MAAMqnB,KAAK,GAAGplD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAACwQ,OAAO,CAAC,EAAE;IAAEtQ,GAAG,EAAEwjC;EAAM,CAAC,CAAC;EAC7E,IAAI1jC,KAAK,CAACwO,SAAS,IAAIq9C,eAAe,EAAE;IACpCd,KAAK,CAACzjD,SAAS,GAAG,CAACtH,KAAK,CAACwO,SAAS,IAAI,EAAE,EACnClB,MAAM,CAACu+C,eAAe,IAAI,EAAE,CAAC,CAC7Bv+C,MAAM,CAACy9C,KAAK,CAACzjD,SAAS,IAAI,EAAE,CAAC,CAC7B8F,MAAM,CAACooB,OAAO,CAAC,CACf3T,IAAI,CAAC,GAAG,CAAC;EAClB;EACA,IAAI7hB,KAAK,CAACyO,OAAO,EAAE;IACfs8C,KAAK,CAACtgD,KAAK,GAAGzK,KAAK,CAACyO,OAAO;EAC/B;EACA,OAAOs8C,KAAK;AAChB;AACA,SAASY,QAAQA,CAAC9d,GAAG,EAAE;EACnB,OAAOrY,OAAO,CAACqY,GAAG,CAAC;AACvB;AAEA,MAAM3vB,QAAQ,GAAGlgB,aAAa,CAAC,CAAC,CAAC;AAEjC,MAAMic,gBAAgB,SAAS/c,6CAAS,CAAC;EACrC7L,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAAC2jD,YAAY,GAAGC,oBAAoB,CAAC3wD,IAAI,CAAC1J,SAAS,EAAE,IAAI,CAAC;IAC9D,IAAI,CAAC+xC,QAAQ,GAAIxuB,EAAE,IAAK;MACpB,IAAI,CAACA,EAAE,GAAGA,EAAE;MACZ,IAAI,IAAI,CAACjV,KAAK,CAAC0jC,KAAK,EAAE;QAClBhnB,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;QAC5B,IAAIA,EAAE,IAAI,IAAI,CAAC+2C,eAAe,EAAE;UAC5B,IAAI,CAAC9mD,iBAAiB,CAAC,CAAC;QAC5B;MACJ;IACJ,CAAC;EACL;EACAtH,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACtB,MAAMisD,mBAAmB,GAAGC,kBAAkB,CAAClsD,KAAK,CAACooB,kBAAkB,EAAEpoB,KAAK,CAAC2O,WAAW,CAAC;IAC3F,IAAI3O,KAAK,CAACvN,QAAQ,EAAE;MAChB,MAAM+d,OAAO,GAAGw6C,YAAY,CAAChrD,KAAK,EAAEisD,mBAAmB,EAAE,IAAI,CAACxoB,QAAQ,CAAC;MACvE,MAAMhxC,QAAQ,GAAGuN,KAAK,CAACvN,QAAQ,CAAC,IAAI,CAACq5D,YAAY,EAAE9rD,KAAK,CAAC2O,WAAW,EAAE6B,OAAO,CAAC;MAC9E,IAAIxQ,KAAK,CAACuQ,KAAK,EAAE;QACb,OAAOnT,qDAAa,CAAC4C,KAAK,CAACuQ,KAAK,EAAEC,OAAO,EAAE/d,QAAQ,CAAC;MACxD,CAAC,MACI;QACD,OAAOA,QAAQ;MACnB;IACJ,CAAC,MACI;MACD,OAAO2K,qDAAa,CAAEqtD,eAAe,EAAG9kD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAAC,EAAE;QAAE0jC,KAAK,EAAE,IAAI,CAACD,QAAQ;QAAElzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK,IAAI,KAAK;QAAE/B,SAAS,EAAE,CAACxO,KAAK,CAACwO,SAAS,IAAI,EAAE,EAAElB,MAAM,CAAC2+C,mBAAmB,CAAC;QAAEE,QAAQ,EAAE,IAAI,CAACjoD;MAAQ,CAAC,CAAC,CAAC;IACnO;EACJ;EACAgB,iBAAiBA,CAAA,EAAG;IAChB,IAAI6oC,EAAE,EAAEC,EAAE;IACV,IAAI,IAAI,CAAC/4B,EAAE,EAAE;MACT,CAAC+4B,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAAC/tC,KAAK,EAAEsoB,QAAQ,MAAM,IAAI,IAAI0lB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7tC,IAAI,CAAC4tC,EAAE,EAAEpoC,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACngB,KAAK,CAAC2O,WAAW,CAAC,EAAE;QAAEsG,EAAE,EAAE,IAAI,CAACA;MAAG,CAAC,CAAC,CAAC;IACjK,CAAC,MACI;MACD,IAAI,CAAC+2C,eAAe,GAAG,IAAI;IAC/B;EACJ;EACAvoD,oBAAoBA,CAAA,EAAG;IACnB,IAAIsqC,EAAE,EAAEC,EAAE;IACV,CAACA,EAAE,GAAG,CAACD,EAAE,GAAG,IAAI,CAAC/tC,KAAK,EAAEuoB,WAAW,MAAM,IAAI,IAAIylB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7tC,IAAI,CAAC4tC,EAAE,EAAEpoC,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACngB,KAAK,CAAC2O,WAAW,CAAC,EAAE;MAAEsG,EAAE,EAAE,IAAI,CAACA;IAAG,CAAC,CAAC,CAAC;EACpK;AACJ;AACAgF,gBAAgB,CAAC1O,WAAW,GAAG2S,QAAQ;AACvC,SAAS6tC,oBAAoBA,CAACK,kBAAkB,EAAEpsD,KAAK,EAAE;EACrD,MAAMqsD,WAAW,GAAGD,kBAAkB,CAACpsD,KAAK;EAC5C,OAAO5C,qDAAa,CAAEqtD,eAAe,EAAG9kD,MAAM,CAACwa,MAAM,CAAC;IAAExR,WAAW,EAAE09C,WAAW,CAAC19C,WAAW;IAAEuZ,aAAa,EAAEmkC,WAAW,CAACnkC,aAAa;IAAEC,eAAe,EAAEkkC,WAAW,CAAClkC,eAAe;IAAE2iC,gBAAgB,EAAEuB,WAAW,CAACvB,gBAAgB;IAAEqB,QAAQ,EAAEC,kBAAkB,CAACloD;EAAQ,CAAC,EAAElE,KAAK,CAAC,CAAC;AACzR;AACA;AACA,SAASksD,kBAAkBA,CAAC9jC,kBAAkB,EAAEzZ,WAAW,EAAE;EACzD,MAAM0Z,UAAU,GAAG,OAAOD,kBAAkB,KAAK,UAAU,GACvDA,kBAAkB,CAACzZ,WAAW,CAAC,GAC/ByZ,kBAAkB,IAAI,EAAE;EAC5B,OAAO,OAAOC,UAAU,KAAK,QAAQ,GAAG,CAACA,UAAU,CAAC,GAAGA,UAAU;AACrE;AAEA,MAAMikC,aAAa,SAASvyC,aAAa,CAAC;EACtCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAIyK,WAAW,GAAG;MAAE0oB,IAAI,EAAEnzB,OAAO,CAACozB;IAAQ,CAAC;IAC3C,OAAQl6B,qDAAa,CAAC6c,gBAAgB,EAAE;MAAEypB,KAAK,EAAE1jC,KAAK,CAAC0jC,KAAK;MAAEnzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK,IAAI,KAAK;MAAEC,OAAO,EAAExQ,KAAK,CAACwQ,OAAO;MAAEhC,SAAS,EAAE,CACtH,GAAG0L,mBAAmB,CAACla,KAAK,CAACgoB,QAAQ,CAAC,EACtC,IAAIhoB,KAAK,CAACwO,SAAS,IAAI,EAAE,CAAC,CAC7B;MAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;MAAEE,WAAW,EAAEA,WAAW;MAAEyZ,kBAAkB,EAAE9qB,OAAO,CAACkiD,cAAc;MAAEt3B,aAAa,EAAEx2B,SAAS;MAAE42B,QAAQ,EAAEhrB,OAAO,CAACmiD,YAAY;MAAEl3B,WAAW,EAAEjrB,OAAO,CAACoiD;IAAgB,CAAC,EAAE,MAAM1/C,KAAK,CAACvN,QAAQ,CAAC;EAChO;AACJ;AACA,SAASynB,mBAAmBA,CAAC8N,QAAQ,EAAE;EACnC,OAAO,CACF,MAAKA,QAAQ,CAAChzB,IAAK,OAAM,EAC1B,SAAS,CACZ;AACL;AAEA,SAASu3D,UAAUA,CAACt7C,KAAK,EAAE4Z,OAAO,EAAE;EAChC,IAAIxwB,KAAK,GAAG,IAAI;EAChB,IAAIC,GAAG,GAAG,IAAI;EACd,IAAI2W,KAAK,CAAC5W,KAAK,EAAE;IACbA,KAAK,GAAGwwB,OAAO,CAACI,YAAY,CAACha,KAAK,CAAC5W,KAAK,CAAC;EAC7C;EACA,IAAI4W,KAAK,CAAC3W,GAAG,EAAE;IACXA,GAAG,GAAGuwB,OAAO,CAACI,YAAY,CAACha,KAAK,CAAC3W,GAAG,CAAC;EACzC;EACA,IAAI,CAACD,KAAK,IAAI,CAACC,GAAG,EAAE;IAChB,OAAO,IAAI;EACf;EACA,IAAID,KAAK,IAAIC,GAAG,IAAIA,GAAG,GAAGD,KAAK,EAAE;IAC7B,OAAO,IAAI;EACf;EACA,OAAO;IAAEA,KAAK;IAAEC;EAAI,CAAC;AACzB;AACA;AACA;AACA,SAASkyD,YAAYA,CAACC,MAAM,EAAEC,eAAe,EAAE;EAC3C,IAAIC,cAAc,GAAG,EAAE;EACvB,IAAI;IAAEtyD;EAAM,CAAC,GAAGqyD,eAAe,CAAC,CAAC;EACjC,IAAI3uD,CAAC;EACL,IAAI6uD,SAAS;EACb;EACAH,MAAM,CAACvhD,IAAI,CAAC2hD,aAAa,CAAC;EAC1B,KAAK9uD,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG0uD,MAAM,CAAChrD,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACnC6uD,SAAS,GAAGH,MAAM,CAAC1uD,CAAC,CAAC;IACrB;IACA,IAAI6uD,SAAS,CAACvyD,KAAK,GAAGA,KAAK,EAAE;MAAE;MAC3BsyD,cAAc,CAACvpD,IAAI,CAAC;QAAE/I,KAAK;QAAEC,GAAG,EAAEsyD,SAAS,CAACvyD;MAAM,CAAC,CAAC;IACxD;IACA,IAAIuyD,SAAS,CAACtyD,GAAG,GAAGD,KAAK,EAAE;MACvBA,KAAK,GAAGuyD,SAAS,CAACtyD,GAAG;IACzB;EACJ;EACA;EACA,IAAID,KAAK,GAAGqyD,eAAe,CAACpyD,GAAG,EAAE;IAAE;IAC/BqyD,cAAc,CAACvpD,IAAI,CAAC;MAAE/I,KAAK;MAAEC,GAAG,EAAEoyD,eAAe,CAACpyD;IAAI,CAAC,CAAC;EAC5D;EACA,OAAOqyD,cAAc;AACzB;AACA,SAASE,aAAaA,CAACC,MAAM,EAAEC,MAAM,EAAE;EACnC,OAAOD,MAAM,CAACzyD,KAAK,CAAC8W,OAAO,CAAC,CAAC,GAAG47C,MAAM,CAAC1yD,KAAK,CAAC8W,OAAO,CAAC,CAAC,CAAC,CAAC;AAC5D;;AACA,SAAS6J,eAAeA,CAAC8xC,MAAM,EAAEC,MAAM,EAAE;EACrC,IAAI;IAAE1yD,KAAK;IAAEC;EAAI,CAAC,GAAGwyD,MAAM;EAC3B,IAAIE,QAAQ,GAAG,IAAI;EACnB,IAAID,MAAM,CAAC1yD,KAAK,KAAK,IAAI,EAAE;IACvB,IAAIA,KAAK,KAAK,IAAI,EAAE;MAChBA,KAAK,GAAG0yD,MAAM,CAAC1yD,KAAK;IACxB,CAAC,MACI;MACDA,KAAK,GAAG,IAAI6W,IAAI,CAACwU,IAAI,CAACC,GAAG,CAACtrB,KAAK,CAAC8W,OAAO,CAAC,CAAC,EAAE47C,MAAM,CAAC1yD,KAAK,CAAC8W,OAAO,CAAC,CAAC,CAAC,CAAC;IACvE;EACJ;EACA,IAAI47C,MAAM,CAACzyD,GAAG,IAAI,IAAI,EAAE;IACpB,IAAIA,GAAG,KAAK,IAAI,EAAE;MACdA,GAAG,GAAGyyD,MAAM,CAACzyD,GAAG;IACpB,CAAC,MACI;MACDA,GAAG,GAAG,IAAI4W,IAAI,CAACwU,IAAI,CAAC0wB,GAAG,CAAC97C,GAAG,CAAC6W,OAAO,CAAC,CAAC,EAAE47C,MAAM,CAACzyD,GAAG,CAAC6W,OAAO,CAAC,CAAC,CAAC,CAAC;IACjE;EACJ;EACA,IAAI9W,KAAK,KAAK,IAAI,IAAIC,GAAG,KAAK,IAAI,IAAID,KAAK,GAAGC,GAAG,EAAE;IAC/C0yD,QAAQ,GAAG;MAAE3yD,KAAK;MAAEC;IAAI,CAAC;EAC7B;EACA,OAAO0yD,QAAQ;AACnB;AACA,SAASC,WAAWA,CAACH,MAAM,EAAEC,MAAM,EAAE;EACjC,OAAO,CAACD,MAAM,CAACzyD,KAAK,KAAK,IAAI,GAAG,IAAI,GAAGyyD,MAAM,CAACzyD,KAAK,CAAC8W,OAAO,CAAC,CAAC,OAAO47C,MAAM,CAAC1yD,KAAK,KAAK,IAAI,GAAG,IAAI,GAAG0yD,MAAM,CAAC1yD,KAAK,CAAC8W,OAAO,CAAC,CAAC,CAAC,IACtH,CAAC27C,MAAM,CAACxyD,GAAG,KAAK,IAAI,GAAG,IAAI,GAAGwyD,MAAM,CAACxyD,GAAG,CAAC6W,OAAO,CAAC,CAAC,OAAO47C,MAAM,CAACzyD,GAAG,KAAK,IAAI,GAAG,IAAI,GAAGyyD,MAAM,CAACzyD,GAAG,CAAC6W,OAAO,CAAC,CAAC,CAAC;AACnH;AACA,SAAS+7C,eAAeA,CAACJ,MAAM,EAAEC,MAAM,EAAE;EACrC,OAAO,CAACD,MAAM,CAACxyD,GAAG,KAAK,IAAI,IAAIyyD,MAAM,CAAC1yD,KAAK,KAAK,IAAI,IAAIyyD,MAAM,CAACxyD,GAAG,GAAGyyD,MAAM,CAAC1yD,KAAK,MAC5EyyD,MAAM,CAACzyD,KAAK,KAAK,IAAI,IAAI0yD,MAAM,CAACzyD,GAAG,KAAK,IAAI,IAAIwyD,MAAM,CAACzyD,KAAK,GAAG0yD,MAAM,CAACzyD,GAAG,CAAC;AACnF;AACA,SAAS6yD,kBAAkBA,CAACC,UAAU,EAAEC,UAAU,EAAE;EAChD,OAAO,CAACD,UAAU,CAAC/yD,KAAK,KAAK,IAAI,IAAKgzD,UAAU,CAAChzD,KAAK,KAAK,IAAI,IAAIgzD,UAAU,CAAChzD,KAAK,IAAI+yD,UAAU,CAAC/yD,KAAM,MACnG+yD,UAAU,CAAC9yD,GAAG,KAAK,IAAI,IAAK+yD,UAAU,CAAC/yD,GAAG,KAAK,IAAI,IAAI+yD,UAAU,CAAC/yD,GAAG,IAAI8yD,UAAU,CAAC9yD,GAAI,CAAC;AAClG;AACA,SAASshB,mBAAmBA,CAACqS,KAAK,EAAEvzB,IAAI,EAAE;EACtC,OAAO,CAACuzB,KAAK,CAAC5zB,KAAK,KAAK,IAAI,IAAIK,IAAI,IAAIuzB,KAAK,CAAC5zB,KAAK,MAC9C4zB,KAAK,CAAC3zB,GAAG,KAAK,IAAI,IAAII,IAAI,GAAGuzB,KAAK,CAAC3zB,GAAG,CAAC;AAChD;AACA;AACA;AACA,SAASgzD,sBAAsBA,CAAC5yD,IAAI,EAAEuzB,KAAK,EAAE;EACzC,IAAIA,KAAK,CAAC5zB,KAAK,IAAI,IAAI,IAAIK,IAAI,GAAGuzB,KAAK,CAAC5zB,KAAK,EAAE;IAC3C,OAAO4zB,KAAK,CAAC5zB,KAAK;EACtB;EACA,IAAI4zB,KAAK,CAAC3zB,GAAG,IAAI,IAAI,IAAII,IAAI,IAAIuzB,KAAK,CAAC3zB,GAAG,EAAE;IACxC,OAAO,IAAI4W,IAAI,CAAC+c,KAAK,CAAC3zB,GAAG,CAAC6W,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;EAC5C;EACA,OAAOzW,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA,SAAS6yD,sBAAsBA,CAACC,UAAU,EAAE;EACxC,IAAIC,MAAM,GAAG/nC,IAAI,CAAC8wB,KAAK,CAAC1B,QAAQ,CAAC0Y,UAAU,CAACnzD,KAAK,EAAEmzD,UAAU,CAAClzD,GAAG,CAAC,CAAC,IAAI,CAAC;EACxE,IAAID,KAAK,GAAG4gB,UAAU,CAACuyC,UAAU,CAACnzD,KAAK,CAAC;EACxC,IAAIC,GAAG,GAAG4gB,OAAO,CAAC7gB,KAAK,EAAEozD,MAAM,CAAC;EAChC,OAAO;IAAEpzD,KAAK;IAAEC;EAAI,CAAC;AACzB;AACA;AACA;AACA,SAASozD,sBAAsBA,CAACF,UAAU,EAAEvlC,gBAAgB,GAAG7N,cAAc,CAAC,CAAC,CAAC,EAAE;EAC9E,IAAI5d,QAAQ,GAAG,IAAI;EACnB,IAAIE,MAAM,GAAG,IAAI;EACjB,IAAI8wD,UAAU,CAAClzD,GAAG,EAAE;IAChBoC,MAAM,GAAGue,UAAU,CAACuyC,UAAU,CAAClzD,GAAG,CAAC;IACnC,IAAIqzD,SAAS,GAAGH,UAAU,CAAClzD,GAAG,CAAC6W,OAAO,CAAC,CAAC,GAAGzU,MAAM,CAACyU,OAAO,CAAC,CAAC,CAAC,CAAC;IAC7D;IACA;IACA;IACA,IAAIw8C,SAAS,IAAIA,SAAS,IAAIja,SAAS,CAACzrB,gBAAgB,CAAC,EAAE;MACvDvrB,MAAM,GAAGwe,OAAO,CAACxe,MAAM,EAAE,CAAC,CAAC;IAC/B;EACJ;EACA,IAAI8wD,UAAU,CAACnzD,KAAK,EAAE;IAClBmC,QAAQ,GAAGye,UAAU,CAACuyC,UAAU,CAACnzD,KAAK,CAAC,CAAC,CAAC;IACzC;IACA,IAAIqC,MAAM,IAAIA,MAAM,IAAIF,QAAQ,EAAE;MAC9BE,MAAM,GAAGwe,OAAO,CAAC1e,QAAQ,EAAE,CAAC,CAAC;IACjC;EACJ;EACA,OAAO;IAAEnC,KAAK,EAAEmC,QAAQ;IAAElC,GAAG,EAAEoC;EAAO,CAAC;AAC3C;AACA;AACA,SAASkxD,eAAeA,CAAC3/B,KAAK,EAAE;EAC5B,IAAI2R,YAAY,GAAG8tB,sBAAsB,CAACz/B,KAAK,CAAC;EAChD,OAAO6mB,QAAQ,CAAClV,YAAY,CAACvlC,KAAK,EAAEulC,YAAY,CAACtlC,GAAG,CAAC,GAAG,CAAC;AAC7D;AACA,SAASuzD,SAASA,CAACroC,KAAK,EAAEC,KAAK,EAAEoF,OAAO,EAAEijC,SAAS,EAAE;EACjD,IAAIA,SAAS,KAAK,MAAM,EAAE;IACtB,OAAO1zC,cAAc,CAACyQ,OAAO,CAACu8B,cAAc,CAAC5hC,KAAK,EAAEC,KAAK,CAAC,EAAE,MAAM,CAAC;EACvE;EACA,IAAIqoC,SAAS,KAAK,OAAO,EAAE;IACvB,OAAO1zC,cAAc,CAACyQ,OAAO,CAACw8B,eAAe,CAAC7hC,KAAK,EAAEC,KAAK,CAAC,EAAE,OAAO,CAAC;EACzE;EACA,OAAOyvB,cAAc,CAAC1vB,KAAK,EAAEC,KAAK,CAAC,CAAC,CAAC;AACzC;;AAEA,MAAMlJ,oBAAoB,CAAC;EACvBlrB,WAAWA,CAAC2O,KAAK,EAAE;IACf,IAAI,CAACA,KAAK,GAAGA,KAAK;IAClB,IAAI,CAAC+tD,cAAc,CAAC,CAAC;EACzB;EACA;AACJ;EACI;EACAriC,SAASA,CAACJ,kBAAkB,EAAEZ,WAAW,EAAEsjC,YAAY,EAAE;IACrD,IAAI;MAAEnjC;IAAQ,CAAC,GAAG,IAAI,CAAC7qB,KAAK;IAC5B,IAAIiuD,QAAQ,GAAGpjC,OAAO,CAACo8B,QAAQ,CAACp8B,OAAO,CAAC48B,OAAO,CAAC/8B,WAAW,EAAEY,kBAAkB,CAACsN,gBAAgB,CAAC;IAAE;IACnGtN,kBAAkB,CAACgU,aAAa,CAAC;IACjC,OAAO,IAAI,CAAC7T,KAAK,CAACwiC,QAAQ,EAAE,CAAC,CAAC,EAAED,YAAY,CAAC;EACjD;EACA;EACApiC,SAASA,CAACN,kBAAkB,EAAEZ,WAAW,EAAEsjC,YAAY,EAAE;IACrD,IAAI;MAAEnjC;IAAQ,CAAC,GAAG,IAAI,CAAC7qB,KAAK;IAC5B,IAAIkuD,QAAQ,GAAGrjC,OAAO,CAAC2L,GAAG,CAAC3L,OAAO,CAAC48B,OAAO,CAAC/8B,WAAW,EAAEY,kBAAkB,CAACsN,gBAAgB,CAAC;IAAE;IAC9FtN,kBAAkB,CAACgU,aAAa,CAAC;IACjC,OAAO,IAAI,CAAC7T,KAAK,CAACyiC,QAAQ,EAAE,CAAC,EAAEF,YAAY,CAAC;EAChD;EACA;EACA;EACA;EACAviC,KAAKA,CAACf,WAAW,EAAEzL,SAAS,EAAE+uC,YAAY,GAAG,IAAI,EAAE;IAC/C,IAAI;MAAEhuD;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI0/B,UAAU;IACd,IAAIyuB,WAAW;IACf,IAAIl1B,aAAa;IACjB,IAAIm1B,WAAW;IACf,IAAIriC,WAAW;IACf,IAAIJ,OAAO;IACX+T,UAAU,GAAG,IAAI,CAAC2uB,eAAe,CAAC,CAAC;IACnC3uB,UAAU,GAAG,IAAI,CAAC4uB,cAAc,CAAC5uB,UAAU,CAAC;IAC5C,IAAIsuB,YAAY,EAAE;MACdtjC,WAAW,GAAG4iC,sBAAsB,CAAC5iC,WAAW,EAAEgV,UAAU,CAAC;IACjE;IACAyuB,WAAW,GAAG,IAAI,CAACI,qBAAqB,CAAC7jC,WAAW,EAAEzL,SAAS,CAAC;IAChEga,aAAa,GAAG,yBAAyB,CAAC1zB,IAAI,CAAC4oD,WAAW,CAAC9tC,IAAI,CAAC;IAChE+tC,WAAW,GAAG,IAAI,CAACI,gBAAgB,CAAC,IAAI,CAACF,cAAc,CAACH,WAAW,CAAClgC,KAAK,CAAC,EAAEkgC,WAAW,CAAC9tC,IAAI,EAAE4Y,aAAa,CAAC;IAC5Gm1B,WAAW,GAAG,IAAI,CAACE,cAAc,CAACF,WAAW,CAAC;IAC9CriC,WAAW,GAAGqiC,WAAW;IACzB,IAAI,CAACpuD,KAAK,CAACm/B,mBAAmB,EAAE;MAC5BpT,WAAW,GAAG/Q,eAAe,CAAC+Q,WAAW,EAAEoiC,WAAW,CAAClgC,KAAK,CAAC;IACjE;IACAlC,WAAW,GAAG,IAAI,CAAC0iC,iBAAiB,CAAC1iC,WAAW,CAAC;IACjDA,WAAW,GAAG/Q,eAAe,CAAC+Q,WAAW,EAAE2T,UAAU,CAAC,CAAC,CAAC;IACxD;IACA;IACA/T,OAAO,GAAGuhC,eAAe,CAACiB,WAAW,CAAClgC,KAAK,EAAEyR,UAAU,CAAC;IACxD;IACA,IAAI,CAAC9jB,mBAAmB,CAACwyC,WAAW,EAAE1jC,WAAW,CAAC,EAAE;MAChDA,WAAW,GAAG0jC,WAAW,CAAC/zD,KAAK;IACnC;IACA,OAAO;MACHqwB,WAAW;MACX;MACA;MACAgV,UAAU;MACV;MACA;MACA1M,YAAY,EAAEm7B,WAAW,CAAClgC,KAAK;MAC/B;MACA2K,gBAAgB,EAAEu1B,WAAW,CAAC9tC,IAAI;MAClC4Y,aAAa;MACb;MACA;MACAlN,WAAW;MACX;MACA;MACAqiC,WAAW;MACX;MACAnvB,WAAW,EAAEj/B,KAAK,CAACi/B,WAAW;MAC9B;MACAC,WAAW,EAAEl/B,KAAK,CAACk/B,WAAW;MAC9BvT,OAAO;MACP;MACA2T,aAAa,EAAE,IAAI,CAACovB,kBAAkB,CAACP,WAAW,CAACnlC,QAAQ;MAC3D;IACJ,CAAC;EACL;EACA;EACA;EACA;EACAqlC,eAAeA,CAAA,EAAG;IACd,IAAIp9C,KAAK,GAAG,IAAI,CAACjR,KAAK,CAACy/B,eAAe;IACtC,IAAIkvB,WAAW,GAAG,OAAO19C,KAAK,KAAK,UAAU,GACvCA,KAAK,CAAC9Q,IAAI,CAAC,IAAI,CAACH,KAAK,CAAC4tB,WAAW,EAAE,IAAI,CAAC5tB,KAAK,CAAC6qB,OAAO,CAACgI,MAAM,CAAC,IAAI,CAAC7yB,KAAK,CAAC8qB,UAAU,CAACI,aAAa,CAAC,CAAC,CAAC,CAAC,GACpGja,KAAK;IACX,OAAO,IAAI,CAAC29C,WAAW,CAACD,WAAW,CAAC,IAChC;MAAEt0D,KAAK,EAAE,IAAI;MAAEC,GAAG,EAAE;IAAK,CAAC,CAAC,CAAC;EACpC;EACA;EACA;EACA;EACA;EACAi0D,qBAAqBA,CAAC7zD,IAAI,EAAEukB,SAAS,EAAE;IACnC,IAAI;MAAEjf;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIgpB,QAAQ,GAAG,IAAI;IACnB,IAAI3I,IAAI,GAAG,IAAI;IACf,IAAI4N,KAAK,GAAG,IAAI;IAChB,IAAImR,QAAQ;IACZ,IAAIp/B,KAAK,CAACgpB,QAAQ,EAAE;MAChBA,QAAQ,GAAGhpB,KAAK,CAACgpB,QAAQ;MACzB3I,IAAI,GAAGrgB,KAAK,CAACipB,YAAY;MACzBgF,KAAK,GAAG,IAAI,CAAC4gC,sBAAsB,CAACn0D,IAAI,EAAEukB,SAAS,EAAE+J,QAAQ,EAAE3I,IAAI,CAAC;IACxE,CAAC,MACI,IAAK+e,QAAQ,GAAG,IAAI,CAACp/B,KAAK,CAACo/B,QAAQ,EAAG;MACvC/e,IAAI,GAAG,KAAK;MACZ4N,KAAK,GAAG,IAAI,CAAC6gC,sBAAsB,CAACp0D,IAAI,EAAEukB,SAAS,EAAEmgB,QAAQ,CAAC;IAClE,CAAC,MACI,IAAKnR,KAAK,GAAG,IAAI,CAAC8gC,uBAAuB,CAACr0D,IAAI,CAAC,EAAG;MACnD2lB,IAAI,GAAGrgB,KAAK,CAAC6qB,OAAO,CAACy8B,iBAAiB,CAACr5B,KAAK,CAAC5zB,KAAK,EAAE4zB,KAAK,CAAC3zB,GAAG,CAAC,CAAC+lB,IAAI;IACvE,CAAC,MACI;MACD2I,QAAQ,GAAG,IAAI,CAACgmC,mBAAmB,CAAC,CAAC;MACrC3uC,IAAI,GAAGlG,2BAA2B,CAAC6O,QAAQ,CAAC,CAAC3I,IAAI;MACjD4N,KAAK,GAAG,IAAI,CAAC4gC,sBAAsB,CAACn0D,IAAI,EAAEukB,SAAS,EAAE+J,QAAQ,EAAE3I,IAAI,CAAC;IACxE;IACA,OAAO;MAAE2I,QAAQ;MAAE3I,IAAI;MAAE4N;IAAM,CAAC;EACpC;EACA+gC,mBAAmBA,CAAA,EAAG;IAClB,OAAO50C,cAAc,CAAC;MAAEoF,GAAG,EAAE;IAAE,CAAC,CAAC;EACrC;EACA;EACA;EACAivC,iBAAiBA,CAACxgC,KAAK,EAAE;IACrB,IAAI;MAAEpD,OAAO;MAAEmU,cAAc;MAAEC,WAAW;MAAEC;IAAY,CAAC,GAAG,IAAI,CAACl/B,KAAK;IACtE,IAAI;MAAE3F,KAAK;MAAEC;IAAI,CAAC,GAAG2zB,KAAK;IAC1B,IAAI+Q,cAAc,EAAE;MAChB;MACA,IAAIwU,WAAW,CAACvU,WAAW,CAAC,GAAG,CAAC,EAAE;QAC9B5kC,KAAK,GAAG4gB,UAAU,CAAC5gB,KAAK,CAAC,CAAC,CAAC;QAC3BA,KAAK,GAAGwwB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAE4kC,WAAW,CAAC;MAC3C;MACA;MACA,IAAIuU,WAAW,CAACtU,WAAW,CAAC,GAAG,CAAC,EAAE;QAC9B5kC,GAAG,GAAG2gB,UAAU,CAAC3gB,GAAG,CAAC,CAAC,CAAC;QACvBA,GAAG,GAAG4gB,OAAO,CAAC5gB,GAAG,EAAE,CAAC,CAAC,CAAC;QACtBA,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACl8B,GAAG,EAAE4kC,WAAW,CAAC;MACvC;IACJ;IACA,OAAO;MAAE7kC,KAAK;MAAEC;IAAI,CAAC;EACzB;EACA;EACA;EACAu0D,sBAAsBA,CAACn0D,IAAI,EAAEukB,SAAS,EAAE+J,QAAQ,EAAE3I,IAAI,EAAE;IACpD,IAAI;MAAEwK,OAAO;MAAEwU;IAAc,CAAC,GAAG,IAAI,CAACr/B,KAAK;IAC3C,IAAI3F,KAAK;IACT,IAAIC,GAAG;IACP,IAAIgwB,GAAG;IACP;IACA,IAAI,CAAC+U,aAAa,EAAE;MAChB,IAAI;QAAEC;MAAc,CAAC,GAAG,IAAI,CAACt/B,KAAK;MAClC,IAAIs/B,aAAa,EAAE;QACf;QACA,IAAIoU,SAAS,CAACpU,aAAa,CAAC,GAAGoU,SAAS,CAAC1qB,QAAQ,CAAC,EAAE;UAChDqW,aAAa,GAAGllB,2BAA2B,CAACmlB,aAAa,CAAC,CAACjf,IAAI;QACnE,CAAC,MACI;UACDgf,aAAa,GAAGhf,IAAI;QACxB;MACJ,CAAC,MACI;QACDgf,aAAa,GAAGhf,IAAI;MACxB;IACJ;IACA;IACA,IAAImzB,WAAW,CAACxqB,QAAQ,CAAC,IAAI,CAAC,EAAE;MAC5B,IAAI,IAAI,CAACimC,WAAW,CAAC50D,KAAK,CAAC,EAAE;QACzBA,KAAK,GAAG,IAAI,CAAC60D,cAAc,CAAC70D,KAAK,EAAE4kB,SAAS,CAAC;QAC7C5kB,KAAK,GAAG4gB,UAAU,CAAC5gB,KAAK,CAAC;MAC7B;IACJ;IACA,SAAS80D,UAAUA,CAAA,EAAG;MAClB90D,KAAK,GAAGwwB,OAAO,CAAC48B,OAAO,CAAC/sD,IAAI,EAAE2kC,aAAa,CAAC;MAC5C/kC,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAE2uB,QAAQ,CAAC;MAClCsB,GAAG,GAAG;QAAEjwB,KAAK;QAAEC;MAAI,CAAC;IACxB;IACA60D,UAAU,CAAC,CAAC;IACZ;IACA,IAAI,CAAC,IAAI,CAACb,cAAc,CAAChkC,GAAG,CAAC,EAAE;MAC3B5vB,IAAI,GAAG,IAAI,CAACw0D,cAAc,CAACx0D,IAAI,EAAEukB,SAAS,CAAC;MAC3CkwC,UAAU,CAAC,CAAC;IAChB;IACA,OAAO7kC,GAAG;EACd;EACA;EACAwkC,sBAAsBA,CAACp0D,IAAI,EAAEukB,SAAS,EAAEmgB,QAAQ,EAAE;IAC9C,IAAI;MAAEvU,OAAO;MAAEwU;IAAc,CAAC,GAAG,IAAI,CAACr/B,KAAK;IAC3C,IAAIovD,YAAY,GAAG,CAAC;IACpB,IAAI/0D,KAAK,GAAGK,IAAI;IAChB,IAAIJ,GAAG;IACP,IAAI+kC,aAAa,EAAE;MACfhlC,KAAK,GAAGwwB,OAAO,CAAC48B,OAAO,CAACptD,KAAK,EAAEglC,aAAa,CAAC;IACjD;IACAhlC,KAAK,GAAG4gB,UAAU,CAAC5gB,KAAK,CAAC;IACzBA,KAAK,GAAG,IAAI,CAAC60D,cAAc,CAAC70D,KAAK,EAAE4kB,SAAS,CAAC;IAC7C3kB,GAAG,GAAGD,KAAK;IACX,GAAG;MACCC,GAAG,GAAG4gB,OAAO,CAAC5gB,GAAG,EAAE,CAAC,CAAC;MACrB,IAAI,CAAC,IAAI,CAAC20D,WAAW,CAAC30D,GAAG,CAAC,EAAE;QACxB80D,YAAY,IAAI,CAAC;MACrB;IACJ,CAAC,QAAQA,YAAY,GAAGhwB,QAAQ;IAChC,OAAO;MAAE/kC,KAAK;MAAEC;IAAI,CAAC;EACzB;EACA;EACA;EACAy0D,uBAAuBA,CAACr0D,IAAI,EAAE;IAC1B,IAAI;MAAEsF;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIiR,KAAK,GAAGjR,KAAK,CAAC2/B,iBAAiB;IACnC,IAAIgvB,WAAW,GAAG,OAAO19C,KAAK,KAAK,UAAU,GACvCA,KAAK,CAAC9Q,IAAI,CAACH,KAAK,CAAC4tB,WAAW,EAAE5tB,KAAK,CAAC6qB,OAAO,CAACgI,MAAM,CAACn4B,IAAI,CAAC,CAAC,GACzDuW,KAAK;IACX,IAAIgd,KAAK,GAAG,IAAI,CAAC2gC,WAAW,CAACD,WAAW,CAAC;IACzC,IAAI1gC,KAAK,KAAKA,KAAK,CAAC5zB,KAAK,IAAI,IAAI,IAAI4zB,KAAK,CAAC3zB,GAAG,IAAI,IAAI,CAAC,EAAE;MACrD,OAAO,IAAI;IACf;IACA,OAAO2zB,KAAK;EAChB;EACA;EACA;EACA;EACAugC,gBAAgBA,CAACx7B,YAAY,EAAE4F,gBAAgB,EAAEK,aAAa,EAAE;IAC5D,OAAOjG,YAAY;EACvB;EACA;EACA;EACA07B,kBAAkBA,CAAC/qD,QAAQ,EAAE;IACzB,IAAI;MAAE27B;IAAc,CAAC,GAAG,IAAI,CAACt/B,KAAK;IAClC,IAAIqvD,eAAe;IACnB,IAAI/vB,aAAa,EAAE;MACf,OAAOA,aAAa;IACxB;IACA,IAAK+vB,eAAe,GAAG,IAAI,CAACrvD,KAAK,CAACq/B,aAAa,EAAG;MAC9C,OAAOjlB,cAAc,CAAC,CAAC,EAAEi1C,eAAe,CAAC;IAC7C;IACA,IAAI1rD,QAAQ,EAAE;MACV,OAAOA,QAAQ;IACnB;IACA,OAAOyW,cAAc,CAAC;MAAEgf,IAAI,EAAE;IAAE,CAAC,CAAC;EACtC;EACAw1B,WAAWA,CAACU,UAAU,EAAE;IACpB,IAAIA,UAAU,EAAE;MACZ,IAAIrhC,KAAK,GAAGs+B,UAAU,CAAC+C,UAAU,EAAE,IAAI,CAACtvD,KAAK,CAAC6qB,OAAO,CAAC;MACtD,IAAIoD,KAAK,EAAE;QACPA,KAAK,GAAGy/B,sBAAsB,CAACz/B,KAAK,CAAC;MACzC;MACA,OAAOA,KAAK;IAChB;IACA,OAAO,IAAI;EACf;EACA;AACJ;EACI;EACA8/B,cAAcA,CAAA,EAAG;IACb,IAAIxuB,UAAU,GAAG,IAAI,CAACv/B,KAAK,CAACu/B,UAAU,IAAI,EAAE,CAAC,CAAC;IAC9C,IAAIgwB,eAAe,GAAG,EAAE,CAAC,CAAC;IAC1B,IAAI9B,MAAM,GAAG,CAAC;IACd,IAAI1vD,CAAC;IACL,IAAI,IAAI,CAACiC,KAAK,CAACw/B,QAAQ,KAAK,KAAK,EAAE;MAC/BD,UAAU,CAACn8B,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAC3B;;IACA,KAAKrF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;MACvB,IAAI,EAAEwxD,eAAe,CAACxxD,CAAC,CAAC,GAAGwhC,UAAU,CAAC76B,OAAO,CAAC3G,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;QACtD0vD,MAAM,IAAI,CAAC;MACf;IACJ;IACA,IAAI,CAACA,MAAM,EAAE;MACT,MAAM,IAAIlmC,KAAK,CAAC,oBAAoB,CAAC,CAAC,CAAC;IAC3C;;IACA,IAAI,CAACgoC,eAAe,GAAGA,eAAe;EAC1C;EACA;EACA;EACAjB,cAAcA,CAACrgC,KAAK,EAAE;IAClB,IAAI;MAAE5zB,KAAK;MAAEC;IAAI,CAAC,GAAG2zB,KAAK;IAC1B,IAAI5zB,KAAK,EAAE;MACPA,KAAK,GAAG,IAAI,CAAC60D,cAAc,CAAC70D,KAAK,CAAC;IACtC;IACA,IAAIC,GAAG,EAAE;MACLA,GAAG,GAAG,IAAI,CAAC40D,cAAc,CAAC50D,GAAG,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC;IAC5C;IACA,IAAID,KAAK,IAAI,IAAI,IAAIC,GAAG,IAAI,IAAI,IAAID,KAAK,GAAGC,GAAG,EAAE;MAC7C,OAAO;QAAED,KAAK;QAAEC;MAAI,CAAC;IACzB;IACA,OAAO,IAAI;EACf;EACA;EACA;EACA20D,WAAWA,CAACzvC,GAAG,EAAE;IACb,IAAIA,GAAG,YAAYtO,IAAI,EAAE;MACrBsO,GAAG,GAAGA,GAAG,CAAC+W,SAAS,CAAC,CAAC;IACzB;IACA,OAAO,IAAI,CAACg5B,eAAe,CAAC/vC,GAAG,CAAC;EACpC;EACA;EACA;EACA;EACA;EACA;EACA0vC,cAAcA,CAACx0D,IAAI,EAAE80D,GAAG,GAAG,CAAC,EAAEC,WAAW,GAAG,KAAK,EAAE;IAC/C,OAAO,IAAI,CAACF,eAAe,CAAC,CAAC70D,IAAI,CAAC67B,SAAS,CAAC,CAAC,IAAIk5B,WAAW,GAAGD,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,EAAE;MAC/E90D,IAAI,GAAGwgB,OAAO,CAACxgB,IAAI,EAAE80D,GAAG,CAAC;IAC7B;IACA,OAAO90D,IAAI;EACf;AACJ;AAEA,SAASg1D,mBAAmBA,CAACpvB,KAAK,EAAErS,KAAK,EAAEic,cAAc,EAAEC,YAAY,EAAE;EACrE,OAAO;IACHwlB,UAAU,EAAE/1C,IAAI,CAAC,CAAC;IAClB0mB,KAAK;IACLrS,KAAK;IACLic,cAAc,EAAEA,cAAc,IAAI,IAAI,GAAG,IAAI,GAAGA,cAAc;IAC9DC,YAAY,EAAEA,YAAY,IAAI,IAAI,GAAG,IAAI,GAAGA;EAChD,CAAC;AACL;AAEA,SAASylB,cAAcA,CAACv8B,OAAO,EAAE0tB,aAAa,EAAEl2B,OAAO,EAAElH,cAAc,EAAE;EACrE,KAAK,IAAI5lB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4lB,cAAc,CAACliB,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IAC/C,IAAI8xD,MAAM,GAAGlsC,cAAc,CAAC5lB,CAAC,CAAC,CAACs3B,KAAK,CAAChC,OAAO,EAAExI,OAAO,CAAC;IACtD,IAAIglC,MAAM,EAAE;MACR,IAAI;QAAExlB;MAAO,CAAC,GAAGhX,OAAO;MACxB,IAAIgX,MAAM,IAAI,IAAI,EAAE;QAChBA,MAAM,GAAG0W,aAAa;QACtB,IAAI1W,MAAM,IAAI,IAAI,EAAE;UAChBA,MAAM,GAAGwlB,MAAM,CAACt6B,WAAW;UAC3B,IAAI8U,MAAM,IAAI,IAAI,EAAE;YAChBA,MAAM,GAAG,KAAK;UAClB;QACJ;MACJ;MACA,OAAO;QACHA,MAAM;QACNrhB,QAAQ,EAAE6mC,MAAM,CAAC7mC,QAAQ;QACzByM,QAAQ,EAAEo6B,MAAM,CAACp6B,QAAQ;QACzBq6B,MAAM,EAAE/xD;MACZ,CAAC;IACL;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAASgyD,eAAeA,CAACv4B,UAAU,EAAE7B,YAAY,EAAEzxB,OAAO,EAAE;EACxD,IAAI;IAAE2mB,OAAO;IAAEiD,WAAW;IAAExwB;EAAQ,CAAC,GAAG4G,OAAO;EAC/C,IAAI;IAAEugB,IAAI;IAAEurC;EAAU,CAAC,GAAGx4B,UAAU;EACpC;EACA;EACAw4B,SAAS,GAAGz1C,UAAU,CAACy1C,SAAS,EAAGjrB,QAAQ,IAAK,CAACtgB,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC,CAAC2vB,YAAY,CAAC;EACnF,KAAK,IAAI3vB,KAAK,IAAI7b,IAAI,EAAE;IACpB,IAAIC,GAAG,GAAGD,IAAI,CAAC6b,KAAK,CAAC;IACrB,IAAI5b,GAAG,CAACurC,YAAY,EAAE;MAClB,IAAI;QAAEjnC;MAAS,CAAC,GAAGtE,GAAG,CAACurC,YAAY;MACnC,IAAI,CAACjnC,QAAQ,EAAE;QACXA,QAAQ,GAAGtE,GAAG,CAAC2lB,MAAM,GACjB/sC,OAAO,CAAC6gD,0BAA0B,GAClC7gD,OAAO,CAAC8gD,yBAAyB;MACzC;MACA,IAAI8R,MAAM,GAAGC,qBAAqB,CAACzrC,GAAG,EAAEsE,QAAQ,EAAE2M,YAAY,EAAE9K,OAAO,EAAEiD,WAAW,CAACnK,cAAc,CAAC;MACpG,KAAK,IAAItpB,KAAK,IAAI61D,MAAM,EAAE;QACtB,IAAInrB,QAAQ,GAAG2qB,mBAAmB,CAACpvB,KAAK,EAAE;UACtCjmC,KAAK;UACLC,GAAG,EAAEuwB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAE2uB,QAAQ;QACpC,CAAC,CAAC;QACFgnC,SAAS,CAACjrB,QAAQ,CAAC4qB,UAAU,CAAC,GAAG5qB,QAAQ;MAC7C;IACJ;EACJ;EACA,OAAO;IAAEtgB,IAAI;IAAEurC;EAAU,CAAC;AAC9B;AACA;AACA;AACA;AACA,SAASG,qBAAqBA,CAACC,QAAQ,EAAEpnC,QAAQ,EAAE2M,YAAY,EAAE9K,OAAO,EAAElH,cAAc,EAAE;EACtF,IAAI0sC,OAAO,GAAG1sC,cAAc,CAACysC,QAAQ,CAACH,YAAY,CAACH,MAAM,CAAC;EAC1D,IAAIQ,OAAO,GAAGD,OAAO,CAAC36B,MAAM,CAAC06B,QAAQ,CAACH,YAAY,CAACx6B,QAAQ,EAAE;IACzDp7B,KAAK,EAAEwwB,OAAO,CAACo8B,QAAQ,CAACtxB,YAAY,CAACt7B,KAAK,EAAE2uB,QAAQ,CAAC;IACrD1uB,GAAG,EAAEq7B,YAAY,CAACr7B;EACtB,CAAC,EAAEuwB,OAAO,CAAC;EACX;EACA,IAAIulC,QAAQ,CAAC/lB,MAAM,EAAE;IACjBimB,OAAO,GAAGA,OAAO,CAACjvD,GAAG,CAAC4Z,UAAU,CAAC;EACrC;EACA,OAAOq1C,OAAO;AAClB;AAEA,MAAMC,uBAAuB,GAAG;EAC5B14C,EAAE,EAAEkc,MAAM;EACVy8B,OAAO,EAAEz8B,MAAM;EACfziC,KAAK,EAAEyiC,MAAM;EACbz+B,GAAG,EAAEy+B,MAAM;EACX08B,WAAW,EAAEj7B;AACjB,CAAC;AACD,MAAMk7B,mBAAmB,GAAG;EACxBr2D,KAAK,EAAEwgB,QAAQ;EACfvgB,GAAG,EAAEugB,QAAQ;EACbngB,IAAI,EAAEmgB,QAAQ;EACdwvB,MAAM,EAAE7U;AACZ,CAAC;AACD,MAAMm7B,cAAc,GAAGhrD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEowC,uBAAuB,CAAC,EAAEG,mBAAmB,CAAC,EAAE;EAAEE,aAAa,EAAE/1C;AAAS,CAAC,CAAC;AACjJ,SAASg2C,UAAUA,CAACtvC,GAAG,EAAE2L,WAAW,EAAEhpB,OAAO,EAAE4sD,cAAc,EAAEliC,QAAQ,GAAGmiC,kBAAkB,CAAC7sD,OAAO,CAAC,EAAE8sD,QAAQ,EAAEC,aAAa,EAAE;EAC5H,IAAI;IAAE59B,OAAO;IAAE6K;EAAM,CAAC,GAAGgzB,cAAc,CAAC3vC,GAAG,EAAErd,OAAO,EAAE0qB,QAAQ,CAAC;EAC/D,IAAImyB,aAAa,GAAGoQ,sBAAsB,CAACjkC,WAAW,EAAEhpB,OAAO,CAAC;EAChE,IAAIktD,YAAY,GAAGxB,cAAc,CAACv8B,OAAO,EAAE0tB,aAAa,EAAE78C,OAAO,CAAC2mB,OAAO,EAAE3mB,OAAO,CAAC4pB,WAAW,CAACnK,cAAc,CAAC;EAC9G,IAAIytC,YAAY,EAAE;IACd,IAAI1sC,GAAG,GAAG2sC,aAAa,CAACh+B,OAAO,EAAE6K,KAAK,EAAEhR,WAAW,GAAGA,WAAW,CAACb,QAAQ,GAAG,EAAE,EAAE+kC,YAAY,CAAC/mB,MAAM,EAAE7U,OAAO,CAAC47B,YAAY,CAACpoC,QAAQ,CAAC,EAAE9kB,OAAO,EAAE8sD,QAAQ,CAAC;IACxJtsC,GAAG,CAACurC,YAAY,GAAG;MACfH,MAAM,EAAEsB,YAAY,CAACtB,MAAM;MAC3Br6B,QAAQ,EAAE27B,YAAY,CAAC37B,QAAQ;MAC/BzM,QAAQ,EAAEooC,YAAY,CAACpoC;IAC3B,CAAC;IACD,OAAO;MAAEtE,GAAG;MAAEqgB,QAAQ,EAAE;IAAK,CAAC;EAClC;EACA,IAAIusB,SAAS,GAAGC,WAAW,CAACl+B,OAAO,EAAE0tB,aAAa,EAAE78C,OAAO,EAAE4sD,cAAc,CAAC;EAC5E,IAAIQ,SAAS,EAAE;IACX,IAAI5sC,GAAG,GAAG2sC,aAAa,CAACh+B,OAAO,EAAE6K,KAAK,EAAEhR,WAAW,GAAGA,WAAW,CAACb,QAAQ,GAAG,EAAE,EAAEilC,SAAS,CAACjnB,MAAM,EAAEinB,SAAS,CAACE,MAAM,EAAEttD,OAAO,EAAE8sD,QAAQ,CAAC;IACvI,IAAIjsB,QAAQ,GAAG2qB,mBAAmB,CAAChrC,GAAG,CAAC4b,KAAK,EAAEgxB,SAAS,CAACrjC,KAAK,EAAEqjC,SAAS,CAACpnB,cAAc,EAAEonB,SAAS,CAACnnB,YAAY,CAAC;IAChH,IAAI8mB,aAAa,IAAIvsC,GAAG,CAAC+sC,QAAQ,IAAIR,aAAa,CAACvsC,GAAG,CAAC+sC,QAAQ,CAAC,EAAE;MAC9D1sB,QAAQ,CAAC4qB,UAAU,GAAGsB,aAAa,CAACvsC,GAAG,CAAC+sC,QAAQ,CAAC;IACrD;IACA,OAAO;MAAE/sC,GAAG;MAAEqgB;IAAS,CAAC;EAC5B;EACA,OAAO,IAAI;AACf;AACA,SAASmsB,cAAcA,CAAC3vC,GAAG,EAAErd,OAAO,EAAE0qB,QAAQ,GAAGmiC,kBAAkB,CAAC7sD,OAAO,CAAC,EAAE;EAC1E,OAAOwgD,WAAW,CAACnjC,GAAG,EAAEqN,QAAQ,CAAC;AACrC;AACA,SAASmiC,kBAAkBA,CAAC7sD,OAAO,EAAE;EACjC,OAAOyB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEuxC,iBAAiB,CAAC,EAAEf,cAAc,CAAC,EAAEzsD,OAAO,CAAC4pB,WAAW,CAACtL,aAAa,CAAC;AAChI;AACA;AACA;AACA;AACA;AACA,SAAS6uC,aAAaA,CAACh+B,OAAO,EAAE6K,KAAK,EAAE7R,QAAQ,EAAEge,MAAM,EAAEmnB,MAAM,EAAEttD,OAAO,EAAE8sD,QAAQ,EAAE;EAChF,IAAItsC,GAAG,GAAG;IACNpzB,KAAK,EAAE+hC,OAAO,CAAC/hC,KAAK,IAAI,EAAE;IAC1Bk/D,OAAO,EAAEn9B,OAAO,CAACm9B,OAAO,IAAI,EAAE;IAC9BiB,QAAQ,EAAEp+B,OAAO,CAACxb,EAAE,IAAI,EAAE;IAC1BviB,GAAG,EAAE+9B,OAAO,CAAC/9B,GAAG,IAAI,EAAE;IACtB26D,YAAY,EAAE,IAAI;IAClB3vB,KAAK,EAAE,CAAE0wB,QAAQ,IAAI39B,OAAO,CAACxb,EAAE,GAAIm5C,QAAQ,CAAC39B,OAAO,CAACxb,EAAE,CAAC,GAAG,EAAE,KAAK+B,IAAI,CAAC,CAAC;IACvEyS,QAAQ;IACRge,MAAM;IACNmnB,MAAM;IACNf,WAAW,EAAEp9B,OAAO,CAACo9B,WAAW;IAChCrwB,EAAE,EAAE5jB,aAAa,CAAC6W,OAAO,EAAEnvB,OAAO,CAAC;IACnC0sD,aAAa,EAAEjrD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAGkT,OAAO,CAACu9B,aAAa,IAAI,CAAC,CAAE,CAAC,EAAE1yB,KAAK;EACxF,CAAC;EACD,KAAK,IAAIyzB,WAAW,IAAIztD,OAAO,CAAC4pB,WAAW,CAACrL,oBAAoB,EAAE;IAC9D9c,MAAM,CAACwa,MAAM,CAACuE,GAAG,EAAEitC,WAAW,CAACt+B,OAAO,CAAC,CAAC;EAC5C;EACA;EACA1tB,MAAM,CAACisD,MAAM,CAACltC,GAAG,CAAC0b,EAAE,CAAC/X,UAAU,CAAC;EAChC1iB,MAAM,CAACisD,MAAM,CAACltC,GAAG,CAACksC,aAAa,CAAC;EAChC,OAAOlsC,GAAG;AACd;AACA,SAAS6sC,WAAWA,CAACl+B,OAAO,EAAE0tB,aAAa,EAAE78C,OAAO,EAAE4sD,cAAc,EAAE;EAClE,IAAI;IAAEzmB;EAAO,CAAC,GAAGhX,OAAO;EACxB,IAAI2W,SAAS;EACb,IAAI6nB,WAAW,GAAG,IAAI;EACtB,IAAIL,MAAM,GAAG,KAAK;EAClB,IAAIvnB,OAAO;EACX,IAAI9T,SAAS,GAAG,IAAI;EACpB,IAAI2T,UAAU,GAAGzW,OAAO,CAACh5B,KAAK,IAAI,IAAI,GAAGg5B,OAAO,CAACh5B,KAAK,GAAGg5B,OAAO,CAAC34B,IAAI;EACrEsvC,SAAS,GAAG9lC,OAAO,CAAC2mB,OAAO,CAAC8e,gBAAgB,CAACG,UAAU,CAAC;EACxD,IAAIE,SAAS,EAAE;IACX6nB,WAAW,GAAG7nB,SAAS,CAACJ,MAAM;EAClC,CAAC,MACI,IAAI,CAACknB,cAAc,EAAE;IACtB,OAAO,IAAI;EACf;EACA,IAAIz9B,OAAO,CAAC/4B,GAAG,IAAI,IAAI,EAAE;IACrB2vC,OAAO,GAAG/lC,OAAO,CAAC2mB,OAAO,CAAC8e,gBAAgB,CAACtW,OAAO,CAAC/4B,GAAG,CAAC;EAC3D;EACA,IAAI+vC,MAAM,IAAI,IAAI,EAAE;IAChB,IAAI0W,aAAa,IAAI,IAAI,EAAE;MACvB1W,MAAM,GAAG0W,aAAa;IAC1B,CAAC,MACI;MACD;MACA1W,MAAM,GAAG,CAAC,CAACL,SAAS,IAAIA,SAAS,CAACyc,iBAAiB,MAC9C,CAACxc,OAAO,IAAIA,OAAO,CAACwc,iBAAiB,CAAC;IAC/C;EACJ;EACA,IAAIpc,MAAM,IAAIwnB,WAAW,EAAE;IACvBA,WAAW,GAAG52C,UAAU,CAAC42C,WAAW,CAAC;EACzC;EACA,IAAI5nB,OAAO,EAAE;IACT9T,SAAS,GAAG8T,OAAO,CAACL,MAAM;IAC1B,IAAIS,MAAM,EAAE;MACRlU,SAAS,GAAGlb,UAAU,CAACkb,SAAS,CAAC;IACrC;IACA,IAAI07B,WAAW,IAAI17B,SAAS,IAAI07B,WAAW,EAAE;MACzC17B,SAAS,GAAG,IAAI;IACpB;EACJ;EACA,IAAIA,SAAS,EAAE;IACXq7B,MAAM,GAAG,IAAI;EACjB,CAAC,MACI,IAAI,CAACV,cAAc,EAAE;IACtBU,MAAM,GAAGttD,OAAO,CAAC5G,OAAO,CAACohD,kBAAkB,IAAI,KAAK;IACpDvoB,SAAS,GAAGjyB,OAAO,CAAC2mB,OAAO,CAAC2L,GAAG,CAACq7B,WAAW,EAAExnB,MAAM,GAC/CnmC,OAAO,CAAC5G,OAAO,CAAC6gD,0BAA0B,GAC1Cj6C,OAAO,CAAC5G,OAAO,CAAC8gD,yBAAyB,CAAC;EAClD;EACA,OAAO;IACH/T,MAAM;IACNmnB,MAAM;IACNvjC,KAAK,EAAE;MAAE5zB,KAAK,EAAEw3D,WAAW;MAAEv3D,GAAG,EAAE67B;IAAU,CAAC;IAC7C+T,cAAc,EAAEF,SAAS,GAAGA,SAAS,CAACH,SAAS,GAAG,IAAI;IACtDM,YAAY,EAAEF,OAAO,GAAGA,OAAO,CAACJ,SAAS,GAAG;EAChD,CAAC;AACL;AACA,SAASsnB,sBAAsBA,CAACjkC,WAAW,EAAEhpB,OAAO,EAAE;EAClD,IAAIomB,GAAG,GAAG,IAAI;EACd,IAAI4C,WAAW,EAAE;IACb5C,GAAG,GAAG4C,WAAW,CAAC6zB,aAAa;EACnC;EACA,IAAIz2B,GAAG,IAAI,IAAI,EAAE;IACbA,GAAG,GAAGpmB,OAAO,CAAC5G,OAAO,CAACyjD,aAAa;EACvC;EACA,OAAOz2B,GAAG;AACd;AAEA,SAASwnC,WAAWA,CAAC5jC,SAAS,EAAEhB,WAAW,EAAEhpB,OAAO,EAAE4sD,cAAc,EAAEE,QAAQ,EAAEC,aAAa,EAAE;EAC3F,IAAIz5B,UAAU,GAAG3b,qBAAqB,CAAC,CAAC;EACxC,IAAI2G,aAAa,GAAGuuC,kBAAkB,CAAC7sD,OAAO,CAAC;EAC/C,KAAK,IAAI6tD,QAAQ,IAAI7jC,SAAS,EAAE;IAC5B,IAAI8jC,KAAK,GAAGnB,UAAU,CAACkB,QAAQ,EAAE7kC,WAAW,EAAEhpB,OAAO,EAAE4sD,cAAc,EAAEtuC,aAAa,EAAEwuC,QAAQ,EAAEC,aAAa,CAAC;IAC9G,IAAIe,KAAK,EAAE;MACPC,iBAAiB,CAACD,KAAK,EAAEx6B,UAAU,CAAC;IACxC;EACJ;EACA,OAAOA,UAAU;AACrB;AACA,SAASy6B,iBAAiBA,CAACD,KAAK,EAAEx6B,UAAU,GAAG3b,qBAAqB,CAAC,CAAC,EAAE;EACpE2b,UAAU,CAAC/S,IAAI,CAACutC,KAAK,CAACttC,GAAG,CAAC4b,KAAK,CAAC,GAAG0xB,KAAK,CAACttC,GAAG;EAC5C,IAAIstC,KAAK,CAACjtB,QAAQ,EAAE;IAChBvN,UAAU,CAACw4B,SAAS,CAACgC,KAAK,CAACjtB,QAAQ,CAAC4qB,UAAU,CAAC,GAAGqC,KAAK,CAACjtB,QAAQ;EACpE;EACA,OAAOvN,UAAU;AACrB;AACA;AACA;AACA;AACA,SAAS06B,iBAAiBA,CAAC16B,UAAU,EAAEm4B,UAAU,EAAE;EAC/C,IAAI5qB,QAAQ,GAAGvN,UAAU,CAACw4B,SAAS,CAACL,UAAU,CAAC;EAC/C,IAAI5qB,QAAQ,EAAE;IACV,IAAIrgB,GAAG,GAAG8S,UAAU,CAAC/S,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC;IACzC;IACA,IAAI6xB,QAAQ,GAAGC,oBAAoB,CAAC56B,UAAU,EAAG66B,OAAO,IAAKC,kBAAkB,CAAC5tC,GAAG,EAAE2tC,OAAO,CAAC,CAAC;IAC9F;IACA;IACAF,QAAQ,CAAC1tC,IAAI,CAACC,GAAG,CAAC4b,KAAK,CAAC,GAAG5b,GAAG;IAC9BytC,QAAQ,CAACnC,SAAS,CAACjrB,QAAQ,CAAC4qB,UAAU,CAAC,GAAG5qB,QAAQ;IAClD,OAAOotB,QAAQ;EACnB;EACA,OAAOt2C,qBAAqB,CAAC,CAAC;AAClC;AACA,SAASy2C,kBAAkBA,CAACC,IAAI,EAAEC,IAAI,EAAE;EACpC,OAAOh9B,OAAO,CAAC+8B,IAAI,CAAC/B,OAAO,IAAI+B,IAAI,CAAC/B,OAAO,KAAKgC,IAAI,CAAChC,OAAO,CAAC;AACjE;AACA,SAAS30C,qBAAqBA,CAAA,EAAG;EAC7B,OAAO;IAAE4I,IAAI,EAAE,CAAC,CAAC;IAAEurC,SAAS,EAAE,CAAC;EAAE,CAAC;AACtC;AACA,SAASyC,gBAAgBA,CAACC,MAAM,EAAEC,MAAM,EAAE;EACtC,OAAO;IACHluC,IAAI,EAAE9e,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEuyC,MAAM,CAACjuC,IAAI,CAAC,EAAEkuC,MAAM,CAACluC,IAAI,CAAC;IAChEurC,SAAS,EAAErqD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEuyC,MAAM,CAAC1C,SAAS,CAAC,EAAE2C,MAAM,CAAC3C,SAAS;EAClF,CAAC;AACL;AACA,SAASoC,oBAAoBA,CAAC56B,UAAU,EAAEo7B,UAAU,EAAE;EAClD,IAAInuC,IAAI,GAAGlK,UAAU,CAACid,UAAU,CAAC/S,IAAI,EAAEmuC,UAAU,CAAC;EAClD,IAAI5C,SAAS,GAAGz1C,UAAU,CAACid,UAAU,CAACw4B,SAAS,EAAGjrB,QAAQ,IAAMtgB,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC,CAAC;EACpF,CAAC;;EACF,OAAO;IAAE7b,IAAI;IAAEurC;EAAU,CAAC;AAC9B;AACA,SAAS6C,oBAAoBA,CAACC,MAAM,EAAErnD,GAAG,EAAE;EACvC,IAAI;IAAEgZ,IAAI;IAAEurC;EAAU,CAAC,GAAG8C,MAAM;EAChC,IAAIC,YAAY,GAAG,CAAC,CAAC;EACrB,IAAIC,iBAAiB,GAAG,CAAC,CAAC;EAC1B,KAAK,IAAI1yB,KAAK,IAAI7b,IAAI,EAAE;IACpB,IAAI,CAAChZ,GAAG,CAACgZ,IAAI,CAAC6b,KAAK,CAAC,EAAE;MAAE;MACpByyB,YAAY,CAACzyB,KAAK,CAAC,GAAG7b,IAAI,CAAC6b,KAAK,CAAC;IACrC;EACJ;EACA,KAAK,IAAIqvB,UAAU,IAAIK,SAAS,EAAE;IAC9B,IAAI,CAACvkD,GAAG,CAACukD,SAAS,CAACL,UAAU,CAAC;IAAI;IAC9BoD,YAAY,CAAC/C,SAAS,CAACL,UAAU,CAAC,CAACrvB,KAAK,CAAC,CAAC;IAAA,EAC5C;MACE0yB,iBAAiB,CAACrD,UAAU,CAAC,GAAGK,SAAS,CAACL,UAAU,CAAC;IACzD;EACJ;EACA,OAAO;IACHlrC,IAAI,EAAEsuC,YAAY;IAClB/C,SAAS,EAAEgD;EACf,CAAC;AACL;AAEA,SAASC,mBAAmBA,CAAChiD,KAAK,EAAE/M,OAAO,EAAE;EACzC,IAAIgD,KAAK,CAACC,OAAO,CAAC8J,KAAK,CAAC,EAAE;IACtB,OAAO6gD,WAAW,CAAC7gD,KAAK,EAAE,IAAI,EAAE/M,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;EACpD;;EACA,IAAI,OAAO+M,KAAK,KAAK,QAAQ,IAAIA,KAAK,EAAE;IAAE;IACtC,OAAO6gD,WAAW,CAAC,CAAC7gD,KAAK,CAAC,EAAE,IAAI,EAAE/M,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;EACtD;;EACA,IAAI+M,KAAK,IAAI,IAAI,EAAE;IACf,OAAO8iB,MAAM,CAAC9iB,KAAK,CAAC;EACxB;EACA,OAAO,IAAI;AACf;AAEA,SAASiiD,eAAeA,CAAC3xC,GAAG,EAAE;EAC1B,IAAIra,KAAK,CAACC,OAAO,CAACoa,GAAG,CAAC,EAAE;IACpB,OAAOA,GAAG;EACd;EACA,IAAI,OAAOA,GAAG,KAAK,QAAQ,EAAE;IACzB,OAAOA,GAAG,CAACI,KAAK,CAAC,KAAK,CAAC;EAC3B;EACA,OAAO,EAAE;AACb;;AAEA;AACA;AACA;AACA,MAAM+vC,iBAAiB,GAAG;EACtBl+C,OAAO,EAAEugB,MAAM;EACfyM,QAAQ,EAAEhL,OAAO;EACjBiL,aAAa,EAAEjL,OAAO;EACtBmL,gBAAgB,EAAEnL,OAAO;EACzBqL,UAAU,EAAEhmB,QAAQ;EACpBkmB,OAAO,EAAElmB,QAAQ;EACjBomB,KAAK,EAAEpmB,QAAQ;EACfvT,SAAS,EAAE4rD,eAAe;EAC1B7qC,UAAU,EAAE6qC,eAAe;EAC3Bz4D,KAAK,EAAEs5B,MAAM;EACbx5B,eAAe,EAAEw5B,MAAM;EACvBv5B,WAAW,EAAEu5B,MAAM;EACnBsN,SAAS,EAAEtN;AACf,CAAC;AACD,MAAMo/B,cAAc,GAAG;EACnB3/C,OAAO,EAAE,IAAI;EACbitB,aAAa,EAAE,IAAI;EACnBE,gBAAgB,EAAE,IAAI;EACtByyB,WAAW,EAAE,EAAE;EACfryB,OAAO,EAAE,IAAI;EACbsyB,MAAM,EAAE,EAAE;EACV94D,eAAe,EAAE,EAAE;EACnBC,WAAW,EAAE,EAAE;EACf6mC,SAAS,EAAE,EAAE;EACbhZ,UAAU,EAAE;AAChB,CAAC;AACD,SAAS7L,aAAaA,CAAC6W,OAAO,EAAEnvB,OAAO,EAAE;EACrC,IAAI28B,UAAU,GAAGoyB,mBAAmB,CAAC5/B,OAAO,CAACwN,UAAU,EAAE38B,OAAO,CAAC;EACjE,OAAO;IACHsP,OAAO,EAAE6f,OAAO,CAAC7f,OAAO,IAAI,IAAI;IAChCitB,aAAa,EAAEpN,OAAO,CAACoN,aAAa,IAAI,IAAI,GAAGpN,OAAO,CAACoN,aAAa,GAAGpN,OAAO,CAACmN,QAAQ;IACvFG,gBAAgB,EAAEtN,OAAO,CAACsN,gBAAgB,IAAI,IAAI,GAAGtN,OAAO,CAACsN,gBAAgB,GAAGtN,OAAO,CAACmN,QAAQ;IAChG4yB,WAAW,EAAEvyB,UAAU,IAAI,IAAI,GAAG,CAACA,UAAU,CAAC,GAAG,EAAE;IACnDE,OAAO,EAAE1N,OAAO,CAAC0N,OAAO,IAAI,IAAI,GAAG1N,OAAO,CAAC0N,OAAO,GAAG,IAAI;IACzDsyB,MAAM,EAAEhgC,OAAO,CAAC4N,KAAK,IAAI,IAAI,GAAG,CAAC5N,OAAO,CAAC4N,KAAK,CAAC,GAAG,EAAE;IACpD1mC,eAAe,EAAE84B,OAAO,CAAC94B,eAAe,IAAI84B,OAAO,CAAC54B,KAAK,IAAI,EAAE;IAC/DD,WAAW,EAAE64B,OAAO,CAAC74B,WAAW,IAAI64B,OAAO,CAAC54B,KAAK,IAAI,EAAE;IACvD4mC,SAAS,EAAEhO,OAAO,CAACgO,SAAS,IAAI,EAAE;IAClChZ,UAAU,EAAE,CAACgL,OAAO,CAAC/rB,SAAS,IAAI,EAAE,EAAEgG,MAAM,CAAC+lB,OAAO,CAAChL,UAAU,IAAI,EAAE,CAAC,CAAE;EAC5E,CAAC;AACL;AACA;AACA,SAASirC,eAAeA,CAACC,GAAG,EAAE;EAC1B,OAAOA,GAAG,CAACliB,MAAM,CAACmiB,kBAAkB,EAAEL,cAAc,CAAC;AACzD;AACA,SAASK,kBAAkBA,CAACC,KAAK,EAAEC,KAAK,EAAE;EACtC,OAAO;IACHlgD,OAAO,EAAEkgD,KAAK,CAAClgD,OAAO,IAAI,IAAI,GAAGkgD,KAAK,CAAClgD,OAAO,GAAGigD,KAAK,CAACjgD,OAAO;IAC9DitB,aAAa,EAAEizB,KAAK,CAACjzB,aAAa,IAAI,IAAI,GAAGizB,KAAK,CAACjzB,aAAa,GAAGgzB,KAAK,CAAChzB,aAAa;IACtFE,gBAAgB,EAAE+yB,KAAK,CAAC/yB,gBAAgB,IAAI,IAAI,GAAG+yB,KAAK,CAAC/yB,gBAAgB,GAAG8yB,KAAK,CAAC9yB,gBAAgB;IAClGyyB,WAAW,EAAEK,KAAK,CAACL,WAAW,CAAC9lD,MAAM,CAAComD,KAAK,CAACN,WAAW,CAAC;IACxDryB,OAAO,EAAE,OAAO2yB,KAAK,CAAC3yB,OAAO,KAAK,SAAS,GAAG2yB,KAAK,CAAC3yB,OAAO,GAAG0yB,KAAK,CAAC1yB,OAAO;IAC3EsyB,MAAM,EAAEI,KAAK,CAACJ,MAAM,CAAC/lD,MAAM,CAAComD,KAAK,CAACL,MAAM,CAAC;IACzC94D,eAAe,EAAEm5D,KAAK,CAACn5D,eAAe,IAAIk5D,KAAK,CAACl5D,eAAe;IAC/DC,WAAW,EAAEk5D,KAAK,CAACl5D,WAAW,IAAIi5D,KAAK,CAACj5D,WAAW;IACnD6mC,SAAS,EAAEqyB,KAAK,CAACryB,SAAS,IAAIoyB,KAAK,CAACpyB,SAAS;IAC7ChZ,UAAU,EAAEorC,KAAK,CAACprC,UAAU,CAAC/a,MAAM,CAAComD,KAAK,CAACrrC,UAAU;EACxD,CAAC;AACL;AAEA,MAAMsrC,qBAAqB,GAAG;EAC1B97C,EAAE,EAAEkc,MAAM;EACVgtB,aAAa,EAAEvrB,OAAO;EACtBlgC,GAAG,EAAEy+B,MAAM;EACXM,MAAM,EAAEN,MAAM;EACd35B,MAAM,EAAEygB,QAAQ;EAChB+lC,kBAAkB,EAAE/lC,QAAQ;EAC5B;EACAwT,OAAO,EAAExT,QAAQ;EACjB6T,OAAO,EAAE7T;AACb,CAAC;AACD,SAASJ,gBAAgBA,CAAC8G,GAAG,EAAErd,OAAO,EAAE0qB,QAAQ,GAAGpU,wBAAwB,CAACtW,OAAO,CAAC,EAAE;EAClF,IAAI0vD,MAAM;EACV,IAAI,OAAOryC,GAAG,KAAK,QAAQ,EAAE;IACzBqyC,MAAM,GAAG;MAAEt+D,GAAG,EAAEisB;IAAI,CAAC;EACzB,CAAC,MACI,IAAI,OAAOA,GAAG,KAAK,UAAU,IAAIra,KAAK,CAACC,OAAO,CAACoa,GAAG,CAAC,EAAE;IACtDqyC,MAAM,GAAG;MAAEx5D,MAAM,EAAEmnB;IAAI,CAAC;EAC5B,CAAC,MACI,IAAI,OAAOA,GAAG,KAAK,QAAQ,IAAIA,GAAG,EAAE;IAAE;IACvCqyC,MAAM,GAAGryC,GAAG;EAChB;EACA,IAAIqyC,MAAM,EAAE;IACR,IAAI;MAAEvgC,OAAO;MAAE6K;IAAM,CAAC,GAAGwmB,WAAW,CAACkP,MAAM,EAAEhlC,QAAQ,CAAC;IACtD,IAAIilC,OAAO,GAAGC,oBAAoB,CAACzgC,OAAO,EAAEnvB,OAAO,CAAC;IACpD,IAAI2vD,OAAO,EAAE;MACT,OAAO;QACHj9B,IAAI,EAAErV,GAAG;QACTyL,UAAU,EAAE,KAAK;QACjBM,aAAa,EAAE,EAAE;QACjBT,UAAU,EAAE,IAAI;QAChBk0B,aAAa,EAAE1tB,OAAO,CAAC0tB,aAAa;QACpCH,kBAAkB,EAAEvtB,OAAO,CAACutB,kBAAkB;QAC9CvyB,OAAO,EAAEgF,OAAO,CAAChF,OAAO;QACxBK,OAAO,EAAE2E,OAAO,CAAC3E,OAAO;QACxB+iC,QAAQ,EAAEp+B,OAAO,CAACxb,EAAE,IAAI,EAAE;QAC1BwU,QAAQ,EAAEzS,IAAI,CAAC,CAAC;QAChBmU,WAAW,EAAE8lC,OAAO,CAAC9lC,WAAW;QAChCyF,IAAI,EAAEqgC,OAAO,CAACrgC,IAAI;QAClB4M,EAAE,EAAE5jB,aAAa,CAAC6W,OAAO,EAAEnvB,OAAO,CAAC;QACnC0sD,aAAa,EAAE1yB;MACnB,CAAC;IACL;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAAS1jB,wBAAwBA,CAACtW,OAAO,EAAE;EACvC,OAAOyB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEuxC,iBAAiB,CAAC,EAAEiC,qBAAqB,CAAC,EAAEzvD,OAAO,CAAC4pB,WAAW,CAACpL,mBAAmB,CAAC;AAC7I;AACA,SAASoxC,oBAAoBA,CAACvyC,GAAG,EAAErd,OAAO,EAAE;EACxC,IAAIugB,IAAI,GAAGvgB,OAAO,CAAC4pB,WAAW,CAACrK,eAAe;EAC9C,KAAK,IAAI1lB,CAAC,GAAG0mB,IAAI,CAAChjB,MAAM,GAAG,CAAC,EAAE1D,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IAAE;IAC5C,IAAI2mB,GAAG,GAAGD,IAAI,CAAC1mB,CAAC,CAAC;IACjB,IAAIy1B,IAAI,GAAG9O,GAAG,CAAC0O,SAAS,CAAC7R,GAAG,CAAC;IAC7B,IAAIiS,IAAI,EAAE;MACN,OAAO;QAAEzF,WAAW,EAAEhwB,CAAC;QAAEy1B;MAAK,CAAC;IACnC;EACJ;EACA,OAAO,IAAI;AACf;AAEA,SAAS1X,gBAAgBA,CAAC0b,UAAU,EAAEhN,MAAM,EAAE5Z,YAAY,EAAEkb,WAAW,EAAE5nB,OAAO,EAAE;EAC9E,QAAQsmB,MAAM,CAACx1B,IAAI;IACf,KAAK,gBAAgB;MAAE;MACnB,OAAO++D,gBAAgB,CAACv8B,UAAU,EAAE5mB,YAAY,CAAC4Z,MAAM,CAAC6B,QAAQ,CAAC,EAAE7B,MAAM,CAACoC,OAAO,EAAEpC,MAAM,CAACqC,UAAU,EAAErC,MAAM,CAAC0D,SAAS,EAAEhqB,OAAO,CAAC;IACpI,KAAK,kBAAkB;MACnB,OAAO8vD,cAAc,CAACx8B,UAAU,EAAE5mB,YAAY,CAAC4Z,MAAM,CAAC6B,QAAQ,CAAC,EAAE7B,MAAM,CAAC0D,SAAS,EAAEpC,WAAW,CAACC,WAAW,EAAE7nB,OAAO,CAAC;IACxH,KAAK,YAAY;MAAE;MACf,OAAO+vD,QAAQ,CAACz8B,UAAU,EAAEhN,MAAM,CAACgN,UAAU;MAAE;MAC/C1L,WAAW,GAAGA,WAAW,CAACC,WAAW,GAAG,IAAI,EAAE7nB,OAAO,CAAC;IAC1D,KAAK,cAAc;MACf,OAAOsmB,MAAM,CAACgN,UAAU;IAC5B,KAAK,cAAc;MAAE;MACjB,OAAOi7B,gBAAgB,CAACj7B,UAAU,EAAEhN,MAAM,CAACgN,UAAU,CAAC;IAC1D,KAAK,MAAM,CAAC,CAAC;IACb,KAAK,MAAM;IACX,KAAK,aAAa;IAClB,KAAK,kBAAkB;MACnB,IAAI1L,WAAW,EAAE;QACb,OAAOikC,eAAe,CAACv4B,UAAU,EAAE1L,WAAW,CAACC,WAAW,EAAE7nB,OAAO,CAAC;MACxE;MACA,OAAOszB,UAAU;IACrB,KAAK,eAAe;MAChB,OAAOq7B,oBAAoB,CAACr7B,UAAU,EAAEhN,MAAM,CAACgN,UAAU,CAAC;IAC9D,KAAK,qBAAqB;MACtB,OAAO08B,uBAAuB,CAAC18B,UAAU,EAAEhN,MAAM,CAAC6B,QAAQ,CAAC;IAC/D,KAAK,0BAA0B;MAC3B,OAAO+lC,oBAAoB,CAAC56B,UAAU,EAAG44B,QAAQ,IAAM,CAACA,QAAQ,CAAC/jC,QAAQ,CAAC;MACzE,CAAC;;IACN,KAAK,mBAAmB;MACpB,OAAOxQ,qBAAqB,CAAC,CAAC;IAClC;MACI,OAAO2b,UAAU;EACzB;AACJ;AACA,SAASu8B,gBAAgBA,CAACv8B,UAAU,EAAEtK,WAAW,EAAEN,OAAO,EAAEC,UAAU,EAAEqB,SAAS,EAAEhqB,OAAO,EAAE;EACxF,IAAIgpB,WAAW;EAAI;EACfN,OAAO,KAAKM,WAAW,CAACI,aAAa,CAAC;EAAA,EACxC;IACE,IAAI6mC,MAAM,GAAGrC,WAAW,CAACsC,kBAAkB,CAAClmC,SAAS,EAAEhB,WAAW,EAAEhpB,OAAO,CAAC,EAAEgpB,WAAW,EAAEhpB,OAAO,CAAC;IACnG,IAAI2oB,UAAU,EAAE;MACZsnC,MAAM,GAAGpE,eAAe,CAACoE,MAAM,EAAEtnC,UAAU,EAAE3oB,OAAO,CAAC;IACzD;IACA,OAAOuuD,gBAAgB,CAACyB,uBAAuB,CAAC18B,UAAU,EAAEtK,WAAW,CAACb,QAAQ,CAAC,EAAE8nC,MAAM,CAAC;EAC9F;EACA,OAAO38B,UAAU;AACrB;AACA,SAASw8B,cAAcA,CAACK,kBAAkB,EAAEnnC,WAAW,EAAEgB,SAAS,EAAEnC,WAAW,EAAE7nB,OAAO,EAAE;EACtF,MAAM;IAAE8sD,QAAQ;IAAEC;EAAc,CAAC,GAAGqD,iBAAiB,CAACD,kBAAkB,CAAC;EACzE,IAAIE,aAAa,GAAGzC,WAAW,CAACsC,kBAAkB,CAAClmC,SAAS,EAAEhB,WAAW,EAAEhpB,OAAO,CAAC,EAAEgpB,WAAW,EAAEhpB,OAAO,EAAE,KAAK,EAAE8sD,QAAQ,EAAEC,aAAa,CAAC;EAC1I,OAAOlB,eAAe,CAACwE,aAAa,EAAExoC,WAAW,EAAE7nB,OAAO,CAAC;AAC/D;AACA,SAASkwD,kBAAkBA,CAAClmC,SAAS,EAAEhB,WAAW,EAAEhpB,OAAO,EAAE;EACzD,IAAIswD,gBAAgB,GAAGtwD,OAAO,CAAC5G,OAAO,CAACsjD,kBAAkB;EACzD,IAAI6T,mBAAmB,GAAGvnC,WAAW,GAAGA,WAAW,CAAC0zB,kBAAkB,GAAG,IAAI;EAC7E,IAAI6T,mBAAmB,EAAE;IACrBvmC,SAAS,GAAGwmC,qBAAqB,CAACxmC,SAAS,EAAEumC,mBAAmB,CAAC;EACrE;EACA,IAAID,gBAAgB,EAAE;IAClBtmC,SAAS,GAAGwmC,qBAAqB,CAACxmC,SAAS,EAAEsmC,gBAAgB,CAAC;EAClE;EACA,OAAOtmC,SAAS;AACpB;AACA,SAASwmC,qBAAqBA,CAACxmC,SAAS,EAAE7c,IAAI,EAAE;EAC5C,IAAIsjD,aAAa;EACjB,IAAI,CAACtjD,IAAI,EAAE;IACPsjD,aAAa,GAAGzmC,SAAS;EAC7B,CAAC,MACI;IACDymC,aAAa,GAAG,EAAE;IAClB,KAAK,IAAI5C,QAAQ,IAAI7jC,SAAS,EAAE;MAC5B,IAAI0mC,YAAY,GAAGvjD,IAAI,CAAC0gD,QAAQ,CAAC;MACjC,IAAI6C,YAAY,EAAE;QACdD,aAAa,CAACvxD,IAAI,CAACwxD,YAAY,CAAC;MACpC,CAAC,MACI,IAAIA,YAAY,IAAI,IAAI,EAAE;QAC3BD,aAAa,CAACvxD,IAAI,CAAC2uD,QAAQ,CAAC;MAChC,CAAC,CAAC;IACN;EACJ;;EACA,OAAO4C,aAAa;AACxB;AACA,SAASV,QAAQA,CAACz8B,UAAU,EAAE28B,MAAM,EAAEU,WAAW,EAAE3wD,OAAO,EAAE;EACxD,IAAI2wD,WAAW,EAAE;IACbV,MAAM,GAAGpE,eAAe,CAACoE,MAAM,EAAEU,WAAW,EAAE3wD,OAAO,CAAC;EAC1D;EACA,OAAOuuD,gBAAgB,CAACj7B,UAAU,EAAE28B,MAAM,CAAC;AAC/C;AACA,SAASp4C,qBAAqBA,CAACyb,UAAU,EAAEkC,UAAU,EAAEo7B,UAAU,EAAE;EAC/D,IAAI;IAAErwC;EAAK,CAAC,GAAG+S,UAAU;EACzB,IAAIw4B,SAAS,GAAG5+C,OAAO,CAAComB,UAAU,CAACw4B,SAAS,EAAGjrB,QAAQ,IAAK;IACxD,IAAIrgB,GAAG,GAAGD,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC;IAC9B,IAAI5b,GAAG,CAAC2lB,MAAM,EAAE;MACZ,OAAOtF,QAAQ,CAAC,CAAC;IACrB;;IACA,OAAOp/B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE4kB,QAAQ,CAAC,EAAE;MAAE9W,KAAK,EAAE;QACnD5zB,KAAK,EAAEy6D,UAAU,CAAC7pC,YAAY,CAACyO,UAAU,CAAC7G,MAAM,CAACkS,QAAQ,CAAC9W,KAAK,CAAC5zB,KAAK,EAAE0qC,QAAQ,CAACmF,cAAc,CAAC,CAAC;QAChG5vC,GAAG,EAAEw6D,UAAU,CAAC7pC,YAAY,CAACyO,UAAU,CAAC7G,MAAM,CAACkS,QAAQ,CAAC9W,KAAK,CAAC3zB,GAAG,EAAEyqC,QAAQ,CAACoF,YAAY,CAAC;MAC7F,CAAC;MAAED,cAAc,EAAE4qB,UAAU,CAACnO,gBAAgB,GAAG,IAAI,GAAG5hB,QAAQ,CAACmF,cAAc;MAAEC,YAAY,EAAE2qB,UAAU,CAACnO,gBAAgB,GAAG,IAAI,GAAG5hB,QAAQ,CAACoF;IAAa,CAAC,CAAC;EACpK,CAAC,CAAC;EACF,OAAO;IAAE1lB,IAAI;IAAEurC;EAAU,CAAC;AAC9B;AACA,SAASkE,uBAAuBA,CAAC18B,UAAU,EAAEnL,QAAQ,EAAE;EACnD,OAAO+lC,oBAAoB,CAAC56B,UAAU,EAAG44B,QAAQ,IAAKA,QAAQ,CAAC/jC,QAAQ,KAAKA,QAAQ,CAAC;AACzF;AACA;AACA,SAAS0oC,gBAAgBA,CAACv9B,UAAU,EAAEw9B,QAAQ,EAAE;EAC5C,OAAO;IACHvwC,IAAI,EAAE+S,UAAU,CAAC/S,IAAI;IACrBurC,SAAS,EAAEz1C,UAAU,CAACid,UAAU,CAACw4B,SAAS,EAAGjrB,QAAQ,IAAK,CAACiwB,QAAQ,CAACjwB,QAAQ,CAAC4qB,UAAU,CAAC;EAC5F,CAAC;AACL;AACA,SAAS2E,iBAAiBA,CAAC98B,UAAU,EAAE;EACnC,MAAM;IAAE/S,IAAI;IAAEurC;EAAU,CAAC,GAAGx4B,UAAU;EACtC,MAAMw5B,QAAQ,GAAG,CAAC,CAAC;EACnB,MAAMC,aAAa,GAAG,CAAC,CAAC;EACxB,KAAK,IAAI3wB,KAAK,IAAI7b,IAAI,EAAE;IACpB,MAAMC,GAAG,GAAGD,IAAI,CAAC6b,KAAK,CAAC;IACvB,MAAM;MAAEmxB;IAAS,CAAC,GAAG/sC,GAAG;IACxB,IAAI+sC,QAAQ,EAAE;MACVT,QAAQ,CAACS,QAAQ,CAAC,GAAGnxB,KAAK;IAC9B;EACJ;EACA,KAAK,IAAIqvB,UAAU,IAAIK,SAAS,EAAE;IAC9B,MAAMjrB,QAAQ,GAAGirB,SAAS,CAACL,UAAU,CAAC;IACtC,MAAMjrC,GAAG,GAAGD,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC;IAChC,MAAM;MAAEmxB;IAAS,CAAC,GAAG/sC,GAAG;IACxB,IAAI+sC,QAAQ,EAAE;MACVR,aAAa,CAACQ,QAAQ,CAAC,GAAG9B,UAAU;IACxC;EACJ;EACA,OAAO;IAAEqB,QAAQ;IAAEC;EAAc,CAAC;AACtC;AAEA,MAAMt1C,OAAO,CAAC;EACVtqB,WAAWA,CAAA,EAAG;IACV,IAAI,CAAC4jE,QAAQ,GAAG,CAAC,CAAC;IAClB,IAAI,CAACC,WAAW,GAAG,IAAI;EAC3B;EACAl5B,cAAcA,CAACk5B,WAAW,EAAE;IACxB,IAAI,CAACA,WAAW,GAAGA,WAAW;EAClC;EACAj5B,UAAUA,CAAC3+B,OAAO,EAAE;IAChB,IAAI,CAACA,OAAO,GAAGA,OAAO;EAC1B;EACAyK,EAAEA,CAAC/S,IAAI,EAAEmlC,OAAO,EAAE;IACdg7B,SAAS,CAAC,IAAI,CAACF,QAAQ,EAAEjgE,IAAI,EAAEmlC,OAAO,CAAC;EAC3C;EACAwvB,GAAGA,CAAC30D,IAAI,EAAEmlC,OAAO,EAAE;IACfi7B,cAAc,CAAC,IAAI,CAACH,QAAQ,EAAEjgE,IAAI,EAAEmlC,OAAO,CAAC;EAChD;EACA/C,OAAOA,CAACpiC,IAAI,EAAE,GAAG8d,IAAI,EAAE;IACnB,IAAIuiD,gBAAgB,GAAG,IAAI,CAACJ,QAAQ,CAACjgE,IAAI,CAAC,IAAI,EAAE;IAChD,IAAIsgE,aAAa,GAAG,IAAI,CAACh4D,OAAO,IAAI,IAAI,CAACA,OAAO,CAACtI,IAAI,CAAC;IACtD,IAAIigE,QAAQ,GAAG,EAAE,CAAC3nD,MAAM,CAACgoD,aAAa,IAAI,EAAE,EAAED,gBAAgB,CAAC;IAC/D,KAAK,IAAIl7B,OAAO,IAAI86B,QAAQ,EAAE;MAC1B96B,OAAO,CAACjyB,KAAK,CAAC,IAAI,CAACgtD,WAAW,EAAEpiD,IAAI,CAAC;IACzC;EACJ;EACA2kB,WAAWA,CAACziC,IAAI,EAAE;IACd,OAAOwgC,OAAO,CAAE,IAAI,CAACy/B,QAAQ,CAACjgE,IAAI,CAAC,IAAI,IAAI,CAACigE,QAAQ,CAACjgE,IAAI,CAAC,CAACyM,MAAM,IAC5D,IAAI,CAACnE,OAAO,IAAI,IAAI,CAACA,OAAO,CAACtI,IAAI,CAAE,CAAC;EAC7C;AACJ;AACA,SAASmgE,SAASA,CAACvuC,IAAI,EAAE5xB,IAAI,EAAEmlC,OAAO,EAAE;EACpC,CAACvT,IAAI,CAAC5xB,IAAI,CAAC,KAAK4xB,IAAI,CAAC5xB,IAAI,CAAC,GAAG,EAAE,CAAC,EAC3BoO,IAAI,CAAC+2B,OAAO,CAAC;AACtB;AACA,SAASi7B,cAAcA,CAACxuC,IAAI,EAAE5xB,IAAI,EAAEmlC,OAAO,EAAE;EACzC,IAAIA,OAAO,EAAE;IACT,IAAIvT,IAAI,CAAC5xB,IAAI,CAAC,EAAE;MACZ4xB,IAAI,CAAC5xB,IAAI,CAAC,GAAG4xB,IAAI,CAAC5xB,IAAI,CAAC,CAACoY,MAAM,CAAEiE,IAAI,IAAKA,IAAI,KAAK8oB,OAAO,CAAC;IAC9D;EACJ,CAAC,MACI;IACD,OAAOvT,IAAI,CAAC5xB,IAAI,CAAC,CAAC,CAAC;EACvB;AACJ;;AAEA,MAAMugE,YAAY,GAAG;EACjBvgC,SAAS,EAAE,OAAO;EAClBC,OAAO,EAAE,OAAO;EAChBF,UAAU,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAC3BvhB,OAAO,EAAE,oBAAoB;EAC7B6U,UAAU,EAAE,iBAAiB;EAC7BmoC,OAAO,EAAE,gBAAgB,CAAE;AAC/B,CAAC;AACD;AACA;AACA;AACA,SAAS/zC,kBAAkBA,CAACxL,KAAK,EAAE/M,OAAO,EAAE;EACxC,OAAO4tD,WAAW,CAAC0D,YAAY,CAACvkD,KAAK,CAAC,EAAE,IAAI,EAAE/M,OAAO,CAAC;AAC1D;AACA,SAASsxD,YAAYA,CAACvkD,KAAK,EAAE;EACzB,IAAIwkD,OAAO;EACX,IAAIxkD,KAAK,KAAK,IAAI,EAAE;IAChBwkD,OAAO,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACpB,CAAC,MACI,IAAIvuD,KAAK,CAACC,OAAO,CAAC8J,KAAK,CAAC,EAAE;IAC3B;IACAwkD,OAAO,GAAGxkD,KAAK,CAAC7D,MAAM,CAAEsoD,MAAM,IAAKA,MAAM,CAAC3gC,UAAU,CAAC;EACzD,CAAC,MACI,IAAI,OAAO9jB,KAAK,KAAK,QAAQ,IAAIA,KAAK,EAAE;IAAE;IAC3CwkD,OAAO,GAAG,CAACxkD,KAAK,CAAC;EACrB,CAAC,MACI;IAAE;IACHwkD,OAAO,GAAG,EAAE;EAChB;EACAA,OAAO,GAAGA,OAAO,CAACp0D,GAAG,CAAEq0D,MAAM,IAAM/vD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEo1C,YAAY,CAAC,EAAEG,MAAM,CAAE,CAAC;EAC3F,OAAOD,OAAO;AAClB;AAEA,SAASE,iBAAiBA,CAACvmC,SAAS,EAAEwmC,GAAG,EAAE1xD,OAAO,EAAE;EAChDA,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,QAAQ,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE01C,2BAA2B,CAACzmC,SAAS,EAAElrB,OAAO,CAAC,CAAC,EAAE;IAAE8gC,OAAO,EAAE4wB,GAAG,GAAGA,GAAG,CAACE,SAAS,GAAG,IAAI;IAAEz+B,IAAI,EAAEnzB,OAAO,CAACozB,OAAO,IAAIpzB,OAAO,CAAC0pB,WAAW,CAACyJ;EAAK,CAAC,CAAC,CAAC;AACpN;AACA,SAAS0+B,mBAAmBA,CAACH,GAAG,EAAE1xD,OAAO,EAAE;EACvCA,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,UAAU,EAAE;IAChC4N,OAAO,EAAE4wB,GAAG,GAAGA,GAAG,CAACE,SAAS,GAAG,IAAI;IACnCz+B,IAAI,EAAEnzB,OAAO,CAACozB,OAAO,IAAIpzB,OAAO,CAAC0pB,WAAW,CAACyJ;EACjD,CAAC,CAAC;AACN;AACA,SAASw+B,2BAA2BA,CAACG,QAAQ,EAAE9xD,OAAO,EAAE;EACpD,IAAIlE,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,IAAI+nC,SAAS,IAAI7jC,OAAO,CAAC4pB,WAAW,CAAC9K,kBAAkB,EAAE;IAC1Drd,MAAM,CAACwa,MAAM,CAACngB,KAAK,EAAE+nC,SAAS,CAACiuB,QAAQ,EAAE9xD,OAAO,CAAC,CAAC;EACtD;EACAyB,MAAM,CAACwa,MAAM,CAACngB,KAAK,EAAEi2D,gBAAgB,CAACD,QAAQ,EAAE9xD,OAAO,CAAC2mB,OAAO,CAAC,CAAC;EACjE,OAAO7qB,KAAK;AAChB;AACA;AACA;AACA,SAASk2D,kBAAkBA,CAAC7rB,MAAM,EAAET,MAAM,EAAE1lC,OAAO,EAAE;EACjD,IAAI;IAAE2mB,OAAO;IAAEvtB;EAAQ,CAAC,GAAG4G,OAAO;EAClC,IAAI5J,GAAG,GAAGsvC,MAAM;EAChB,IAAIS,MAAM,EAAE;IACR/vC,GAAG,GAAG2gB,UAAU,CAAC3gB,GAAG,CAAC;IACrBA,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACl8B,GAAG,EAAEgD,OAAO,CAAC6gD,0BAA0B,CAAC;EAC9D,CAAC,MACI;IACD7jD,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACl8B,GAAG,EAAEgD,OAAO,CAAC8gD,yBAAyB,CAAC;EAC7D;EACA,OAAO9jD,GAAG;AACd;;AAEA;AACA,SAAS67D,yBAAyBA,CAAC3+B,UAAU,EAAE4+B,eAAe,EAAEC,QAAQ,EAAEnyD,OAAO,EAAE;EAC/E,IAAIoyD,YAAY,GAAGC,eAAe,CAAC/+B,UAAU,CAAC/S,IAAI,EAAE2xC,eAAe,CAAC;EACpE,IAAIvR,IAAI,GAAGhpC,qBAAqB,CAAC,CAAC;EAClC,KAAK,IAAIykB,KAAK,IAAI9I,UAAU,CAAC/S,IAAI,EAAE;IAC/B,IAAIC,GAAG,GAAG8S,UAAU,CAAC/S,IAAI,CAAC6b,KAAK,CAAC;IAChCukB,IAAI,CAACpgC,IAAI,CAAC6b,KAAK,CAAC,GAAGk2B,uBAAuB,CAAC9xC,GAAG,EAAE4xC,YAAY,CAACh2B,KAAK,CAAC,EAAE+1B,QAAQ,EAAEnyD,OAAO,CAAC;EAC3F;EACA,KAAK,IAAIyrD,UAAU,IAAIn4B,UAAU,CAACw4B,SAAS,EAAE;IACzC,IAAIjrB,QAAQ,GAAGvN,UAAU,CAACw4B,SAAS,CAACL,UAAU,CAAC;IAC/C,IAAIjrC,GAAG,GAAGmgC,IAAI,CAACpgC,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC,CAAC,CAAC;IACrCukB,IAAI,CAACmL,SAAS,CAACL,UAAU,CAAC,GAAG8G,4BAA4B,CAAC1xB,QAAQ,EAAErgB,GAAG,EAAE4xC,YAAY,CAACvxB,QAAQ,CAACzE,KAAK,CAAC,EAAE+1B,QAAQ,EAAEnyD,OAAO,CAAC;EAC7H;EACA,OAAO2gD,IAAI;AACf;AACA,SAAS2R,uBAAuBA,CAACpG,QAAQ,EAAEsG,WAAW,EAAEL,QAAQ,EAAEnyD,OAAO,EAAE;EACvE,IAAIyyD,aAAa,GAAGN,QAAQ,CAACM,aAAa,IAAI,CAAC,CAAC;EAChD;EACA;EACA;EACA,IAAIA,aAAa,CAACnF,MAAM,IAAI,IAAI,IAC5BkF,WAAW,CAAC/1B,gBAAgB,KAC3B01B,QAAQ,CAACO,UAAU,IAAIP,QAAQ,CAACQ,QAAQ,CAAC,EAAE;IAC5CF,aAAa,CAACnF,MAAM,GAAG,IAAI,CAAC,CAAC;EACjC;;EACA,IAAIsF,IAAI,GAAGnxD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEiwC,QAAQ,CAAC,EAAEuG,aAAa,CAAC,EAAE;IAAEv2B,EAAE,EAAEz6B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEiwC,QAAQ,CAAChwB,EAAE,CAAC,EAAEu2B,aAAa,CAACv2B,EAAE;EAAE,CAAC,CAAC;EAC5J,IAAIi2B,QAAQ,CAACzF,aAAa,EAAE;IACxBkG,IAAI,CAAClG,aAAa,GAAGjrD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE22C,IAAI,CAAClG,aAAa,CAAC,EAAEyF,QAAQ,CAACzF,aAAa,CAAC;EACrG;EACA,KAAK,IAAImG,OAAO,IAAI7yD,OAAO,CAAC4pB,WAAW,CAACjL,wBAAwB,EAAE;IAC9Dk0C,OAAO,CAACD,IAAI,EAAET,QAAQ,EAAEnyD,OAAO,CAAC;EACpC;EACA,IAAI,CAAC4yD,IAAI,CAACtF,MAAM,IAAIttD,OAAO,CAAC5G,OAAO,CAACohD,kBAAkB,EAAE;IACpDoY,IAAI,CAACtF,MAAM,GAAG,IAAI;EACtB;EACA,OAAOsF,IAAI;AACf;AACA,SAASL,4BAA4BA,CAACO,aAAa,EAAE5G,QAAQ;AAAE;AAC/DsG,WAAW,EAAEL,QAAQ,EAAEnyD,OAAO,EAAE;EAC5B,IAAI;IAAE2mB;EAAQ,CAAC,GAAG3mB,OAAO;EACzB,IAAI+yD,WAAW,GAAGZ,QAAQ,CAACM,aAAa,IAAIN,QAAQ,CAACM,aAAa,CAACtsB,MAAM,KAAK,IAAI;EAClF,IAAI6sB,QAAQ,GAAGb,QAAQ,CAACM,aAAa,IAAIN,QAAQ,CAACM,aAAa,CAACnF,MAAM,KAAK,KAAK;EAChF,IAAIsF,IAAI,GAAGnxD,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE62C,aAAa,CAAC;EAC3C,IAAIC,WAAW,EAAE;IACbH,IAAI,CAAC7oC,KAAK,GAAGs/B,sBAAsB,CAACuJ,IAAI,CAAC7oC,KAAK,CAAC;EACnD;EACA,IAAIooC,QAAQ,CAACc,UAAU,IAAIT,WAAW,CAACj2B,aAAa,EAAE;IAClDq2B,IAAI,CAAC7oC,KAAK,GAAG;MACT5zB,KAAK,EAAEwwB,OAAO,CAAC2L,GAAG,CAACsgC,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,EAAEg8D,QAAQ,CAACc,UAAU,CAAC;MACzD78D,GAAG,EAAEuwB,OAAO,CAAC2L,GAAG,CAACsgC,IAAI,CAAC7oC,KAAK,CAAC3zB,GAAG,EAAE+7D,QAAQ,CAACc,UAAU;IACxD,CAAC;EACL;EACA,IAAId,QAAQ,CAACO,UAAU,IAAIF,WAAW,CAAC/1B,gBAAgB,EAAE;IACrDm2B,IAAI,CAAC7oC,KAAK,GAAG;MACT5zB,KAAK,EAAEwwB,OAAO,CAAC2L,GAAG,CAACsgC,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,EAAEg8D,QAAQ,CAACO,UAAU,CAAC;MACzDt8D,GAAG,EAAEw8D,IAAI,CAAC7oC,KAAK,CAAC3zB;IACpB,CAAC;EACL;EACA,IAAI+7D,QAAQ,CAACQ,QAAQ,IAAIH,WAAW,CAAC/1B,gBAAgB,EAAE;IACnDm2B,IAAI,CAAC7oC,KAAK,GAAG;MACT5zB,KAAK,EAAEy8D,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK;MACvBC,GAAG,EAAEuwB,OAAO,CAAC2L,GAAG,CAACsgC,IAAI,CAAC7oC,KAAK,CAAC3zB,GAAG,EAAE+7D,QAAQ,CAACQ,QAAQ;IACtD,CAAC;EACL;EACA,IAAIK,QAAQ,EAAE;IACVJ,IAAI,CAAC7oC,KAAK,GAAG;MACT5zB,KAAK,EAAEy8D,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK;MACvBC,GAAG,EAAE47D,kBAAkB,CAAC9F,QAAQ,CAAC/lB,MAAM,EAAEysB,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,EAAE6J,OAAO;IACtE,CAAC;EACL;EACA;EACA;EACA,IAAIksD,QAAQ,CAAC/lB,MAAM,EAAE;IACjBysB,IAAI,CAAC7oC,KAAK,GAAG;MACT5zB,KAAK,EAAE4gB,UAAU,CAAC67C,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,CAAC;MACnCC,GAAG,EAAE2gB,UAAU,CAAC67C,IAAI,CAAC7oC,KAAK,CAAC3zB,GAAG;IAClC,CAAC;EACL;EACA;EACA,IAAIw8D,IAAI,CAAC7oC,KAAK,CAAC3zB,GAAG,GAAGw8D,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,EAAE;IACnCy8D,IAAI,CAAC7oC,KAAK,CAAC3zB,GAAG,GAAG47D,kBAAkB,CAAC9F,QAAQ,CAAC/lB,MAAM,EAAEysB,IAAI,CAAC7oC,KAAK,CAAC5zB,KAAK,EAAE6J,OAAO,CAAC;EACnF;EACA,OAAO4yD,IAAI;AACf;AAEA,MAAMM,eAAe,CAAC;EAClB/lE,WAAWA,CAAC6S,OAAO,EAAEmzD,mBAAmB,EAAE;IACtC,IAAI,CAACnzD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACmzD,mBAAmB,GAAGA,mBAAmB;EAClD;EACA/tB,MAAMA,CAAA,EAAG;IACL,IAAI,CAACplC,OAAO,CAACoqB,QAAQ,CAAC;MAClBt5B,IAAI,EAAE,qBAAqB;MAC3Bq3B,QAAQ,EAAE,IAAI,CAACgrC,mBAAmB,CAAChrC;IACvC,CAAC,CAAC;EACN;EACAirC,OAAOA,CAAA,EAAG;IACN,IAAI,CAACpzD,OAAO,CAACoqB,QAAQ,CAAC;MAClBt5B,IAAI,EAAE,qBAAqB;MAC3Bw3B,SAAS,EAAE,CAAC,IAAI,CAAC6qC,mBAAmB,CAAChrC,QAAQ,CAAC;MAC9CK,SAAS,EAAE;IACf,CAAC,CAAC;EACN;EACA,IAAI7U,EAAEA,CAAA,EAAG;IACL,OAAO,IAAI,CAACw/C,mBAAmB,CAAC5F,QAAQ;EAC5C;EACA,IAAIn8D,GAAGA,CAAA,EAAG;IACN,OAAO,IAAI,CAAC+hE,mBAAmB,CAAC7jC,IAAI,CAACl+B,GAAG;EAC5C;EACA,IAAI++B,MAAMA,CAAA,EAAG;IACT,OAAO,IAAI,CAACgjC,mBAAmB,CAAC7jC,IAAI,CAACa,MAAM,CAAC,CAAC;EACjD;AACJ;;AAEA,MAAMvX,SAAS,CAAC;EACZ;EACA;EACAzrB,WAAWA,CAAC6S,OAAO,EAAEwgB,GAAG,EAAEqgB,QAAQ,EAAE;IAChC,IAAI,CAACwyB,QAAQ,GAAGrzD,OAAO;IACvB,IAAI,CAACszD,IAAI,GAAG9yC,GAAG;IACf,IAAI,CAAC+yC,SAAS,GAAG1yB,QAAQ,IAAI,IAAI;EACrC;EACA;AACJ;AACA;EACI2yB,OAAOA,CAACn3D,IAAI,EAAEstC,GAAG,EAAE;IACf,IAAIttC,IAAI,IAAImwD,mBAAmB,EAAE;MAC7B5rC,OAAO,CAACC,IAAI,CAAC,wFAAwF,CAAC;MACtG;IACJ,CAAC,MACI,IAAIxkB,IAAI,KAAK,IAAI,EAAE;MACpBstC,GAAG,GAAG0iB,uBAAuB,CAAChwD,IAAI,CAAC,CAACstC,GAAG,CAAC;MACxC,IAAI,CAAC8pB,MAAM,CAAC;QACRhB,aAAa,EAAE;UAAElF,QAAQ,EAAE5jB;QAAI,CAAC,CAAE;MACtC,CAAC,CAAC;IACN,CAAC,MACI,IAAIttC,IAAI,IAAIgwD,uBAAuB,EAAE;MACtC1iB,GAAG,GAAG0iB,uBAAuB,CAAChwD,IAAI,CAAC,CAACstC,GAAG,CAAC;MACxC,IAAI,CAAC8pB,MAAM,CAAC;QACRhB,aAAa,EAAE;UAAE,CAACp2D,IAAI,GAAGstC;QAAI;MACjC,CAAC,CAAC;IACN,CAAC,MACI,IAAIttC,IAAI,IAAImxD,iBAAiB,EAAE;MAChC,IAAItxB,EAAE,GAAGsxB,iBAAiB,CAACnxD,IAAI,CAAC,CAACstC,GAAG,CAAC;MACrC,IAAIttC,IAAI,KAAK,OAAO,EAAE;QAClB6/B,EAAE,GAAG;UAAE7lC,eAAe,EAAEszC,GAAG;UAAErzC,WAAW,EAAEqzC;QAAI,CAAC;MACnD,CAAC,MACI,IAAIttC,IAAI,KAAK,UAAU,EAAE;QAC1B6/B,EAAE,GAAG;UAAEK,aAAa,EAAEoN,GAAG;UAAElN,gBAAgB,EAAEkN;QAAI,CAAC;MACtD,CAAC,MACI;QACDzN,EAAE,GAAG;UAAE,CAAC7/B,IAAI,GAAGstC;QAAI,CAAC;MACxB;MACA,IAAI,CAAC8pB,MAAM,CAAC;QACRhB,aAAa,EAAE;UAAEv2B;QAAG;MACxB,CAAC,CAAC;IACN,CAAC,MACI;MACDtb,OAAO,CAACC,IAAI,CAAE,uBAAsBxkB,IAAK,iCAAgC,CAAC;IAC9E;EACJ;EACAq3D,eAAeA,CAACr3D,IAAI,EAAEstC,GAAG,EAAE;IACvB,IAAI,CAAC8pB,MAAM,CAAC;MACR/G,aAAa,EAAE;QAAE,CAACrwD,IAAI,GAAGstC;MAAI;IACjC,CAAC,CAAC;EACN;EACAgqB,QAAQA,CAAC/tB,UAAU,EAAExsC,OAAO,GAAG,CAAC,CAAC,EAAE;IAC/B,IAAI;MAAEutB;IAAQ,CAAC,GAAG,IAAI,CAAC0sC,QAAQ;IAC/B,IAAIl9D,KAAK,GAAGwwB,OAAO,CAACI,YAAY,CAAC6e,UAAU,CAAC;IAC5C,IAAIzvC,KAAK,IAAI,IAAI,CAACo9D,SAAS,EAAE;MAAE;MAC3B,IAAIK,aAAa,GAAG,IAAI,CAACL,SAAS,CAACxpC,KAAK;MACxC,IAAI2oC,UAAU,GAAG/I,SAAS,CAACiK,aAAa,CAACz9D,KAAK,EAAEA,KAAK,EAAEwwB,OAAO,EAAEvtB,OAAO,CAACy6D,WAAW,CAAC,CAAC,CAAC;MACtF,IAAIz6D,OAAO,CAAC06D,gBAAgB,EAAE;QAC1B,IAAI,CAACL,MAAM,CAAC;UAAER,UAAU,EAAEP;QAAW,CAAC,CAAC;MAC3C,CAAC,MACI;QACD,IAAI,CAACe,MAAM,CAAC;UAAEf;QAAW,CAAC,CAAC;MAC/B;IACJ;EACJ;EACAqB,MAAMA,CAACluB,QAAQ,EAAEzsC,OAAO,GAAG,CAAC,CAAC,EAAE;IAC3B,IAAI;MAAEutB;IAAQ,CAAC,GAAG,IAAI,CAAC0sC,QAAQ;IAC/B,IAAIj9D,GAAG;IACP,IAAIyvC,QAAQ,IAAI,IAAI,EAAE;MAClBzvC,GAAG,GAAGuwB,OAAO,CAACI,YAAY,CAAC8e,QAAQ,CAAC;MACpC,IAAI,CAACzvC,GAAG,EAAE;QACN,OAAO,CAAC;MACZ;IACJ;;IACA,IAAI,IAAI,CAACm9D,SAAS,EAAE;MAChB,IAAIn9D,GAAG,EAAE;QACL,IAAIu8D,QAAQ,GAAGhJ,SAAS,CAAC,IAAI,CAAC4J,SAAS,CAACxpC,KAAK,CAAC3zB,GAAG,EAAEA,GAAG,EAAEuwB,OAAO,EAAEvtB,OAAO,CAACy6D,WAAW,CAAC;QACrF,IAAI,CAACJ,MAAM,CAAC;UAAEd;QAAS,CAAC,CAAC;MAC7B,CAAC,MACI;QACD,IAAI,CAACc,MAAM,CAAC;UAAEhB,aAAa,EAAE;YAAEnF,MAAM,EAAE;UAAM;QAAE,CAAC,CAAC;MACrD;IACJ;EACJ;EACA0G,QAAQA,CAACpuB,UAAU,EAAEC,QAAQ,EAAEzsC,OAAO,GAAG,CAAC,CAAC,EAAE;IACzC,IAAI;MAAEutB;IAAQ,CAAC,GAAG,IAAI,CAAC0sC,QAAQ;IAC/B,IAAIZ,aAAa,GAAG;MAAEtsB,MAAM,EAAE/sC,OAAO,CAAC+sC;IAAO,CAAC;IAC9C,IAAIhwC,KAAK,GAAGwwB,OAAO,CAACI,YAAY,CAAC6e,UAAU,CAAC;IAC5C,IAAIxvC,GAAG;IACP,IAAI,CAACD,KAAK,EAAE;MACR,OAAO,CAAC;IACZ;;IACA,IAAI0vC,QAAQ,IAAI,IAAI,EAAE;MAClBzvC,GAAG,GAAGuwB,OAAO,CAACI,YAAY,CAAC8e,QAAQ,CAAC;MACpC,IAAI,CAACzvC,GAAG,EAAE;QAAE;QACR;MACJ;IACJ;IACA,IAAI,IAAI,CAACm9D,SAAS,EAAE;MAChB,IAAIK,aAAa,GAAG,IAAI,CAACL,SAAS,CAACxpC,KAAK;MACxC;MACA;MACA,IAAI3wB,OAAO,CAAC+sC,MAAM,KAAK,IAAI,EAAE;QACzBytB,aAAa,GAAGvK,sBAAsB,CAACuK,aAAa,CAAC;MACzD;MACA,IAAIlB,UAAU,GAAG/I,SAAS,CAACiK,aAAa,CAACz9D,KAAK,EAAEA,KAAK,EAAEwwB,OAAO,EAAEvtB,OAAO,CAACy6D,WAAW,CAAC;MACpF,IAAIz9D,GAAG,EAAE;QACL,IAAIu8D,QAAQ,GAAGhJ,SAAS,CAACiK,aAAa,CAACx9D,GAAG,EAAEA,GAAG,EAAEuwB,OAAO,EAAEvtB,OAAO,CAACy6D,WAAW,CAAC;QAC9E,IAAI/kB,cAAc,CAAC4jB,UAAU,EAAEC,QAAQ,CAAC,EAAE;UACtC,IAAI,CAACc,MAAM,CAAC;YAAER,UAAU,EAAEP,UAAU;YAAED;UAAc,CAAC,CAAC;QAC1D,CAAC,MACI;UACD,IAAI,CAACgB,MAAM,CAAC;YAAEf,UAAU;YAAEC,QAAQ;YAAEF;UAAc,CAAC,CAAC;QACxD;MACJ,CAAC,MACI;QAAE;QACHA,aAAa,CAACnF,MAAM,GAAG,KAAK;QAC5B,IAAI,CAACmG,MAAM,CAAC;UAAER,UAAU,EAAEP,UAAU;UAAED;QAAc,CAAC,CAAC;MAC1D;IACJ;EACJ;EACAwB,SAASA,CAACC,UAAU,EAAE;IAClB,IAAIC,KAAK,GAAGj+C,cAAc,CAACg+C,UAAU,CAAC;IACtC,IAAIC,KAAK,EAAE;MAAE;MACT,IAAI,CAACV,MAAM,CAAC;QAAEf,UAAU,EAAEyB;MAAM,CAAC,CAAC;IACtC;EACJ;EACAC,OAAOA,CAACF,UAAU,EAAE;IAChB,IAAIC,KAAK,GAAGj+C,cAAc,CAACg+C,UAAU,CAAC;IACtC,IAAIC,KAAK,EAAE;MAAE;MACT,IAAI,CAACV,MAAM,CAAC;QAAEd,QAAQ,EAAEwB;MAAM,CAAC,CAAC;IACpC;EACJ;EACAE,SAASA,CAACH,UAAU,EAAE;IAClB,IAAIC,KAAK,GAAGj+C,cAAc,CAACg+C,UAAU,CAAC;IACtC,IAAIC,KAAK,EAAE;MAAE;MACT,IAAI,CAACV,MAAM,CAAC;QAAER,UAAU,EAAEkB;MAAM,CAAC,CAAC;IACtC;EACJ;EACAG,SAASA,CAACnuB,MAAM,EAAE/sC,OAAO,GAAG,CAAC,CAAC,EAAE;IAC5B,IAAIq5D,aAAa,GAAG;MAAEtsB;IAAO,CAAC;IAC9B,IAAI;MAAE2tB;IAAiB,CAAC,GAAG16D,OAAO;IAClC,IAAI06D,gBAAgB,IAAI,IAAI,EAAE;MAC1BA,gBAAgB,GAAG,IAAI,CAACT,QAAQ,CAACj6D,OAAO,CAAC4iD,sBAAsB;IACnE;IACA,IAAI,IAAI,CAACsX,IAAI,CAACntB,MAAM,KAAKA,MAAM,EAAE;MAC7BssB,aAAa,CAACnF,MAAM,GAAGwG,gBAAgB;IAC3C;IACA,IAAI,CAACL,MAAM,CAAC;MAAEhB;IAAc,CAAC,CAAC;EAClC;EACA99B,WAAWA,CAAC4/B,WAAW,EAAE;IACrB,IAAI;MAAE5tC;IAAQ,CAAC,GAAG,IAAI,CAAC0sC,QAAQ;IAC/B,IAAIxyB,QAAQ,GAAG,IAAI,CAAC0yB,SAAS;IAC7B,IAAIhuB,SAAS,GAAGnuB,eAAe,CAACm9C,WAAW,CAAC;IAC5C,IAAI,IAAI,CAACjB,IAAI,CAAChG,MAAM,EAAE;MAClB,OAAO3mC,OAAO,CAACgO,WAAW,CAACkM,QAAQ,CAAC9W,KAAK,CAAC5zB,KAAK,EAAE0qC,QAAQ,CAAC9W,KAAK,CAAC3zB,GAAG,EAAEmvC,SAAS,EAAE;QAC5ES,cAAc,EAAEnF,QAAQ,CAACmF,cAAc;QACvCC,YAAY,EAAEpF,QAAQ,CAACoF;MAC3B,CAAC,CAAC;IACN;IACA,OAAOtf,OAAO,CAACwJ,MAAM,CAAC0Q,QAAQ,CAAC9W,KAAK,CAAC5zB,KAAK,EAAEovC,SAAS,EAAE;MACnDI,SAAS,EAAE9E,QAAQ,CAACmF;IACxB,CAAC,CAAC;EACN;EACAytB,MAAMA,CAACtB,QAAQ,EAAE;IACb,IAAItxB,QAAQ,GAAG,IAAI,CAAC0yB,SAAS;IAC7B,IAAI1yB,QAAQ,EAAE;MACV,IAAIrgB,GAAG,GAAG,IAAI,CAAC8yC,IAAI;MACnB,IAAItzD,OAAO,GAAG,IAAI,CAACqzD,QAAQ;MAC3B,IAAI;QAAE//B;MAAW,CAAC,GAAGtzB,OAAO,CAACwuB,cAAc,CAAC,CAAC;MAC7C,IAAIgmC,cAAc,GAAGxG,iBAAiB,CAAC16B,UAAU,EAAEuN,QAAQ,CAAC4qB,UAAU,CAAC;MACvE,IAAIyG,eAAe,GAAG;QAClB,EAAE,EAAE;UACA5iD,OAAO,EAAE,EAAE;UACXitB,aAAa,EAAE,IAAI;UACnBE,gBAAgB,EAAE,IAAI;UACtByyB,WAAW,EAAE,EAAE;UACfryB,OAAO,EAAE,IAAI;UACbsyB,MAAM,EAAE,EAAE;UACV94D,eAAe,EAAE,EAAE;UACnBC,WAAW,EAAE,EAAE;UACf6mC,SAAS,EAAE,EAAE;UACbhZ,UAAU,EAAE;QAChB;MACJ,CAAC;MACDqwC,cAAc,GAAGvC,yBAAyB,CAACuC,cAAc,EAAEtC,eAAe,EAAEC,QAAQ,EAAEnyD,OAAO,CAAC;MAC9F,IAAIy0D,QAAQ,GAAG,IAAI77C,SAAS,CAAC5Y,OAAO,EAAEwgB,GAAG,EAAEqgB,QAAQ,CAAC,CAAC,CAAC;MACtD,IAAI,CAACyyB,IAAI,GAAGkB,cAAc,CAACj0C,IAAI,CAACC,GAAG,CAAC4b,KAAK,CAAC;MAC1C,IAAI,CAACm3B,SAAS,GAAGiB,cAAc,CAAC1I,SAAS,CAACjrB,QAAQ,CAAC4qB,UAAU,CAAC;MAC9DzrD,OAAO,CAACoqB,QAAQ,CAAC;QACbt5B,IAAI,EAAE,cAAc;QACpBwiC,UAAU,EAAEkhC;MAChB,CAAC,CAAC;MACFx0D,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,aAAa,EAAE;QACnCuhC,QAAQ;QACRt8D,KAAK,EAAE,IAAI;QACXu8D,aAAa,EAAEx9C,cAAc,CAACs9C,cAAc,EAAEx0D,OAAO,EAAE6gC,QAAQ,CAAC;QAChE8zB,MAAMA,CAAA,EAAG;UACL30D,OAAO,CAACoqB,QAAQ,CAAC;YACbt5B,IAAI,EAAE,cAAc;YACpBwiC,UAAU,CAAE;UAChB,CAAC,CAAC;QACN;MACJ,CAAC,CAAC;IACN;EACJ;;EACA8R,MAAMA,CAAA,EAAG;IACL,IAAIplC,OAAO,GAAG,IAAI,CAACqzD,QAAQ;IAC3B,IAAIuB,OAAO,GAAGC,eAAe,CAAC,IAAI,CAAC;IACnC70D,OAAO,CAACoqB,QAAQ,CAAC;MACbt5B,IAAI,EAAE,eAAe;MACrBwiC,UAAU,EAAEshC;IAChB,CAAC,CAAC;IACF50D,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,aAAa,EAAE;MACnC/6B,KAAK,EAAE,IAAI;MACXu8D,aAAa,EAAE,EAAE;MACjBC,MAAMA,CAAA,EAAG;QACL30D,OAAO,CAACoqB,QAAQ,CAAC;UACbt5B,IAAI,EAAE,cAAc;UACpBwiC,UAAU,EAAEshC;QAChB,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;EACA,IAAIpnD,MAAMA,CAAA,EAAG;IACT,IAAI;MAAE2a;IAAS,CAAC,GAAG,IAAI,CAACmrC,IAAI;IAC5B,IAAInrC,QAAQ,EAAE;MACV,OAAO,IAAI+qC,eAAe,CAAC,IAAI,CAACG,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAAC7kC,cAAc,CAAC,CAAC,CAAC9hB,YAAY,CAACyb,QAAQ,CAAC,CAAC;IACpG;IACA,OAAO,IAAI;EACf;EACA,IAAIhyB,KAAKA,CAAA,EAAG;IACR,OAAO,IAAI,CAACo9D,SAAS,GACjB,IAAI,CAACF,QAAQ,CAAC1sC,OAAO,CAACgI,MAAM,CAAC,IAAI,CAAC4kC,SAAS,CAACxpC,KAAK,CAAC5zB,KAAK,CAAC,GACxD,IAAI;EACZ;EACA,IAAIC,GAAGA,CAAA,EAAG;IACN,OAAQ,IAAI,CAACm9D,SAAS,IAAI,IAAI,CAACD,IAAI,CAAChG,MAAM,GACtC,IAAI,CAAC+F,QAAQ,CAAC1sC,OAAO,CAACgI,MAAM,CAAC,IAAI,CAAC4kC,SAAS,CAACxpC,KAAK,CAAC3zB,GAAG,CAAC,GACtD,IAAI;EACZ;EACA,IAAI0+D,QAAQA,CAAA,EAAG;IACX,IAAIj0B,QAAQ,GAAG,IAAI,CAAC0yB,SAAS;IAC7B,IAAI1yB,QAAQ,EAAE;MACV,OAAO,IAAI,CAACwyB,QAAQ,CAAC1sC,OAAO,CAAC+J,SAAS,CAACmQ,QAAQ,CAAC9W,KAAK,CAAC5zB,KAAK,EAAE;QACzD4tD,QAAQ,EAAE,IAAI,CAACuP,IAAI,CAACntB,MAAM;QAC1BR,SAAS,EAAE9E,QAAQ,CAACmF;MACxB,CAAC,CAAC;IACN;IACA,OAAO,EAAE;EACb;EACA,IAAI+uB,MAAMA,CAAA,EAAG;IACT,IAAIl0B,QAAQ,GAAG,IAAI,CAAC0yB,SAAS;IAC7B,IAAI1yB,QAAQ,IAAI,IAAI,CAACyyB,IAAI,CAAChG,MAAM,EAAE;MAC9B,OAAO,IAAI,CAAC+F,QAAQ,CAAC1sC,OAAO,CAAC+J,SAAS,CAACmQ,QAAQ,CAAC9W,KAAK,CAAC3zB,GAAG,EAAE;QACvD2tD,QAAQ,EAAE,IAAI,CAACuP,IAAI,CAACntB,MAAM;QAC1BR,SAAS,EAAE9E,QAAQ,CAACoF;MACxB,CAAC,CAAC;IACN;IACA,OAAO,EAAE;EACb;EACA;EACA;EACA,IAAItyB,EAAEA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC2/C,IAAI,CAAC/F,QAAQ;EAAE;EACtC,IAAIjB,OAAOA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACgH,IAAI,CAAChH,OAAO;EAAE;EAC1C,IAAInmB,MAAMA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACmtB,IAAI,CAACntB,MAAM;EAAE;EACxC,IAAI/4C,KAAKA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACkmE,IAAI,CAAClmE,KAAK;EAAE;EACtC,IAAIgE,GAAGA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACkiE,IAAI,CAACliE,GAAG;EAAE;EAClC,IAAIke,OAAOA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACgkD,IAAI,CAACp3B,EAAE,CAAC5sB,OAAO,IAAI,MAAM;EAAE,CAAC,CAAC;EACzD,IAAIitB,aAAaA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC+2B,IAAI,CAACp3B,EAAE,CAACK,aAAa;EAAE;EACzD,IAAIE,gBAAgBA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC62B,IAAI,CAACp3B,EAAE,CAACO,gBAAgB;EAAE;EAC/D,IAAIE,UAAUA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC22B,IAAI,CAACp3B,EAAE,CAACgzB,WAAW,CAAC,CAAC,CAAC,IAAI,IAAI;EAAE;EAC/D,IAAIryB,OAAOA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACy2B,IAAI,CAACp3B,EAAE,CAACW,OAAO;EAAE;EAC7C,IAAIE,KAAKA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACu2B,IAAI,CAACp3B,EAAE,CAACizB,MAAM,CAAC,CAAC,CAAC,IAAI,IAAI;EAAE;EACrD,IAAI94D,eAAeA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACi9D,IAAI,CAACp3B,EAAE,CAAC7lC,eAAe;EAAE;EAC7D,IAAIC,WAAWA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACg9D,IAAI,CAACp3B,EAAE,CAAC5lC,WAAW;EAAE;EACrD,IAAI6mC,SAASA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACm2B,IAAI,CAACp3B,EAAE,CAACiB,SAAS;EAAE;EACjD;EACA,IAAIhZ,UAAUA,CAAA,EAAG;IAAE,OAAO,IAAI,CAACmvC,IAAI,CAACp3B,EAAE,CAAC/X,UAAU;EAAE;EACnD,IAAIuoC,aAAaA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC4G,IAAI,CAAC5G,aAAa;EAAE;EACtDsI,aAAaA,CAAC50B,QAAQ,GAAG,CAAC,CAAC,EAAE;IACzB,IAAI5f,GAAG,GAAG,IAAI,CAAC8yC,IAAI;IACnB,IAAI;MAAEp3B;IAAG,CAAC,GAAG1b,GAAG;IAChB,IAAI;MAAEs0C,QAAQ;MAAEC;IAAO,CAAC,GAAG,IAAI;IAC/B,IAAI3uC,GAAG,GAAG;MACN+f,MAAM,EAAE3lB,GAAG,CAAC2lB;IAChB,CAAC;IACD,IAAI3lB,GAAG,CAACpzB,KAAK,EAAE;MACXg5B,GAAG,CAACh5B,KAAK,GAAGozB,GAAG,CAACpzB,KAAK;IACzB;IACA,IAAI0nE,QAAQ,EAAE;MACV1uC,GAAG,CAACjwB,KAAK,GAAG2+D,QAAQ;IACxB;IACA,IAAIC,MAAM,EAAE;MACR3uC,GAAG,CAAChwB,GAAG,GAAG2+D,MAAM;IACpB;IACA,IAAIv0C,GAAG,CAAC+sC,QAAQ,EAAE;MACdnnC,GAAG,CAACzS,EAAE,GAAG6M,GAAG,CAAC+sC,QAAQ;IACzB;IACA,IAAI/sC,GAAG,CAAC8rC,OAAO,EAAE;MACblmC,GAAG,CAACkmC,OAAO,GAAG9rC,GAAG,CAAC8rC,OAAO;IAC7B;IACA,IAAI9rC,GAAG,CAACpvB,GAAG,EAAE;MACTg1B,GAAG,CAACh1B,GAAG,GAAGovB,GAAG,CAACpvB,GAAG;IACrB;IACA,IAAI8qC,EAAE,CAAC5sB,OAAO,IAAI4sB,EAAE,CAAC5sB,OAAO,KAAK,MAAM,EAAE;MACrC8W,GAAG,CAAC9W,OAAO,GAAG4sB,EAAE,CAAC5sB,OAAO;IAC5B;IACA;IACA;IACA,IAAI8wB,QAAQ,CAAC60B,aAAa,IAAI/4B,EAAE,CAAC7lC,eAAe,IAAI6lC,EAAE,CAAC7lC,eAAe,KAAK6lC,EAAE,CAAC5lC,WAAW,EAAE;MACvF8vB,GAAG,CAAC7vB,KAAK,GAAG2lC,EAAE,CAAC7lC,eAAe;IAClC,CAAC,MACI;MACD,IAAI6lC,EAAE,CAAC7lC,eAAe,EAAE;QACpB+vB,GAAG,CAAC/vB,eAAe,GAAG6lC,EAAE,CAAC7lC,eAAe;MAC5C;MACA,IAAI6lC,EAAE,CAAC5lC,WAAW,EAAE;QAChB8vB,GAAG,CAAC9vB,WAAW,GAAG4lC,EAAE,CAAC5lC,WAAW;MACpC;IACJ;IACA,IAAI4lC,EAAE,CAACiB,SAAS,EAAE;MACd/W,GAAG,CAAC+W,SAAS,GAAGjB,EAAE,CAACiB,SAAS;IAChC;IACA,IAAIjB,EAAE,CAAC/X,UAAU,CAAC5mB,MAAM,EAAE;MACtB6oB,GAAG,CAACjC,UAAU,GAAG+X,EAAE,CAAC/X,UAAU;IAClC;IACA,IAAI1iB,MAAM,CAAC6L,IAAI,CAACkT,GAAG,CAACksC,aAAa,CAAC,CAACnvD,MAAM,EAAE;MACvC,IAAI6iC,QAAQ,CAAC80B,qBAAqB,EAAE;QAChCzzD,MAAM,CAACwa,MAAM,CAACmK,GAAG,EAAE5F,GAAG,CAACksC,aAAa,CAAC;MACzC,CAAC,MACI;QACDtmC,GAAG,CAACsmC,aAAa,GAAGlsC,GAAG,CAACksC,aAAa;MACzC;IACJ;IACA,OAAOtmC,GAAG;EACd;EACA+uC,MAAMA,CAAA,EAAG;IACL,OAAO,IAAI,CAACH,aAAa,CAAC,CAAC;EAC/B;AACJ;AACA,SAASH,eAAeA,CAACO,QAAQ,EAAE;EAC/B,IAAI50C,GAAG,GAAG40C,QAAQ,CAAC9B,IAAI;EACvB,IAAIzyB,QAAQ,GAAGu0B,QAAQ,CAAC7B,SAAS;EACjC,OAAO;IACHhzC,IAAI,EAAE;MAAE,CAACC,GAAG,CAAC4b,KAAK,GAAG5b;IAAI,CAAC;IAC1BsrC,SAAS,EAAEjrB,QAAQ,GACb;MAAE,CAACA,QAAQ,CAAC4qB,UAAU,GAAG5qB;IAAS,CAAC,GACnC,CAAC;EACX,CAAC;AACL;AACA,SAAS3pB,cAAcA,CAACoc,UAAU,EAAEtzB,OAAO,EAAEq1D,eAAe,EAAE;EAC1D,IAAI;IAAE90C,IAAI;IAAEurC;EAAU,CAAC,GAAGx4B,UAAU;EACpC,IAAIgiC,SAAS,GAAG,EAAE;EAClB,IAAIC,iBAAiB,GAAGF,eAAe,GAAGA,eAAe,CAAC5J,UAAU,GAAG,EAAE;EACzE,KAAK,IAAI93C,EAAE,IAAIm4C,SAAS,EAAE;IACtB,IAAIjrB,QAAQ,GAAGirB,SAAS,CAACn4C,EAAE,CAAC;IAC5B,IAAI6M,GAAG,GAAGD,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC;IAC9B,IAAIyE,QAAQ,CAAC4qB,UAAU,KAAK8J,iBAAiB,EAAE;MAC3CD,SAAS,CAACp2D,IAAI,CAAC,IAAI0Z,SAAS,CAAC5Y,OAAO,EAAEwgB,GAAG,EAAEqgB,QAAQ,CAAC,CAAC;IACzD;EACJ;EACA,OAAOy0B,SAAS;AACpB;;AAEA;AACA;AACA;AACA,SAASh7C,eAAeA,CAACgZ,UAAU,EAAE8E,YAAY,EAAE3G,YAAY,EAAE1N,gBAAgB,EAAE;EAC/E,IAAIyxC,kBAAkB,GAAG,CAAC,CAAC;EAC3B,IAAIC,gBAAgB,GAAG,CAAC,CAAC;EACzB,IAAIC,YAAY,GAAG,CAAC,CAAC;EACrB,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAIC,QAAQ,GAAG,EAAE;EACjB,IAAIC,QAAQ,GAAGxD,eAAe,CAAC/+B,UAAU,CAAC/S,IAAI,EAAE6X,YAAY,CAAC;EAC7D,KAAK,IAAIgE,KAAK,IAAI9I,UAAU,CAAC/S,IAAI,EAAE;IAC/B,IAAIC,GAAG,GAAG8S,UAAU,CAAC/S,IAAI,CAAC6b,KAAK,CAAC;IAChC,IAAIF,EAAE,GAAG25B,QAAQ,CAACr1C,GAAG,CAAC4b,KAAK,CAAC;IAC5B,IAAIF,EAAE,CAAC5sB,OAAO,KAAK,oBAAoB,EAAE;MACrC,IAAIkR,GAAG,CAAC8rC,OAAO,EAAE;QACbkJ,kBAAkB,CAACh1C,GAAG,CAAC8rC,OAAO,CAAC,GAAG,EAAE;QACpC,IAAI,CAACoJ,YAAY,CAACl1C,GAAG,CAAC8rC,OAAO,CAAC,EAAE;UAC5BoJ,YAAY,CAACl1C,GAAG,CAAC8rC,OAAO,CAAC,GAAG9rC,GAAG;QACnC;MACJ,CAAC,MACI;QACDi1C,gBAAgB,CAACr5B,KAAK,CAAC,GAAG,EAAE;MAChC;IACJ;EACJ;EACA,KAAK,IAAIqvB,UAAU,IAAIn4B,UAAU,CAACw4B,SAAS,EAAE;IACzC,IAAIjrB,QAAQ,GAAGvN,UAAU,CAACw4B,SAAS,CAACL,UAAU,CAAC;IAC/C,IAAIjrC,GAAG,GAAG8S,UAAU,CAAC/S,IAAI,CAACsgB,QAAQ,CAACzE,KAAK,CAAC;IACzC,IAAIF,EAAE,GAAG25B,QAAQ,CAACr1C,GAAG,CAAC4b,KAAK,CAAC;IAC5B,IAAI05B,SAAS,GAAGj1B,QAAQ,CAAC9W,KAAK;IAC9B,IAAIgsC,WAAW,GAAI,CAACv1C,GAAG,CAAC2lB,MAAM,IAAIpiB,gBAAgB,GAC9CylC,sBAAsB,CAACsM,SAAS,EAAE/xC,gBAAgB,CAAC,GACnD+xC,SAAS;IACb,IAAIE,WAAW,GAAGl/C,eAAe,CAACi/C,WAAW,EAAEtkC,YAAY,CAAC;IAC5D,IAAIukC,WAAW,EAAE;MACb,IAAI95B,EAAE,CAAC5sB,OAAO,KAAK,oBAAoB,EAAE;QACrC,IAAIkR,GAAG,CAAC8rC,OAAO,EAAE;UACbkJ,kBAAkB,CAACh1C,GAAG,CAAC8rC,OAAO,CAAC,CAACptD,IAAI,CAAC82D,WAAW,CAAC;QACrD,CAAC,MACI;UACDP,gBAAgB,CAAC50B,QAAQ,CAACzE,KAAK,CAAC,CAACl9B,IAAI,CAAC82D,WAAW,CAAC;QACtD;MACJ,CAAC,MACI,IAAI95B,EAAE,CAAC5sB,OAAO,KAAK,MAAM,EAAE;QAC5B,CAAC4sB,EAAE,CAAC5sB,OAAO,KAAK,YAAY,GAAGqmD,QAAQ,GAAGC,QAAQ,EAAE12D,IAAI,CAAC;UACrDshB,GAAG;UACH0b,EAAE;UACF2E,QAAQ;UACR9W,KAAK,EAAEisC,WAAW;UAClBC,OAAO,EAAEF,WAAW,CAAC5/D,KAAK,IAAI4/D,WAAW,CAAC5/D,KAAK,CAAC8W,OAAO,CAAC,CAAC,KAAK+oD,WAAW,CAAC7/D,KAAK,CAAC8W,OAAO,CAAC,CAAC;UACzFipD,KAAK,EAAEH,WAAW,CAAC3/D,GAAG,IAAI2/D,WAAW,CAAC3/D,GAAG,CAAC6W,OAAO,CAAC,CAAC,KAAK+oD,WAAW,CAAC5/D,GAAG,CAAC6W,OAAO,CAAC;QACpF,CAAC,CAAC;MACN;IACJ;EACJ;EACA,KAAK,IAAIq/C,OAAO,IAAIkJ,kBAAkB,EAAE;IAAE;IACtC,IAAIjN,MAAM,GAAGiN,kBAAkB,CAAClJ,OAAO,CAAC;IACxC,IAAI7D,cAAc,GAAGH,YAAY,CAACC,MAAM,EAAE92B,YAAY,CAAC;IACvD,KAAK,IAAI0kC,aAAa,IAAI1N,cAAc,EAAE;MACtC,IAAIjoC,GAAG,GAAGk1C,YAAY,CAACpJ,OAAO,CAAC;MAC/B,IAAIpwB,EAAE,GAAG25B,QAAQ,CAACr1C,GAAG,CAAC4b,KAAK,CAAC;MAC5Bu5B,QAAQ,CAACz2D,IAAI,CAAC;QACVshB,GAAG;QACH0b,EAAE;QACF2E,QAAQ,EAAE,IAAI;QACd9W,KAAK,EAAEosC,aAAa;QACpBF,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC,CAAC;IACN;EACJ;EACA,KAAK,IAAI95B,KAAK,IAAIq5B,gBAAgB,EAAE;IAChC,IAAIlN,MAAM,GAAGkN,gBAAgB,CAACr5B,KAAK,CAAC;IACpC,IAAIqsB,cAAc,GAAGH,YAAY,CAACC,MAAM,EAAE92B,YAAY,CAAC;IACvD,KAAK,IAAI0kC,aAAa,IAAI1N,cAAc,EAAE;MACtCkN,QAAQ,CAACz2D,IAAI,CAAC;QACVshB,GAAG,EAAE8S,UAAU,CAAC/S,IAAI,CAAC6b,KAAK,CAAC;QAC3BF,EAAE,EAAE25B,QAAQ,CAACz5B,KAAK,CAAC;QACnByE,QAAQ,EAAE,IAAI;QACd9W,KAAK,EAAEosC,aAAa;QACpBF,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE;MACX,CAAC,CAAC;IACN;EACJ;EACA,OAAO;IAAEE,EAAE,EAAET,QAAQ;IAAEvvB,EAAE,EAAEwvB;EAAS,CAAC;AACzC;AACA,SAASS,cAAcA,CAAC71C,GAAG,EAAE;EACzB,OAAOA,GAAG,CAAC0b,EAAE,CAAC5sB,OAAO,KAAK,YAAY,IAAIkR,GAAG,CAAC0b,EAAE,CAAC5sB,OAAO,KAAK,oBAAoB;AACrF;AACA,SAASgnD,QAAQA,CAACvlD,EAAE,EAAEwvB,GAAG,EAAE;EACvBxvB,EAAE,CAACwlD,KAAK,GAAGh2B,GAAG;AAClB;AACA,SAAS7nB,QAAQA,CAAC3H,EAAE,EAAE;EAClB,OAAOA,EAAE,CAACwlD,KAAK,IACXxlD,EAAE,CAAC5Q,UAAU,CAACo2D,KAAK;EAAI;EACvB,IAAI;AACZ;AACA;AACA,SAASlE,eAAeA,CAACl2B,SAAS,EAAE/D,YAAY,EAAE;EAC9C,OAAOlrB,OAAO,CAACivB,SAAS,EAAG+vB,QAAQ,IAAKsK,cAAc,CAACtK,QAAQ,EAAE9zB,YAAY,CAAC,CAAC;AACnF;AACA,SAASo+B,cAAcA,CAACtK,QAAQ,EAAE9zB,YAAY,EAAE;EAC5C,IAAIi3B,GAAG,GAAG,EAAE;EACZ,IAAIj3B,YAAY,CAAC,EAAE,CAAC,EAAE;IAClBi3B,GAAG,CAACnwD,IAAI,CAACk5B,YAAY,CAAC,EAAE,CAAC,CAAC;EAC9B;EACA,IAAIA,YAAY,CAAC8zB,QAAQ,CAAC9vB,KAAK,CAAC,EAAE;IAC9BizB,GAAG,CAACnwD,IAAI,CAACk5B,YAAY,CAAC8zB,QAAQ,CAAC9vB,KAAK,CAAC,CAAC;EAC1C;EACAizB,GAAG,CAACnwD,IAAI,CAACgtD,QAAQ,CAAChwB,EAAE,CAAC;EACrB,OAAOkzB,eAAe,CAACC,GAAG,CAAC;AAC/B;AACA,SAASoH,aAAaA,CAACC,IAAI,EAAEC,eAAe,EAAE;EAC1C,IAAIC,IAAI,GAAGF,IAAI,CAACv5D,GAAG,CAAC05D,kBAAkB,CAAC;EACvCD,IAAI,CAAC5vD,IAAI,CAAC,CAACulC,IAAI,EAAEC,IAAI,KAAKF,mBAAmB,CAACC,IAAI,EAAEC,IAAI,EAAEmqB,eAAe,CAAC,CAAC;EAC3E,OAAOC,IAAI,CAACz5D,GAAG,CAAElD,CAAC,IAAKA,CAAC,CAAC68D,IAAI,CAAC;AAClC;AACA;AACA,SAASD,kBAAkBA,CAACt2B,GAAG,EAAE;EAC7B,IAAI;IAAEK;EAAW,CAAC,GAAGL,GAAG;EACxB,IAAI2rB,QAAQ,GAAGtrB,UAAU,CAACpgB,GAAG;EAC7B,IAAIuJ,KAAK,GAAG6W,UAAU,CAACC,QAAQ,GAAGD,UAAU,CAACC,QAAQ,CAAC9W,KAAK,GAAG6W,UAAU,CAAC7W,KAAK;EAC9E,IAAI5zB,KAAK,GAAG4zB,KAAK,CAAC5zB,KAAK,GAAG4zB,KAAK,CAAC5zB,KAAK,CAAC8W,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EACrD,IAAI7W,GAAG,GAAG2zB,KAAK,CAAC3zB,GAAG,GAAG2zB,KAAK,CAAC3zB,GAAG,CAAC6W,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;EAC/C,OAAOxL,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEiwC,QAAQ,CAACQ,aAAa,CAAC,EAAER,QAAQ,CAAC,EAAE;IAAEv4C,EAAE,EAAEu4C,QAAQ,CAACqB,QAAQ;IAAEp3D,KAAK;IACnHC,GAAG;IAAE0uB,QAAQ,EAAE1uB,GAAG,GAAGD,KAAK;IAAEgwC,MAAM,EAAE8U,MAAM,CAACiR,QAAQ,CAAC/lB,MAAM,CAAC;IAAE2wB,IAAI,EAAEv2B;EAAI,CAAC,CAAC;AACjF;AACA,SAASw2B,mBAAmBA,CAACx2B,GAAG,EAAEvgC,OAAO,EAAE;EACvC,IAAI;IAAE4pB;EAAY,CAAC,GAAG5pB,OAAO;EAC7B,IAAI2jC,YAAY,GAAG/Z,WAAW,CAACnL,uBAAuB;EACtD,IAAI;IAAE+B,GAAG;IAAE0b;EAAG,CAAC,GAAGqE,GAAG,CAACK,UAAU;EAChC,IAAI+I,GAAG,GAAGzN,EAAE,CAACK,aAAa;EAC1B,KAAK,IAAIqH,WAAW,IAAID,YAAY,EAAE;IAClCgG,GAAG,GAAG/F,WAAW,CAAC+F,GAAG,EAAEnpB,GAAG,EAAE0b,EAAE,EAAEl8B,OAAO,CAAC;EAC5C;EACA,OAAO2pC,GAAG;AACd;AACA,SAASqtB,wBAAwBA,CAACz2B,GAAG,EAAEvgC,OAAO,EAAE;EAC5C,OAAOugC,GAAG,CAAC01B,OAAO,IAAI11B,GAAG,CAACK,UAAU,CAAC1E,EAAE,CAACO,gBAAgB,IAAIz8B,OAAO,CAAC5G,OAAO,CAACqjD,uBAAuB;AACvG;AACA,SAASwa,sBAAsBA,CAAC12B,GAAG,EAAEvgC,OAAO,EAAE;EAC1C,OAAOugC,GAAG,CAAC21B,KAAK,IAAI31B,GAAG,CAACK,UAAU,CAAC1E,EAAE,CAACO,gBAAgB;AAC1D;AACA,SAASy6B,gBAAgBA,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAEo3D,uBAAuB;AAAE;AAC7EC,sBAAsB;AAAE;AACxBC,aAAa,EAAEC,WAAW,EAAE;EACxB,IAAI;IAAE5wC,OAAO;IAAEvtB;EAAQ,CAAC,GAAG4G,OAAO;EAClC,IAAI;IAAEvJ,gBAAgB;IAAEC;EAAgB,CAAC,GAAG0C,OAAO;EACnD,IAAI8yD,QAAQ,GAAG3rB,GAAG,CAACK,UAAU,CAACpgB,GAAG;EACjC,IAAIsyC,aAAa,GAAGvyB,GAAG,CAACK,UAAU,CAACC,QAAQ;EAC3C,IAAIpqC,gBAAgB,IAAI,IAAI,EAAE;IAC1BA,gBAAgB,GAAG2gE,uBAAuB,KAAK,KAAK;EACxD;EACA,IAAI1gE,eAAe,IAAI,IAAI,EAAE;IACzBA,eAAe,GAAG2gE,sBAAsB,KAAK,KAAK;EACtD;EACA,IAAIG,eAAe,GAAG1E,aAAa,CAAC/oC,KAAK,CAAC5zB,KAAK;EAC/C,IAAIshE,aAAa,GAAG3E,aAAa,CAAC/oC,KAAK,CAAC3zB,GAAG;EAC3C,IAAIshE,QAAQ,GAAGJ,aAAa,IAAI/2B,GAAG,CAACpqC,KAAK,IAAIoqC,GAAG,CAACK,UAAU,CAAC7W,KAAK,CAAC5zB,KAAK;EACvE,IAAIwhE,MAAM,GAAGJ,WAAW,IAAIh3B,GAAG,CAACnqC,GAAG,IAAImqC,GAAG,CAACK,UAAU,CAAC7W,KAAK,CAAC3zB,GAAG;EAC/D,IAAIwhE,UAAU,GAAG7gD,UAAU,CAACygD,eAAe,CAAC,CAACvqD,OAAO,CAAC,CAAC,KAAK8J,UAAU,CAAC2gD,QAAQ,CAAC,CAACzqD,OAAO,CAAC,CAAC;EACzF,IAAI4qD,QAAQ,GAAG9gD,UAAU,CAACy5B,KAAK,CAACinB,aAAa,EAAE,CAAC,CAAC,CAAC,CAAC,CAACxqD,OAAO,CAAC,CAAC,KAAK8J,UAAU,CAACy5B,KAAK,CAACmnB,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC1qD,OAAO,CAAC,CAAC;EACzG,IAAIxW,gBAAgB,IAAI,CAACy1D,QAAQ,CAAC/lB,MAAM,KAAKyxB,UAAU,IAAIC,QAAQ,CAAC,EAAE;IAClEH,QAAQ,GAAGE,UAAU,GAAGJ,eAAe,GAAGE,QAAQ;IAClDC,MAAM,GAAGE,QAAQ,GAAGJ,aAAa,GAAGE,MAAM;IAC1C,IAAIjhE,eAAe,IAAIw1D,QAAQ,CAACoB,MAAM,EAAE;MACpC,OAAO3mC,OAAO,CAACgO,WAAW,CAAC+iC,QAAQ,EAAEC,MAAM,EAAER,UAAU,EAAE;QACrDnxB,cAAc,EAAEsxB,aAAa,GAAG,IAAI,GAAGxE,aAAa,CAAC9sB,cAAc;QACnEC,YAAY,EAAEsxB,WAAW,GAAG,IAAI,GAAGzE,aAAa,CAAC7sB;MACrD,CAAC,CAAC;IACN;IACA,OAAOtf,OAAO,CAACwJ,MAAM,CAACunC,QAAQ,EAAEP,UAAU,EAAE;MACxCxxB,SAAS,EAAE2xB,aAAa,GAAG,IAAI,GAAGxE,aAAa,CAAC9sB,cAAc,CAAE;IACpE,CAAC,CAAC;EACN;;EACA,OAAO,EAAE;AACb;AACA,SAAS8xB,UAAUA,CAACv3B,GAAG,EAAEw3B,UAAU,EAAE70B,OAAO,EAAE;EAC1C,IAAI80B,QAAQ,GAAGz3B,GAAG,CAACK,UAAU,CAAC7W,KAAK;EACnC,OAAO;IACHkuC,MAAM,EAAED,QAAQ,CAAC5hE,GAAG,KAAK8sC,OAAO,IAAI60B,UAAU,CAAC5hE,KAAK,CAAC;IACrD+hE,QAAQ,EAAEF,QAAQ,CAAC7hE,KAAK,KAAK+sC,OAAO,IAAI60B,UAAU,CAAC3hE,GAAG,CAAC;IACvD+hE,OAAO,EAAEJ,UAAU,IAAIrgD,mBAAmB,CAACqgD,UAAU,EAAEC,QAAQ,CAAC7hE,KAAK;EACzE,CAAC;AACL;AACA,SAASiiE,kBAAkBA,CAACt8D,KAAK,EAAE;EAC/B,IAAIqoB,UAAU,GAAG,CAAC,UAAU,CAAC;EAC7B,IAAIroB,KAAK,CAACu8D,QAAQ,EAAE;IAChBl0C,UAAU,CAACjlB,IAAI,CAAC,iBAAiB,CAAC;EACtC;EACA,IAAIpD,KAAK,CAACw8D,WAAW,EAAE;IACnBn0C,UAAU,CAACjlB,IAAI,CAAC,oBAAoB,CAAC;EACzC;EACA,IAAIpD,KAAK,CAACy8D,gBAAgB,IAAIz8D,KAAK,CAAC08D,cAAc,EAAE;IAChDr0C,UAAU,CAACjlB,IAAI,CAAC,oBAAoB,CAAC;EACzC;EACA,IAAIpD,KAAK,CAAC28D,UAAU,EAAE;IAClBt0C,UAAU,CAACjlB,IAAI,CAAC,mBAAmB,CAAC;EACxC;EACA,IAAIpD,KAAK,CAAC48D,UAAU,EAAE;IAClBv0C,UAAU,CAACjlB,IAAI,CAAC,mBAAmB,CAAC;EACxC;EACA,IAAIpD,KAAK,CAAC68D,UAAU,EAAE;IAClBx0C,UAAU,CAACjlB,IAAI,CAAC,mBAAmB,CAAC;EACxC;EACA,IAAIpD,KAAK,CAACm6D,OAAO,EAAE;IACf9xC,UAAU,CAACjlB,IAAI,CAAC,gBAAgB,CAAC;EACrC;EACA,IAAIpD,KAAK,CAACo6D,KAAK,EAAE;IACb/xC,UAAU,CAACjlB,IAAI,CAAC,cAAc,CAAC;EACnC;EACA,IAAIpD,KAAK,CAACm8D,MAAM,EAAE;IACd9zC,UAAU,CAACjlB,IAAI,CAAC,eAAe,CAAC;EACpC;EACA,IAAIpD,KAAK,CAACq8D,OAAO,EAAE;IACfh0C,UAAU,CAACjlB,IAAI,CAAC,gBAAgB,CAAC;EACrC;EACA,IAAIpD,KAAK,CAACo8D,QAAQ,EAAE;IAChB/zC,UAAU,CAACjlB,IAAI,CAAC,iBAAiB,CAAC;EACtC;EACA,OAAOilB,UAAU;AACrB;AACA,SAASy0C,kBAAkBA,CAACh4B,UAAU,EAAE;EACpC,OAAOA,UAAU,CAACC,QAAQ,GACpBD,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,GAC7B,GAAE7qB,UAAU,CAACpgB,GAAG,CAAC4b,KAAM,IAAGwE,UAAU,CAAC7W,KAAK,CAAC5zB,KAAK,CAACs9C,WAAW,CAAC,CAAE,EAAC;EACvE;AACJ;;AACA,SAASolB,iBAAiBA,CAACt4B,GAAG,EAAEvgC,OAAO,EAAE;EACrC,IAAI;IAAEwgB,GAAG;IAAEqgB;EAAS,CAAC,GAAGN,GAAG,CAACK,UAAU;EACtC,IAAI;IAAExvC;EAAI,CAAC,GAAGovB,GAAG;EACjB,IAAIpvB,GAAG,EAAE;IACL,OAAO;MAAEuvC,IAAI,EAAEvvC;IAAI,CAAC;EACxB;EACA,IAAI;IAAE6hC,OAAO;IAAE75B;EAAQ,CAAC,GAAG4G,OAAO;EAClC,IAAI;IAAE6+C;EAAiB,CAAC,GAAGzlD,OAAO;EAClC,IAAIylD,gBAAgB,IAAI,IAAI,EAAE;IAC1BA,gBAAgB,GAAGr+B,GAAG,CAAC+rC,WAAW;IAClC,IAAI1N,gBAAgB,IAAI,IAAI,EAAE;MAC1BA,gBAAgB,GAAGvtB,OAAO,CAAC2B,OAAO,CAACM,WAAW,CAAC,YAAY,CAAC,CAAC;IACjE;EACJ;EACA;EACA,IAAIsrB,gBAAgB,EAAE;IAClB;IACA,OAAO5T,uBAAuB,CAAErd,EAAE,IAAK;MACnCqF,OAAO,CAACC,OAAO,CAAC,YAAY,EAAE;QAC1BniB,EAAE,EAAE6c,EAAE,CAACE,MAAM;QACb31B,KAAK,EAAE,IAAIygB,SAAS,CAAC5Y,OAAO,EAAEwgB,GAAG,EAAEqgB,QAAQ,CAAC;QAC5CC,OAAO,EAAElT,EAAE;QACXuF,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC,CAAC;IACN,CAAC,CAAC;EACN;EACA,OAAO,CAAC,CAAC;AACb;AAEA,MAAM0lC,cAAc,GAAG;EACnB3iE,KAAK,EAAEwgB,QAAQ;EACfvgB,GAAG,EAAEugB,QAAQ;EACbwvB,MAAM,EAAE7U;AACZ,CAAC;AACD,SAASynC,aAAaA,CAAC17C,GAAG,EAAEsJ,OAAO,EAAEqyC,eAAe,EAAE;EAClD,IAAIC,IAAI,GAAGC,iBAAiB,CAAC77C,GAAG,EAAEsJ,OAAO,CAAC;EAC1C,IAAI;IAAEoD;EAAM,CAAC,GAAGkvC,IAAI;EACpB,IAAI,CAAClvC,KAAK,CAAC5zB,KAAK,EAAE;IACd,OAAO,IAAI;EACf;EACA,IAAI,CAAC4zB,KAAK,CAAC3zB,GAAG,EAAE;IACZ,IAAI4iE,eAAe,IAAI,IAAI,EAAE;MACzB,OAAO,IAAI;IACf;IACAjvC,KAAK,CAAC3zB,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACvI,KAAK,CAAC5zB,KAAK,EAAE6iE,eAAe,CAAC;EACzD;EACA,OAAOC,IAAI;AACf;AACA;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAAC77C,GAAG,EAAEsJ,OAAO,EAAE;EACrC,IAAI;IAAEwI,OAAO,EAAEsjC,aAAa;IAAEz4B;EAAM,CAAC,GAAGwmB,WAAW,CAACnjC,GAAG,EAAEy7C,cAAc,CAAC;EACxE,IAAIhzB,SAAS,GAAG2sB,aAAa,CAACt8D,KAAK,GAAGwwB,OAAO,CAAC8e,gBAAgB,CAACgtB,aAAa,CAACt8D,KAAK,CAAC,GAAG,IAAI;EAC1F,IAAI4vC,OAAO,GAAG0sB,aAAa,CAACr8D,GAAG,GAAGuwB,OAAO,CAAC8e,gBAAgB,CAACgtB,aAAa,CAACr8D,GAAG,CAAC,GAAG,IAAI;EACpF,IAAI;IAAE+vC;EAAO,CAAC,GAAGssB,aAAa;EAC9B,IAAItsB,MAAM,IAAI,IAAI,EAAE;IAChBA,MAAM,GAAIL,SAAS,IAAIA,SAAS,CAACyc,iBAAiB,KAC7C,CAACxc,OAAO,IAAIA,OAAO,CAACwc,iBAAiB,CAAC;EAC/C;EACA,OAAO9gD,MAAM,CAACwa,MAAM,CAAC;IAAE8N,KAAK,EAAE;MACtB5zB,KAAK,EAAE2vC,SAAS,GAAGA,SAAS,CAACJ,MAAM,GAAG,IAAI;MAC1CtvC,GAAG,EAAE2vC,OAAO,GAAGA,OAAO,CAACL,MAAM,GAAG;IACpC,CAAC;IAAES;EAAO,CAAC,EAAEnM,KAAK,CAAC;AAC3B;AACA,SAASm/B,gBAAgBA,CAACC,KAAK,EAAEC,KAAK,EAAE;EACpC,OAAOtQ,WAAW,CAACqQ,KAAK,CAACrvC,KAAK,EAAEsvC,KAAK,CAACtvC,KAAK,CAAC,IACxCqvC,KAAK,CAACjzB,MAAM,KAAKkzB,KAAK,CAAClzB,MAAM,IAC7BmzB,gBAAgB,CAACF,KAAK,EAAEC,KAAK,CAAC;AACtC;AACA;AACA,SAASC,gBAAgBA,CAACF,KAAK,EAAEC,KAAK,EAAE;EACpC,KAAK,IAAI91B,QAAQ,IAAI81B,KAAK,EAAE;IACxB,IAAI91B,QAAQ,KAAK,OAAO,IAAIA,QAAQ,KAAK,QAAQ,EAAE;MAC/C,IAAI61B,KAAK,CAAC71B,QAAQ,CAAC,KAAK81B,KAAK,CAAC91B,QAAQ,CAAC,EAAE;QACrC,OAAO,KAAK;MAChB;IACJ;EACJ;EACA;EACA;EACA,KAAK,IAAIA,QAAQ,IAAI61B,KAAK,EAAE;IACxB,IAAI,EAAE71B,QAAQ,IAAI81B,KAAK,CAAC,EAAE;MACtB,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAAStH,gBAAgBA,CAACkH,IAAI,EAAEtyC,OAAO,EAAE;EACrC,OAAOllB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEs9C,aAAa,CAACN,IAAI,CAAClvC,KAAK,EAAEpD,OAAO,EAAEsyC,IAAI,CAAC9yB,MAAM,CAAC,CAAC,EAAE;IAAEA,MAAM,EAAE8yB,IAAI,CAAC9yB;EAAO,CAAC,CAAC;AACrH;AACA,SAASzvB,yBAAyBA,CAACqT,KAAK,EAAEpD,OAAO,EAAEo9B,QAAQ,EAAE;EACzD,OAAOtiD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEs9C,aAAa,CAACxvC,KAAK,EAAEpD,OAAO,EAAEo9B,QAAQ,CAAC,CAAC,EAAE;IAAEpzB,QAAQ,EAAEhK,OAAO,CAACgK;EAAS,CAAC,CAAC;AACpH;AACA,SAAS4oC,aAAaA,CAACxvC,KAAK,EAAEpD,OAAO,EAAEo9B,QAAQ,EAAE;EAC7C,OAAO;IACH5tD,KAAK,EAAEwwB,OAAO,CAACgI,MAAM,CAAC5E,KAAK,CAAC5zB,KAAK,CAAC;IAClCC,GAAG,EAAEuwB,OAAO,CAACgI,MAAM,CAAC5E,KAAK,CAAC3zB,GAAG,CAAC;IAC9B0+D,QAAQ,EAAEnuC,OAAO,CAAC+J,SAAS,CAAC3G,KAAK,CAAC5zB,KAAK,EAAE;MAAE4tD;IAAS,CAAC,CAAC;IACtDgR,MAAM,EAAEpuC,OAAO,CAAC+J,SAAS,CAAC3G,KAAK,CAAC3zB,GAAG,EAAE;MAAE2tD;IAAS,CAAC;EACrD,CAAC;AACL;AACA,SAASyV,mBAAmBA,CAAC1H,QAAQ,EAAE15B,YAAY,EAAEp4B,OAAO,EAAE;EAC1D,IAAIomB,GAAG,GAAG4mC,cAAc,CAAC;IAAE1wB,QAAQ,EAAE;EAAM,CAAC,EAAEt8B,OAAO,CAAC;EACtD,IAAIwgB,GAAG,GAAG2sC,aAAa,CAAC/mC,GAAG,CAAC+I,OAAO,EAAE/I,GAAG,CAAC4T,KAAK,EAAE,EAAE;EAAE;EACpD83B,QAAQ,CAAC3rB,MAAM,EAAE,IAAI;EAAE;EACvBnmC,OAAO,CAAC;EACR,OAAO;IACHwgB,GAAG;IACH0b,EAAE,EAAEs6B,cAAc,CAACh2C,GAAG,EAAE4X,YAAY,CAAC;IACrCyI,QAAQ,EAAE2qB,mBAAmB,CAAChrC,GAAG,CAAC4b,KAAK,EAAE01B,QAAQ,CAAC/nC,KAAK,CAAC;IACxDA,KAAK,EAAE+nC,QAAQ,CAAC/nC,KAAK;IACrBksC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE;EACX,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAASz/C,WAAWA,CAACtJ,IAAI,EAAEssD,yBAAyB,EAAEC,yBAAyB,EAAE;EAC7E;EACA;EACA,IAAIC,UAAU,GAAG,KAAK;EACtB,IAAIC,cAAc,GAAG,SAAAA,CAAUxzC,GAAG,EAAE;IAChC,IAAI,CAACuzC,UAAU,EAAE;MACbA,UAAU,GAAG,IAAI;MACjBF,yBAAyB,CAACrzC,GAAG,CAAC;IAClC;EACJ,CAAC;EACD,IAAIyzC,cAAc,GAAG,SAAAA,CAAUxvC,KAAK,EAAE;IAClC,IAAI,CAACsvC,UAAU,EAAE;MACbA,UAAU,GAAG,IAAI;MACjBD,yBAAyB,CAACrvC,KAAK,CAAC;IACpC;EACJ,CAAC;EACD,IAAIjE,GAAG,GAAGjZ,IAAI,CAACysD,cAAc,EAAEC,cAAc,CAAC;EAC9C,IAAIzzC,GAAG,IAAI,OAAOA,GAAG,CAACxoB,IAAI,KAAK,UAAU,EAAE;IACvCwoB,GAAG,CAACxoB,IAAI,CAACg8D,cAAc,EAAEC,cAAc,CAAC;EAC5C;AACJ;AAEA,MAAMr/C,gBAAgB,SAAS6I,KAAK,CAAC;EACjCl2B,WAAWA,CAACs9B,OAAO,EAAEP,QAAQ,EAAE;IAC3B,KAAK,CAACO,OAAO,CAAC;IACd,IAAI,CAACP,QAAQ,GAAGA,QAAQ;EAC5B;AACJ;AACA,SAAStT,WAAWA,CAACgZ,MAAM,EAAEx+B,GAAG,EAAEq/B,MAAM,EAAE;EACtCb,MAAM,GAAGA,MAAM,CAACQ,WAAW,CAAC,CAAC;EAC7B,MAAM0pC,YAAY,GAAG;IACjBlqC;EACJ,CAAC;EACD,IAAIA,MAAM,KAAK,KAAK,EAAE;IAClBx+B,GAAG,IAAI,CAACA,GAAG,CAACoP,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,IACvC,IAAIu5D,eAAe,CAACtpC,MAAM,CAAC;EACnC,CAAC,MACI;IACDqpC,YAAY,CAACxuB,IAAI,GAAG,IAAIyuB,eAAe,CAACtpC,MAAM,CAAC;IAC/CqpC,YAAY,CAACE,OAAO,GAAG;MACnB,cAAc,EAAE;IACpB,CAAC;EACL;EACA,OAAOlwC,KAAK,CAAC14B,GAAG,EAAE0oE,YAAY,CAAC,CAACl8D,IAAI,CAAEq8D,QAAQ,IAAK;IAC/C,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACb,OAAOD,QAAQ,CAACh0C,IAAI,CAAC,CAAC,CAACroB,IAAI,CAAEu8D,cAAc,IAAK;QAC5C,OAAO,CAACA,cAAc,EAAEF,QAAQ,CAAC;MACrC,CAAC,EAAE,MAAM;QACL,MAAM,IAAIz/C,gBAAgB,CAAC,sBAAsB,EAAEy/C,QAAQ,CAAC;MAChE,CAAC,CAAC;IACN,CAAC,MACI;MACD,MAAM,IAAIz/C,gBAAgB,CAAC,gBAAgB,EAAEy/C,QAAQ,CAAC;IAC1D;EACJ,CAAC,CAAC;AACN;AAEA,IAAIG,kBAAkB;AACtB,SAASC,qBAAqBA,CAAA,EAAG;EAC7B,IAAID,kBAAkB,IAAI,IAAI,EAAE;IAC5BA,kBAAkB,GAAGE,yBAAyB,CAAC,CAAC;EACpD;EACA,OAAOF,kBAAkB;AAC7B;AACA,SAASE,yBAAyBA,CAAA,EAAG;EACjC;EACA;EACA,IAAI,OAAO96D,QAAQ,KAAK,WAAW,EAAE;IACjC,OAAO,IAAI;EACf;EACA,IAAIuR,EAAE,GAAGvR,QAAQ,CAACtG,aAAa,CAAC,KAAK,CAAC;EACtC6X,EAAE,CAACxK,KAAK,CAACg0D,QAAQ,GAAG,UAAU;EAC9BxpD,EAAE,CAACxK,KAAK,CAACi0D,GAAG,GAAG,KAAK;EACpBzpD,EAAE,CAACxK,KAAK,CAAClR,IAAI,GAAG,KAAK;EACrB0b,EAAE,CAACxI,SAAS,GAAG,8CAA8C;EAC7DwI,EAAE,CAAC2vB,aAAa,CAAC,OAAO,CAAC,CAACn6B,KAAK,CAACs5B,MAAM,GAAG,OAAO;EAChD9uB,EAAE,CAAC2vB,aAAa,CAAC,KAAK,CAAC,CAACn6B,KAAK,CAACs5B,MAAM,GAAG,MAAM;EAC7CrgC,QAAQ,CAAC8rC,IAAI,CAACjrC,WAAW,CAAC0Q,EAAE,CAAC;EAC7B,IAAI0pD,GAAG,GAAG1pD,EAAE,CAAC2vB,aAAa,CAAC,KAAK,CAAC;EACjC,IAAIg6B,QAAQ,GAAGD,GAAG,CAACE,YAAY,GAAG,CAAC;EACnCn7D,QAAQ,CAAC8rC,IAAI,CAAChrC,WAAW,CAACyQ,EAAE,CAAC;EAC7B,OAAO2pD,QAAQ;AACnB;AAEA,MAAM5gD,YAAY,SAASjE,aAAa,CAAC;EACrC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACvH,KAAK,GAAG;MACTsmC,QAAQ,EAAE;IACd,CAAC;IACD,IAAI,CAAC43B,iBAAiB,GAAG,MAAM;MAC3B/0D,SAAS,CAAC,MAAM;QACZ,IAAI,CAACzG,QAAQ,CAAC;UAAE4jC,QAAQ,EAAE;QAAK,CAAC,CAAC;MACrC,CAAC,CAAC;IACN,CAAC;IACD,IAAI,CAAC63B,gBAAgB,GAAG,MAAM;MAC1Bh1D,SAAS,CAAC,MAAM;QACZ,IAAI,CAACzG,QAAQ,CAAC;UAAE4jC,QAAQ,EAAE;QAAM,CAAC,CAAC;MACtC,CAAC,CAAC;IACN,CAAC;EACL;EACAtpC,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE1C;IAAQ,CAAC,GAAG0C,KAAK;IACvB,IAAI;MAAEknC;IAAS,CAAC,GAAG,IAAI,CAACtmC,KAAK;IAC7B,IAAIqmC,YAAY,GAAGC,QAAQ,IAAI5pC,OAAO,CAACymC,MAAM,KAAK,MAAM,IAAIzmC,OAAO,CAACxB,aAAa,KAAK,MAAM;IAC5F,IAAIioC,MAAM,GAAI,CAACkD,YAAY,IAAI3pC,OAAO,CAACymC,MAAM,IAAI,IAAI,GAAIzmC,OAAO,CAACymC,MAAM,GAAG,EAAE;IAC5E,IAAI1b,UAAU,GAAG,CACb,IAAI,EACJ6e,QAAQ,GAAG,gBAAgB,GAAG,iBAAiB,EAC9C,gBAAe5pC,OAAO,CAAC2hB,SAAU,EAAC,EACnCjf,KAAK,CAACmwB,KAAK,CAACwS,QAAQ,CAAC,MAAM,CAAC,CAC/B;IACD,IAAI,CAAC47B,qBAAqB,CAAC,CAAC,EAAE;MAC1Bl2C,UAAU,CAACjlB,IAAI,CAAC,gBAAgB,CAAC;IACrC;IACA,OAAOpD,KAAK,CAACvN,QAAQ,CAAC41B,UAAU,EAAE0b,MAAM,EAAEkD,YAAY,EAAEC,QAAQ,CAAC;EACrE;EACAhiC,iBAAiBA,CAAA,EAAG;IAChB,IAAI;MAAEiyB;IAAQ,CAAC,GAAG,IAAI,CAACn3B,KAAK;IAC5Bm3B,OAAO,CAACpvB,EAAE,CAAC,cAAc,EAAE,IAAI,CAAC+2D,iBAAiB,CAAC;IAClD3nC,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg3D,gBAAgB,CAAC;EACpD;EACAt7D,oBAAoBA,CAAA,EAAG;IACnB,IAAI;MAAE0zB;IAAQ,CAAC,GAAG,IAAI,CAACn3B,KAAK;IAC5Bm3B,OAAO,CAACwyB,GAAG,CAAC,cAAc,EAAE,IAAI,CAACmV,iBAAiB,CAAC;IACnD3nC,OAAO,CAACwyB,GAAG,CAAC,aAAa,EAAE,IAAI,CAACoV,gBAAgB,CAAC;EACrD;AACJ;AAEA,MAAMpiD,WAAW,CAAC;EACdtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,IAAI,CAACjyC,SAAS,GAAGiyC,QAAQ,CAACjyC,SAAS;IACnC,IAAI,CAAC2sE,iBAAiB,GAAG16B,QAAQ,CAAC06B,iBAAiB,IAAI,IAAI;EAC/D;EACA9nD,OAAOA,CAAA,EAAG,CACV;AACJ;AACA,SAASqG,wBAAwBA,CAAClrB,SAAS,EAAE4e,KAAK,EAAE;EAChD,OAAO;IACH5e,SAAS;IACT4iB,EAAE,EAAEhE,KAAK,CAACgE,EAAE;IACZgqD,cAAc,EAAEhuD,KAAK,CAACguD,cAAc,IAAI,IAAI,GAAGhuD,KAAK,CAACguD,cAAc,GAAG,IAAI;IAC1ED,iBAAiB,EAAE/tD,KAAK,CAAC+tD,iBAAiB,IAAI;EAClD,CAAC;AACL;AACA,SAASE,0BAA0BA,CAAC56B,QAAQ,EAAE;EAC1C,OAAO;IACH,CAACA,QAAQ,CAACjyC,SAAS,CAACk0C,GAAG,GAAGjC;EAC9B,CAAC;AACL;AACA;AACA,MAAM7mB,wBAAwB,GAAG,CAAC,CAAC;AAEnC,MAAME,QAAQ,SAASzgB,6CAAS,CAAC;EAC7B7L,WAAWA,CAAC2O,KAAK,EAAEkE,OAAO,EAAE;IACxB,KAAK,CAAClE,KAAK,EAAEkE,OAAO,CAAC;IACrB,IAAI,CAACi7D,aAAa,GAAG,MAAM;MACvB,IAAIC,MAAM,GAAG,IAAI,CAACC,aAAa,CAAC,CAAC;MACjC,IAAID,MAAM,CAACx+D,KAAK,CAACwmC,OAAO,CAACj2B,OAAO,CAAC,CAAC,KAAK,IAAI,CAACvQ,KAAK,CAACwmC,OAAO,CAACj2B,OAAO,CAAC,CAAC,EAAE;QACjE,IAAI,CAAC7N,QAAQ,CAAC87D,MAAM,CAACx+D,KAAK,CAAC;MAC/B;MACA,IAAI,CAAC6M,YAAY,CAAC,CAAC;MACnB,IAAI,CAACzC,UAAU,CAACo0D,MAAM,CAACE,MAAM,CAAC;IAClC,CAAC;IACD,IAAI,CAACC,sBAAsB,GAAG,MAAM;MAChC,IAAI,CAAC77D,QAAQ,CAAC87D,MAAM,EAAE;QAClB,IAAI,CAACL,aAAa,CAAC,CAAC;MACxB;IACJ,CAAC;IACD,IAAI,CAACv+D,KAAK,GAAG,IAAI,CAACy+D,aAAa,CAAC,CAAC,CAACz+D,KAAK;EAC3C;EACAhD,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,OAAOZ,KAAK,CAACvN,QAAQ,CAACmO,KAAK,CAACwmC,OAAO,EAAExmC,KAAK,CAACq7D,UAAU,CAAC;EAC1D;EACA/2D,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC8F,UAAU,CAAC,CAAC;IACjB,IAAI,CAAC9G,OAAO,CAAC4mB,UAAU,CAACoP,gBAAgB,CAAC,IAAI,CAACilC,aAAa,CAAC;IAC5D;IACAz7D,QAAQ,CAACkH,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC20D,sBAAsB,CAAC;EAC9E;EACAt6D,kBAAkBA,CAACyiC,SAAS,EAAE;IAC1B,IAAIA,SAAS,CAACrnB,IAAI,KAAK,IAAI,CAACrgB,KAAK,CAACqgB,IAAI,EAAE;MACpC,IAAI,CAAC5S,YAAY,CAAC,CAAC;MACnB,IAAI,CAACzC,UAAU,CAAC,CAAC;IACrB;EACJ;EACAvH,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACgK,YAAY,CAAC,CAAC;IACnB,IAAI,CAACvJ,OAAO,CAAC4mB,UAAU,CAACsP,mBAAmB,CAAC,IAAI,CAAC+kC,aAAa,CAAC;IAC/Dz7D,QAAQ,CAACmH,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC00D,sBAAsB,CAAC;EACjF;EACAF,aAAaA,CAAA,EAAG;IACZ,IAAI;MAAEr/D,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAIu7D,YAAY,GAAGv7D,OAAO,CAAC4mB,UAAU,CAACI,aAAa,CAAC,CAAC;IACrD,IAAI;MAAE00B;IAAiB,CAAC,GAAG17C,OAAO,CAAC5G,OAAO;IAC1C,IAAIsiD,gBAAgB,KAAK,MAAM,EAAE;MAC7BA,gBAAgB;MACZ;MACA,qBAAqB,CAACr6C,IAAI,CAACvF,KAAK,CAACqgB,IAAI,CAAC;MAClC;MACA,CAACrgB,KAAK,CAAC0/D,SAAS,IAAI,CAAC,MAAM,CAAC;IACxC;IACA,IAAIt4B,OAAO;IACX,IAAIk4B,MAAM;IACV,IAAI1f,gBAAgB,EAAE;MAClBxY,OAAO,GAAGljC,OAAO,CAAC2mB,OAAO,CAAC48B,OAAO,CAACgY,YAAY,EAAEz/D,KAAK,CAACqgB,IAAI,CAAC,CAAC,CAAC;MAC7D,IAAIs/C,aAAa,GAAGz7D,OAAO,CAAC2mB,OAAO,CAAC2L,GAAG,CAAC4Q,OAAO,EAAEhtB,cAAc,CAAC,CAAC,EAAEpa,KAAK,CAACqgB,IAAI,CAAC,CAAC;MAC/Ei/C,MAAM,GAAGK,aAAa,CAACxuD,OAAO,CAAC,CAAC,GAAGsuD,YAAY,CAACtuD,OAAO,CAAC,CAAC;IAC7D,CAAC,MACI;MACDi2B,OAAO,GAAGq4B,YAAY;MACtBH,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC,CAAC;IACxB;IACA;IACA;IACAA,MAAM,GAAG55C,IAAI,CAAC0wB,GAAG,CAAC,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAEkpB,MAAM,CAAC;IAC9C,OAAO;MACH1+D,KAAK,EAAE;QAAEwmC,OAAO;QAAE60B,UAAU,EAAE2D,aAAa,CAACx4B,OAAO;MAAE,CAAC;MACtDk4B;IACJ,CAAC;EACL;EACAt0D,UAAUA,CAACs0D,MAAM,GAAG,IAAI,CAACD,aAAa,CAAC,CAAC,CAACC,MAAM,EAAE;IAC7C;IACA;IACA,IAAI,CAAC/yB,SAAS,GAAGvhC,UAAU,CAAC,MAAM;MAC9B;MACA;MACA;MACA,MAAMo0D,MAAM,GAAG,IAAI,CAACC,aAAa,CAAC,CAAC;MACnC,IAAI,CAAC/7D,QAAQ,CAAC87D,MAAM,CAACx+D,KAAK,EAAE,MAAM;QAC9B,IAAI,CAACoK,UAAU,CAACo0D,MAAM,CAACE,MAAM,CAAC;MAClC,CAAC,CAAC;IACN,CAAC,EAAEA,MAAM,CAAC;EACd;EACA7xD,YAAYA,CAAA,EAAG;IACX,IAAI,IAAI,CAAC8+B,SAAS,EAAE;MAChB9+B,YAAY,CAAC,IAAI,CAAC8+B,SAAS,CAAC;IAChC;EACJ;AACJ;AACA5uB,QAAQ,CAACpS,WAAW,GAAGyO,eAAe;AACtC,SAAS4lD,aAAaA,CAACllE,IAAI,EAAE;EACzB,IAAIL,KAAK,GAAG4gB,UAAU,CAACvgB,IAAI,CAAC;EAC5B,IAAIJ,GAAG,GAAG4gB,OAAO,CAAC7gB,KAAK,EAAE,CAAC,CAAC;EAC3B,OAAO;IAAEA,KAAK;IAAEC;EAAI,CAAC;AACzB;AAEA,MAAMujB,YAAY,CAAC;EACf6U,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACqJ,kBAAkB,CAACrJ,cAAc,CAAC,CAAC;EACnD;EACApE,QAAQA,CAAC9D,MAAM,EAAE;IACb,IAAI,CAACuR,kBAAkB,CAACzN,QAAQ,CAAC9D,MAAM,CAAC;EAC5C;EACA,IAAI6M,IAAIA,CAAA,EAAG;IAAE,OAAO,IAAI,CAAC3E,cAAc,CAAC,CAAC,CAAC4E,OAAO;EAAE;EACnD8R,cAAcA,CAACjN,QAAQ,EAAE;IACrBA,QAAQ,CAAC,CAAC;EACd;EACA3lB,UAAUA,CAAA,EAAG;IACT,IAAI,CAAC4gB,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC;EACjC;EACA;EACA;EACAyoC,SAASA,CAACt/D,IAAI,EAAEstC,GAAG,EAAE;IACjB,IAAI,CAACvf,QAAQ,CAAC;MACVt5B,IAAI,EAAE,YAAY;MAClBkhB,UAAU,EAAE3V,IAAI;MAChB6qB,cAAc,EAAEyiB;IACpB,CAAC,CAAC;EACN;EACA3a,SAASA,CAAC3yB,IAAI,EAAE;IACZ,OAAO,IAAI,CAACw7B,kBAAkB,CAACX,2BAA2B,CAAC76B,IAAI,CAAC;EACpE;EACAu/D,uBAAuBA,CAAA,EAAG;IACtB,OAAOn6D,MAAM,CAAC6L,IAAI,CAAC,IAAI,CAACkhB,cAAc,CAAC,CAAC,CAAC+L,mBAAmB,CAAC;EACjE;EACA;EACA;EACA12B,EAAEA,CAACg4D,WAAW,EAAE5lC,OAAO,EAAE;IACrB,IAAI;MAAE4B;IAAmB,CAAC,GAAG,IAAI;IACjC,IAAIA,kBAAkB,CAACP,8BAA8B,CAACukC,WAAW,CAAC,EAAE;MAChEhkC,kBAAkB,CAAC5E,OAAO,CAACpvB,EAAE,CAACg4D,WAAW,EAAE5lC,OAAO,CAAC;IACvD,CAAC,MACI;MACDrV,OAAO,CAACC,IAAI,CAAE,0BAAyBg7C,WAAY,GAAE,CAAC;IAC1D;EACJ;EACApW,GAAGA,CAACoW,WAAW,EAAE5lC,OAAO,EAAE;IACtB,IAAI,CAAC4B,kBAAkB,CAAC5E,OAAO,CAACwyB,GAAG,CAACoW,WAAW,EAAE5lC,OAAO,CAAC;EAC7D;EACA;EACA/C,OAAOA,CAAC2oC,WAAW,EAAE,GAAGjtD,IAAI,EAAE;IAC1B,IAAI,CAACipB,kBAAkB,CAAC5E,OAAO,CAACC,OAAO,CAAC2oC,WAAW,EAAE,GAAGjtD,IAAI,CAAC;EACjE;EACA;EACA;EACAuf,UAAUA,CAACxL,QAAQ,EAAEm5C,WAAW,EAAE;IAC9B,IAAI,CAAC52B,cAAc,CAAC,MAAM;MACtB,IAAI,CAAC0a,QAAQ,CAAC,CAAC;MACf,IAAIkc,WAAW,EAAE;QACb,IAAIA,WAAW,CAAC3lE,KAAK,IAAI2lE,WAAW,CAAC1lE,GAAG,EAAE;UAAE;UACxC,IAAI,CAACg0B,QAAQ,CAAC;YACVt5B,IAAI,EAAE,kBAAkB;YACxB6xB;UACJ,CAAC,CAAC;UACF,IAAI,CAACyH,QAAQ,CAAC;YACVt5B,IAAI,EAAE,YAAY;YAClBkhB,UAAU,EAAE,cAAc;YAC1BkV,cAAc,EAAE40C;UACpB,CAAC,CAAC;QACN,CAAC,MACI;UACD,IAAI;YAAEn1C;UAAQ,CAAC,GAAG,IAAI,CAAC6H,cAAc,CAAC,CAAC;UACvC,IAAI,CAACpE,QAAQ,CAAC;YACVt5B,IAAI,EAAE,kBAAkB;YACxB6xB,QAAQ;YACR8D,UAAU,EAAEE,OAAO,CAACI,YAAY,CAAC+0C,WAAW;UAChD,CAAC,CAAC;QACN;MACJ,CAAC,MACI;QACD,IAAI,CAAC1xC,QAAQ,CAAC;UACVt5B,IAAI,EAAE,kBAAkB;UACxB6xB;QACJ,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;EACA;EACA;EACA;EACAo5C,MAAMA,CAACt1C,UAAU,EAAE9D,QAAQ,EAAE;IACzB,IAAIjmB,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAIwtC,IAAI;IACRr5C,QAAQ,GAAGA,QAAQ,IAAI,KAAK,CAAC,CAAC;IAC9Bq5C,IAAI,GAAGt/D,KAAK,CAACwvB,SAAS,CAACvJ,QAAQ,CAAC,IAAI,IAAI,CAACs5C,eAAe,CAACt5C,QAAQ,CAAC;IAClE,IAAI,CAACi9B,QAAQ,CAAC,CAAC;IACf,IAAIoc,IAAI,EAAE;MACN,IAAI,CAAC5xC,QAAQ,CAAC;QACVt5B,IAAI,EAAE,kBAAkB;QACxB6xB,QAAQ,EAAEq5C,IAAI,CAAClrE,IAAI;QACnB21B;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD,IAAI,CAAC2D,QAAQ,CAAC;QACVt5B,IAAI,EAAE,aAAa;QACnB21B;MACJ,CAAC,CAAC;IACN;EACJ;EACA;EACA;EACAw1C,eAAeA,CAAC9/C,IAAI,EAAE;IAClB,IAAI;MAAE+P,SAAS;MAAEoO;IAAc,CAAC,GAAG,IAAI,CAAC9L,cAAc,CAAC,CAAC;IACxD,IAAI0tC,SAAS,GAAG,EAAE,CAAC9yD,MAAM,CAACkxB,aAAa,CAACnO,MAAM,GAAGmO,aAAa,CAACnO,MAAM,CAACK,gBAAgB,GAAG,EAAE,EAAE8N,aAAa,CAACjO,MAAM,GAAGiO,aAAa,CAACjO,MAAM,CAACG,gBAAgB,GAAG,EAAE,CAAC;IAC/J,IAAI3yB,CAAC;IACL,IAAImiE,IAAI;IACR,KAAK,IAAIr5C,QAAQ,IAAIuJ,SAAS,EAAE;MAC5BgwC,SAAS,CAACh9D,IAAI,CAACyjB,QAAQ,CAAC;IAC5B;IACA,KAAK9oB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqiE,SAAS,CAAC3+D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MACtCmiE,IAAI,GAAG9vC,SAAS,CAACgwC,SAAS,CAACriE,CAAC,CAAC,CAAC;MAC9B,IAAImiE,IAAI,EAAE;QACN,IAAIA,IAAI,CAACh3C,UAAU,KAAK7I,IAAI,EAAE;UAC1B,OAAO6/C,IAAI;QACf;MACJ;IACJ;IACA,OAAO,IAAI;EACf;EACA;EACA;EACAhhD,IAAIA,CAAA,EAAG;IACH,IAAI,CAAC4kC,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MAAEt5B,IAAI,EAAE;IAAO,CAAC,CAAC;EACnC;EACAgH,IAAIA,CAAA,EAAG;IACH,IAAI,CAAC8nD,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MAAEt5B,IAAI,EAAE;IAAO,CAAC,CAAC;EACnC;EACAmqB,QAAQA,CAAA,EAAG;IACP,IAAIve,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI,CAACoxB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MACVt5B,IAAI,EAAE,aAAa;MACnB21B,UAAU,EAAE/pB,KAAK,CAACiqB,OAAO,CAACq8B,QAAQ,CAACtmD,KAAK,CAAC8pB,WAAW,EAAE,CAAC,CAAC;IAC5D,CAAC,CAAC;EACN;EACAtL,QAAQA,CAAA,EAAG;IACP,IAAIxe,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI,CAACoxB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MACVt5B,IAAI,EAAE,aAAa;MACnB21B,UAAU,EAAE/pB,KAAK,CAACiqB,OAAO,CAACq8B,QAAQ,CAACtmD,KAAK,CAAC8pB,WAAW,EAAE,CAAC;IAC3D,CAAC,CAAC;EACN;EACApL,KAAKA,CAAA,EAAG;IACJ,IAAI1e,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI,CAACoxB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MACVt5B,IAAI,EAAE,aAAa;MACnB21B,UAAU,EAAE/pB,KAAK,CAACkqB,UAAU,CAACI,aAAa,CAAC;IAC/C,CAAC,CAAC;EACN;EACAm1C,QAAQA,CAACC,cAAc,EAAE;IACrB,IAAI1/D,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI,CAACoxB,QAAQ,CAAC,CAAC;IACf,IAAI,CAACx1B,QAAQ,CAAC;MACVt5B,IAAI,EAAE,aAAa;MACnB21B,UAAU,EAAE/pB,KAAK,CAACiqB,OAAO,CAACI,YAAY,CAACq1C,cAAc;IACzD,CAAC,CAAC;EACN;EACAC,aAAaA,CAACnI,UAAU,EAAE;IACtB,IAAIx3D,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI2lC,KAAK,GAAGj+C,cAAc,CAACg+C,UAAU,CAAC;IACtC,IAAIC,KAAK,EAAE;MAAE;MACT,IAAI,CAACvU,QAAQ,CAAC,CAAC;MACf,IAAI,CAACx1B,QAAQ,CAAC;QACVt5B,IAAI,EAAE,aAAa;QACnB21B,UAAU,EAAE/pB,KAAK,CAACiqB,OAAO,CAAC2L,GAAG,CAAC51B,KAAK,CAAC8pB,WAAW,EAAE2tC,KAAK;MAC1D,CAAC,CAAC;IACN;EACJ;EACAvhB,OAAOA,CAAA,EAAG;IACN,IAAIl2C,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,OAAO9xB,KAAK,CAACiqB,OAAO,CAACgI,MAAM,CAACjyB,KAAK,CAAC8pB,WAAW,CAAC;EAClD;EACA;EACA;EACA6e,UAAUA,CAACxqC,CAAC,EAAE0qC,SAAS,EAAE;IACrB,IAAI;MAAE5e;IAAQ,CAAC,GAAG,IAAI,CAAC6H,cAAc,CAAC,CAAC;IACvC,OAAO7H,OAAO,CAACwJ,MAAM,CAACxJ,OAAO,CAACI,YAAY,CAAClsB,CAAC,CAAC,EAAEuc,eAAe,CAACmuB,SAAS,CAAC,CAAC;EAC9E;EACA;EACA5Q,WAAWA,CAACoa,EAAE,EAAEC,EAAE,EAAE5O,QAAQ,EAAE;IAC1B,IAAI;MAAEzZ;IAAQ,CAAC,GAAG,IAAI,CAAC6H,cAAc,CAAC,CAAC;IACvC,OAAO7H,OAAO,CAACgO,WAAW,CAAChO,OAAO,CAACI,YAAY,CAACgoB,EAAE,CAAC,EAAEpoB,OAAO,CAACI,YAAY,CAACioB,EAAE,CAAC,EAAE53B,eAAe,CAACgpB,QAAQ,CAAC,EAAEA,QAAQ,CAAC;EACvH;EACA1P,SAASA,CAAC71B,CAAC,EAAEkpD,QAAQ,EAAE;IACnB,IAAI;MAAEp9B;IAAQ,CAAC,GAAG,IAAI,CAAC6H,cAAc,CAAC,CAAC;IACvC,OAAO7H,OAAO,CAAC+J,SAAS,CAAC/J,OAAO,CAACI,YAAY,CAAClsB,CAAC,CAAC,EAAE;MAAEkpD;IAAS,CAAC,CAAC;EACnE;EACA;EACA;EACApE,MAAMA,CAAC2c,SAAS,EAAEjkE,OAAO,EAAE;IACvB,IAAIkkE,cAAc;IAClB,IAAIlkE,OAAO,IAAI,IAAI,EAAE;MACjB,IAAIikE,SAAS,CAACnmE,KAAK,IAAI,IAAI,EAAE;QACzBomE,cAAc,GAAGD,SAAS;MAC9B,CAAC,MACI;QACDC,cAAc,GAAG;UACbpmE,KAAK,EAAEmmE,SAAS;UAChBlmE,GAAG,EAAE;QACT,CAAC;MACL;IACJ,CAAC,MACI;MACDmmE,cAAc,GAAG;QACbpmE,KAAK,EAAEmmE,SAAS;QAChBlmE,GAAG,EAAEiC;MACT,CAAC;IACL;IACA,IAAIqE,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAItD,SAAS,GAAG6tC,aAAa,CAACwD,cAAc,EAAE7/D,KAAK,CAACiqB,OAAO,EAAEzQ,cAAc,CAAC;MAAEgf,IAAI,EAAE;IAAE,CAAC,CAAC,CAAC;IACzF,IAAIhK,SAAS,EAAE;MAAE;MACb,IAAI,CAACd,QAAQ,CAAC;QAAEt5B,IAAI,EAAE,cAAc;QAAEo6B;MAAU,CAAC,CAAC;MAClDumC,iBAAiB,CAACvmC,SAAS,EAAE,IAAI,EAAExuB,KAAK,CAAC;IAC7C;EACJ;EACAkjD,QAAQA,CAAC8R,GAAG,EAAE;IACV,IAAIh1D,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI9xB,KAAK,CAAC47B,aAAa,EAAE;MACrB,IAAI,CAAClO,QAAQ,CAAC;QAAEt5B,IAAI,EAAE;MAAiB,CAAC,CAAC;MACzC+gE,mBAAmB,CAACH,GAAG,EAAEh1D,KAAK,CAAC;IACnC;EACJ;EACA;EACA;EACAqzD,QAAQA,CAACyM,UAAU,EAAEC,WAAW,EAAE;IAC9B,IAAID,UAAU,YAAY5jD,SAAS,EAAE;MACjC,IAAI4H,GAAG,GAAGg8C,UAAU,CAAClJ,IAAI;MACzB,IAAIzyB,QAAQ,GAAG27B,UAAU,CAACjJ,SAAS;MACnC,IAAI3uB,WAAW,GAAG,IAAI,CAACpW,cAAc,CAAC,CAAC;MACvC;MACA,IAAI,CAACoW,WAAW,CAACtR,UAAU,CAAC/S,IAAI,CAACC,GAAG,CAAC4b,KAAK,CAAC,EAAE;QACzC,IAAI,CAAChS,QAAQ,CAAC;UACVt5B,IAAI,EAAE,YAAY;UAClBwiC,UAAU,EAAEy6B,iBAAiB,CAAC;YAAEvtC,GAAG;YAAEqgB;UAAS,CAAC,CAAC,CAAE;QACtD,CAAC,CAAC;;QACF,IAAI,CAAC67B,eAAe,CAACF,UAAU,CAAC;MACpC;MACA,OAAOA,UAAU;IACrB;IACA,IAAI9/D,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAIxF,WAAW;IACf,IAAIyzC,WAAW,YAAYvJ,eAAe,EAAE;MACxClqC,WAAW,GAAGyzC,WAAW,CAACtJ,mBAAmB;IACjD,CAAC,MACI,IAAI,OAAOsJ,WAAW,KAAK,SAAS,EAAE;MACvC,IAAIA,WAAW,EAAE;QAAE;QACf,CAACzzC,WAAW,CAAC,GAAG/R,iBAAiB,CAACva,KAAK,CAACgQ,YAAY,CAAC;MACzD;IACJ,CAAC,MACI,IAAI+vD,WAAW,IAAI,IAAI,EAAE;MAAE;MAC5B,IAAIE,SAAS,GAAG,IAAI,CAACC,kBAAkB,CAACH,WAAW,CAAC,CAAC,CAAC;MACtD,IAAI,CAACE,SAAS,EAAE;QACZ/7C,OAAO,CAACC,IAAI,CAAE,2CAA0C47C,WAAY,GAAE,CAAC,CAAC,CAAC;QACzE,OAAO,IAAI;MACf;MACAzzC,WAAW,GAAG2zC,SAAS,CAACxJ,mBAAmB;IAC/C;IACA,IAAIrF,KAAK,GAAGnB,UAAU,CAAC6P,UAAU,EAAExzC,WAAW,EAAEtsB,KAAK,EAAE,KAAK,CAAC;IAC7D,IAAIoxD,KAAK,EAAE;MACP,IAAI+O,WAAW,GAAG,IAAIjkD,SAAS,CAAClc,KAAK,EAAEoxD,KAAK,CAACttC,GAAG,EAAEstC,KAAK,CAACttC,GAAG,CAACurC,YAAY,GAAG,IAAI,GAAG+B,KAAK,CAACjtB,QAAQ,CAAC;MACjG,IAAI,CAACzW,QAAQ,CAAC;QACVt5B,IAAI,EAAE,YAAY;QAClBwiC,UAAU,EAAEy6B,iBAAiB,CAACD,KAAK;MACvC,CAAC,CAAC;MACF,IAAI,CAAC4O,eAAe,CAACG,WAAW,CAAC;MACjC,OAAOA,WAAW;IACtB;IACA,OAAO,IAAI;EACf;EACAH,eAAeA,CAACtH,QAAQ,EAAE;IACtB,IAAI;MAAEniC;IAAQ,CAAC,GAAG,IAAI,CAACzE,cAAc,CAAC,CAAC;IACvCyE,OAAO,CAACC,OAAO,CAAC,UAAU,EAAE;MACxB/6B,KAAK,EAAEi9D,QAAQ;MACfV,aAAa,EAAE,EAAE;MACjBC,MAAM,EAAEA,CAAA,KAAM;QACV,IAAI,CAACvqC,QAAQ,CAAC;UACVt5B,IAAI,EAAE,eAAe;UACrBwiC,UAAU,EAAEuhC,eAAe,CAACO,QAAQ;QACxC,CAAC,CAAC;MACN;IACJ,CAAC,CAAC;EACN;EACA;EACA0H,YAAYA,CAACnpD,EAAE,EAAE;IACb,IAAIjX,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAI;MAAEjO,IAAI;MAAEurC;IAAU,CAAC,GAAGpvD,KAAK,CAAC42B,UAAU;IAC1C3f,EAAE,GAAGkc,MAAM,CAAClc,EAAE,CAAC;IACf,KAAK,IAAIyoB,KAAK,IAAI7b,IAAI,EAAE;MACpB,IAAIC,GAAG,GAAGD,IAAI,CAAC6b,KAAK,CAAC;MACrB,IAAI5b,GAAG,CAAC+sC,QAAQ,KAAK55C,EAAE,EAAE;QACrB,IAAI6M,GAAG,CAACurC,YAAY,EAAE;UAClB,OAAO,IAAInzC,SAAS,CAAClc,KAAK,EAAE8jB,GAAG,EAAE,IAAI,CAAC;QAC1C;QACA,KAAK,IAAIirC,UAAU,IAAIK,SAAS,EAAE;UAC9B,IAAIjrB,QAAQ,GAAGirB,SAAS,CAACL,UAAU,CAAC;UACpC,IAAI5qB,QAAQ,CAACzE,KAAK,KAAK5b,GAAG,CAAC4b,KAAK,EAAE;YAC9B,OAAO,IAAIxjB,SAAS,CAAClc,KAAK,EAAE8jB,GAAG,EAAEqgB,QAAQ,CAAC;UAC9C;QACJ;MACJ;IACJ;IACA,OAAO,IAAI;EACf;EACAk8B,SAASA,CAAA,EAAG;IACR,IAAIn4B,WAAW,GAAG,IAAI,CAACpW,cAAc,CAAC,CAAC;IACvC,OAAOtX,cAAc,CAAC0tB,WAAW,CAACtR,UAAU,EAAEsR,WAAW,CAAC;EAC9D;EACAo4B,eAAeA,CAAA,EAAG;IACd,IAAI,CAAC5yC,QAAQ,CAAC;MAAEt5B,IAAI,EAAE;IAAoB,CAAC,CAAC;EAChD;EACA;EACA;EACAmsE,eAAeA,CAAA,EAAG;IACd,IAAIvgE,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAIvF,UAAU,GAAGvsB,KAAK,CAACgQ,YAAY;IACnC,IAAIwwD,UAAU,GAAG,EAAE;IACnB,KAAK,IAAIC,UAAU,IAAIl0C,UAAU,EAAE;MAC/Bi0C,UAAU,CAACh+D,IAAI,CAAC,IAAIg0D,eAAe,CAACx2D,KAAK,EAAEusB,UAAU,CAACk0C,UAAU,CAAC,CAAC,CAAC;IACvE;IACA,OAAOD,UAAU;EACrB;EACAN,kBAAkBA,CAACjpD,EAAE,EAAE;IACnB,IAAIjX,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAIvF,UAAU,GAAGvsB,KAAK,CAACgQ,YAAY;IACnCiH,EAAE,GAAGkc,MAAM,CAAClc,EAAE,CAAC;IACf,KAAK,IAAIwU,QAAQ,IAAIc,UAAU,EAAE;MAC7B,IAAIA,UAAU,CAACd,QAAQ,CAAC,CAAColC,QAAQ,KAAK55C,EAAE,EAAE;QACtC,OAAO,IAAIu/C,eAAe,CAACx2D,KAAK,EAAEusB,UAAU,CAACd,QAAQ,CAAC,CAAC;MAC3D;IACJ;IACA,OAAO,IAAI;EACf;EACA4K,cAAcA,CAAC0pC,WAAW,EAAE;IACxB,IAAI//D,KAAK,GAAG,IAAI,CAAC8xB,cAAc,CAAC,CAAC;IACjC,IAAIiuC,WAAW,YAAYvJ,eAAe,EAAE;MACxC;MACA,IAAI,CAACx2D,KAAK,CAACgQ,YAAY,CAAC+vD,WAAW,CAACtJ,mBAAmB,CAAChrC,QAAQ,CAAC,EAAE;QAC/D,IAAI,CAACiC,QAAQ,CAAC;UACVt5B,IAAI,EAAE,mBAAmB;UACzBm3B,OAAO,EAAE,CAACw0C,WAAW,CAACtJ,mBAAmB;QAC7C,CAAC,CAAC;MACN;MACA,OAAOsJ,WAAW;IACtB;IACA,IAAIzzC,WAAW,GAAGzS,gBAAgB,CAACkmD,WAAW,EAAE//D,KAAK,CAAC;IACtD,IAAIssB,WAAW,EAAE;MAAE;MACf,IAAI,CAACoB,QAAQ,CAAC;QAAEt5B,IAAI,EAAE,mBAAmB;QAAEm3B,OAAO,EAAE,CAACe,WAAW;MAAE,CAAC,CAAC;MACpE,OAAO,IAAIkqC,eAAe,CAACx2D,KAAK,EAAEssB,WAAW,CAAC;IAClD;IACA,OAAO,IAAI;EACf;EACAo0C,qBAAqBA,CAAA,EAAG;IACpB,IAAI,CAAChzC,QAAQ,CAAC;MAAEt5B,IAAI,EAAE;IAA2B,CAAC,CAAC;EACvD;EACAusE,aAAaA,CAAA,EAAG;IACZ,IAAI,CAACjzC,QAAQ,CAAC;MAAEt5B,IAAI,EAAE,qBAAqB;MAAE03B,SAAS,EAAE;IAAK,CAAC,CAAC;EACnE;EACA;EACA;EACA80C,YAAYA,CAACC,SAAS,EAAE;IACpB,IAAI3X,IAAI,GAAG1vC,cAAc,CAACqnD,SAAS,CAAC;IACpC,IAAI3X,IAAI,EAAE;MACN,IAAI,CAAC1yB,OAAO,CAAC,gBAAgB,EAAE;QAAE0yB;MAAK,CAAC,CAAC;IAC5C;EACJ;AACJ;AAEA,SAAS4X,eAAeA,CAACC,KAAK,EAAEC,IAAI,EAAE;EAClC,OAAOD,KAAK,CAACpoE,IAAI,IAAIqoE,IAAI,CAACroE,IAAI,IAC1BooE,KAAK,CAACpoE,IAAI,GAAGqoE,IAAI,CAACnoE,KAAK,IACvBkoE,KAAK,CAACjD,GAAG,IAAIkD,IAAI,CAAClD,GAAG,IACrBiD,KAAK,CAACjD,GAAG,GAAGkD,IAAI,CAACC,MAAM;AAC/B;AACA;AACA,SAASC,cAAcA,CAACC,KAAK,EAAEC,KAAK,EAAE;EAClC,IAAI13C,GAAG,GAAG;IACN/wB,IAAI,EAAEmsB,IAAI,CAACC,GAAG,CAACo8C,KAAK,CAACxoE,IAAI,EAAEyoE,KAAK,CAACzoE,IAAI,CAAC;IACtCE,KAAK,EAAEisB,IAAI,CAAC0wB,GAAG,CAAC2rB,KAAK,CAACtoE,KAAK,EAAEuoE,KAAK,CAACvoE,KAAK,CAAC;IACzCilE,GAAG,EAAEh5C,IAAI,CAACC,GAAG,CAACo8C,KAAK,CAACrD,GAAG,EAAEsD,KAAK,CAACtD,GAAG,CAAC;IACnCmD,MAAM,EAAEn8C,IAAI,CAAC0wB,GAAG,CAAC2rB,KAAK,CAACF,MAAM,EAAEG,KAAK,CAACH,MAAM;EAC/C,CAAC;EACD,IAAIv3C,GAAG,CAAC/wB,IAAI,GAAG+wB,GAAG,CAAC7wB,KAAK,IAAI6wB,GAAG,CAACo0C,GAAG,GAAGp0C,GAAG,CAACu3C,MAAM,EAAE;IAC9C,OAAOv3C,GAAG;EACd;EACA,OAAO,KAAK;AAChB;AACA,SAAS23C,aAAaA,CAACL,IAAI,EAAEM,MAAM,EAAEC,MAAM,EAAE;EACzC,OAAO;IACH5oE,IAAI,EAAEqoE,IAAI,CAACroE,IAAI,GAAG2oE,MAAM;IACxBzoE,KAAK,EAAEmoE,IAAI,CAACnoE,KAAK,GAAGyoE,MAAM;IAC1BxD,GAAG,EAAEkD,IAAI,CAAClD,GAAG,GAAGyD,MAAM;IACtBN,MAAM,EAAED,IAAI,CAACC,MAAM,GAAGM;EAC1B,CAAC;AACL;AACA;AACA,SAASC,cAAcA,CAACT,KAAK,EAAEC,IAAI,EAAE;EACjC,OAAO;IACHroE,IAAI,EAAEmsB,IAAI,CAAC0wB,GAAG,CAAC1wB,IAAI,CAACC,GAAG,CAACg8C,KAAK,CAACpoE,IAAI,EAAEqoE,IAAI,CAACroE,IAAI,CAAC,EAAEqoE,IAAI,CAACnoE,KAAK,CAAC;IAC3DilE,GAAG,EAAEh5C,IAAI,CAAC0wB,GAAG,CAAC1wB,IAAI,CAACC,GAAG,CAACg8C,KAAK,CAACjD,GAAG,EAAEkD,IAAI,CAAClD,GAAG,CAAC,EAAEkD,IAAI,CAACC,MAAM;EAC5D,CAAC;AACL;AACA;AACA,SAASQ,aAAaA,CAACT,IAAI,EAAE;EACzB,OAAO;IACHroE,IAAI,EAAE,CAACqoE,IAAI,CAACroE,IAAI,GAAGqoE,IAAI,CAACnoE,KAAK,IAAI,CAAC;IAClCilE,GAAG,EAAE,CAACkD,IAAI,CAAClD,GAAG,GAAGkD,IAAI,CAACC,MAAM,IAAI;EACpC,CAAC;AACL;AACA;AACA,SAASS,UAAUA,CAACC,MAAM,EAAEC,MAAM,EAAE;EAChC,OAAO;IACHjpE,IAAI,EAAEgpE,MAAM,CAAChpE,IAAI,GAAGipE,MAAM,CAACjpE,IAAI;IAC/BmlE,GAAG,EAAE6D,MAAM,CAAC7D,GAAG,GAAG8D,MAAM,CAAC9D;EAC7B,CAAC;AACL;AAEA,MAAM+D,iBAAiB,GAAG5mD,qBAAqB,CAAC,CAAC,CAAC,CAAC;AACnD,MAAM6mD,QAAQ,CAAC;EACXrxE,WAAWA,CAAA,EAAG;IACV,IAAI,CAACsxE,mBAAmB,GAAGnnD,OAAO,CAAC,IAAI,CAAConD,oBAAoB,CAAC;IAC7D,IAAI,CAACC,kBAAkB,GAAGrnD,OAAO,CAAC,IAAI,CAACsnD,cAAc,CAAC;IACtD,IAAI,CAACC,eAAe,GAAGvnD,OAAO,CAAC,IAAI,CAACwnD,gBAAgB,CAAC;IACrD,IAAI,CAACC,iBAAiB,GAAGznD,OAAO,CAAC,IAAI,CAAC0nD,kBAAkB,CAAC;IACzD,IAAI,CAACC,cAAc,GAAG3nD,OAAO,CAAC,IAAI,CAAC4nD,iBAAiB,CAAC;IACrD,IAAI,CAACC,gBAAgB,GAAG7nD,OAAO,CAAC,IAAI,CAAC4nD,iBAAiB,CAAC;IACvD,IAAI,CAACE,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;EAC/B;;EACAC,UAAUA,CAACvjE,KAAK,EAAE;IACd,IAAIwjE,QAAQ,GAAG,IAAI,CAACC,UAAU,CAACzjE,KAAK,CAAC;IACrC,IAAI0jE,OAAO,GAAG,IAAI,CAACf,mBAAmB,CAAC3iE,KAAK,CAACw3B,UAAU,CAAC;IACxD,IAAImsC,cAAc,GAAG,IAAI,CAACd,kBAAkB,CAAC7iE,KAAK,CAACw8B,aAAa,CAAC;IACjE,IAAIonC,YAAY,GAAG,IAAI,CAACX,iBAAiB,CAACjjE,KAAK,CAACs8B,YAAY,EAAEonC,OAAO,CAAC,CAAC,CAAC;IACxE,IAAIG,WAAW,GAAG,IAAI,CAACd,eAAe,CAAC/iE,KAAK,CAACw3B,UAAU,EAAEksC,OAAO,CAAC;IACjE,IAAII,UAAU,GAAG,IAAI,CAACX,cAAc,CAACnjE,KAAK,CAAC08B,SAAS,CAAC;IACrD,IAAIqnC,YAAY,GAAG,IAAI,CAACV,gBAAgB,CAACrjE,KAAK,CAAC28B,WAAW,CAAC;IAC3D,IAAI4mC,UAAU,GAAG,CAAC,CAAC;IACnB,IAAI,CAACD,eAAe,GAAGlyD,OAAO,CAACoyD,QAAQ,EAAE,CAACtnE,IAAI,EAAEqO,GAAG,KAAK,IAAI,CAAC+4D,eAAe,CAAC/4D,GAAG,CAAC,IAAIiR,OAAO,CAACwoD,kBAAkB,CAAC,CAAC;IACjH,KAAK,IAAIz5D,GAAG,IAAIi5D,QAAQ,EAAE;MACtB,IAAIS,OAAO,GAAGT,QAAQ,CAACj5D,GAAG,CAAC;MAC3B,IAAIitB,UAAU,GAAGqsC,WAAW,CAACt5D,GAAG,CAAC,IAAIk4D,iBAAiB;MACtD,IAAIyB,YAAY,GAAG,IAAI,CAACZ,eAAe,CAAC/4D,GAAG,CAAC;MAC5Cg5D,UAAU,CAACh5D,GAAG,CAAC,GAAG;QACd8xB,aAAa,EAAE4nC,OAAO,CAAC5nC,aAAa,IAAIr8B,KAAK,CAACq8B,aAAa;QAC3DG,aAAa,EAAEmnC,cAAc,CAACp5D,GAAG,CAAC,IAAI,IAAI;QAC1CitB,UAAU;QACV8E,YAAY,EAAE4nC,YAAY,CAAClkE,KAAK,CAACs8B,YAAY,CAAC,EAAE,CAAC,EAAE2nC,OAAO,CAAC7jC,EAAE,EAAEwjC,YAAY,CAACr5D,GAAG,CAAC,CAAC;QACjFkyB,cAAc,EAAEjF,UAAU,CAACw4B,SAAS,CAAChwD,KAAK,CAACy8B,cAAc,CAAC,GAAGz8B,KAAK,CAACy8B,cAAc,GAAG,EAAE;QACtFC,SAAS,EAAEonC,UAAU,CAACv5D,GAAG,CAAC,IAAI,IAAI;QAClCoyB,WAAW,EAAEonC,YAAY,CAACx5D,GAAG,CAAC,IAAI;MACtC,CAAC;IACL;IACA,OAAOg5D,UAAU;EACrB;EACAT,cAAcA,CAAC9M,QAAQ,EAAE;IACrB,IAAImO,SAAS,GAAG,CAAC,CAAC;IAClB,IAAInO,QAAQ,EAAE;MACV,IAAIxkD,IAAI,GAAG,IAAI,CAAC4yD,kBAAkB,CAACpO,QAAQ,CAAC;MAC5C,KAAK,IAAIzrD,GAAG,IAAIiH,IAAI,EAAE;QAClB2yD,SAAS,CAAC55D,GAAG,CAAC,GAAGyrD,QAAQ;MAC7B;IACJ;IACA,OAAOmO,SAAS;EACpB;EACAvB,oBAAoBA,CAACprC,UAAU,EAAE;IAC7B,OAAOpmB,OAAO,CAAComB,UAAU,CAAC/S,IAAI,EAAG2rC,QAAQ,IAAK,IAAI,CAACiU,kBAAkB,CAACjU,QAAQ,CAAC,CAAC;EACpF;EACA4S,gBAAgBA,CAACxrC,UAAU,EAAEksC,OAAO,EAAE;IAClC,IAAI;MAAEj/C,IAAI;MAAEurC;IAAU,CAAC,GAAGx4B,UAAU;IACpC,IAAI8sC,WAAW,GAAG,CAAC,CAAC;IACpB,KAAK,IAAIhkC,KAAK,IAAI7b,IAAI,EAAE;MACpB,KAAK,IAAIla,GAAG,IAAIm5D,OAAO,CAACpjC,KAAK,CAAC,EAAE;QAC5B,IAAI,CAACgkC,WAAW,CAAC/5D,GAAG,CAAC,EAAE;UACnB+5D,WAAW,CAAC/5D,GAAG,CAAC,GAAGsR,qBAAqB,CAAC,CAAC;QAC9C;QACAyoD,WAAW,CAAC/5D,GAAG,CAAC,CAACka,IAAI,CAAC6b,KAAK,CAAC,GAAG7b,IAAI,CAAC6b,KAAK,CAAC;MAC9C;IACJ;IACA,KAAK,IAAIqvB,UAAU,IAAIK,SAAS,EAAE;MAC9B,IAAIjrB,QAAQ,GAAGirB,SAAS,CAACL,UAAU,CAAC;MACpC,KAAK,IAAIplD,GAAG,IAAIm5D,OAAO,CAAC3+B,QAAQ,CAACzE,KAAK,CAAC,EAAE;QACrC,IAAIgkC,WAAW,CAAC/5D,GAAG,CAAC,EAAE;UAAE;UACpB+5D,WAAW,CAAC/5D,GAAG,CAAC,CAACylD,SAAS,CAACL,UAAU,CAAC,GAAG5qB,QAAQ;QACrD;MACJ;IACJ;IACA,OAAOu/B,WAAW;EACtB;EACApB,kBAAkBA,CAAC5mC,YAAY,EAAEonC,OAAO,EAAE;IACtC,IAAIa,WAAW,GAAG,CAAC,CAAC;IACpB,KAAK,IAAIjkC,KAAK,IAAIhE,YAAY,EAAE;MAC5B,IAAIgE,KAAK,EAAE;QAAE;QACT,KAAK,IAAI/1B,GAAG,IAAIm5D,OAAO,CAACpjC,KAAK,CAAC,EAAE;UAC5B,IAAI,CAACikC,WAAW,CAACh6D,GAAG,CAAC,EAAE;YACnBg6D,WAAW,CAACh6D,GAAG,CAAC,GAAG,CAAC,CAAC;UACzB;UACAg6D,WAAW,CAACh6D,GAAG,CAAC,CAAC+1B,KAAK,CAAC,GAAGhE,YAAY,CAACgE,KAAK,CAAC;QACjD;MACJ;IACJ;IACA,OAAOikC,WAAW;EACtB;EACAnB,iBAAiBA,CAACx7B,WAAW,EAAE;IAC3B,IAAI48B,WAAW,GAAG,CAAC,CAAC;IACpB,IAAI58B,WAAW,EAAE;MACb,IAAI68B,cAAc,GAAG,IAAI,CAACzB,gBAAgB,CAACp7B,WAAW,CAACjY,cAAc,EAAE,IAAI,CAACizC,oBAAoB,CAACh7B,WAAW,CAACjY,cAAc,CAAC,CAAC;MAC7H;MACA,IAAI+0C,kBAAkB,GAAG,IAAI,CAAC9B,oBAAoB,CAACh7B,WAAW,CAAChY,aAAa,CAAC;MAC7E,IAAI+0C,aAAa,GAAG,IAAI,CAAC3B,gBAAgB,CAACp7B,WAAW,CAAChY,aAAa,EAAE80C,kBAAkB,CAAC;MACxF,IAAIE,QAAQ,GAAIr6D,GAAG,IAAK;QACpB,IAAI,CAACi6D,WAAW,CAACj6D,GAAG,CAAC,EAAE;UACnBi6D,WAAW,CAACj6D,GAAG,CAAC,GAAG;YACfolB,cAAc,EAAE80C,cAAc,CAACl6D,GAAG,CAAC,IAAIk4D,iBAAiB;YACxD7yC,aAAa,EAAE+0C,aAAa,CAACp6D,GAAG,CAAC,IAAIk4D,iBAAiB;YACtD5yC,OAAO,EAAE+X,WAAW,CAAC/X;UACzB,CAAC;QACL;MACJ,CAAC;MACD,KAAK,IAAItlB,GAAG,IAAIk6D,cAAc,EAAE;QAC5BG,QAAQ,CAACr6D,GAAG,CAAC;MACjB;MACA,KAAK,IAAIA,GAAG,IAAIo6D,aAAa,EAAE;QAC3BC,QAAQ,CAACr6D,GAAG,CAAC;MACjB;IACJ;IACA,OAAOi6D,WAAW;EACtB;AACJ;AACA,SAASR,kBAAkBA,CAACa,KAAK,EAAEC,aAAa,EAAElB,YAAY,EAAE;EAC5D,IAAImB,SAAS,GAAG,EAAE;EAClB,IAAIF,KAAK,EAAE;IACPE,SAAS,CAAC3hE,IAAI,CAACyhE,KAAK,CAAC;EACzB;EACA,IAAIC,aAAa,EAAE;IACfC,SAAS,CAAC3hE,IAAI,CAAC0hE,aAAa,CAAC;EACjC;EACA,IAAIE,KAAK,GAAG;IACR,EAAE,EAAE1R,eAAe,CAACyR,SAAS;EACjC,CAAC;EACD,IAAInB,YAAY,EAAE;IACdj+D,MAAM,CAACwa,MAAM,CAAC6kD,KAAK,EAAEpB,YAAY,CAAC;EACtC;EACA,OAAOoB,KAAK;AAChB;AAEA,SAASC,WAAWA,CAACvqE,IAAI,EAAEuhE,UAAU,EAAE70B,OAAO,EAAEtb,WAAW,EAAE;EACzD,OAAO;IACH/M,GAAG,EAAErkB,IAAI,CAAC67B,SAAS,CAAC,CAAC;IACrB+L,UAAU,EAAE9M,OAAO,CAAC1J,WAAW,KAAK,CAACA,WAAW,CAACC,WAAW,IAAI,CAACnQ,mBAAmB,CAACkQ,WAAW,CAACC,WAAW,EAAErxB,IAAI,CAAC,CAAC,CAAC;IACrHwqE,OAAO,EAAE1vC,OAAO,CAAC1J,WAAW,IAAI,CAAClQ,mBAAmB,CAACkQ,WAAW,CAACkH,YAAY,EAAEt4B,IAAI,CAAC,CAAC;IACrF2hE,OAAO,EAAE7mC,OAAO,CAACymC,UAAU,IAAIrgD,mBAAmB,CAACqgD,UAAU,EAAEvhE,IAAI,CAAC,CAAC;IACrEyhE,MAAM,EAAE3mC,OAAO,CAAC4R,OAAO,GAAI1sC,IAAI,GAAG0sC,OAAO,GAAI60B,UAAU,GAAIvhE,IAAI,GAAGuhE,UAAU,CAAC5hE,KAAK,GAAI,KAAK,CAAC;IAC5F+hE,QAAQ,EAAE5mC,OAAO,CAAC4R,OAAO,GAAI1sC,IAAI,GAAG0sC,OAAO,GAAI60B,UAAU,GAAIvhE,IAAI,IAAIuhE,UAAU,CAAC3hE,GAAG,GAAI,KAAK;EAChG,CAAC;AACL;AACA,SAAS6qE,gBAAgBA,CAAC3xC,IAAI,EAAErD,KAAK,EAAE;EACnC,IAAI9H,UAAU,GAAG,CACb,QAAQ,EACP,UAASisB,OAAO,CAAC9gB,IAAI,CAACzU,GAAG,CAAE,EAAC,CAChC;EACD,IAAIyU,IAAI,CAAC8O,UAAU,EAAE;IACjBja,UAAU,CAACjlB,IAAI,CAAC,iBAAiB,CAAC;EACtC,CAAC,MACI;IACD,IAAIowB,IAAI,CAAC6oC,OAAO,EAAE;MACdh0C,UAAU,CAACjlB,IAAI,CAAC,cAAc,CAAC;MAC/BilB,UAAU,CAACjlB,IAAI,CAAC+sB,KAAK,CAACwS,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC5C;IACA,IAAInP,IAAI,CAAC2oC,MAAM,EAAE;MACb9zC,UAAU,CAACjlB,IAAI,CAAC,aAAa,CAAC;IAClC;IACA,IAAIowB,IAAI,CAAC4oC,QAAQ,EAAE;MACf/zC,UAAU,CAACjlB,IAAI,CAAC,eAAe,CAAC;IACpC;IACA,IAAIowB,IAAI,CAAC0xC,OAAO,EAAE;MACd78C,UAAU,CAACjlB,IAAI,CAAC,cAAc,CAAC;IACnC;EACJ;EACA,OAAOilB,UAAU;AACrB;AACA,SAAS+8C,iBAAiBA,CAAC5xC,IAAI,EAAErD,KAAK,EAAE;EACpC,IAAI9H,UAAU,GAAG,CACb,SAAS,EACR,WAAUisB,OAAO,CAAC9gB,IAAI,CAACzU,GAAG,CAAE,EAAC,CACjC;EACD,IAAIyU,IAAI,CAAC8O,UAAU,EAAE;IACjBja,UAAU,CAACjlB,IAAI,CAAC,kBAAkB,CAAC;EACvC,CAAC,MACI;IACD,IAAIowB,IAAI,CAAC6oC,OAAO,EAAE;MACdh0C,UAAU,CAACjlB,IAAI,CAAC,eAAe,CAAC;MAChCilB,UAAU,CAACjlB,IAAI,CAAC+sB,KAAK,CAACwS,QAAQ,CAAC,OAAO,CAAC,CAAC;IAC5C;IACA,IAAInP,IAAI,CAAC2oC,MAAM,EAAE;MACb9zC,UAAU,CAACjlB,IAAI,CAAC,cAAc,CAAC;IACnC;IACA,IAAIowB,IAAI,CAAC4oC,QAAQ,EAAE;MACf/zC,UAAU,CAACjlB,IAAI,CAAC,gBAAgB,CAAC;IACrC;EACJ;EACA,OAAOilB,UAAU;AACrB;AAEA,MAAMg9C,UAAU,GAAG/pD,eAAe,CAAC;EAAE+D,IAAI,EAAE,SAAS;EAAEE,KAAK,EAAE,MAAM;EAAEC,GAAG,EAAE;AAAU,CAAC,CAAC;AACtF,MAAM8lD,WAAW,GAAGhqD,eAAe,CAAC;EAAEwD,IAAI,EAAE;AAAO,CAAC,CAAC;AACrD,SAASymD,iBAAiBA,CAACrhE,OAAO,EAAEymB,UAAU,EAAE9D,QAAQ,GAAG,KAAK,EAAE2+C,UAAU,GAAG,IAAI,EAAE;EACjF,MAAM;IAAE36C,OAAO;IAAEvtB,OAAO;IAAEswB;EAAY,CAAC,GAAG1pB,OAAO;EACjD,IAAIuhE,OAAO,GAAG56C,OAAO,CAACwJ,MAAM,CAAC1J,UAAU,EAAE9D,QAAQ,KAAK,MAAM,GAAGy+C,WAAW,GAAGD,UAAU,CAAC;EACxF,IAAI/nE,OAAO,CAAC8kD,QAAQ,EAAE;IAClB,IAAIsjB,SAAS,GAAG76C,OAAO,CAACgI,MAAM,CAAClI,UAAU,CAAC;IAC1C,MAAMg7C,iBAAiB,GAAI7zC,EAAE,IAAK;MAC9B,IAAI8zC,YAAY,GAAG/+C,QAAQ,KAAK,KAAK,GAAGvpB,OAAO,CAACygD,eAAe,GAC3Dl3B,QAAQ,KAAK,MAAM,GAAGvpB,OAAO,CAAC0gD,gBAAgB,GAAG,IAAI;MACzD,IAAI,OAAO4nB,YAAY,KAAK,UAAU,EAAE;QACpCA,YAAY,CAACzlE,IAAI,CAACytB,WAAW,EAAE/C,OAAO,CAACgI,MAAM,CAAClI,UAAU,CAAC,EAAEmH,EAAE,CAAC;MAClE,CAAC,MACI;QACD,IAAI,OAAO8zC,YAAY,KAAK,QAAQ,EAAE;UAClC/+C,QAAQ,GAAG++C,YAAY;QAC3B;QACAh4C,WAAW,CAACqyC,MAAM,CAACt1C,UAAU,EAAE9D,QAAQ,CAAC;MAC5C;IACJ,CAAC;IACD,OAAOlhB,MAAM,CAACwa,MAAM,CAAC;MAAE7uB,KAAK,EAAEopB,kBAAkB,CAACpd,OAAO,CAACijB,WAAW,EAAE,CAACklD,OAAO,EAAEC,SAAS,CAAC,EAAED,OAAO,CAAC;MAAE,cAAc,EAAE;IAAG,CAAC,EAAGD,UAAU,GACjIt2B,oBAAoB,CAACy2B,iBAAiB,CAAC,GACvC;MAAE9iC,OAAO,EAAE8iC;IAAkB,CAAE,CAAC;EAC1C;EACA,OAAO;IAAE,YAAY,EAAEF;EAAQ,CAAC;AACpC;AAEA,IAAII,qBAAqB,GAAG,IAAI;AAChC,SAASC,uBAAuBA,CAAA,EAAG;EAC/B,IAAID,qBAAqB,KAAK,IAAI,EAAE;IAChCA,qBAAqB,GAAGE,2BAA2B,CAAC,CAAC;EACzD;EACA,OAAOF,qBAAqB;AAChC;AACA,SAASE,2BAA2BA,CAAA,EAAG;EACnC,IAAIC,OAAO,GAAGtiE,QAAQ,CAACtG,aAAa,CAAC,KAAK,CAAC;EAC3CwwC,UAAU,CAACo4B,OAAO,EAAE;IAChBvH,QAAQ,EAAE,UAAU;IACpBC,GAAG,EAAE,CAAC,IAAI;IACVnlE,IAAI,EAAE,CAAC;IACP0sE,MAAM,EAAE,CAAC;IACTC,OAAO,EAAE,CAAC;IACVC,QAAQ,EAAE,QAAQ;IAClBlnD,SAAS,EAAE;EACf,CAAC,CAAC;EACF+mD,OAAO,CAACv5D,SAAS,GAAG,aAAa;EACjC/I,QAAQ,CAAC8rC,IAAI,CAACjrC,WAAW,CAACyhE,OAAO,CAAC;EAClC,IAAII,OAAO,GAAGJ,OAAO,CAACr5D,UAAU;EAChC,IAAI2d,GAAG,GAAG87C,OAAO,CAACv0B,qBAAqB,CAAC,CAAC,CAACt4C,IAAI,GAAGysE,OAAO,CAACn0B,qBAAqB,CAAC,CAAC,CAACt4C,IAAI;EACrFmzC,aAAa,CAACs5B,OAAO,CAAC;EACtB,OAAO17C,GAAG;AACd;AAEA,IAAI+7C,gBAAgB;AACpB,SAASC,kBAAkBA,CAAA,EAAG;EAC1B,IAAI,CAACD,gBAAgB,EAAE;IACnBA,gBAAgB,GAAGE,sBAAsB,CAAC,CAAC;EAC/C;EACA,OAAOF,gBAAgB;AAC3B;AACA,SAASE,sBAAsBA,CAAA,EAAG;EAC9B,IAAItxD,EAAE,GAAGvR,QAAQ,CAACtG,aAAa,CAAC,KAAK,CAAC;EACtC6X,EAAE,CAACxK,KAAK,CAAC07D,QAAQ,GAAG,QAAQ;EAC5BlxD,EAAE,CAACxK,KAAK,CAACg0D,QAAQ,GAAG,UAAU;EAC9BxpD,EAAE,CAACxK,KAAK,CAACi0D,GAAG,GAAG,SAAS;EACxBzpD,EAAE,CAACxK,KAAK,CAAClR,IAAI,GAAG,SAAS;EACzBmK,QAAQ,CAAC8rC,IAAI,CAACjrC,WAAW,CAAC0Q,EAAE,CAAC;EAC7B,IAAIqV,GAAG,GAAGk8C,2BAA2B,CAACvxD,EAAE,CAAC;EACzCvR,QAAQ,CAAC8rC,IAAI,CAAChrC,WAAW,CAACyQ,EAAE,CAAC;EAC7B,OAAOqV,GAAG;AACd;AACA;AACA,SAASk8C,2BAA2BA,CAACvxD,EAAE,EAAE;EACrC,OAAO;IACHpU,CAAC,EAAEoU,EAAE,CAAC4pD,YAAY,GAAG5pD,EAAE,CAACwxD,YAAY;IACpCpnE,CAAC,EAAE4V,EAAE,CAACmvB,WAAW,GAAGnvB,EAAE,CAACyxD;EAC3B,CAAC;AACL;AAEA,SAASC,YAAYA,CAAC1xD,EAAE,EAAE2xD,UAAU,GAAG,KAAK,EAAE;EAC1C,IAAIC,aAAa,GAAGtxE,MAAM,CAACuxE,gBAAgB,CAAC7xD,EAAE,CAAC;EAC/C,IAAI8xD,UAAU,GAAGz0B,QAAQ,CAACu0B,aAAa,CAACG,eAAe,EAAE,EAAE,CAAC,IAAI,CAAC;EACjE,IAAIC,WAAW,GAAG30B,QAAQ,CAACu0B,aAAa,CAACK,gBAAgB,EAAE,EAAE,CAAC,IAAI,CAAC;EACnE,IAAIC,SAAS,GAAG70B,QAAQ,CAACu0B,aAAa,CAACO,cAAc,EAAE,EAAE,CAAC,IAAI,CAAC;EAC/D,IAAIC,YAAY,GAAG/0B,QAAQ,CAACu0B,aAAa,CAACS,iBAAiB,EAAE,EAAE,CAAC,IAAI,CAAC;EACrE,IAAIC,kBAAkB,GAAGf,2BAA2B,CAACvxD,EAAE,CAAC,CAAC,CAAC;EAC1D,IAAIuyD,kBAAkB,GAAGD,kBAAkB,CAACloE,CAAC,GAAG0nE,UAAU,GAAGE,WAAW;EACxE,IAAIQ,eAAe,GAAGF,kBAAkB,CAAC1mE,CAAC,GAAGsmE,SAAS,GAAGE,YAAY;EACrE,IAAI/8C,GAAG,GAAG;IACNy8C,UAAU;IACVE,WAAW;IACXE,SAAS;IACTE,YAAY;IACZI,eAAe;IACfC,aAAa,EAAE,CAAC;IAChBC,cAAc,EAAE;EACpB,CAAC;EACD,IAAI7B,uBAAuB,CAAC,CAAC,IAAIe,aAAa,CAAC5nD,SAAS,KAAK,KAAK,EAAE;IAAE;IAClEqL,GAAG,CAACo9C,aAAa,GAAGF,kBAAkB;EAC1C,CAAC,MACI;IACDl9C,GAAG,CAACq9C,cAAc,GAAGH,kBAAkB;EAC3C;EACA,IAAIZ,UAAU,EAAE;IACZt8C,GAAG,CAACs9C,WAAW,GAAGt1B,QAAQ,CAACu0B,aAAa,CAACe,WAAW,EAAE,EAAE,CAAC,IAAI,CAAC;IAC9Dt9C,GAAG,CAACu9C,YAAY,GAAGv1B,QAAQ,CAACu0B,aAAa,CAACgB,YAAY,EAAE,EAAE,CAAC,IAAI,CAAC;IAChEv9C,GAAG,CAACw9C,UAAU,GAAGx1B,QAAQ,CAACu0B,aAAa,CAACiB,UAAU,EAAE,EAAE,CAAC,IAAI,CAAC;IAC5Dx9C,GAAG,CAAC0Z,aAAa,GAAGsO,QAAQ,CAACu0B,aAAa,CAAC7iC,aAAa,EAAE,EAAE,CAAC,IAAI,CAAC;EACtE;EACA,OAAO1Z,GAAG;AACd;AACA,SAASy9C,gBAAgBA,CAAC9yD,EAAE,EAAE+yD,eAAe,GAAG,KAAK,EAAEC,oBAAoB,EAAE;EACzE,IAAIC,SAAS,GAAGD,oBAAoB,GAAGhzD,EAAE,CAAC48B,qBAAqB,CAAC,CAAC,GAAGs2B,WAAW,CAAClzD,EAAE,CAAC;EACnF,IAAImzD,KAAK,GAAGzB,YAAY,CAAC1xD,EAAE,EAAE+yD,eAAe,CAAC;EAC7C,IAAI19C,GAAG,GAAG;IACN/wB,IAAI,EAAE2uE,SAAS,CAAC3uE,IAAI,GAAG6uE,KAAK,CAACrB,UAAU,GAAGqB,KAAK,CAACV,aAAa;IAC7DjuE,KAAK,EAAEyuE,SAAS,CAACzuE,KAAK,GAAG2uE,KAAK,CAACnB,WAAW,GAAGmB,KAAK,CAACT,cAAc;IACjEjJ,GAAG,EAAEwJ,SAAS,CAACxJ,GAAG,GAAG0J,KAAK,CAACjB,SAAS;IACpCtF,MAAM,EAAEqG,SAAS,CAACrG,MAAM,GAAGuG,KAAK,CAACf,YAAY,GAAGe,KAAK,CAACX;EAC1D,CAAC;EACD,IAAIO,eAAe,EAAE;IACjB19C,GAAG,CAAC/wB,IAAI,IAAI6uE,KAAK,CAACR,WAAW;IAC7Bt9C,GAAG,CAAC7wB,KAAK,IAAI2uE,KAAK,CAACP,YAAY;IAC/Bv9C,GAAG,CAACo0C,GAAG,IAAI0J,KAAK,CAACN,UAAU;IAC3Bx9C,GAAG,CAACu3C,MAAM,IAAIuG,KAAK,CAACpkC,aAAa;EACrC;EACA,OAAO1Z,GAAG;AACd;AACA,SAAS69C,WAAWA,CAAClzD,EAAE,EAAE;EACrB,IAAI2sD,IAAI,GAAG3sD,EAAE,CAAC48B,qBAAqB,CAAC,CAAC;EACrC,OAAO;IACHt4C,IAAI,EAAEqoE,IAAI,CAACroE,IAAI,GAAGhE,MAAM,CAAC8yE,OAAO;IAChC3J,GAAG,EAAEkD,IAAI,CAAClD,GAAG,GAAGnpE,MAAM,CAAC+yE,OAAO;IAC9B7uE,KAAK,EAAEmoE,IAAI,CAACnoE,KAAK,GAAGlE,MAAM,CAAC8yE,OAAO;IAClCxG,MAAM,EAAED,IAAI,CAACC,MAAM,GAAGtsE,MAAM,CAAC+yE;EACjC,CAAC;AACL;AACA,SAASC,wBAAwBA,CAACtzD,EAAE,EAAE;EAClC,IAAIuzD,eAAe,GAAGC,kBAAkB,CAACxzD,EAAE,CAAC;EAC5C,IAAI2sD,IAAI,GAAG3sD,EAAE,CAAC48B,qBAAqB,CAAC,CAAC;EACrC,KAAK,IAAI62B,cAAc,IAAIF,eAAe,EAAE;IACxC,IAAIG,YAAY,GAAG7G,cAAc,CAACF,IAAI,EAAE8G,cAAc,CAAC72B,qBAAqB,CAAC,CAAC,CAAC;IAC/E,IAAI82B,YAAY,EAAE;MACd/G,IAAI,GAAG+G,YAAY;IACvB,CAAC,MACI;MACD,OAAO,IAAI;IACf;EACJ;EACA,OAAO/G,IAAI;AACf;AACA;AACA,SAAS6G,kBAAkBA,CAACxzD,EAAE,EAAE;EAC5B,IAAIw4B,OAAO,GAAG,EAAE;EAChB,OAAOx4B,EAAE,YAAYm4B,WAAW,EAAE;IAAE;IAChC,IAAIy5B,aAAa,GAAGtxE,MAAM,CAACuxE,gBAAgB,CAAC7xD,EAAE,CAAC;IAC/C,IAAI4xD,aAAa,CAACpI,QAAQ,KAAK,OAAO,EAAE;MACpC;IACJ;IACA,IAAK,eAAe,CAAEl5D,IAAI,CAACshE,aAAa,CAACV,QAAQ,GAAGU,aAAa,CAAC+B,SAAS,GAAG/B,aAAa,CAACgC,SAAS,CAAC,EAAE;MACpGp7B,OAAO,CAACrqC,IAAI,CAAC6R,EAAE,CAAC;IACpB;IACAA,EAAE,GAAGA,EAAE,CAAC5Q,UAAU;EACtB;EACA,OAAOopC,OAAO;AAClB;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMq7B,aAAa,CAAC;EAChBz3E,WAAWA,CAAC03E,QAAQ,EAAEC,GAAG,EAAEC,YAAY,EAAEC,UAAU,EAAE;IACjD,IAAI,CAACF,GAAG,GAAGA,GAAG;IACd,IAAIG,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,GAAGJ,QAAQ,CAACl3B,qBAAqB,CAAC,CAAC,CAAC,CAAC;IACjF,IAAIo3B,YAAY,EAAE;MACd,IAAI,CAACG,kBAAkB,CAACD,gBAAgB,CAAC5vE,IAAI,CAAC;IAClD;IACA,IAAI2vE,UAAU,EAAE;MACZ,IAAI,CAACG,gBAAgB,CAACF,gBAAgB,CAACzK,GAAG,CAAC;IAC/C;EACJ;EACA;EACA0K,kBAAkBA,CAACE,gBAAgB,EAAE;IACjC,IAAIC,KAAK,GAAG,EAAE;IACd,IAAIC,MAAM,GAAG,EAAE;IACf,KAAK,IAAIv0D,EAAE,IAAI,IAAI,CAAC+zD,GAAG,EAAE;MACrB,IAAIpH,IAAI,GAAG3sD,EAAE,CAAC48B,qBAAqB,CAAC,CAAC;MACrC03B,KAAK,CAACnmE,IAAI,CAACw+D,IAAI,CAACroE,IAAI,GAAG+vE,gBAAgB,CAAC;MACxCE,MAAM,CAACpmE,IAAI,CAACw+D,IAAI,CAACnoE,KAAK,GAAG6vE,gBAAgB,CAAC;IAC9C;IACA,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACxB;EACA;EACAH,gBAAgBA,CAACI,eAAe,EAAE;IAC9B,IAAIC,IAAI,GAAG,EAAE;IACb,IAAIC,OAAO,GAAG,EAAE;IAChB,KAAK,IAAI10D,EAAE,IAAI,IAAI,CAAC+zD,GAAG,EAAE;MACrB,IAAIpH,IAAI,GAAG3sD,EAAE,CAAC48B,qBAAqB,CAAC,CAAC;MACrC63B,IAAI,CAACtmE,IAAI,CAACw+D,IAAI,CAAClD,GAAG,GAAG+K,eAAe,CAAC;MACrCE,OAAO,CAACvmE,IAAI,CAACw+D,IAAI,CAACC,MAAM,GAAG4H,eAAe,CAAC;IAC/C;IACA,IAAI,CAACC,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,OAAO,GAAGA,OAAO;EAC1B;EACA;EACA;EACAC,WAAWA,CAACC,YAAY,EAAE;IACtB,IAAI;MAAEN,KAAK;MAAEC;IAAO,CAAC,GAAG,IAAI;IAC5B,IAAIt4B,GAAG,GAAGq4B,KAAK,CAAC9nE,MAAM;IACtB,IAAI1D,CAAC;IACL,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmzC,GAAG,EAAEnzC,CAAC,IAAI,CAAC,EAAE;MACzB,IAAI8rE,YAAY,IAAIN,KAAK,CAACxrE,CAAC,CAAC,IAAI8rE,YAAY,GAAGL,MAAM,CAACzrE,CAAC,CAAC,EAAE;QACtD,OAAOA,CAAC;MACZ;IACJ;IACA,OAAOrM,SAAS,CAAC,CAAC;EACtB;EACA;EACA;EACAo4E,UAAUA,CAACC,WAAW,EAAE;IACpB,IAAI;MAAEL,IAAI;MAAEC;IAAQ,CAAC,GAAG,IAAI;IAC5B,IAAIz4B,GAAG,GAAGw4B,IAAI,CAACjoE,MAAM;IACrB,IAAI1D,CAAC;IACL,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmzC,GAAG,EAAEnzC,CAAC,IAAI,CAAC,EAAE;MACzB,IAAIgsE,WAAW,IAAIL,IAAI,CAAC3rE,CAAC,CAAC,IAAIgsE,WAAW,GAAGJ,OAAO,CAAC5rE,CAAC,CAAC,EAAE;QACpD,OAAOA,CAAC;MACZ;IACJ;IACA,OAAOrM,SAAS,CAAC,CAAC;EACtB;EACA;EACAs4E,QAAQA,CAACC,SAAS,EAAE;IAChB,OAAO,IAAI,CAACT,MAAM,CAACS,SAAS,CAAC,GAAG,IAAI,CAACV,KAAK,CAACU,SAAS,CAAC;EACzD;EACA;EACAC,SAASA,CAACC,QAAQ,EAAE;IAChB,OAAO,IAAI,CAACR,OAAO,CAACQ,QAAQ,CAAC,GAAG,IAAI,CAACT,IAAI,CAACS,QAAQ,CAAC;EACvD;EACAC,SAASA,CAACC,UAAU,EAAE;IAClB,OAAOC,gBAAgB,CAAC,IAAI,CAACZ,IAAI,IAAI,EAAE,EAAEW,UAAU,CAACX,IAAI,IAAI,EAAE,CAAC,IAC3DY,gBAAgB,CAAC,IAAI,CAACX,OAAO,IAAI,EAAE,EAAEU,UAAU,CAACV,OAAO,IAAI,EAAE,CAAC,IAC9DW,gBAAgB,CAAC,IAAI,CAACf,KAAK,IAAI,EAAE,EAAEc,UAAU,CAACd,KAAK,IAAI,EAAE,CAAC,IAC1De,gBAAgB,CAAC,IAAI,CAACd,MAAM,IAAI,EAAE,EAAEa,UAAU,CAACb,MAAM,IAAI,EAAE,CAAC;EACpE;AACJ;AACA,SAASc,gBAAgBA,CAAC/rE,CAAC,EAAEkB,CAAC,EAAE;EAC5B,MAAMyxC,GAAG,GAAG3yC,CAAC,CAACkD,MAAM;EACpB,IAAIyvC,GAAG,KAAKzxC,CAAC,CAACgC,MAAM,EAAE;IAClB,OAAO,KAAK;EAChB;EACA,KAAK,IAAI1D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmzC,GAAG,EAAEnzC,CAAC,EAAE,EAAE;IAC1B,IAAI2nB,IAAI,CAAC2vB,KAAK,CAAC92C,CAAC,CAACR,CAAC,CAAC,CAAC,KAAK2nB,IAAI,CAAC2vB,KAAK,CAAC51C,CAAC,CAAC1B,CAAC,CAAC,CAAC,EAAE;MACvC,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMwsE,gBAAgB,CAAC;EACnBC,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACC,eAAe,CAAC,CAAC,GAAG,IAAI,CAACC,eAAe,CAAC,CAAC;EAC1D;EACAC,gBAAgBA,CAAA,EAAG;IACf,OAAO,IAAI,CAACC,cAAc,CAAC,CAAC,GAAG,IAAI,CAACC,cAAc,CAAC,CAAC;EACxD;EACAC,mBAAmBA,CAAA,EAAG;IAClB,OAAO,IAAI,CAACN,eAAe,CAAC,CAAC,GAAG,CAAC;EACrC;EACAO,qBAAqBA,CAAA,EAAG;IACpB,OAAO,IAAI,CAACJ,gBAAgB,CAAC,CAAC,GAAG,CAAC;EACtC;EACAK,WAAWA,CAAA,EAAG;IACV,OAAO,IAAI,CAACC,YAAY,CAAC,CAAC,GAAG,CAAC;EAClC;EACAC,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACD,YAAY,CAAC,CAAC,GAAG,IAAI,CAACT,eAAe,CAAC,CAAC;EACvD;EACAW,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACC,aAAa,CAAC,CAAC,GAAG,CAAC;EACnC;EACAC,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACD,aAAa,CAAC,CAAC,GAAG,IAAI,CAACT,gBAAgB,CAAC,CAAC;EACzD;AACJ;AACA,MAAMW,uBAAuB,SAASf,gBAAgB,CAAC;EACnDl5E,WAAWA,CAAC4jB,EAAE,EAAE;IACZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACA,EAAE,GAAGA,EAAE;EAChB;EACAg2D,YAAYA,CAAA,EAAG;IACX,OAAO,IAAI,CAACh2D,EAAE,CAACs2D,SAAS;EAC5B;EACAH,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACn2D,EAAE,CAACu2D,UAAU;EAC7B;EACAC,YAAYA,CAAC/M,GAAG,EAAE;IACd,IAAI,CAACzpD,EAAE,CAACs2D,SAAS,GAAG7M,GAAG;EAC3B;EACAgN,aAAaA,CAACnyE,IAAI,EAAE;IAChB,IAAI,CAAC0b,EAAE,CAACu2D,UAAU,GAAGjyE,IAAI;EAC7B;EACAqxE,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAAC31D,EAAE,CAAC02D,WAAW;EAC9B;EACAlB,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACx1D,EAAE,CAAC22D,YAAY;EAC/B;EACAlB,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACz1D,EAAE,CAACwxD,YAAY;EAC/B;EACAoE,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAAC51D,EAAE,CAACyxD,WAAW;EAC9B;AACJ;AACA,MAAMmF,sBAAsB,SAAStB,gBAAgB,CAAC;EAClDU,YAAYA,CAAA,EAAG;IACX,OAAO11E,MAAM,CAAC+yE,OAAO;EACzB;EACA8C,aAAaA,CAAA,EAAG;IACZ,OAAO71E,MAAM,CAAC8yE,OAAO;EACzB;EACAoD,YAAYA,CAACtuE,CAAC,EAAE;IACZ5H,MAAM,CAACu2E,MAAM,CAACv2E,MAAM,CAAC8yE,OAAO,EAAElrE,CAAC,CAAC;EACpC;EACAuuE,aAAaA,CAACvuE,CAAC,EAAE;IACb5H,MAAM,CAACu2E,MAAM,CAAC3uE,CAAC,EAAE5H,MAAM,CAAC+yE,OAAO,CAAC;EACpC;EACAsC,cAAcA,CAAA,EAAG;IACb,OAAOlnE,QAAQ,CAACipC,eAAe,CAACg/B,WAAW;EAC/C;EACAlB,eAAeA,CAAA,EAAG;IACd,OAAO/mE,QAAQ,CAACipC,eAAe,CAACi/B,YAAY;EAChD;EACAlB,eAAeA,CAAA,EAAG;IACd,OAAOhnE,QAAQ,CAACipC,eAAe,CAAC85B,YAAY;EAChD;EACAoE,cAAcA,CAAA,EAAG;IACb,OAAOnnE,QAAQ,CAACipC,eAAe,CAAC+5B,WAAW;EAC/C;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMqF,aAAa,SAAShyD,aAAa,CAAC;EACtC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACo+B,GAAG,GAAG3sB,IAAI,CAAC,CAAC;EACrB;EACA;EACA;EACAoyD,WAAWA,CAAA,EAAG,CACd;EACAC,QAAQA,CAACC,YAAY,EAAEC,WAAW,EAAEC,OAAO,EAAEC,QAAQ,EAAE;IACnD,OAAO,IAAI,CAAC,CAAC;EACjB;EACA;EACA;EACA3nC,gBAAgBA,CAACzvB,EAAE,EAAE;IACjB,OAAO,CAAC,IAAI,CAACjV,KAAK,CAAC08B,SAAS;IAAI;IAC5B,CAAC,IAAI,CAAC18B,KAAK,CAAC28B,WAAW;IAAI;IAC3B,CAAC9f,cAAc,CAAC5H,EAAE,EAAE,kBAAkB,CAAC;EAC/C;EACAq3D,iBAAiBA,CAACr3D,EAAE,EAAE;IAClB,OAAO,CAAC4H,cAAc,CAAC5H,EAAE,EAAE,6BAA6B,CAAC,IACrD,CAAC4H,cAAc,CAAC5H,EAAE,EAAE,eAAe,CAAC;IAAI;IACxC,CAAC4H,cAAc,CAAC5H,EAAE,EAAE,iBAAiB,CAAC;IAAI;IAC1C,CAAC4H,cAAc,CAAC5H,EAAE,EAAE,aAAa,CAAC,CAAC,CAAC;EAC5C;AACJ;;AAEA,MAAMs3D,iBAAiB,CAAC;EACpBl7E,WAAWA,CAACuoD,YAAY,EAAE;IACtB,IAAI,CAACA,YAAY,GAAGA,YAAY;EACpC;AACJ;AAEA,MAAM4yB,YAAY,CAAC;EACfn7E,WAAWA,CAACo7E,iBAAiB,GAAIC,KAAK,IAAK;IACvC;IACA,OAAOA,KAAK,CAACC,SAAS,IAAI,CAAC;EAC/B,CAAC,EAAE;IACC,IAAI,CAACF,iBAAiB,GAAGA,iBAAiB;IAC1C;IACA,IAAI,CAACG,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC,CAAC,CAAC;IACvB,IAAI,CAACC,WAAW,GAAG,EAAE,CAAC,CAAC;IACvB,IAAI,CAACC,cAAc,GAAG,EAAE,CAAC,CAAC;IAC1B,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;EACzB;;EACAC,OAAOA,CAAC54D,MAAM,EAAE;IACZ,IAAI64D,aAAa,GAAG,EAAE;IACtB,KAAK,IAAIn8D,KAAK,IAAIsD,MAAM,EAAE;MACtB,IAAI,CAAC84D,WAAW,CAACp8D,KAAK,EAAEm8D,aAAa,CAAC;IAC1C;IACA,OAAOA,aAAa;EACxB;EACAC,WAAWA,CAACX,KAAK,EAAEU,aAAa,EAAE;IAC9B,IAAI9xB,SAAS,GAAG,IAAI,CAACgyB,aAAa,CAACZ,KAAK,CAAC;IACzC,IAAI,IAAI,CAACa,gBAAgB,CAACjyB,SAAS,EAAEoxB,KAAK,CAAC,EAAE;MACzC,IAAI,CAACc,aAAa,CAACd,KAAK,EAAEpxB,SAAS,CAAC;IACxC,CAAC,MACI;MACD,IAAI,CAACmyB,sBAAsB,CAACnyB,SAAS,EAAEoxB,KAAK,EAAEU,aAAa,CAAC;IAChE;EACJ;EACAG,gBAAgBA,CAACjyB,SAAS,EAAEoxB,KAAK,EAAE;IAC/B,OAAO,CAAC,IAAI,CAACI,QAAQ,KAAK,CAAC,CAAC,IAAIxxB,SAAS,CAACoyB,UAAU,GAAG,IAAI,CAACjB,iBAAiB,CAACC,KAAK,CAAC,IAAI,IAAI,CAACI,QAAQ,MAChG,IAAI,CAACC,WAAW,KAAK,CAAC,CAAC,IAAIzxB,SAAS,CAACqyB,QAAQ,GAAG,IAAI,CAACZ,WAAW,CAAC;EAC1E;EACAU,sBAAsBA,CAACnyB,SAAS,EAAEoxB,KAAK,EAAEU,aAAa,EAAE;IACpD,IAAI,IAAI,CAACP,cAAc,IAAIvxB,SAAS,CAACsyB,aAAa,EAAE;MAChD,MAAMC,WAAW,GAAGloE,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEusD,KAAK,CAAC,EAAE;QAAEvP,IAAI,EAAE2Q,cAAc,CAACpB,KAAK,CAACvP,IAAI,EAAE7hB,SAAS,CAACsyB,aAAa,CAACzQ,IAAI;MAAE,CAAC,CAAC;MAC/HiQ,aAAa,CAAChqE,IAAI,CAACyqE,WAAW,CAAC;MAC/B,IAAI,CAACE,UAAU,CAACrB,KAAK,EAAEpxB,SAAS,CAACsyB,aAAa,EAAER,aAAa,CAAC;IAClE,CAAC,MACI;MACDA,aAAa,CAAChqE,IAAI,CAACspE,KAAK,CAAC;IAC7B;EACJ;EACA;AACJ;AACA;EACIqB,UAAUA,CAACrB,KAAK,EAAEsB,OAAO,EAAEZ,aAAa,EAAE;IACtC,IAAIa,SAAS,GAAGvB,KAAK,CAACvP,IAAI;IAC1B,IAAI+Q,WAAW,GAAGF,OAAO,CAAC7Q,IAAI;IAC9B,IAAI8Q,SAAS,CAAC5zE,KAAK,GAAG6zE,WAAW,CAAC7zE,KAAK,EAAE;MACrC,IAAI,CAACgzE,WAAW,CAAC;QACb11D,KAAK,EAAE+0D,KAAK,CAAC/0D,KAAK;QAClBg1D,SAAS,EAAED,KAAK,CAACC,SAAS;QAC1BxP,IAAI,EAAE;UAAE9iE,KAAK,EAAE4zE,SAAS,CAAC5zE,KAAK;UAAEC,GAAG,EAAE4zE,WAAW,CAAC7zE;QAAM;MAC3D,CAAC,EAAE+yE,aAAa,CAAC;IACrB;IACA,IAAIa,SAAS,CAAC3zE,GAAG,GAAG4zE,WAAW,CAAC5zE,GAAG,EAAE;MACjC,IAAI,CAAC+yE,WAAW,CAAC;QACb11D,KAAK,EAAE+0D,KAAK,CAAC/0D,KAAK;QAClBg1D,SAAS,EAAED,KAAK,CAACC,SAAS;QAC1BxP,IAAI,EAAE;UAAE9iE,KAAK,EAAE6zE,WAAW,CAAC5zE,GAAG;UAAEA,GAAG,EAAE2zE,SAAS,CAAC3zE;QAAI;MACvD,CAAC,EAAE8yE,aAAa,CAAC;IACrB;EACJ;EACAI,aAAaA,CAACd,KAAK,EAAEpxB,SAAS,EAAE;IAC5B,IAAI;MAAE2xB,cAAc;MAAED;IAAY,CAAC,GAAG,IAAI;IAC1C,IAAI1xB,SAAS,CAAC6yB,OAAO,KAAK,CAAC,CAAC,EAAE;MAC1B;MACAC,QAAQ,CAACpB,WAAW,EAAE1xB,SAAS,CAAC+yB,KAAK,EAAE/yB,SAAS,CAACoyB,UAAU,CAAC;MAC5DU,QAAQ,CAACnB,cAAc,EAAE3xB,SAAS,CAAC+yB,KAAK,EAAE,CAAC3B,KAAK,CAAC,CAAC;IACtD,CAAC,MACI;MACD;MACA0B,QAAQ,CAACnB,cAAc,CAAC3xB,SAAS,CAAC+yB,KAAK,CAAC,EAAE/yB,SAAS,CAAC6yB,OAAO,EAAEzB,KAAK,CAAC;IACvE;IACA,IAAI,CAACQ,SAAS,CAACoB,aAAa,CAAC5B,KAAK,CAAC,CAAC,GAAGpxB,SAAS,CAACqyB,QAAQ;EAC7D;EACA;AACJ;AACA;EACIL,aAAaA,CAACiB,QAAQ,EAAE;IACpB,IAAI;MAAEvB,WAAW;MAAEC,cAAc;MAAEL,WAAW;MAAEM;IAAU,CAAC,GAAG,IAAI;IAClE,IAAIsB,QAAQ,GAAGxB,WAAW,CAACvrE,MAAM;IACjC,IAAIgtE,cAAc,GAAG,CAAC;IACtB,IAAIC,aAAa,GAAG,CAAC,CAAC;IACtB,IAAIC,eAAe,GAAG,CAAC,CAAC;IACxB,IAAIf,aAAa,GAAG,IAAI;IACxB,IAAID,QAAQ,GAAG,CAAC;IAChB,KAAK,IAAIiB,aAAa,GAAG,CAAC,EAAEA,aAAa,GAAGJ,QAAQ,EAAEI,aAAa,IAAI,CAAC,EAAE;MACtE,MAAMC,aAAa,GAAG7B,WAAW,CAAC4B,aAAa,CAAC;MAChD;MACA;MACA,IAAI,CAAChC,WAAW,IAAIiC,aAAa,IAAIJ,cAAc,GAAG,IAAI,CAAChC,iBAAiB,CAAC8B,QAAQ,CAAC,EAAE;QACpF;MACJ;MACA,IAAIO,eAAe,GAAG7B,cAAc,CAAC2B,aAAa,CAAC;MACnD,IAAIG,aAAa;MACjB,IAAIC,SAAS,GAAGC,YAAY,CAACH,eAAe,EAAEP,QAAQ,CAACpR,IAAI,CAAC9iE,KAAK,EAAE60E,eAAe,CAAC,CAAC,CAAC;MACrF,IAAIC,YAAY,GAAGH,SAAS,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;MAChD;MAAQ;MACR,CAACD,aAAa,GAAGD,eAAe,CAACK,YAAY,CAAC;MAAK;MAC/CJ,aAAa,CAAC5R,IAAI,CAAC9iE,KAAK,GAAGk0E,QAAQ,CAACpR,IAAI,CAAC7iE,GAAG,CAAC;MAAA,EAC/C;QACE,IAAI80E,mBAAmB,GAAGP,aAAa,GAAG,IAAI,CAACpC,iBAAiB,CAACsC,aAAa,CAAC;QAC/E;QACA,IAAIK,mBAAmB,GAAGX,cAAc,EAAE;UACtCA,cAAc,GAAGW,mBAAmB;UACpCxB,aAAa,GAAGmB,aAAa;UAC7BL,aAAa,GAAGE,aAAa;UAC7BD,eAAe,GAAGQ,YAAY;QAClC;QACA;QACA,IAAIC,mBAAmB,KAAKX,cAAc,EAAE;UACxC;UACAd,QAAQ,GAAGjoD,IAAI,CAACC,GAAG,CAACgoD,QAAQ,EAAET,SAAS,CAACoB,aAAa,CAACS,aAAa,CAAC,CAAC,GAAG,CAAC,CAAC;QAC9E;QACAI,YAAY,IAAI,CAAC;MACrB;IACJ;IACA;IACA,IAAIE,SAAS,GAAG,CAAC;IACjB,IAAIzB,aAAa,EAAE;MACfyB,SAAS,GAAGX,aAAa,GAAG,CAAC;MAC7B,OAAOW,SAAS,GAAGb,QAAQ,IAAIxB,WAAW,CAACqC,SAAS,CAAC,GAAGZ,cAAc,EAAE;QACpEY,SAAS,IAAI,CAAC;MAClB;IACJ;IACA;IACA,IAAIC,WAAW,GAAG,CAAC,CAAC;IACpB,IAAID,SAAS,GAAGb,QAAQ,IAAIxB,WAAW,CAACqC,SAAS,CAAC,KAAKZ,cAAc,EAAE;MACnEa,WAAW,GAAGL,YAAY,CAAChC,cAAc,CAACoC,SAAS,CAAC,EAAEd,QAAQ,CAACpR,IAAI,CAAC7iE,GAAG,EAAE40E,eAAe,CAAC,CAAC,CAAC,CAAC;IAChG;IACA,OAAO;MACHR,aAAa;MACbC,eAAe;MACff,aAAa;MACbD,QAAQ;MACRD,UAAU,EAAEe,cAAc;MAC1BJ,KAAK,EAAEgB,SAAS;MAChBlB,OAAO,EAAEmB;IACb,CAAC;EACL;EACA;EACAC,OAAOA,CAAA,EAAG;IACN,IAAI;MAAEtC,cAAc;MAAED;IAAY,CAAC,GAAG,IAAI;IAC1C,IAAIwB,QAAQ,GAAGvB,cAAc,CAACxrE,MAAM;IACpC,IAAI+tE,KAAK,GAAG,EAAE;IACd,KAAK,IAAInB,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGG,QAAQ,EAAEH,KAAK,IAAI,CAAC,EAAE;MAC9C,IAAIoB,OAAO,GAAGxC,cAAc,CAACoB,KAAK,CAAC;MACnC,IAAIX,UAAU,GAAGV,WAAW,CAACqB,KAAK,CAAC;MACnC,KAAK,IAAI3B,KAAK,IAAI+C,OAAO,EAAE;QACvBD,KAAK,CAACpsE,IAAI,CAACuC,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEusD,KAAK,CAAC,EAAE;UAAEC,SAAS,EAAE,IAAI,CAACF,iBAAiB,CAACC,KAAK,CAAC;UAAEgB;QAAW,CAAC,CAAC,CAAC;MACjH;IACJ;IACA,OAAO8B,KAAK;EAChB;AACJ;AACA,SAASN,eAAeA,CAACxC,KAAK,EAAE;EAC5B,OAAOA,KAAK,CAACvP,IAAI,CAAC7iE,GAAG;AACzB;AACA,SAASg0E,aAAaA,CAAC5B,KAAK,EAAE;EAC1B,OAAOA,KAAK,CAAC/0D,KAAK,GAAG,GAAG,GAAG+0D,KAAK,CAACvP,IAAI,CAAC9iE,KAAK;AAC/C;AACA;AACA,SAASq1E,wBAAwBA,CAACD,OAAO,EAAE;EACvC,IAAIE,MAAM,GAAG,EAAE;EACf,KAAK,IAAIjD,KAAK,IAAI+C,OAAO,EAAE;IACvB,IAAIG,cAAc,GAAG,EAAE;IACvB,IAAIC,WAAW,GAAG;MACd1S,IAAI,EAAEuP,KAAK,CAACvP,IAAI;MAChBsS,OAAO,EAAE,CAAC/C,KAAK;IACnB,CAAC;IACD,KAAK,IAAIoD,KAAK,IAAIH,MAAM,EAAE;MACtB,IAAI7B,cAAc,CAACgC,KAAK,CAAC3S,IAAI,EAAE0S,WAAW,CAAC1S,IAAI,CAAC,EAAE;QAC9C0S,WAAW,GAAG;UACVJ,OAAO,EAAEK,KAAK,CAACL,OAAO,CAACniE,MAAM,CAACuiE,WAAW,CAACJ,OAAO,CAAC;UAClDtS,IAAI,EAAE4S,SAAS,CAACD,KAAK,CAAC3S,IAAI,EAAE0S,WAAW,CAAC1S,IAAI;QAChD,CAAC;MACL,CAAC,MACI;QACDyS,cAAc,CAACxsE,IAAI,CAAC0sE,KAAK,CAAC;MAC9B;IACJ;IACAF,cAAc,CAACxsE,IAAI,CAACysE,WAAW,CAAC;IAChCF,MAAM,GAAGC,cAAc;EAC3B;EACA,OAAOD,MAAM;AACjB;AACA,SAASI,SAASA,CAACzS,KAAK,EAAEC,KAAK,EAAE;EAC7B,OAAO;IACHljE,KAAK,EAAEqrB,IAAI,CAAC0wB,GAAG,CAACknB,KAAK,CAACjjE,KAAK,EAAEkjE,KAAK,CAACljE,KAAK,CAAC;IACzCC,GAAG,EAAEorB,IAAI,CAACC,GAAG,CAAC23C,KAAK,CAAChjE,GAAG,EAAEijE,KAAK,CAACjjE,GAAG;EACtC,CAAC;AACL;AACA,SAASwzE,cAAcA,CAACxQ,KAAK,EAAEC,KAAK,EAAE;EAClC,IAAIljE,KAAK,GAAGqrB,IAAI,CAACC,GAAG,CAAC23C,KAAK,CAACjjE,KAAK,EAAEkjE,KAAK,CAACljE,KAAK,CAAC;EAC9C,IAAIC,GAAG,GAAGorB,IAAI,CAAC0wB,GAAG,CAACknB,KAAK,CAAChjE,GAAG,EAAEijE,KAAK,CAACjjE,GAAG,CAAC;EACxC,IAAID,KAAK,GAAGC,GAAG,EAAE;IACb,OAAO;MAAED,KAAK;MAAEC;IAAI,CAAC;EACzB;EACA,OAAO,IAAI;AACf;AACA;AACA;AACA,SAAS8zE,QAAQA,CAAC7nB,GAAG,EAAE5uC,KAAK,EAAEstC,IAAI,EAAE;EAChCsB,GAAG,CAAC9hD,MAAM,CAACkT,KAAK,EAAE,CAAC,EAAEstC,IAAI,CAAC;AAC9B;AACA,SAASgqB,YAAYA,CAAC1wE,CAAC,EAAEyxE,SAAS,EAAEC,UAAU,EAAE;EAC5C,IAAInqB,UAAU,GAAG,CAAC;EAClB,IAAIC,QAAQ,GAAGxnD,CAAC,CAACkD,MAAM,CAAC,CAAC;EACzB,IAAI,CAACskD,QAAQ,IAAIiqB,SAAS,GAAGC,UAAU,CAAC1xE,CAAC,CAACunD,UAAU,CAAC,CAAC,EAAE;IAAE;IACtD,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;EACjB;EACA,IAAIkqB,SAAS,GAAGC,UAAU,CAAC1xE,CAAC,CAACwnD,QAAQ,GAAG,CAAC,CAAC,CAAC,EAAE;IAAE;IAC3C,OAAO,CAACA,QAAQ,EAAE,CAAC,CAAC;EACxB;EACA,OAAOD,UAAU,GAAGC,QAAQ,EAAE;IAC1B,IAAImqB,WAAW,GAAGxqD,IAAI,CAAC8wB,KAAK,CAACsP,UAAU,GAAG,CAACC,QAAQ,GAAGD,UAAU,IAAI,CAAC,CAAC;IACtE,IAAIqqB,SAAS,GAAGF,UAAU,CAAC1xE,CAAC,CAAC2xE,WAAW,CAAC,CAAC;IAC1C,IAAIF,SAAS,GAAGG,SAAS,EAAE;MACvBpqB,QAAQ,GAAGmqB,WAAW;IAC1B,CAAC,MACI,IAAIF,SAAS,GAAGG,SAAS,EAAE;MAC5BrqB,UAAU,GAAGoqB,WAAW,GAAG,CAAC;IAChC,CAAC,MACI;MAAE;MACH,OAAO,CAACA,WAAW,EAAE,CAAC,CAAC;IAC3B;EACJ;EACA,OAAO,CAACpqB,UAAU,EAAE,CAAC,CAAC;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMsqB,eAAe,CAAC;EAClB/+E,WAAWA,CAAC4jB,EAAE,EAAElC,QAAQ,EAAE;IACtB,IAAI,CAACokB,OAAO,GAAG,IAAIxb,OAAO,CAAC,CAAC;EAChC;EACAzE,OAAOA,CAAA,EAAG,CACV;EACAm5D,kBAAkBA,CAACC,IAAI,EAAE;IACrB;EAAA;EAEJC,oBAAoBA,CAACD,IAAI,EAAE;IACvB;EAAA;EAEJE,oBAAoBA,CAACF,IAAI,EAAE;IACvB;EAAA;AAER;;AAEA;AACA;AACA,MAAMG,MAAM,GAAG,CAAC,CAAC;;AAEjB;AACA;AACA;AACA;AACA,MAAMC,kBAAkB,GAAG;EACvB17C,SAAS,EAAE5a,cAAc;EACzB4O,QAAQ,EAAE5O,cAAc;EACxBowC,MAAM,EAAEh1B,OAAO;EACfnJ,QAAQ,EAAE0H;AACd,CAAC;AACD,SAAS48C,aAAaA,CAACpvD,GAAG,EAAE;EACxB,IAAI;IAAE8R,OAAO;IAAE6K;EAAM,CAAC,GAAGwmB,WAAW,CAACnjC,GAAG,EAAEmvD,kBAAkB,CAAC;EAC7D,OAAO;IACH17C,SAAS,EAAE3B,OAAO,CAAC2B,SAAS,IAAI,IAAI;IACpChM,QAAQ,EAAEqK,OAAO,CAACrK,QAAQ,IAAI,IAAI;IAClCwhC,MAAM,EAAEn3B,OAAO,CAACm3B,MAAM,IAAI,IAAI,GAAGn3B,OAAO,CAACm3B,MAAM,GAAG,IAAI;IACtDn+B,QAAQ,EAAEgH,OAAO,CAAChH,QAAQ;IAC1BukD,aAAa,EAAE1yC;EACnB,CAAC;AACL;;AAEA;AACA,SAAS2yC,2BAA2BA,CAACC,oBAAoB,EAAErjB,MAAM,EAAE;EAC/D;EACA;EACA,IAAI,CAACqjB,oBAAoB,IAAIrjB,MAAM,GAAG,EAAE,EAAE;IACtC,OAAOnyC,eAAe,CAAC;MAAEw+B,OAAO,EAAE;IAAQ,CAAC,CAAC,CAAC,CAAC;EAClD;;EACA,IAAI2T,MAAM,GAAG,CAAC,EAAE;IACZ,OAAOnyC,eAAe,CAAC;MAAEw+B,OAAO,EAAE,OAAO;MAAEv6B,KAAK,EAAE,SAAS;MAAEC,GAAG,EAAE,SAAS;MAAEk6B,UAAU,EAAE;IAAK,CAAC,CAAC,CAAC,CAAC;EACtG;;EACA,OAAOp+B,eAAe,CAAC;IAAEw+B,OAAO,EAAE;EAAO,CAAC,CAAC,CAAC,CAAC;AACjD;;AAEA,MAAMi3B,UAAU,GAAG,oBAAoB,CAAC,CAAC;AACzC,SAASC,aAAaA,CAACriE,WAAW,EAAE;EAChC,OAAOA,WAAW,CAACwjB,IAAI;AAC3B;;AAEA;AACA,MAAM8+C,aAAa,SAASl3D,aAAa,CAAC;EACtCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEitB,OAAO;MAAEvtB,OAAO;MAAE6yB,KAAK;MAAEmH;IAAQ,CAAC,GAAG,IAAI,CAACpzB,OAAO;IACvD,IAAI;MAAElE;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEtF,IAAI;MAAEoxB;IAAY,CAAC,GAAG9rB,KAAK;IACjC,IAAIkxE,OAAO,GAAGjM,WAAW,CAACvqE,IAAI,EAAEsF,KAAK,CAACi8D,UAAU,EAAE,IAAI,EAAEnwC,WAAW,CAAC;IACpE,IAAIzD,UAAU,GAAG,CAAC0oD,UAAU,CAAC,CAACzjE,MAAM,CAAC63D,gBAAgB,CAAC+L,OAAO,EAAE/gD,KAAK,CAAC,CAAC;IACtE,IAAIgC,IAAI,GAAGtH,OAAO,CAACwJ,MAAM,CAAC35B,IAAI,EAAEsF,KAAK,CAAC4+C,eAAe,CAAC;IACtD;IACA,IAAIuyB,YAAY,GAAI,CAACD,OAAO,CAAC5uC,UAAU,IAAItiC,KAAK,CAACoxE,MAAM,GAAG,CAAC,GACrD7L,iBAAiB,CAAC,IAAI,CAACrhE,OAAO,EAAExJ,IAAI,CAAC,GACrC,CAAC,CAAC;IACR,IAAI22E,UAAU,GAAGxmD,OAAO,CAACgI,MAAM,CAACn4B,IAAI,CAAC;IACrC;IACA;IACA,IAAImwB,OAAO,CAACmV,iBAAiB,EAAE;MAC3BqxC,UAAU,GAAG38B,KAAK,CAAC28B,UAAU,EAAE,OAAO,CAAC,CAAC,CAAC;IAC7C;;IACA,IAAI1iE,WAAW,GAAGhJ,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;MAAEzlB,IAAI,EAAE22E,UAAU;MAAEh6C,IAAI,EAAEC;IAAQ,CAAC,EAAEt3B,KAAK,CAACsxE,gBAAgB,CAAC,EAAE;MAAEn/C;IAAK,CAAC,CAAC,EAAE++C,OAAO,CAAC;IAC7I,OAAQ9zE,qDAAa,CAAC6c,gBAAgB,EAAE;MAAE1J,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE6Z,UAAU;MAAE7X,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAAC;QAAEztB,IAAI,EAAE,cAAc;QAAE6+E,OAAO,EAAEvxE,KAAK,CAACuxE,OAAO;QAAE,WAAW,EAAE,CAACL,OAAO,CAAC5uC,UAAU,GAAGuV,eAAe,CAACn9C,IAAI,CAAC,GAAGhJ;MAAU,CAAC,EAAEsO,KAAK,CAACwxE,cAAc,CAAC;MAAE7iE,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,kBAAkB;MAAEC,eAAe,EAAE7qB,OAAO,CAAC8a,gBAAgB;MAAE0yC,gBAAgB,EAAEkmB,aAAa;MAAE5oD,kBAAkB,EAAE9qB,OAAO,CAACuhD,mBAAmB;MAAEv2B,QAAQ,EAAEhrB,OAAO,CAACwhD,iBAAiB;MAAEv2B,WAAW,EAAEjrB,OAAO,CAACyhD;IAAqB,CAAC,EAAG0yB,cAAc,IAAMr0E,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAA2B,CAAC,EAAE,CAAC4pE,OAAO,CAAC5uC,UAAU,IAAKllC,qDAAa,CAACq0E,cAAc,EAAE;MAAElhE,KAAK,EAAE,GAAG;MAAEC,OAAO,EAAE2gE,YAAY;MAAE3iE,SAAS,EAAE,CACnrB,4BAA4B,EAC5BxO,KAAK,CAAC0xE,QAAQ,IAAI,WAAW;IAC/B,CAAC,CAAE,CAAE,CAAC;EAChB;AACJ;AAEA,MAAMC,cAAc,GAAGr2D,eAAe,CAAC;EAAEw+B,OAAO,EAAE;AAAO,CAAC,CAAC;AAC3D,MAAM83B,YAAY,SAAS73D,aAAa,CAAC;EACrCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE6qB,OAAO;MAAEsF,KAAK;MAAEmH,OAAO;MAAEh6B;IAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;IACvD,IAAIxJ,IAAI,GAAGwgB,OAAO,CAAC,IAAIhK,IAAI,CAAC,SAAS,CAAC,EAAElR,KAAK,CAAC+e,GAAG,CAAC,CAAC,CAAC;IACpD,IAAI2qB,QAAQ,GAAG;MACX3qB,GAAG,EAAE/e,KAAK,CAAC+e,GAAG;MACdujB,UAAU,EAAE,KAAK;MACjB85B,QAAQ,EAAE,KAAK;MACfD,MAAM,EAAE,KAAK;MACbE,OAAO,EAAE,KAAK;MACd6I,OAAO,EAAE;IACb,CAAC;IACD,IAAI/yC,IAAI,GAAGtH,OAAO,CAACwJ,MAAM,CAAC35B,IAAI,EAAEsF,KAAK,CAAC4+C,eAAe,CAAC;IACtD,IAAIjwC,WAAW,GAAGhJ,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;MAAE;MACxEzlB;IAAK,CAAC,EAAEgvC,QAAQ,CAAC,EAAE;MAAErS,IAAI,EAAEC;IAAQ,CAAC,CAAC,EAAEt3B,KAAK,CAACsxE,gBAAgB,CAAC,EAAE;MAAEn/C;IAAK,CAAC,CAAC;IAC7E,OAAQ/0B,qDAAa,CAAC6c,gBAAgB,EAAE;MAAE1J,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE,CAC1DuiE,UAAU,EACV,GAAG5L,gBAAgB,CAACz7B,QAAQ,EAAEvZ,KAAK,CAAC,EACpC,IAAInwB,KAAK,CAAC6rD,eAAe,IAAI,EAAE,CAAC,CACnC;MAAEr7C,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAAC;QAAEztB,IAAI,EAAE,cAAc;QAAE6+E,OAAO,EAAEvxE,KAAK,CAACuxE;MAAQ,CAAC,EAAEvxE,KAAK,CAACwxE,cAAc,CAAC;MAAE7iE,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,kBAAkB;MAAEC,eAAe,EAAE7qB,OAAO,CAAC8a,gBAAgB;MAAE0yC,gBAAgB,EAAEkmB,aAAa;MAAE5oD,kBAAkB,EAAE9qB,OAAO,CAACuhD,mBAAmB;MAAEv2B,QAAQ,EAAEhrB,OAAO,CAACwhD,iBAAiB;MAAEv2B,WAAW,EAAEjrB,OAAO,CAACyhD;IAAqB,CAAC,EAAG+M,YAAY,IAAM1uD,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAA2B,CAAC,EAChclK,qDAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,GAAG;MAAE/B,SAAS,EAAE,CAC7C,4BAA4B,EAC5BxO,KAAK,CAAC0xE,QAAQ,IAAI,WAAW,CAChC;MAAElhE,OAAO,EAAE;QACR,YAAY,EAAEqa,OAAO,CAACwJ,MAAM,CAAC35B,IAAI,EAAEi3E,cAAc;MACrD;IAAE,CAAC,CAAC,CAAE,CAAC;EACnB;AACJ;AAEA,MAAME,SAAS,SAAS93D,aAAa,CAAC;EAClC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAAC2pE,wBAAwB,GAAGt2D,OAAO,CAACs2D,wBAAwB,CAAC;EACrE;EACAl0E,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEsG;IAAQ,CAAC,GAAG,IAAI;IACtB,IAAI;MAAE6tE,KAAK;MAAEjmD,WAAW;MAAEglD,oBAAoB;MAAEkB;IAAY,CAAC,GAAG,IAAI,CAAChyE,KAAK;IAC1E,IAAI4+C,eAAe,GAAG,IAAI,CAACkzB,wBAAwB,CAAC5tE,OAAO,CAAC5G,OAAO,CAACshD,eAAe,EAAEkyB,oBAAoB,EAAEiB,KAAK,CAACtwE,MAAM,CAAC;IACxH,OAAQrE,qDAAa,CAACugB,QAAQ,EAAE;MAAE0C,IAAI,EAAE;IAAM,CAAC,EAAE,CAAC+mB,OAAO,EAAE60B,UAAU,KAAM7+D,qDAAa,CAAC,IAAI,EAAE;MAAE1K,IAAI,EAAE;IAAM,CAAC,EAC1Gs/E,WAAW,IAAIA,WAAW,CAAC,KAAK,CAAC,EACjCD,KAAK,CAAC1wE,GAAG,CAAE3G,IAAI,IAAMo2E,oBAAoB,GAAI1zE,qDAAa,CAAC6zE,aAAa,EAAE;MAAE1mE,GAAG,EAAE7P,IAAI,CAACi9C,WAAW,CAAC,CAAC;MAAEj9C,IAAI,EAAEA,IAAI;MAAEoxB,WAAW,EAAEA,WAAW;MAAEmwC,UAAU,EAAEA,UAAU;MAAEmV,MAAM,EAAEW,KAAK,CAACtwE,MAAM;MAAEm9C,eAAe,EAAEA;IAAgB,CAAC,CAAC,GAAKxhD,qDAAa,CAACw0E,YAAY,EAAE;MAAErnE,GAAG,EAAE7P,IAAI,CAAC67B,SAAS,CAAC,CAAC;MAAExX,GAAG,EAAErkB,IAAI,CAAC67B,SAAS,CAAC,CAAC;MAAEqoB,eAAe,EAAEA;IAAgB,CAAC,CAAG,CAAC,CAAE,CAAC;EAC9V;AACJ;AACA,SAASkzB,wBAAwBA,CAACG,cAAc,EAAEnB,oBAAoB,EAAEoB,OAAO,EAAE;EAC7E,OAAOD,cAAc,IAAIpB,2BAA2B,CAACC,oBAAoB,EAAEoB,OAAO,CAAC;AACvF;AAEA,MAAMC,cAAc,CAAC;EACjB9gF,WAAWA,CAAC48B,KAAK,EAAE1C,oBAAoB,EAAE;IACrC,IAAI7wB,IAAI,GAAGuzB,KAAK,CAAC5zB,KAAK;IACtB,IAAI;MAAEC;IAAI,CAAC,GAAG2zB,KAAK;IACnB,IAAImkD,OAAO,GAAG,EAAE;IAChB,IAAIL,KAAK,GAAG,EAAE;IACd,IAAIM,QAAQ,GAAG,CAAC,CAAC;IACjB,OAAO33E,IAAI,GAAGJ,GAAG,EAAE;MAAE;MACjB,IAAIixB,oBAAoB,CAAC0jC,WAAW,CAACv0D,IAAI,CAAC,EAAE;QACxC03E,OAAO,CAAChvE,IAAI,CAACivE,QAAQ,GAAG,GAAG,CAAC,CAAC,CAAC;MAClC,CAAC,MACI;QACDA,QAAQ,IAAI,CAAC;QACbD,OAAO,CAAChvE,IAAI,CAACivE,QAAQ,CAAC;QACtBN,KAAK,CAAC3uE,IAAI,CAAC1I,IAAI,CAAC;MACpB;MACAA,IAAI,GAAGwgB,OAAO,CAACxgB,IAAI,EAAE,CAAC,CAAC;IAC3B;IACA,IAAI,CAACq3E,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACK,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACE,GAAG,GAAGP,KAAK,CAACtwE,MAAM;EAC3B;EACA8wE,UAAUA,CAACtkD,KAAK,EAAE;IACd,IAAIukD,UAAU,GAAG,IAAI,CAACC,eAAe,CAACxkD,KAAK,CAAC5zB,KAAK,CAAC,CAAC,CAAC;IACpD,IAAIq4E,SAAS,GAAG,IAAI,CAACD,eAAe,CAACv3D,OAAO,CAAC+S,KAAK,CAAC3zB,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9D,IAAIq4E,iBAAiB,GAAGjtD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE6sD,UAAU,CAAC;IAC/C,IAAII,gBAAgB,GAAGltD,IAAI,CAAC0wB,GAAG,CAAC,IAAI,CAACk8B,GAAG,GAAG,CAAC,EAAEI,SAAS,CAAC;IACxD;IACAC,iBAAiB,GAAGjtD,IAAI,CAACmtD,IAAI,CAACF,iBAAiB,CAAC,CAAC,CAAC;IAClDC,gBAAgB,GAAGltD,IAAI,CAAC8wB,KAAK,CAACo8B,gBAAgB,CAAC,CAAC,CAAC;IACjD,IAAID,iBAAiB,IAAIC,gBAAgB,EAAE;MACvC,OAAO;QACHJ,UAAU,EAAEG,iBAAiB;QAC7BD,SAAS,EAAEE,gBAAgB;QAC3BzY,OAAO,EAAEqY,UAAU,KAAKG,iBAAiB;QACzCvY,KAAK,EAAEsY,SAAS,KAAKE;MACzB,CAAC;IACL;IACA,OAAO,IAAI;EACf;EACA;EACA;EACA;EACA;EACA;EACAH,eAAeA,CAAC/3E,IAAI,EAAE;IAClB,IAAI;MAAE03E;IAAQ,CAAC,GAAG,IAAI;IACtB,IAAIU,SAAS,GAAGptD,IAAI,CAAC8wB,KAAK,CAAC1B,QAAQ,CAAC,IAAI,CAACi9B,KAAK,CAAC,CAAC,CAAC,EAAEr3E,IAAI,CAAC,CAAC;IACzD,IAAIo4E,SAAS,GAAG,CAAC,EAAE;MACf,OAAOV,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC;IACzB;IACA,IAAIU,SAAS,IAAIV,OAAO,CAAC3wE,MAAM,EAAE;MAC7B,OAAO2wE,OAAO,CAACA,OAAO,CAAC3wE,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;IAC1C;IACA,OAAO2wE,OAAO,CAACU,SAAS,CAAC;EAC7B;AACJ;AAEA,MAAMC,aAAa,CAAC;EAChB1hF,WAAWA,CAAC2hF,SAAS,EAAEC,YAAY,EAAE;IACjC,IAAI;MAAElB;IAAM,CAAC,GAAGiB,SAAS;IACzB,IAAIE,UAAU;IACd,IAAI50C,QAAQ;IACZ,IAAI60C,MAAM;IACV,IAAIF,YAAY,EAAE;MACd;MACA30C,QAAQ,GAAGyzC,KAAK,CAAC,CAAC,CAAC,CAACx7C,SAAS,CAAC,CAAC;MAC/B,KAAK28C,UAAU,GAAG,CAAC,EAAEA,UAAU,GAAGnB,KAAK,CAACtwE,MAAM,EAAEyxE,UAAU,IAAI,CAAC,EAAE;QAC7D,IAAInB,KAAK,CAACmB,UAAU,CAAC,CAAC38C,SAAS,CAAC,CAAC,KAAK+H,QAAQ,EAAE;UAC5C;QACJ;MACJ;MACA60C,MAAM,GAAGztD,IAAI,CAACmtD,IAAI,CAACd,KAAK,CAACtwE,MAAM,GAAGyxE,UAAU,CAAC;IACjD,CAAC,MACI;MACDC,MAAM,GAAG,CAAC;MACVD,UAAU,GAAGnB,KAAK,CAACtwE,MAAM;IAC7B;IACA,IAAI,CAAC0xE,MAAM,GAAGA,MAAM;IACpB,IAAI,CAAC/B,MAAM,GAAG8B,UAAU;IACxB,IAAI,CAACF,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACI,KAAK,GAAG,IAAI,CAACC,UAAU,CAAC,CAAC;IAC9B,IAAI,CAACC,WAAW,GAAG,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC9C;EACAF,UAAUA,CAAA,EAAG;IACT,IAAIG,IAAI,GAAG,EAAE;IACb,KAAK,IAAIC,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,IAAI,CAACN,MAAM,EAAEM,GAAG,IAAI,CAAC,EAAE;MAC3C,IAAIL,KAAK,GAAG,EAAE;MACd,KAAK,IAAIM,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,IAAI,CAACtC,MAAM,EAAEsC,GAAG,IAAI,CAAC,EAAE;QAC3CN,KAAK,CAAChwE,IAAI,CAAC,IAAI,CAACuwE,SAAS,CAACF,GAAG,EAAEC,GAAG,CAAC,CAAC;MACxC;MACAF,IAAI,CAACpwE,IAAI,CAACgwE,KAAK,CAAC;IACpB;IACA,OAAOI,IAAI;EACf;EACAG,SAASA,CAACF,GAAG,EAAEC,GAAG,EAAE;IAChB,IAAIh5E,IAAI,GAAG,IAAI,CAACs4E,SAAS,CAACjB,KAAK,CAAC0B,GAAG,GAAG,IAAI,CAACrC,MAAM,GAAGsC,GAAG,CAAC;IACxD,OAAO;MACHnpE,GAAG,EAAE7P,IAAI,CAACi9C,WAAW,CAAC,CAAC;MACvBj9C;IACJ,CAAC;EACL;EACA64E,gBAAgBA,CAAA,EAAG;IACf,IAAIxB,KAAK,GAAG,EAAE;IACd,KAAK,IAAI2B,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAG,IAAI,CAACtC,MAAM,EAAEsC,GAAG,IAAI,CAAC,EAAE;MAC3C3B,KAAK,CAAC3uE,IAAI,CAAC,IAAI,CAACgwE,KAAK,CAAC,CAAC,CAAC,CAACM,GAAG,CAAC,CAACh5E,IAAI,CAAC;IACvC;IACA,OAAOq3E,KAAK;EAChB;EACAQ,UAAUA,CAACtkD,KAAK,EAAE;IACd,IAAI;MAAEmjD;IAAO,CAAC,GAAG,IAAI;IACrB,IAAIwC,SAAS,GAAG,IAAI,CAACZ,SAAS,CAACT,UAAU,CAACtkD,KAAK,CAAC;IAChD,IAAI2sC,IAAI,GAAG,EAAE;IACb,IAAIgZ,SAAS,EAAE;MACX,IAAI;QAAEpB,UAAU;QAAEE;MAAU,CAAC,GAAGkB,SAAS;MACzC,IAAIj8D,KAAK,GAAG66D,UAAU;MACtB,OAAO76D,KAAK,IAAI+6D,SAAS,EAAE;QACvB,IAAIe,GAAG,GAAG/tD,IAAI,CAAC8wB,KAAK,CAAC7+B,KAAK,GAAGy5D,MAAM,CAAC;QACpC,IAAIyC,SAAS,GAAGnuD,IAAI,CAAC0wB,GAAG,CAAC,CAACq9B,GAAG,GAAG,CAAC,IAAIrC,MAAM,EAAEsB,SAAS,GAAG,CAAC,CAAC;QAC3D9X,IAAI,CAACx3D,IAAI,CAAC;UACNqwE,GAAG;UACHK,QAAQ,EAAEn8D,KAAK,GAAGy5D,MAAM;UACxB2C,OAAO,EAAE,CAACF,SAAS,GAAG,CAAC,IAAIzC,MAAM;UACjCjX,OAAO,EAAEyZ,SAAS,CAACzZ,OAAO,IAAIxiD,KAAK,KAAK66D,UAAU;UAClDpY,KAAK,EAAEwZ,SAAS,CAACxZ,KAAK,IAAKyZ,SAAS,GAAG,CAAC,KAAMnB;QAClD,CAAC,CAAC;QACF/6D,KAAK,GAAGk8D,SAAS;MACrB;IACJ;IACA,OAAOjZ,IAAI;EACf;AACJ;AAEA,MAAMoZ,MAAM,CAAC;EACT3iF,WAAWA,CAAA,EAAG;IACV,IAAI,CAAC4iF,kBAAkB,GAAGz4D,OAAO,CAAC,IAAI,CAAC04D,mBAAmB,CAAC;IAC3D,IAAI,CAACC,kBAAkB,GAAG34D,OAAO,CAAC,IAAI,CAAC44D,cAAc,CAAC;IACtD,IAAI,CAAC51D,eAAe,GAAGhD,OAAO,CAAC,IAAI,CAAC64D,gBAAgB,CAAC;IACrD,IAAI,CAACC,cAAc,GAAG94D,OAAO,CAAC,IAAI,CAAC+4D,iBAAiB,CAAC;IACrD,IAAI,CAACC,gBAAgB,GAAGh5D,OAAO,CAAC,IAAI,CAAC+4D,iBAAiB,CAAC;IACvD,IAAI,CAACE,kBAAkB,GAAG,KAAK,CAAC,CAAC;EACrC;;EACAC,UAAUA,CAAC10E,KAAK,EAAE8rB,WAAW,EAAE7D,gBAAgB,EAAE/jB,OAAO,EAAE,GAAGywE,SAAS,EAAE;IACpE,IAAI;MAAEr4C;IAAa,CAAC,GAAGt8B,KAAK;IAC5B,IAAI40E,SAAS,GAAG,IAAI,CAACp2D,eAAe,CAACxe,KAAK,CAACw3B,UAAU,EAAE8E,YAAY,EAAExQ,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,CAAC;IACjH,OAAO;MACHE,iBAAiB,EAAE,IAAI,CAACV,kBAAkB,CAACn0E,KAAK,CAACw8B,aAAa,EAAE1Q,WAAW,EAAE7D,gBAAgB,EAAEqU,YAAY,EAAEp4B,OAAO,EAAE,GAAGywE,SAAS,CAAC;MACnIG,gBAAgB,EAAE,IAAI,CAACb,kBAAkB,CAACj0E,KAAK,CAACq8B,aAAa,EAAEvQ,WAAW,EAAE7D,gBAAgB,EAAE/jB,OAAO,EAAE,GAAGywE,SAAS,CAAC;MACpHI,WAAW,EAAEH,SAAS,CAACtqC,EAAE;MACzB0qC,WAAW,EAAEJ,SAAS,CAACta,EAAE;MACzB59B,SAAS,EAAE,IAAI,CAAC43C,cAAc,CAACt0E,KAAK,CAAC08B,SAAS,EAAEJ,YAAY,EAAExQ,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,CAAC;MAC1Gh4C,WAAW,EAAE,IAAI,CAAC63C,gBAAgB,CAACx0E,KAAK,CAAC28B,WAAW,EAAEL,YAAY,EAAExQ,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,CAAC;MAChHl4C,cAAc,EAAEz8B,KAAK,CAACy8B;IAC1B,CAAC,CAAC,CAAC;EACP;;EACAw4C,YAAYA;EAAC;EACbv6E,IAAI,EAAEoxB,WAAW,EAAE7D,gBAAgB,EAAE/jB,OAAO,EAAE,GAAGywE,SAAS,EAAE;IACxD,OAAO,IAAI,CAACP,cAAc,CAAC;MAAEnmD,KAAK,EAAE;QAAE5zB,KAAK,EAAEK,IAAI;QAAEJ,GAAG,EAAEo6C,KAAK,CAACh6C,IAAI,EAAE,CAAC;MAAE,CAAC;MAAE2vC,MAAM,EAAE;IAAM,CAAC;IAAE;IAC3Fve,WAAW,EAAE7D,gBAAgB,EAAE,CAAC,CAAC,EAAE/jB,OAAO,EAAE,GAAGywE,SAAS,CAAC;EAC7D;EACAT,mBAAmBA,CAAC73C,aAAa,EAAEvQ,WAAW,EAAE7D,gBAAgB,EAAE/jB,OAAO,EAAE,GAAGywE,SAAS,EAAE;IACrF,IAAI,CAACt4C,aAAa,EAAE;MAChB,OAAO,EAAE;IACb;IACA,OAAO,IAAI,CAACg4C,gBAAgB,CAACtkB,eAAe,CAAC1zB,aAAa,EAAE64C,kBAAkB,CAACppD,WAAW,EAAE0J,OAAO,CAACvN,gBAAgB,CAAC,CAAC,EAAE/jB,OAAO,CAAC,EAAE,CAAC,CAAC,EAAE4nB,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,CAAC,CAACra,EAAE;EACzL;EACA+Z,gBAAgBA,CAAC78C,UAAU,EAAE8E,YAAY,EAAExQ,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,EAAE;IACpF,IAAIn9C,UAAU,EAAE;MACZ,IAAI29C,QAAQ,GAAG32D,eAAe,CAACgZ,UAAU,EAAE8E,YAAY,EAAE44C,kBAAkB,CAACppD,WAAW,EAAE0J,OAAO,CAACvN,gBAAgB,CAAC,CAAC,EAAEA,gBAAgB,CAAC;MACtI,OAAO;QACHqyC,EAAE,EAAE,IAAI,CAAC8a,gBAAgB,CAACD,QAAQ,CAAC7a,EAAE,EAAEqa,SAAS,CAAC;QACjDrqC,EAAE,EAAE,IAAI,CAAC8qC,gBAAgB,CAACD,QAAQ,CAAC7qC,EAAE,EAAEqqC,SAAS;MACpD,CAAC;IACL;IACA,OAAO;MAAEra,EAAE,EAAE,EAAE;MAAEhwB,EAAE,EAAE;IAAG,CAAC;EAC7B;EACAiqC,iBAAiBA,CAAC3sC,WAAW,EAAEtL,YAAY,EAAExQ,WAAW,EAAE7D,gBAAgB,EAAE,GAAG0sD,SAAS,EAAE;IACtF,IAAI,CAAC/sC,WAAW,EAAE;MACd,OAAO,IAAI;IACf;IACA,IAAIutC,QAAQ,GAAG32D,eAAe,CAACopB,WAAW,CAAChY,aAAa,EAAE0M,YAAY,EAAE44C,kBAAkB,CAACppD,WAAW,EAAE0J,OAAO,CAACvN,gBAAgB,CAAC,CAAC,EAAEA,gBAAgB,CAAC;IACrJ,OAAO;MACH2yC,IAAI,EAAE,IAAI,CAACwa,gBAAgB,CAACD,QAAQ,CAAC7qC,EAAE,EAAEqqC,SAAS,CAAC;MACnDU,iBAAiB,EAAEztC,WAAW,CAACjY,cAAc,CAACqgC,SAAS;MACvDngC,OAAO,EAAE+X,WAAW,CAAC/X;IACzB,CAAC;EACL;EACAukD,cAAcA,CAACpe,QAAQ,EAAElqC,WAAW,EAAE7D,gBAAgB,EAAEqU,YAAY,EAAEp4B,OAAO,EAAE,GAAGywE,SAAS,EAAE;IACzF,IAAI,CAAC3e,QAAQ,EAAE;MACX,OAAO,EAAE;IACb;IACA,IAAIjqC,WAAW,GAAGmpD,kBAAkB,CAACppD,WAAW,EAAE0J,OAAO,CAACvN,gBAAgB,CAAC,CAAC;IAC5E,IAAIqtD,mBAAmB,GAAGt6D,eAAe,CAACg7C,QAAQ,CAAC/nC,KAAK,EAAElC,WAAW,CAAC;IACtE,IAAIupD,mBAAmB,EAAE;MACrBtf,QAAQ,GAAGrwD,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE61C,QAAQ,CAAC,EAAE;QAAE/nC,KAAK,EAAEqnD;MAAoB,CAAC,CAAC;MACrF,IAAIxwC,UAAU,GAAG44B,mBAAmB,CAAC1H,QAAQ,EAAE15B,YAAY,EAAEp4B,OAAO,CAAC;MACrE,IAAI02D,IAAI,GAAG,IAAI,CAAC2X,UAAU,CAACvc,QAAQ,CAAC/nC,KAAK,EAAE,GAAG0mD,SAAS,CAAC;MACxD,KAAK,IAAIlwC,GAAG,IAAIm2B,IAAI,EAAE;QAClBn2B,GAAG,CAACK,UAAU,GAAGA,UAAU;MAC/B;MACA,OAAO81B,IAAI;IACf;IACA,OAAO,EAAE;EACb;EACA;AACJ;AACA;EACIwa,gBAAgBA,CAACG,WAAW,EAAEZ,SAAS,EAAE;IACrC,IAAI/Z,IAAI,GAAG,EAAE;IACb,KAAK,IAAI91B,UAAU,IAAIywC,WAAW,EAAE;MAChC3a,IAAI,CAACx3D,IAAI,CAAC,GAAG,IAAI,CAACoyE,eAAe,CAAC1wC,UAAU,EAAE6vC,SAAS,CAAC,CAAC;IAC7D;IACA,OAAO/Z,IAAI;EACf;EACA;AACJ;AACA;EACI4a,eAAeA,CAAC1wC,UAAU,EAAE6vC,SAAS,EAAE;IACnC,IAAI/nB,SAAS,GAAG9nB,UAAU,CAAC7W,KAAK;IAChC;IACA,IAAI,IAAI,CAACwmD,kBAAkB,IAAI3vC,UAAU,CAAC1E,EAAE,CAAC5sB,OAAO,KAAK,WAAW,EAAE;MAClEo5C,SAAS,GAAG;QACRvyD,KAAK,EAAEuyD,SAAS,CAACvyD,KAAK;QACtBC,GAAG,EAAE4gB,OAAO,CAAC0xC,SAAS,CAACvyD,KAAK,EAAE,CAAC;MACnC,CAAC;IACL;IACA,IAAIugE,IAAI,GAAG,IAAI,CAAC2X,UAAU,CAAC3lB,SAAS,EAAE,GAAG+nB,SAAS,CAAC;IACnD,KAAK,IAAIlwC,GAAG,IAAIm2B,IAAI,EAAE;MAClBn2B,GAAG,CAACK,UAAU,GAAGA,UAAU;MAC3BL,GAAG,CAAC01B,OAAO,GAAGr1B,UAAU,CAACq1B,OAAO,IAAI11B,GAAG,CAAC01B,OAAO;MAC/C11B,GAAG,CAAC21B,KAAK,GAAGt1B,UAAU,CAACs1B,KAAK,IAAI31B,GAAG,CAAC21B,KAAK;IAC7C;IACA,OAAOQ,IAAI;EACf;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,SAASsa,kBAAkBA,CAACppD,WAAW,EAAE2pD,iBAAiB,EAAE;EACxD,IAAIxnD,KAAK,GAAGnC,WAAW,CAACC,WAAW;EACnC,IAAI0pD,iBAAiB,EAAE;IACnB,OAAOxnD,KAAK;EAChB;EACA,OAAO;IACH5zB,KAAK,EAAEq6C,KAAK,CAACzmB,KAAK,CAAC5zB,KAAK,EAAEyxB,WAAW,CAACmT,WAAW,CAAC5I,YAAY,CAAC;IAC/D/7B,GAAG,EAAEo6C,KAAK,CAACzmB,KAAK,CAAC3zB,GAAG,EAAEwxB,WAAW,CAACoT,WAAW,CAAC7I,YAAY,GAAG,KAAK,CAAC,CAAE;EACzE,CAAC;AACL;;AAEA;AACA;AACA,SAASq/C,kBAAkBA,CAAC9tC,WAAW,EAAE9b,WAAW,EAAE5nB,OAAO,EAAE;EAC3D,IAAI;IAAE8rD;EAAU,CAAC,GAAGpoB,WAAW,CAAChY,aAAa;EAC7C,KAAK,IAAI+/B,UAAU,IAAIK,SAAS,EAAE;IAC9B,IAAI,CAAC7C,kBAAkB,CAACrhC,WAAW,CAAC4T,UAAU,EAAEswB,SAAS,CAACL,UAAU,CAAC,CAAC1hC,KAAK,CAAC,EAAE;MAC1E,OAAO,KAAK;IAChB;EACJ;EACA,OAAO0nD,eAAe,CAAC;IAAEj5C,SAAS,EAAEkL;EAAY,CAAC,EAAE1jC,OAAO,CAAC,CAAC,CAAC;AACjE;;AACA,SAAS0xE,oBAAoBA,CAACp5C,aAAa,EAAE1Q,WAAW,EAAE5nB,OAAO,EAAE;EAC/D,IAAI,CAACipD,kBAAkB,CAACrhC,WAAW,CAAC4T,UAAU,EAAElD,aAAa,CAACvO,KAAK,CAAC,EAAE;IAClE,OAAO,KAAK;EAChB;EACA,OAAO0nD,eAAe,CAAC;IAAEn5C;EAAc,CAAC,EAAEt4B,OAAO,CAAC;AACtD;AACA,SAASyxE,eAAeA,CAACpwB,QAAQ,EAAErhD,OAAO,EAAE;EACxC,IAAI2xE,aAAa,GAAG3xE,OAAO,CAACwuB,cAAc,CAAC,CAAC;EAC5C,IAAI1yB,KAAK,GAAG2F,MAAM,CAACwa,MAAM,CAAC;IAAEkc,aAAa,EAAEw5C,aAAa,CAACx5C,aAAa;IAAEG,aAAa,EAAE,EAAE;IAAEhF,UAAU,EAAEq+C,aAAa,CAACr+C,UAAU;IAAE8E,YAAY,EAAEu5C,aAAa,CAACv5C,YAAY;IAAEG,cAAc,EAAE,EAAE;IAAEC,SAAS,EAAE,IAAI;IAAEC,WAAW,EAAE;EAAK,CAAC,EAAE4oB,QAAQ,CAAC;EAC9O,OAAO,CAACrhD,OAAO,CAAC4pB,WAAW,CAAC5K,YAAY,IAAIA,YAAY,EAAEljB,KAAK,EAAEkE,OAAO,CAAC;AAC7E;AACA,SAASgf,YAAYA,CAACtiB,KAAK,EAAEsD,OAAO,EAAE4xE,YAAY,GAAG,CAAC,CAAC,EAAEC,YAAY,EAAE;EACnE,IAAIn1E,KAAK,CAAC87B,SAAS,IAAI,CAACs5C,uBAAuB,CAACp1E,KAAK,EAAEsD,OAAO,EAAE4xE,YAAY,EAAEC,YAAY,CAAC,EAAE;IACzF,OAAO,KAAK;EAChB;EACA,IAAIn1E,KAAK,CAAC47B,aAAa,IAAI,CAACy5C,yBAAyB,CAACr1E,KAAK,EAAEsD,OAAO,EAAE4xE,YAAY,EAAEC,YAAY,CAAC,EAAE;IAC/F,OAAO,KAAK;EAChB;EACA,OAAO,IAAI;AACf;AACA;AACA;AACA,SAASC,uBAAuBA,CAACp1E,KAAK,EAAEsD,OAAO,EAAE4xE,YAAY,EAAEC,YAAY,EAAE;EACzE,IAAIG,YAAY,GAAGhyE,OAAO,CAACwuB,cAAc,CAAC,CAAC;EAC3C,IAAIkV,WAAW,GAAGhnC,KAAK,CAAC87B,SAAS,CAAC,CAAC;EACnC,IAAIy5C,iBAAiB,GAAGvuC,WAAW,CAAChY,aAAa;EACjD,IAAIwmD,WAAW,GAAGD,iBAAiB,CAAC1xD,IAAI;EACxC,IAAI4xD,gBAAgB,GAAGF,iBAAiB,CAACnmB,SAAS;EAClD,IAAIsmB,cAAc,GAAG/f,eAAe,CAAC6f,WAAW,EAAExuC,WAAW,CAAC/X,OAAO,GACjEjvB,KAAK,CAAC07B,YAAY,GAClB;IAAE,EAAE,EAAE45C,YAAY,CAACt5C;EAAgB,CAAC,CAAC;EACzC,IAAIm5C,YAAY,EAAE;IACdO,cAAc,GAAGllE,OAAO,CAACklE,cAAc,EAAEP,YAAY,CAAC;EAC1D;EACA;EACA,IAAIQ,eAAe,GAAGxhB,gBAAgB,CAACn0D,KAAK,CAAC42B,UAAU,EAAEoQ,WAAW,CAACjY,cAAc,CAACqgC,SAAS,CAAC;EAC9F,IAAIwmB,SAAS,GAAGD,eAAe,CAAC9xD,IAAI;EACpC,IAAIgyD,cAAc,GAAGF,eAAe,CAACvmB,SAAS;EAC9C,IAAI0mB,YAAY,GAAGngB,eAAe,CAACigB,SAAS,EAAE51E,KAAK,CAAC07B,YAAY,CAAC;EACjE,KAAK,IAAIq6C,iBAAiB,IAAIN,gBAAgB,EAAE;IAC5C,IAAIO,eAAe,GAAGP,gBAAgB,CAACM,iBAAiB,CAAC;IACzD,IAAIE,YAAY,GAAGD,eAAe,CAAC3oD,KAAK;IACxC,IAAI6oD,aAAa,GAAGR,cAAc,CAACM,eAAe,CAACt2C,KAAK,CAAC;IACzD,IAAIy2C,UAAU,GAAGX,WAAW,CAACQ,eAAe,CAACt2C,KAAK,CAAC;IACnD;IACA,IAAI,CAAC02C,kBAAkB,CAACF,aAAa,CAAC1jB,WAAW,EAAEyjB,YAAY,EAAEN,eAAe,EAAE31E,KAAK,CAACy7B,aAAa,EAAEn4B,OAAO,CAAC,EAAE;MAC7G,OAAO,KAAK;IAChB;IACA;IACA,IAAI;MAAE88B;IAAa,CAAC,GAAG98B,OAAO,CAAC5G,OAAO;IACtC,IAAI25E,gBAAgB,GAAG,OAAOj2C,YAAY,KAAK,UAAU,GAAGA,YAAY,GAAG,IAAI;IAC/E,KAAK,IAAIk2C,eAAe,IAAIT,cAAc,EAAE;MACxC,IAAIU,aAAa,GAAGV,cAAc,CAACS,eAAe,CAAC;MACnD;MACA,IAAIhqB,eAAe,CAAC2pB,YAAY,EAAEM,aAAa,CAAClpD,KAAK,CAAC,EAAE;QACpD,IAAImpD,YAAY,GAAGV,YAAY,CAACS,aAAa,CAAC72C,KAAK,CAAC,CAACS,OAAO;QAC5D;QACA,IAAIq2C,YAAY,KAAK,KAAK,IAAIxvC,WAAW,CAAC/X,OAAO,EAAE;UAC/C,OAAO,KAAK;QAChB;QACA,IAAIinD,aAAa,CAAC/1C,OAAO,KAAK,KAAK,EAAE;UACjC,OAAO,KAAK;QAChB;QACA,IAAIk2C,gBAAgB,IAAI,CAACA,gBAAgB,CAAC,IAAIn6D,SAAS,CAAC5Y,OAAO,EAAEsyE,SAAS,CAACW,aAAa,CAAC72C,KAAK,CAAC,EAAE62C,aAAa,CAAC;QAAE;QACjH,IAAIr6D,SAAS,CAAC5Y,OAAO,EAAE6yE,UAAU,EAAEH,eAAe,CAAC,CAAC,EAAE;UAClD,OAAO,KAAK;QAChB;MACJ;IACJ;IACA;IACA,IAAIS,kBAAkB,GAAGnB,YAAY,CAAC1+C,UAAU,CAAC,CAAC;IAClD,KAAK,IAAI8/C,YAAY,IAAIR,aAAa,CAACzjB,MAAM,EAAE;MAC3C,IAAIkkB,eAAe,GAAG5xE,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE21D,YAAY,CAAC,EAAE;QAAE7nD,KAAK,EAAE2oD,eAAe,CAAC3oD,KAAK;QAAEoc,MAAM,EAAE0sC,UAAU,CAAC1sC;MAAO,CAAC,CAAC;MACjI,IAAImtC,OAAO,GAAGH,kBAAkB,CAAC5yD,IAAI,CAACsyD,UAAU,CAACz2C,KAAK,CAAC;MACvD,IAAIm3C,YAAY,GAAGJ,kBAAkB,CAACrnB,SAAS,CAAC2mB,iBAAiB,CAAC;MAClE,IAAIrd,QAAQ;MACZ,IAAIke,OAAO,EAAE;QAAE;QACXle,QAAQ,GAAG,IAAIx8C,SAAS,CAAC5Y,OAAO,EAAEszE,OAAO,EAAEC,YAAY,CAAC;MAC5D,CAAC,MACI;QAAE;QACHne,QAAQ,GAAG,IAAIx8C,SAAS,CAAC5Y,OAAO,EAAE6yE,UAAU,CAAC,CAAC,CAAC;MACnD;;MACA,IAAI,CAACO,YAAY,CAACzhB,2BAA2B,CAAC0hB,eAAe,EAAErzE,OAAO,CAAC,EAAEo1D,QAAQ,CAAC,EAAE;QAChF,OAAO,KAAK;MAChB;IACJ;EACJ;EACA,OAAO,IAAI;AACf;AACA;AACA;AACA,SAAS2c,yBAAyBA,CAACr1E,KAAK,EAAEsD,OAAO,EAAE4xE,YAAY,EAAEC,YAAY,EAAE;EAC3E,IAAI2B,kBAAkB,GAAG92E,KAAK,CAAC42B,UAAU;EACzC,IAAImgD,YAAY,GAAGD,kBAAkB,CAACjzD,IAAI;EAC1C,IAAImzD,iBAAiB,GAAGF,kBAAkB,CAAC1nB,SAAS;EACpD,IAAI5gC,SAAS,GAAGxuB,KAAK,CAAC47B,aAAa;EACnC,IAAIq7C,cAAc,GAAGzoD,SAAS,CAACnB,KAAK;EACpC,IAAI;IAAE2O;EAAgB,CAAC,GAAG14B,OAAO,CAACwuB,cAAc,CAAC,CAAC;EAClD,IAAIqjD,YAAY,EAAE;IACdn5C,eAAe,GAAGm5C,YAAY,CAACn5C,eAAe,CAAC;EACnD;EACA;EACA,IAAI,CAACo6C,kBAAkB,CAACp6C,eAAe,CAACw2B,WAAW,EAAEykB,cAAc,EAAEH,kBAAkB,EAAE92E,KAAK,CAACy7B,aAAa,EAAEn4B,OAAO,CAAC,EAAE;IACpH,OAAO,KAAK;EAChB;EACA;EACA,IAAI;IAAEu9B;EAAc,CAAC,GAAGv9B,OAAO,CAAC5G,OAAO;EACvC,IAAIw6E,iBAAiB,GAAG,OAAOr2C,aAAa,KAAK,UAAU,GAAGA,aAAa,GAAG,IAAI;EAClF,KAAK,IAAIs2C,kBAAkB,IAAIH,iBAAiB,EAAE;IAC9C,IAAII,gBAAgB,GAAGJ,iBAAiB,CAACG,kBAAkB,CAAC;IAC5D;IACA,IAAI7qB,eAAe,CAAC2qB,cAAc,EAAEG,gBAAgB,CAAC/pD,KAAK,CAAC,EAAE;MACzD,IAAI2O,eAAe,CAACmE,OAAO,KAAK,KAAK,EAAE;QACnC,OAAO,KAAK;MAChB;MACA,IAAI+2C,iBAAiB,IAAI,CAACA,iBAAiB,CAAC,IAAIh7D,SAAS,CAAC5Y,OAAO,EAAEyzE,YAAY,CAACK,gBAAgB,CAAC13C,KAAK,CAAC,EAAE03C,gBAAgB,CAAC,EAAE,IAAI,CAAC,EAAE;QAC/H,OAAO,KAAK;MAChB;IACJ;EACJ;EACA;EACA,KAAK,IAAIC,cAAc,IAAIr7C,eAAe,CAACy2B,MAAM,EAAE;IAC/C,IAAI6kB,YAAY,GAAGvyE,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE21D,YAAY,CAAC,EAAE1mD,SAAS,CAAC;IAC5E,IAAI,CAAC6oD,cAAc,CAACpiB,2BAA2B,CAACqiB,YAAY,EAAEh0E,OAAO,CAAC,EAAE,IAAI,CAAC,EAAE;MAC3E,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AACA;AACA;AACA,SAAS8yE,kBAAkBA,CAAC5jB,WAAW,EAAEyjB,YAAY,EAAEN,eAAe,EAAE4B,uBAAuB,EAAEj0E,OAAO,EAAE;EACtG,KAAK,IAAI28B,UAAU,IAAIuyB,WAAW,EAAE;IAChC,IAAI,CAACglB,qBAAqB,CAACC,kBAAkB,CAACx3C,UAAU,EAAEg2C,YAAY,EAAEN,eAAe,EAAE4B,uBAAuB,EAAEj0E,OAAO,CAAC,EAAE2yE,YAAY,CAAC,EAAE;MACvI,OAAO,KAAK;IAChB;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAASwB,kBAAkBA,CAACx3C,UAAU,EAAEg2C,YAAY;AAAE;AACtDN,eAAe;AAAE;AACjB4B,uBAAuB;AAAE;AACzBj0E,OAAO,EAAE;EACL,IAAI28B,UAAU,KAAK,eAAe,EAAE;IAChC,OAAOy3C,kBAAkB,CAACvoB,eAAe,CAACooB,uBAAuB,EAAEtB,YAAY,EAAE3yE,OAAO,CAAC,CAAC;EAC9F;EACA,IAAI,OAAO28B,UAAU,KAAK,QAAQ,EAAE;IAAE;IAClC,OAAOy3C,kBAAkB,CAAClmB,oBAAoB,CAACmkB,eAAe,EAAGnmB,QAAQ,IAAKA,QAAQ,CAACI,OAAO,KAAK3vB,UAAU,CAAC,CAAC;EACnH;EACA,IAAI,OAAOA,UAAU,KAAK,QAAQ,IAAIA,UAAU,EAAE;IAAE;IAChD,OAAOy3C,kBAAkB,CAACvoB,eAAe,CAAClvB,UAAU,EAAEg2C,YAAY,EAAE3yE,OAAO,CAAC,CAAC;EACjF;EACA,OAAO,EAAE,CAAC,CAAC;AACf;AACA;AACA,SAASo0E,kBAAkBA,CAAC9gD,UAAU,EAAE;EACpC,IAAI;IAAEw4B;EAAU,CAAC,GAAGx4B,UAAU;EAC9B,IAAIi1B,MAAM,GAAG,EAAE;EACf,KAAK,IAAIkD,UAAU,IAAIK,SAAS,EAAE;IAC9BvD,MAAM,CAACrpD,IAAI,CAAC4sD,SAAS,CAACL,UAAU,CAAC,CAAC1hC,KAAK,CAAC;EAC5C;EACA,OAAOw+B,MAAM;AACjB;AACA;AACA,SAAS2rB,qBAAqBA,CAACG,WAAW,EAAElrB,UAAU,EAAE;EACpD,KAAK,IAAID,UAAU,IAAImrB,WAAW,EAAE;IAChC,IAAIprB,kBAAkB,CAACC,UAAU,EAAEC,UAAU,CAAC,EAAE;MAC5C,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAChB;AAEA,MAAMmrB,iBAAiB,GAAG,oBAAoB;AAC9C,MAAMC,QAAQ,SAAS1+D,aAAa,CAAC;EACjC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACs7B,QAAQ,GAAIxuB,EAAE,IAAK;MACpB,IAAI,CAACA,EAAE,GAAGA,EAAE;MACZyH,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;IAChC,CAAC;EACL;EACArX,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE8jC,MAAM;MAAE40C;IAAiB,CAAC,GAAG14E,KAAK;IACxC,IAAI24E,UAAU,GAAG70C,MAAM,IAAI40C,gBAAgB;IAC3C,IAAIpxE,SAAS,GAAG,CAAC,aAAa,CAAC;IAC/B,IAAIw8B,MAAM,EAAE;MACR,IAAI40C,gBAAgB,EAAE;QAClBpxE,SAAS,CAAClE,IAAI,CAAC,6BAA6B,CAAC;MACjD,CAAC,MACI;QACDkE,SAAS,CAAClE,IAAI,CAAC,oBAAoB,CAAC;MACxC;IACJ;IACA,OAAQhG,qDAAa,CAAC,KAAK,EAAE;MAAE8C,GAAG,EAAE,IAAI,CAACujC,QAAQ;MAAEn8B,SAAS,EAAEA,SAAS,CAACua,IAAI,CAAC,GAAG,CAAC;MAAEpX,KAAK,EAAE;QAClFo+D,SAAS,EAAE7oE,KAAK,CAAC6oE,SAAS;QAC1BD,SAAS,EAAE5oE,KAAK,CAAC4oE,SAAS;QAC1BrvE,IAAI,EAAGo/E,UAAU,IAAI,EAAE34E,KAAK,CAAC44E,YAAY,IAAI,CAAC,CAAC,IAAK,EAAE;QACtDn/E,KAAK,EAAGk/E,UAAU,IAAI,EAAE34E,KAAK,CAAC64E,aAAa,IAAI,CAAC,CAAC,IAAK,EAAE;QACxDhX,MAAM,EAAG8W,UAAU,IAAI,EAAE34E,KAAK,CAAC84E,cAAc,IAAI,CAAC,CAAC,IAAK,EAAE;QAC1DC,UAAU,EAAG,CAACJ,UAAU,IAAI,EAAE34E,KAAK,CAAC44E,YAAY,IAAI,CAAC,CAAC,IAAK,EAAE;QAC7DI,WAAW,EAAG,CAACL,UAAU,IAAI,EAAE34E,KAAK,CAAC64E,aAAa,IAAI,CAAC,CAAC,IAAK,EAAE;QAC/DI,YAAY,EAAG,CAACN,UAAU,IAAI,EAAE34E,KAAK,CAAC84E,cAAc,IAAI,CAAC,CAAC,IAAK,EAAE;QACjEI,SAAS,EAAEl5E,KAAK,CAACk5E,SAAS,IAAI;MAClC;IAAE,CAAC,EAAEl5E,KAAK,CAACvN,QAAQ,CAAC;EAC5B;EACA0mF,eAAeA,CAAA,EAAG;IACd,IAAIX,iBAAiB,CAACjzE,IAAI,CAAC,IAAI,CAACvF,KAAK,CAAC6oE,SAAS,CAAC,EAAE;MAC9C,OAAO,KAAK;IAChB;IACA;IACA;IACA;IACA,IAAI;MAAE5zD;IAAG,CAAC,GAAG,IAAI;IACjB,IAAImkE,eAAe,GAAG,IAAI,CAACnkE,EAAE,CAAC48B,qBAAqB,CAAC,CAAC,CAACl1C,KAAK,GAAG,IAAI,CAAC08E,kBAAkB,CAAC,CAAC;IACvF,IAAI;MAAE5mF;IAAS,CAAC,GAAGwiB,EAAE;IACrB,KAAK,IAAIlX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtL,QAAQ,CAACgP,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MACzC,IAAIu7E,OAAO,GAAG7mF,QAAQ,CAACsL,CAAC,CAAC;MACzB,IAAIu7E,OAAO,CAACznC,qBAAqB,CAAC,CAAC,CAACl1C,KAAK,GAAGy8E,eAAe,EAAE;QACzD,OAAO,IAAI;MACf;IACJ;IACA,OAAO,KAAK;EAChB;EACAG,eAAeA,CAAA,EAAG;IACd,IAAIf,iBAAiB,CAACjzE,IAAI,CAAC,IAAI,CAACvF,KAAK,CAAC4oE,SAAS,CAAC,EAAE;MAC9C,OAAO,KAAK;IAChB;IACA;IACA;IACA;IACA,IAAI;MAAE3zD;IAAG,CAAC,GAAG,IAAI;IACjB,IAAIukE,gBAAgB,GAAG,IAAI,CAACvkE,EAAE,CAAC48B,qBAAqB,CAAC,CAAC,CAAC9N,MAAM,GAAG,IAAI,CAAC01C,kBAAkB,CAAC,CAAC;IACzF,IAAI;MAAEhnF;IAAS,CAAC,GAAGwiB,EAAE;IACrB,KAAK,IAAIlX,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGtL,QAAQ,CAACgP,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MACzC,IAAIu7E,OAAO,GAAG7mF,QAAQ,CAACsL,CAAC,CAAC;MACzB,IAAIu7E,OAAO,CAACznC,qBAAqB,CAAC,CAAC,CAAC9N,MAAM,GAAGy1C,gBAAgB,EAAE;QAC3D,OAAO,IAAI;MACf;IACJ;IACA,OAAO,KAAK;EAChB;EACAC,kBAAkBA,CAAA,EAAG;IACjB,IAAIjB,iBAAiB,CAACjzE,IAAI,CAAC,IAAI,CAACvF,KAAK,CAAC6oE,SAAS,CAAC,EAAE;MAC9C,OAAO,CAAC;IACZ;IACA,OAAO,IAAI,CAAC5zD,EAAE,CAAC4pD,YAAY,GAAG,IAAI,CAAC5pD,EAAE,CAACwxD,YAAY,CAAC,CAAC;EACxD;;EACA4S,kBAAkBA,CAAA,EAAG;IACjB,IAAIb,iBAAiB,CAACjzE,IAAI,CAAC,IAAI,CAACvF,KAAK,CAAC4oE,SAAS,CAAC,EAAE;MAC9C,OAAO,CAAC;IACZ;IACA,OAAO,IAAI,CAAC3zD,EAAE,CAACmvB,WAAW,GAAG,IAAI,CAACnvB,EAAE,CAACyxD,WAAW,CAAC,CAAC;EACtD;AACJ;;AAEA;AACA;AACA;AACA;AACA,MAAMgT,MAAM,CAAC;EACTroF,WAAWA,CAACsoF,cAAc,EAAE;IACxB,IAAI,CAACA,cAAc,GAAGA,cAAc;IACpC,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAACC,MAAM,GAAG,CAAC,CAAC;IAChB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;IACrB,IAAI,CAACC,WAAW,GAAG,CAAClsC,GAAG,EAAEtjC,GAAG,KAAK;MAC7B,IAAI;QAAEsvE,MAAM;QAAED;MAAW,CAAC,GAAG,IAAI;MACjC,IAAII,OAAO,GAAG,KAAK;MACnB,IAAIC,KAAK,GAAG,KAAK;MACjB,IAAIpsC,GAAG,KAAK,IAAI,EAAE;QACd;QACAmsC,OAAO,GAAIzvE,GAAG,IAAIqvE,UAAW;QAC7BA,UAAU,CAACrvE,GAAG,CAAC,GAAGsjC,GAAG;QACrBgsC,MAAM,CAACtvE,GAAG,CAAC,GAAG,CAACsvE,MAAM,CAACtvE,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;QACpC0vE,KAAK,GAAG,IAAI;MAChB,CAAC,MACI;QACDJ,MAAM,CAACtvE,GAAG,CAAC,IAAI,CAAC;QAChB,IAAI,CAACsvE,MAAM,CAACtvE,GAAG,CAAC,EAAE;UACd,OAAOqvE,UAAU,CAACrvE,GAAG,CAAC;UACtB,OAAO,IAAI,CAACuvE,WAAW,CAACvvE,GAAG,CAAC;UAC5ByvE,OAAO,GAAG,IAAI;QAClB;MACJ;MACA,IAAI,IAAI,CAACL,cAAc,EAAE;QACrB,IAAIK,OAAO,EAAE;UACT,IAAI,CAACL,cAAc,CAAC,IAAI,EAAE5lD,MAAM,CAACxpB,GAAG,CAAC,CAAC;QAC1C;QACA,IAAI0vE,KAAK,EAAE;UACP,IAAI,CAACN,cAAc,CAAC9rC,GAAG,EAAE9Z,MAAM,CAACxpB,GAAG,CAAC,CAAC;QACzC;MACJ;IACJ,CAAC;EACL;EACArM,SAASA,CAACqM,GAAG,EAAE;IACX,IAAI2vE,WAAW,GAAG,IAAI,CAACJ,WAAW,CAACvvE,GAAG,CAAC;IACvC,IAAI,CAAC2vE,WAAW,EAAE;MACdA,WAAW,GAAG,IAAI,CAACJ,WAAW,CAACvvE,GAAG,CAAC,GAAIsjC,GAAG,IAAK;QAC3C,IAAI,CAACksC,WAAW,CAAClsC,GAAG,EAAE9Z,MAAM,CAACxpB,GAAG,CAAC,CAAC;MACtC,CAAC;IACL;IACA,OAAO2vE,WAAW;EACtB;EACA;EACA;EACA;EACAC,OAAOA,CAACr0B,UAAU,EAAEC,QAAQ,EAAEC,IAAI,EAAE;IAChC,OAAOH,eAAe,CAAC,IAAI,CAAC+zB,UAAU,EAAE9zB,UAAU,EAAEC,QAAQ,EAAEC,IAAI,CAAC;EACvE;EACAo0B,MAAMA,CAAA,EAAG;IACL,OAAOj/D,iBAAiB,CAAC,IAAI,CAACy+D,UAAU,CAAC;EAC7C;AACJ;AAEA,SAASS,kBAAkBA,CAACC,QAAQ,EAAE;EAClC,IAAIC,WAAW,GAAGttC,YAAY,CAACqtC,QAAQ,EAAE,uBAAuB,CAAC;EACjE,IAAIE,YAAY,GAAG,CAAC;EACpB,KAAK,IAAIC,UAAU,IAAIF,WAAW,EAAE;IAChCC,YAAY,GAAG90D,IAAI,CAACC,GAAG,CAAC60D,YAAY,EAAE/oC,wBAAwB,CAACgpC,UAAU,CAAC,CAAC;EAC/E;EACA,OAAO/0D,IAAI,CAACmtD,IAAI,CAAC2H,YAAY,CAAC,CAAC,CAAC;AACpC;;AACA,SAASE,yBAAyBA,CAAC16E,KAAK,EAAE26E,aAAa,EAAE;EACrD,OAAO36E,KAAK,CAAC8jC,MAAM,IAAI62C,aAAa,CAAC72C,MAAM,CAAC,CAAC;AACjD;;AACA,SAAS82C,kBAAkBA,CAAC56E,KAAK,EAAE26E,aAAa,EAAE;EAC9C,OAAOA,aAAa,CAACzB,SAAS,IAAI,IAAI;EAAI;EACtCwB,yBAAyB,CAAC16E,KAAK,EAAE26E,aAAa,CAAC,CAAC,CAAC;AACzD;AACA;AACA,SAASE,kBAAkBA,CAACF,aAAa,EAAEG,WAAW,EAAExnD,GAAG,EAAEynD,QAAQ,EAAE;EACnE,IAAI;IAAEt6B;EAAW,CAAC,GAAGntB,GAAG;EACxB,IAAIzL,OAAO,GAAG,OAAOizD,WAAW,CAACjzD,OAAO,KAAK,UAAU,GACnDizD,WAAW,CAACjzD,OAAO,CAACyL,GAAG,CAAC,GACxBl2B,qDAAa,CAAC,OAAO,EAAE;IACnB1K,IAAI,EAAE,cAAc;IACpB4U,SAAS,EAAE,CACPwzE,WAAW,CAACE,cAAc,EAC1BL,aAAa,CAACM,cAAc,GAAG,0BAA0B,GAAG,EAAE,CACjE,CAACp5D,IAAI,CAAC,GAAG,CAAC;IACXpX,KAAK,EAAE;MACHywE,QAAQ,EAAE5nD,GAAG,CAAC6nD,aAAa;MAC3Bx+E,KAAK,EAAE22B,GAAG,CAACozC,WAAW;MACtB3iC,MAAM,EAAE0c,UAAU,GAAGntB,GAAG,CAACmzC,YAAY,GAAG,EAAE,CAAE;IAChD;EACJ,CAAC,EAAEnzC,GAAG,CAAC8nD,iBAAiB,EAAEh+E,qDAAa,CAAC29E,QAAQ,GAAG,OAAO,GAAG,OAAO,EAAE;IAClEroF,IAAI,EAAE;EACV,CAAC,EAAE,OAAOooF,WAAW,CAACO,UAAU,KAAK,UAAU,GACzCP,WAAW,CAACO,UAAU,CAAC/nD,GAAG,CAAC,GAC3BwnD,WAAW,CAACO,UAAU,CAAC,CAAC;EAClC,OAAOxzD,OAAO;AAClB;AACA,SAASyzD,eAAeA,CAACC,KAAK,EAAEC,KAAK,EAAE;EACnC,OAAO3hE,aAAa,CAAC0hE,KAAK,EAAEC,KAAK,EAAE9/D,YAAY,CAAC;AACpD;AACA,SAAS+/D,mBAAmBA,CAACC,IAAI,EAAEC,WAAW,EAAE;EAC5C,IAAIC,QAAQ,GAAG,EAAE;EACjB;AACJ;AACA;AACA;AACA;EACI,KAAK,IAAIC,QAAQ,IAAIH,IAAI,EAAE;IACvB,IAAIve,IAAI,GAAG0e,QAAQ,CAAC1e,IAAI,IAAI,CAAC;IAC7B,KAAK,IAAIp/D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGo/D,IAAI,EAAEp/D,CAAC,IAAI,CAAC,EAAE;MAC9B69E,QAAQ,CAACx4E,IAAI,CAAChG,qDAAa,CAAC,KAAK,EAAE;QAAEqN,KAAK,EAAE;UACpC9N,KAAK,EAAEk/E,QAAQ,CAACl/E,KAAK,KAAK,QAAQ,GAAGm/E,mBAAmB,CAACH,WAAW,CAAC,GAAIE,QAAQ,CAACl/E,KAAK,IAAI,EAAG;UAC9Fu+E,QAAQ,EAAEW,QAAQ,CAACX,QAAQ,IAAI;QACnC;MAAE,CAAC,CAAC,CAAC;IACb;EACJ;EACA,OAAO99E,qDAAa,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,GAAGw+E,QAAQ,CAAC;AACrD;AACA,SAASE,mBAAmBA,CAACH,WAAW,EAAE;EACtC;AACJ;EACI,OAAOA,WAAW,IAAI,IAAI,GAAG,CAAC,GAAGA,WAAW;AAChD;AACA,SAASI,cAAcA,CAACL,IAAI,EAAE;EAC1B,KAAK,IAAIhI,GAAG,IAAIgI,IAAI,EAAE;IAClB,IAAIhI,GAAG,CAAC/2E,KAAK,KAAK,QAAQ,EAAE;MACxB,OAAO,IAAI;IACf;EACJ;EACA,OAAO,KAAK;AAChB;AACA,SAASq/E,uBAAuBA,CAACl4C,MAAM,EAAE5/B,OAAO,EAAE;EAC9C,IAAImkB,UAAU,GAAG,CACb,eAAe,EACfnkB,OAAO,CAACisB,KAAK,CAACwS,QAAQ,CAAC,OAAO,CAAC,CAClC;EACD,IAAImB,MAAM,EAAE;IACRzb,UAAU,CAACjlB,IAAI,CAAC,sBAAsB,CAAC;EAC3C;EACA,OAAOilB,UAAU;AACrB;AACA,SAAS4zD,oBAAoBA,CAACtB,aAAa,EAAEuB,eAAe,EAAE;EAC1D,IAAI7zD,UAAU,GAAG,CACb,uBAAuB,EACtB,yBAAwBsyD,aAAa,CAAC3lF,IAAK,EAAC,EAC7C2lF,aAAa,CAACrzE,SAAS,CAAE;EAAA,CAC5B;;EACD,IAAI40E,eAAe,IAAIvB,aAAa,CAAC72C,MAAM,IAAI62C,aAAa,CAACzB,SAAS,IAAI,IAAI,EAAE;IAC5E7wD,UAAU,CAACjlB,IAAI,CAAC,8BAA8B,CAAC;EACnD;EACA,IAAIu3E,aAAa,CAACjJ,QAAQ,EAAE;IACxBrpD,UAAU,CAACjlB,IAAI,CAAC,8BAA8B,CAAC;EACnD;EACA,OAAOilB,UAAU;AACrB;AACA,SAAS8zD,gBAAgBA,CAAC7oD,GAAG,EAAE;EAC3B,OAAQl2B,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE,2BAA2B;IAAEmD,KAAK,EAAE;MACtE9N,KAAK,EAAE22B,GAAG,CAACozC,WAAW;MACtBwU,QAAQ,EAAE5nD,GAAG,CAAC6nD;IAClB;EAAE,CAAC,CAAC;AACZ;AACA,SAASiB,oBAAoBA,CAAC9+E,OAAO,EAAE;EACnC,IAAI;IAAEujD;EAAkB,CAAC,GAAGvjD,OAAO;EACnC,IAAIujD,iBAAiB,IAAI,IAAI,IAAIA,iBAAiB,KAAK,MAAM,EAAE;IAC3DA,iBAAiB,GAAGvjD,OAAO,CAACymC,MAAM,KAAK,MAAM,IAAIzmC,OAAO,CAACypC,UAAU,KAAK,MAAM;EAClF;EACA,OAAO8Z,iBAAiB;AAC5B;AACA,SAASw7B,wBAAwBA,CAAC/+E,OAAO,EAAE;EACvC,IAAI;IAAEwjD;EAAsB,CAAC,GAAGxjD,OAAO;EACvC,IAAIwjD,qBAAqB,IAAI,IAAI,IAAIA,qBAAqB,KAAK,MAAM,EAAE;IACnEA,qBAAqB,GAAGxjD,OAAO,CAACymC,MAAM,KAAK,MAAM,IAAIzmC,OAAO,CAACypC,UAAU,KAAK,MAAM;EACtF;EACA,OAAO+Z,qBAAqB;AAChC;AAEA,MAAMw7B,gBAAgB,SAASviE,aAAa,CAAC;EACzC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACo0E,WAAW,GAAG/gE,OAAO,CAAEjd,CAAC,IAAKA,CAAC,EAAE+8E,eAAe,CAAC,CAAC,CAAC;IACvD;IACA,IAAI,CAACG,mBAAmB,GAAGjgE,OAAO,CAACigE,mBAAmB,CAAC;IACvD,IAAI,CAACe,YAAY,GAAG,IAAI9C,MAAM,CAAC,CAAC;IAChC,IAAI,CAAC+C,cAAc,GAAG,IAAI/C,MAAM,CAAC,IAAI,CAACgD,iBAAiB,CAACthF,IAAI,CAAC,IAAI,CAAC,CAAC;IACnE,IAAI,CAACwF,KAAK,GAAG;MACT+6E,WAAW,EAAE,IAAI;MACjBgB,gBAAgB,EAAE,KAAK;MACvBC,oBAAoB,EAAE,CAAC,CAAC;MACxBC,qBAAqB,EAAE,CAAC;IAC5B,CAAC;IACD;IACA,IAAI,CAACC,YAAY,GAAG,MAAM;MACtB,IAAI,CAACzyB,YAAY,CAAC1kD,MAAM,CAACwa,MAAM,CAAC;QAAEw7D,WAAW,EAAE,IAAI,CAACtB,kBAAkB,CAAC;MAAE,CAAC,EAAE,IAAI,CAAC0C,mBAAmB,CAAC,CAAC,CAAC,CAAC;IAC5G,CAAC;EACL;EACAn/E,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY,KAAK;MAAEsD;IAAQ,CAAC,GAAG,IAAI;IACpC,IAAI84E,cAAc,GAAGh9E,KAAK,CAACi9E,QAAQ,IAAI,EAAE;IACzC,IAAIvB,IAAI,GAAG,IAAI,CAACa,WAAW,CAACv8E,KAAK,CAAC07E,IAAI,CAAC;IACvC,IAAIwB,iBAAiB,GAAG,IAAI,CAACzB,mBAAmB,CAACC,IAAI,EAAE96E,KAAK,CAAC+6E,WAAW,CAAC;IACzE,IAAItzD,UAAU,GAAG2zD,uBAAuB,CAACh8E,KAAK,CAAC8jC,MAAM,EAAE5/B,OAAO,CAAC;IAC/D,IAAIlE,KAAK,CAACm9E,gBAAgB,EAAE;MACxB90D,UAAU,CAACjlB,IAAI,CAAC,2BAA2B,CAAC;IAChD;IACA;IACA,IAAIg6E,SAAS,GAAGJ,cAAc,CAACv7E,MAAM;IACrC,IAAI47E,OAAO,GAAG,CAAC;IACf,IAAIC,aAAa;IACjB,IAAIC,gBAAgB,GAAG,EAAE;IACzB,IAAIC,gBAAgB,GAAG,EAAE;IACzB,IAAIC,gBAAgB,GAAG,EAAE;IACzB,OAAOJ,OAAO,GAAGD,SAAS,IAAI,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAO,CAAC,EAAEroF,IAAI,KAAK,QAAQ,EAAE;MACvFuoF,gBAAgB,CAACn6E,IAAI,CAAC,IAAI,CAACkgC,aAAa,CAACg6C,aAAa,EAAEJ,iBAAiB,EAAE,IAAI,CAAC,CAAC;MACjFG,OAAO,IAAI,CAAC;IAChB;IACA,OAAOA,OAAO,GAAGD,SAAS,IAAI,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAO,CAAC,EAAEroF,IAAI,KAAK,MAAM,EAAE;MACrFwoF,gBAAgB,CAACp6E,IAAI,CAAC,IAAI,CAACkgC,aAAa,CAACg6C,aAAa,EAAEJ,iBAAiB,EAAE,KAAK,CAAC,CAAC;MAClFG,OAAO,IAAI,CAAC;IAChB;IACA,OAAOA,OAAO,GAAGD,SAAS,IAAI,CAACE,aAAa,GAAGN,cAAc,CAACK,OAAO,CAAC,EAAEroF,IAAI,KAAK,QAAQ,EAAE;MACvFyoF,gBAAgB,CAACr6E,IAAI,CAAC,IAAI,CAACkgC,aAAa,CAACg6C,aAAa,EAAEJ,iBAAiB,EAAE,IAAI,CAAC,CAAC;MACjFG,OAAO,IAAI,CAAC;IAChB;IACA;IACA;IACA;IACA;IACA,IAAIK,OAAO,GAAG,CAACnf,qBAAqB,CAAC,CAAC;IACtC,MAAMof,SAAS,GAAG;MAAEjrF,IAAI,EAAE;IAAW,CAAC;IACtC,OAAO0K,qDAAa,CAAC,OAAO,EAAE;MAC1B1K,IAAI,EAAE,MAAM;MACZ4U,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG,CAAC;MAC/BpX,KAAK,EAAE;QAAEs5B,MAAM,EAAE/jC,KAAK,CAAC+jC;MAAO;IAClC,CAAC,EAAEvO,OAAO,CAAC,CAACkoD,OAAO,IAAIH,gBAAgB,CAAC97E,MAAM,CAAC,IAAIrE,qDAAa,CAAC,OAAO,EAAEugF,SAAS,EAAE,GAAGJ,gBAAgB,CAAC,EAAE/nD,OAAO,CAAC,CAACkoD,OAAO,IAAIF,gBAAgB,CAAC/7E,MAAM,CAAC,IAAIrE,qDAAa,CAAC,OAAO,EAAEugF,SAAS,EAAE,GAAGH,gBAAgB,CAAC,EAAEhoD,OAAO,CAAC,CAACkoD,OAAO,IAAID,gBAAgB,CAACh8E,MAAM,CAAC,IAAIrE,qDAAa,CAAC,OAAO,EAAEugF,SAAS,EAAE,GAAGF,gBAAgB,CAAC,EAAEC,OAAO,IAAItgF,qDAAa,CAAC,OAAO,EAAEugF,SAAS,EAAE,GAAGJ,gBAAgB,EAAE,GAAGC,gBAAgB,EAAE,GAAGC,gBAAgB,CAAC,CAAC;EAC3a;EACAn6C,aAAaA,CAACq3C,aAAa,EAAEuC,iBAAiB,EAAEnC,QAAQ,EAAE;IACtD,IAAI,cAAc,IAAIJ,aAAa,EAAE;MACjC,OAAQv9E,qDAAa,CAACM,4CAAQ,EAAE;QAAE6M,GAAG,EAAEowE,aAAa,CAACpwE;MAAI,CAAC,EAAEowE,aAAa,CAACiD,YAAY,CAAC;IAC3F;IACA,OAAQxgF,qDAAa,CAAC,IAAI,EAAE;MAAEmN,GAAG,EAAEowE,aAAa,CAACpwE,GAAG;MAAE7X,IAAI,EAAE,cAAc;MAAE4U,SAAS,EAAE20E,oBAAoB,CAACtB,aAAa,EAAE,IAAI,CAAC36E,KAAK,CAAC8jC,MAAM,CAAC,CAACjiB,IAAI,CAAC,GAAG;IAAE,CAAC,EAAE,IAAI,CAACg8D,aAAa,CAAClD,aAAa,EAAEuC,iBAAiB,EAAEvC,aAAa,CAACmD,KAAK,EAAE/C,QAAQ,CAAC,CAAC;EACnP;EACA8C,aAAaA,CAAClD,aAAa,EAAEuC,iBAAiB,EAAEpC,WAAW,EAAEC,QAAQ,EAAE;IACnE,IAAI,cAAc,IAAID,WAAW,EAAE;MAC/B,OAAOA,WAAW,CAAC8C,YAAY;IACnC;IACA,IAAI;MAAE59E;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE28E,gBAAgB;MAAEC,oBAAoB;MAAEC;IAAsB,CAAC,GAAG,IAAI,CAACj8E,KAAK;IAClF,IAAI24E,eAAe,GAAGqB,kBAAkB,CAAC56E,KAAK,EAAE26E,aAAa,CAAC,CAAC,CAAC;IAChE,IAAIoD,QAAQ,GAAGrD,yBAAyB,CAAC16E,KAAK,EAAE26E,aAAa,CAAC;IAC9D;IACA;IACA,IAAI/R,SAAS,GAAG,CAAC5oE,KAAK,CAAC8jC,MAAM,GAAG,SAAS,GACrC64C,gBAAgB,GAAG,QAAQ,GACvB,CAACpD,eAAe,GAAG,QAAQ,GACvB,MAAM;IAClB,IAAIyE,UAAU,GAAGrD,aAAa,CAACpwE,GAAG;IAClC,IAAIsd,OAAO,GAAGgzD,kBAAkB,CAACF,aAAa,EAAEG,WAAW,EAAE;MACzDM,iBAAiB,EAAE8B,iBAAiB;MACpC/B,aAAa,EAAE,EAAE;MACjBzU,WAAW,EAAG,CAAC1mE,KAAK,CAACm9E,gBAAgB,IAAIP,oBAAoB,CAACoB,UAAU,CAAC,KAAKtsF,SAAS,GAAIkrF,oBAAoB,CAACoB,UAAU,CAAC,GAAG,IAAI;MAClIvX,YAAY,EAAEoW,qBAAqB,CAACmB,UAAU,CAAC,KAAKtsF,SAAS,GAAGmrF,qBAAqB,CAACmB,UAAU,CAAC,GAAG,IAAI;MACxGv9B,UAAU,EAAEk6B,aAAa,CAACl6B,UAAU;MACpCw6B,cAAc,EAAE,KAAK;MACrBgD,cAAc,EAAE,EAAE;MAClBC,qBAAqB,EAAEA,CAAA,KAAM,CAAE;IACnC,CAAC,EAAEnD,QAAQ,CAAC;IACZ,OAAO39E,qDAAa,CAAC29E,QAAQ,GAAG,IAAI,GAAG,IAAI,EAAE;MACzC76E,GAAG,EAAE46E,WAAW,CAACp3C,KAAK;MACtBhxC,IAAI,EAAE;IACV,CAAC,EAAE0K,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAG,sBAAqBy2E,QAAQ,GAAG,6BAA6B,GAAG,EAAG;IAAE,CAAC,EACxG3gF,qDAAa,CAACq7E,QAAQ,EAAE;MAAEv4E,GAAG,EAAE,IAAI,CAACs8E,YAAY,CAACt+E,SAAS,CAAC8/E,UAAU,CAAC;MAAEt6C,KAAK,EAAE,IAAI,CAAC+4C,cAAc,CAACv+E,SAAS,CAAC8/E,UAAU,CAAC;MAAEpV,SAAS,EAAEA,SAAS;MAAEC,SAAS,EAAE,CAAC7oE,KAAK,CAAC8jC,MAAM,GAAG,SAAS,GAAG,QAAQ,CAAC;MAAuBo1C,SAAS,EAAEyB,aAAa,CAACzB,SAAS;MAAEp1C,MAAM,EAAEi6C,QAAQ;MAAErF,gBAAgB,CAAC;MAAA,EACxR;IAAK,CAAC,EAAE7wD,OAAO,CAAC,CAAC,CAAC;EAChC;EACA60D,iBAAiBA,CAACyB,UAAU,EAAE5zE,GAAG,EAAE;IAC/B,IAAI6zE,OAAO,GAAGC,eAAe,CAAC,IAAI,CAACr+E,KAAK,CAACi9E,QAAQ,EAAE1yE,GAAG,CAAC;IACvD,IAAI6zE,OAAO,EAAE;MACT1hE,MAAM,CAAC0hE,OAAO,CAACN,KAAK,CAACQ,aAAa,EAAEH,UAAU,CAAC;IACnD;EACJ;EACAj5E,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC43E,YAAY,CAAC,CAAC;IACnB,IAAI,CAAC54E,OAAO,CAACggC,gBAAgB,CAAC,IAAI,CAAC44C,YAAY,CAAC;EACpD;EACA73E,kBAAkBA,CAAA,EAAG;IACjB;IACA,IAAI,CAAC63E,YAAY,CAAC,CAAC;EACvB;EACAr5E,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACS,OAAO,CAACigC,mBAAmB,CAAC,IAAI,CAAC24C,YAAY,CAAC;EACvD;EACAzC,kBAAkBA,CAAA,EAAG;IACjB,OAAO0B,cAAc,CAAC,IAAI,CAAC/7E,KAAK,CAAC07E,IAAI,CAAC,GAChCrB,kBAAkB,CAAC,IAAI,CAACoC,cAAc,CAACrC,MAAM,CAAC,CAAC,CAAC,GAChD,CAAC;EACX;EACA2C,mBAAmBA,CAAA,EAAG;IAClB,IAAIwB,cAAc,GAAGjY,kBAAkB,CAAC,CAAC;IACzC,IAAI;MAAEkW,YAAY;MAAEC;IAAe,CAAC,GAAG,IAAI;IAC3C,IAAIE,gBAAgB,GAAG,KAAK;IAC5B,IAAIC,oBAAoB,GAAG,CAAC,CAAC;IAC7B,IAAIC,qBAAqB,GAAG,CAAC,CAAC;IAC9B,KAAK,IAAImB,UAAU,IAAIxB,YAAY,CAAC5C,UAAU,EAAE;MAC5C,IAAI4E,QAAQ,GAAGhC,YAAY,CAAC5C,UAAU,CAACoE,UAAU,CAAC;MAClD,IAAIQ,QAAQ,IAAIA,QAAQ,CAACjF,eAAe,CAAC,CAAC,EAAE;QACxCoD,gBAAgB,GAAG,IAAI;QACvB;MACJ;IACJ;IACA,KAAK,IAAIyB,OAAO,IAAI,IAAI,CAACp+E,KAAK,CAACi9E,QAAQ,EAAE;MACrC,IAAIe,UAAU,GAAGI,OAAO,CAAC7zE,GAAG;MAC5B,IAAI4zE,UAAU,GAAG1B,cAAc,CAAC7C,UAAU,CAACoE,UAAU,CAAC;MACtD,IAAIG,UAAU,EAAE;QACZ,IAAIM,SAAS,GAAGN,UAAU,CAAC95E,UAAU,CAAC,CAAC;QACvCu4E,oBAAoB,CAACoB,UAAU,CAAC,GAAGt4D,IAAI,CAAC8wB,KAAK,CAACioC,SAAS,CAAC5sC,qBAAqB,CAAC,CAAC,CAACl1C,KAAK,IAAIggF,gBAAgB,GACnG4B,cAAc,CAACl/E,CAAC,CAAC;QAAA,EACjB,CAAC,CAAC,CAAC;QACTw9E,qBAAqB,CAACmB,UAAU,CAAC,GAAGt4D,IAAI,CAAC8wB,KAAK,CAACioC,SAAS,CAAC5sC,qBAAqB,CAAC,CAAC,CAAC9N,MAAM,CAAC;MAC5F;IACJ;IACA,OAAO;MAAE44C,gBAAgB;MAAEC,oBAAoB;MAAEC;IAAsB,CAAC;EAC5E;AACJ;AACAP,gBAAgB,CAAC/xB,gBAAgB,CAAC;EAC9BqyB,oBAAoB,EAAElhE,YAAY;EAClCmhE,qBAAqB,EAAEnhE;AAC3B,CAAC,CAAC;AACF,SAAS2iE,eAAeA,CAACpB,QAAQ,EAAE1yE,GAAG,EAAE;EACpC,KAAK,IAAI6zE,OAAO,IAAInB,QAAQ,EAAE;IAC1B,IAAImB,OAAO,CAAC7zE,GAAG,KAAKA,GAAG,EAAE;MACrB,OAAO6zE,OAAO;IAClB;EACJ;EACA,OAAO,IAAI;AACf;AAEA,MAAMM,cAAc,SAAS3kE,aAAa,CAAC;EACvC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB;IACA,IAAI,CAACw2E,gBAAgB,GAAGnjE,OAAO,CAAC,CAACtX,OAAO,EAAEksD,QAAQ,EAAE4G,aAAa,KAAK,IAAIl6C,SAAS,CAAC5Y,OAAO,EAAEksD,QAAQ,EAAE4G,aAAa,CAAC,CAAC;IACtH,IAAI,CAACvzB,QAAQ,GAAIxuB,EAAE,IAAK;MACpB,IAAI,CAACA,EAAE,GAAGA,EAAE;MACZyH,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;MAC5B,IAAIA,EAAE,EAAE;QACJulD,QAAQ,CAACvlD,EAAE,EAAE,IAAI,CAACjV,KAAK,CAACykC,GAAG,CAAC;MAChC;IACJ,CAAC;EACL;EACA7mC,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC/B,MAAM;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IAC3B,MAAM;MAAEugC;IAAI,CAAC,GAAGzkC,KAAK;IACrB,MAAM;MAAE8kC;IAAW,CAAC,GAAGL,GAAG;IAC1B,MAAM;MAAErE;IAAG,CAAC,GAAG0E,UAAU;IACzB,MAAMn2B,WAAW,GAAG;MAChBtS,KAAK,EAAE,IAAI,CAACsiF,gBAAgB,CAACz6E,OAAO,EAAE4gC,UAAU,CAACpgB,GAAG,EAAEogB,UAAU,CAACC,QAAQ,CAAC;MAC1E1N,IAAI,EAAEnzB,OAAO,CAACozB,OAAO;MACrBsnD,QAAQ,EAAE5+E,KAAK,CAAC4+E,QAAQ;MACxBv9C,SAAS,EAAEjB,EAAE,CAACiB,SAAS;MACvB9mC,eAAe,EAAE6lC,EAAE,CAAC7lC,eAAe;MACnCC,WAAW,EAAE4lC,EAAE,CAAC5lC,WAAW;MAC3BgiE,WAAW,EAAE,CAACx8D,KAAK,CAAC6+E,eAAe,IAAI5jB,mBAAmB,CAACx2B,GAAG,EAAEvgC,OAAO,CAAC;MACxEu4D,gBAAgB,EAAE,CAACz8D,KAAK,CAAC8+E,eAAe,IAAI5jB,wBAAwB,CAACz2B,GAAG,EAAEvgC,OAAO,CAAC;MAClFw4D,cAAc,EAAE,CAAC18D,KAAK,CAAC8+E,eAAe,IAAI3jB,sBAAsB,CAAC12B,GAAG,CAAC;MACrE83B,QAAQ,EAAE/mC,OAAO,CAACx1B,KAAK,CAAC28D,UAAU,IAAI38D,KAAK,CAAC48D,UAAU,IAAI58D,KAAK,CAAC++E,eAAe,CAAC;MAChF5kB,OAAO,EAAE3kC,OAAO,CAACiP,GAAG,CAAC01B,OAAO,CAAC;MAC7BC,KAAK,EAAE5kC,OAAO,CAACiP,GAAG,CAAC21B,KAAK,CAAC;MACzB+B,MAAM,EAAE3mC,OAAO,CAACx1B,KAAK,CAACm8D,MAAM,CAAC;MAC7BC,QAAQ,EAAE5mC,OAAO,CAACx1B,KAAK,CAACo8D,QAAQ,CAAC;MACjCC,OAAO,EAAE7mC,OAAO,CAACx1B,KAAK,CAACq8D,OAAO,CAAC;MAC/BQ,UAAU,EAAErnC,OAAO,CAACx1B,KAAK,CAAC68D,UAAU,CAAC;MACrCF,UAAU,EAAEnnC,OAAO,CAACx1B,KAAK,CAAC28D,UAAU,CAAC;MACrCC,UAAU,EAAEpnC,OAAO,CAACx1B,KAAK,CAAC48D,UAAU;IACxC,CAAC;IACD,OAAQx/D,qDAAa,CAAC6c,gBAAgB,EAAE;MAAEypB,KAAK,EAAE,IAAI,CAACD,QAAQ;MAAElzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK;MAAEC,OAAO,EAAExQ,KAAK,CAACwQ,OAAO;MAAEhC,SAAS,EAAE,CAC/G,GAAG8tD,kBAAkB,CAAC3tD,WAAW,CAAC,EAClC,GAAG81B,GAAG,CAACK,UAAU,CAAC1E,EAAE,CAAC/X,UAAU,EAC/B,IAAIroB,KAAK,CAACwO,SAAS,IAAI,EAAE,CAAC,CAC7B;MAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;MAAEE,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,cAAc;MAAEC,eAAe,EAAE7qB,OAAO,CAACkb,YAAY;MAAEsyC,gBAAgB,EAAE9qD,KAAK,CAAC8qD,gBAAgB;MAAE1iC,kBAAkB,EAAE9qB,OAAO,CAAC0jD,eAAe;MAAE14B,QAAQ,EAAEhrB,OAAO,CAAC2jD,aAAa;MAAE14B,WAAW,EAAEjrB,OAAO,CAAC4jD;IAAiB,CAAC,EAAElhD,KAAK,CAACvN,QAAQ,CAAC;EACnT;EACAwS,kBAAkBA,CAACyiC,SAAS,EAAE;IAC1B,IAAI,IAAI,CAACzyB,EAAE,IAAI,IAAI,CAACjV,KAAK,CAACykC,GAAG,KAAKiD,SAAS,CAACjD,GAAG,EAAE;MAC7C+1B,QAAQ,CAAC,IAAI,CAACvlD,EAAE,EAAE,IAAI,CAACjV,KAAK,CAACykC,GAAG,CAAC;IACrC;EACJ;AACJ;;AAEA;AACA,MAAMu6C,aAAa,SAASjlE,aAAa,CAAC;EACtCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAI;MAAEugC;IAAI,CAAC,GAAGzkC,KAAK;IACnB,IAAI;MAAEogC;IAAG,CAAC,GAAGqE,GAAG,CAACK,UAAU;IAC3B,IAAIu2B,UAAU,GAAG/9D,OAAO,CAACzC,eAAe,IAAImF,KAAK,CAACi/E,iBAAiB;IACnE,IAAIL,QAAQ,GAAGxjB,gBAAgB,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAElE,KAAK,CAACs7D,uBAAuB,EAAEt7D,KAAK,CAACu7D,sBAAsB,CAAC;IACtH,OAAQn+D,qDAAa,CAACshF,cAAc,EAAE/4E,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAAC,sBAAsB;MAAEuQ,KAAK,EAAE,GAAG;MAAE9B,OAAO,EAAE;QACnGjU,WAAW,EAAE4lC,EAAE,CAAC5lC,WAAW;QAC3BD,eAAe,EAAE6lC,EAAE,CAAC7lC;MACxB,CAAC;MAAEiW,OAAO,EAAEusD,iBAAiB,CAACt4B,GAAG,EAAEvgC,OAAO,CAAC;MAAE4mD,gBAAgB,EAAEo0B,oBAAoB;MAAEN,QAAQ,EAAEA;IAAS,CAAC,CAAC,EAAE,CAAC9yB,YAAY,EAAEqzB,eAAe,KAAM/hF,qDAAa,CAACM,4CAAQ,EAAE,IAAI,EAC5KN,qDAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,eAAe,CAAC;MAAEC,OAAO,EAAE;QAAEhU,KAAK,EAAE0kF,eAAe,CAAC99C;MAAU;IAAE,CAAC,CAAC,EAC1H7L,OAAO,CAAC2pD,eAAe,CAAC1iB,gBAAgB,CAAC,IAAKr/D,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAA0C,CAAC,CAAE,EAC7HkuB,OAAO,CAAC2pD,eAAe,CAACziB,cAAc,CAAC,IAAKt/D,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAwC,CAAC,CAAE,CAAE,CAAC;EACpI;AACJ;AACA03E,aAAa,CAAC10B,gBAAgB,CAAC;EAC3B7lB,GAAG,EAAE/oB;AACT,CAAC,CAAC;AACF,SAASwjE,oBAAoBA,CAACE,UAAU,EAAE;EACtC,OAAQhiF,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAAsB,CAAC,EAC7D83E,UAAU,CAACR,QAAQ,IAAKxhF,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAAgB,CAAC,EAAE83E,UAAU,CAACR,QAAQ,CAAE,EAClGxhF,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAA2B,CAAC,EAC1DlK,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAA2B,CAAC,EAAE83E,UAAU,CAAC/iF,KAAK,CAAC/K,KAAK,IAAI8L,qDAAa,CAACM,4CAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;AAChJ;AAEA,MAAM2hF,qBAAqB,GAAIr/E,KAAK,IAAM5C,qDAAa,CAAC4c,eAAe,CAACpN,QAAQ,EAAE,IAAI,EAAG1I,OAAO,IAAK;EACjG,IAAI;IAAE5G;EAAQ,CAAC,GAAG4G,OAAO;EACzB,IAAIyK,WAAW,GAAG;IACd2wE,MAAM,EAAEt/E,KAAK,CAACs/E,MAAM;IACpB5kF,IAAI,EAAEwJ,OAAO,CAAC2mB,OAAO,CAACgI,MAAM,CAAC7yB,KAAK,CAACtF,IAAI,CAAC;IACxC28B,IAAI,EAAEnzB,OAAO,CAACozB;EAClB,CAAC;EACD,OAAQl6B,qDAAa,CAAC6c,gBAAgB,EAAE;IAAEypB,KAAK,EAAE1jC,KAAK,CAAC0jC,KAAK;IAAEnzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK,IAAI,KAAK;IAAEC,OAAO,EAAExQ,KAAK,CAACwQ,OAAO;IAAEhC,SAAS,EAAExO,KAAK,CAACwO,SAAS;IAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;IAAEE,WAAW,EAAEA,WAAW;IAAEuZ,aAAa,EAAE,qBAAqB;IAAEC,eAAe,EAAE7qB,OAAO,CAACib,mBAAmB;IAAE6P,kBAAkB,EAAE9qB,OAAO,CAACuiD,sBAAsB;IAAEv3B,QAAQ,EAAEhrB,OAAO,CAACwiD,oBAAoB;IAAEv3B,WAAW,EAAEjrB,OAAO,CAACyiD;EAAwB,CAAC,EAAE//C,KAAK,CAACvN,QAAQ,CAAC;AACpb,CAAC,CAAE;AAEH,MAAM8sF,cAAc,GAAGjkE,eAAe,CAAC;EAAEkE,GAAG,EAAE;AAAU,CAAC,CAAC;AAC1D,MAAMggE,gBAAgB,SAASzlE,aAAa,CAAC;EACzC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACs3E,iBAAiB,GAAGhkE,aAAa,CAACgkE,iBAAiB,CAAC;EAC7D;EACA7hF,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAIyK,WAAW,GAAG,IAAI,CAAC8wE,iBAAiB,CAAC;MACrC/kF,IAAI,EAAEsF,KAAK,CAACtF,IAAI;MAChBoxB,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAC9BmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAC5ByjB,YAAY,EAAE1/E,KAAK,CAAC0/E,YAAY,IAAI,KAAK;MACzCC,aAAa,EAAE3/E,KAAK,CAAC2/E,aAAa;MAClCrO,gBAAgB,EAAEtxE,KAAK,CAACsxE,gBAAgB;MACxCh6C,OAAO,EAAEpzB,OAAO,CAACozB,OAAO;MACxBzM,OAAO,EAAE3mB,OAAO,CAAC2mB,OAAO;MACxBu4B,gBAAgB,EAAE9lD,OAAO,CAAC8lD;IAC9B,CAAC,CAAC;IACF,OAAQhmD,qDAAa,CAAC6c,gBAAgB,EAAE;MAAEypB,KAAK,EAAE1jC,KAAK,CAAC0jC,KAAK;MAAEnzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK;MAAEC,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAACwQ,OAAO,CAAC,EAAG7B,WAAW,CAAC2zB,UAAU,GAAG,CAAC,CAAC,GAAG;QAAE,WAAW,EAAEuV,eAAe,CAAC73C,KAAK,CAACtF,IAAI;MAAE,CAAE,CAAC;MAAE8T,SAAS,EAAE,CAC7N,GAAG22D,gBAAgB,CAACx2D,WAAW,EAAEzK,OAAO,CAACisB,KAAK,CAAC,EAC/C,IAAInwB,KAAK,CAACwO,SAAS,IAAI,EAAE,CAAC,CAC7B;MAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;MAAEE,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,gBAAgB;MAAEC,eAAe,EAAE7qB,OAAO,CAAC+a,cAAc;MAAEyyC,gBAAgB,EAAE9qD,KAAK,CAAC8qD,gBAAgB;MAAE1iC,kBAAkB;MAC3L;MACAzZ,WAAW,CAAC2zB,UAAU,GAAG5wC,SAAS,GAAG4L,OAAO,CAAC0hD,iBAAiB;MAAE12B,QAAQ,EAAEhrB,OAAO,CAAC2hD,eAAe;MAAE12B,WAAW,EAAEjrB,OAAO,CAAC4hD;IAAmB,CAAC,EAAEl/C,KAAK,CAACvN,QAAQ,CAAC;EACrK;AACJ;AACA,SAASmtF,uBAAuBA,CAACtiF,OAAO,EAAE;EACtC,OAAOk4B,OAAO,CAACl4B,OAAO,CAAC+a,cAAc,IAAIuyC,yBAAyB,CAAC,gBAAgB,EAAEttD,OAAO,CAAC,CAAC;AAClG;AACA,SAASmiF,iBAAiBA,CAACl+D,GAAG,EAAE;EAC5B,IAAI;IAAE7mB,IAAI;IAAEmwB,OAAO;IAAEiB,WAAW;IAAE4zD;EAAa,CAAC,GAAGn+D,GAAG;EACtD,IAAI2vD,OAAO,GAAGjM,WAAW,CAACvqE,IAAI,EAAE6mB,GAAG,CAAC06C,UAAU,EAAE,IAAI,EAAEnwC,WAAW,CAAC;EAClE,IAAI+zD,aAAa,GAAGt+D,GAAG,CAACo+D,aAAa,GAAI90D,OAAO,CAACwJ,MAAM,CAAC35B,IAAI,EAAEglF,YAAY,GAAGn+D,GAAG,CAAC6hC,gBAAgB,GAAGm8B,cAAc,CAAC,GAAI,EAAE;EACzH,OAAO55E,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;IAAEzlB,IAAI,EAAEmwB,OAAO,CAACgI,MAAM,CAACn4B,IAAI,CAAC;IAAE28B,IAAI,EAAE9V,GAAG,CAAC+V;EAAQ,CAAC,EAAE45C,OAAO,CAAC,EAAE;IAAEwO,YAAY;IACxHG;EAAc,CAAC,CAAC,EAAEt+D,GAAG,CAAC+vD,gBAAgB,CAAC;AAC/C;AAEA,MAAMwO,OAAO,SAAS/lE,aAAa,CAAC;EAChCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEykC;IAAI,CAAC,GAAGzkC,KAAK;IACnB,OAAQ5C,qDAAa,CAACshF,cAAc,EAAE;MAAEnuE,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,aAAa,CAAC;MAAEC,OAAO,EAAE;QAAElU,eAAe,EAAEkqC,GAAG,CAACK,UAAU,CAAC1E,EAAE,CAAC7lC;MAAgB,CAAC;MAAEuwD,gBAAgB,EAAEi1B,kBAAkB;MAAEt7C,GAAG,EAAEA,GAAG;MAAEm6C,QAAQ,EAAE,EAAE;MAAEjiB,UAAU,EAAE,KAAK;MAAEC,UAAU,EAAE,KAAK;MAAEmiB,eAAe,EAAE,KAAK;MAAEliB,UAAU,EAAE,KAAK;MAAEV,MAAM,EAAEn8D,KAAK,CAACm8D,MAAM;MAAEC,QAAQ,EAAEp8D,KAAK,CAACo8D,QAAQ;MAAEC,OAAO,EAAEr8D,KAAK,CAACq8D,OAAO;MAAEwiB,eAAe,EAAE,IAAI;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC;EAC7Z;AACJ;AACA,SAASiB,kBAAkBA,CAAC//E,KAAK,EAAE;EAC/B,IAAI;IAAE1O;EAAM,CAAC,GAAG0O,KAAK,CAAC3D,KAAK;EAC3B,OAAO/K,KAAK,IAAK8L,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAAiB,CAAC,EAAEtH,KAAK,CAAC3D,KAAK,CAAC/K,KAAK,CAAE;AAC9F;AACA,SAAS0uF,UAAUA,CAACC,QAAQ,EAAE;EAC1B,OAAQ7iF,qDAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAG,MAAK24E,QAAS;EAAE,CAAC,CAAC;AACjE;AAEA,MAAMC,mBAAmB,GAAIlgF,KAAK,IAAM5C,qDAAa,CAAC4c,eAAe,CAACpN,QAAQ,EAAE,IAAI,EAAG1I,OAAO,IAAK;EAC/F,IAAI;IAAE2mB,OAAO;IAAEvtB;EAAQ,CAAC,GAAG4G,OAAO;EAClC,IAAI;IAAExJ;EAAK,CAAC,GAAGsF,KAAK;EACpB,IAAIq0B,MAAM,GAAG/2B,OAAO,CAACojD,gBAAgB,IAAI1gD,KAAK,CAACmgF,aAAa;EAC5D,IAAI3jC,GAAG,GAAG3xB,OAAO,CAACgxB,iBAAiB,CAACnhD,IAAI,CAAC,CAAC,CAAC;EAC3C,IAAIy3B,IAAI,GAAGtH,OAAO,CAACwJ,MAAM,CAAC35B,IAAI,EAAE25B,MAAM,CAAC;EACvC,IAAI1lB,WAAW,GAAG;IAAE6tC,GAAG;IAAErqB,IAAI;IAAEz3B;EAAK,CAAC;EACrC,OAAQ0C,qDAAa,CAAC6c,gBAAgB,CAAC;EAAA,EACrC;IAAEypB,KAAK,EAAE1jC,KAAK,CAAC0jC,KAAK;IAAEnzB,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK;IAAEC,OAAO,EAAExQ,KAAK,CAACwQ,OAAO;IAAEhC,SAAS,EAAExO,KAAK,CAACwO,SAAS;IAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;IAAEE,WAAW,EAAEA,WAAW;IAAEuZ,aAAa,EAAE,mBAAmB;IAAEC,eAAe,EAAE7qB,OAAO,CAACgb,iBAAiB;IAAEwyC,gBAAgB,EAAEs1B,WAAW;IAAEh4D,kBAAkB,EAAE9qB,OAAO,CAAC+hD,oBAAoB;IAAE/2B,QAAQ,EAAEhrB,OAAO,CAACgiD,kBAAkB;IAAE/2B,WAAW,EAAEjrB,OAAO,CAACiiD;EAAsB,CAAC,EAAEv/C,KAAK,CAACvN,QAAQ,CAAC;AAC1Z,CAAC,CAAE;AACH,SAAS2tF,WAAWA,CAAChB,UAAU,EAAE;EAC7B,OAAOA,UAAU,CAACjtD,IAAI;AAC1B;AAEA,MAAMkuD,qBAAqB,GAAG,EAAE;AAChC,MAAMC,OAAO,SAASvmE,aAAa,CAAC;EAChC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACvH,KAAK,GAAG;MACTuhC,OAAO,EAAE9kB,cAAc,CAAC;IAC5B,CAAC;IACD,IAAI,CAACkjE,YAAY,GAAItrE,EAAE,IAAK;MACxB,IAAI,CAAC9B,MAAM,GAAG8B,EAAE;MAChB,IAAI,IAAI,CAACjV,KAAK,CAAC0jC,KAAK,EAAE;QAClBhnB,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;MAChC;IACJ,CAAC;IACD;IACA,IAAI,CAACurE,uBAAuB,GAAI1uD,EAAE,IAAK;MACnC;MACA,MAAME,MAAM,GAAG8b,qBAAqB,CAAChc,EAAE,CAAC;MACxC,IAAI,CAAC,IAAI,CAAC3e,MAAM,CAACy5B,QAAQ,CAAC5a,MAAM,CAAC,EAAE;QAC/B,IAAI,CAACyuD,gBAAgB,CAAC,CAAC;MAC3B;IACJ,CAAC;IACD,IAAI,CAACC,qBAAqB,GAAI5uD,EAAE,IAAK;MACjC,IAAIA,EAAE,CAACvnB,GAAG,KAAK,QAAQ,EAAE;QACrB,IAAI,CAACk2E,gBAAgB,CAAC,CAAC;MAC3B;IACJ,CAAC;IACD,IAAI,CAACA,gBAAgB,GAAG,MAAM;MAC1B,IAAI;QAAEnoF;MAAQ,CAAC,GAAG,IAAI,CAAC0H,KAAK;MAC5B,IAAI1H,OAAO,EAAE;QACTA,OAAO,CAAC,CAAC;MACb;IACJ,CAAC;EACL;EACAsF,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEuyB,KAAK;MAAE7yB;IAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;IACrC,IAAI;MAAElE,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,IAAIynB,UAAU,GAAG,CACb,YAAY,EACZ8H,KAAK,CAACwS,QAAQ,CAAC,SAAS,CAAC,CAC5B,CAACr1B,MAAM,CAACtN,KAAK,CAAC6rD,eAAe,IAAI,EAAE,CAAC;IACrC,OAAOriD,2DAAY,CAACpM,qDAAa,CAAC,KAAK,EAAEuI,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAAC2gF,UAAU,EAAE;MAAE9oE,EAAE,EAAE7X,KAAK,CAAC6X,EAAE;MAAEvQ,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG,CAAC;MAAE,iBAAiB,EAAEjhB,KAAK,CAACuhC,OAAO;MAAEjiC,GAAG,EAAE,IAAI,CAACqgF;IAAa,CAAC,CAAC,EACrLnjF,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,oBAAoB,GAAG6oB,KAAK,CAACwS,QAAQ,CAAC,eAAe;IAAE,CAAC,EACtFvlC,qDAAa,CAAC,MAAM,EAAE;MAAEkK,SAAS,EAAE,kBAAkB;MAAEuQ,EAAE,EAAEjX,KAAK,CAACuhC;IAAQ,CAAC,EAAEniC,KAAK,CAAC1O,KAAK,CAAC,EACxF8L,qDAAa,CAAC,MAAM,EAAE;MAAEkK,SAAS,EAAE,mBAAmB,GAAG6oB,KAAK,CAAC+B,YAAY,CAAC,OAAO,CAAC;MAAE5gC,KAAK,EAAEgM,OAAO,CAACsiB,SAAS;MAAEijB,OAAO,EAAE,IAAI,CAAC49C;IAAiB,CAAC,CAAC,CAAC,EACtJrjF,qDAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,kBAAkB,GAAG6oB,KAAK,CAACwS,QAAQ,CAAC,gBAAgB;IAAE,CAAC,EAAE3iC,KAAK,CAACvN,QAAQ,CAAC,CAAC,EAAEuN,KAAK,CAACorC,QAAQ,CAAC;EACpI;EACAlmC,iBAAiBA,CAAA,EAAG;IAChBxB,QAAQ,CAACkH,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC41E,uBAAuB,CAAC;IACpE98E,QAAQ,CAACkH,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC81E,qBAAqB,CAAC;IAChE,IAAI,CAAClqE,UAAU,CAAC,CAAC;EACrB;EACA/S,oBAAoBA,CAAA,EAAG;IACnBC,QAAQ,CAACmH,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC21E,uBAAuB,CAAC;IACvE98E,QAAQ,CAACmH,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAAC61E,qBAAqB,CAAC;EACvE;EACAlqE,UAAUA,CAAA,EAAG;IACT,IAAI;MAAEya;IAAM,CAAC,GAAG,IAAI,CAAC/sB,OAAO;IAC5B,IAAI;MAAE08E,WAAW;MAAEC;IAAa,CAAC,GAAG,IAAI,CAAC7gF,KAAK;IAC9C,IAAI;MAAEmT;IAAO,CAAC,GAAG,IAAI;IACrB,IAAI2tE,aAAa,GAAGvY,wBAAwB,CAACqY,WAAW,CAAC;IACzD,IAAIE,aAAa,EAAE;MACf,IAAIC,WAAW,GAAG5tE,MAAM,CAAC0+B,qBAAqB,CAAC,CAAC;MAChD;MACA,IAAImvC,UAAU,GAAGH,YAAY,GACvBhkE,cAAc,CAAC+jE,WAAW,EAAE,gBAAgB,CAAC,CAAC/uC,qBAAqB,CAAC,CAAC,CAAC6sB,GAAG,GACzEoiB,aAAa,CAACpiB,GAAG;MACvB,IAAIuiB,WAAW,GAAGhwD,KAAK,GAAG6vD,aAAa,CAACrnF,KAAK,GAAGsnF,WAAW,CAACpkF,KAAK,GAAGmkF,aAAa,CAACvnF,IAAI;MACtF;MACAynF,UAAU,GAAGt7D,IAAI,CAACC,GAAG,CAACq7D,UAAU,EAAEX,qBAAqB,CAAC;MACxDY,WAAW,GAAGv7D,IAAI,CAAC0wB,GAAG,CAAC6qC,WAAW,EAAEv9E,QAAQ,CAACipC,eAAe,CAAC+5B,WAAW,GAAG2Z,qBAAqB,GAAGU,WAAW,CAACpkF,KAAK,CAAC;MACrHskF,WAAW,GAAGv7D,IAAI,CAACC,GAAG,CAACs7D,WAAW,EAAEZ,qBAAqB,CAAC;MAC1D,IAAIa,MAAM,GAAG/tE,MAAM,CAACguE,YAAY,CAACtvC,qBAAqB,CAAC,CAAC;MACxDjE,UAAU,CAACz6B,MAAM,EAAE;QACfurD,GAAG,EAAEsiB,UAAU,GAAGE,MAAM,CAACxiB,GAAG;QAC5BnlE,IAAI,EAAE0nF,WAAW,GAAGC,MAAM,CAAC3nF;MAC/B,CAAC,CAAC;IACN;EACJ;AACJ;AAEA,MAAM6nF,WAAW,SAASrV,aAAa,CAAC;EACpC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACo4E,YAAY,GAAIptE,MAAM,IAAK;MAC5B,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpB,IAAIA,MAAM,EAAE;QACR,IAAI,CAACjP,OAAO,CAAC+hC,4BAA4B,CAAC,IAAI,EAAE;UAC5ChxB,EAAE,EAAE9B,MAAM;UACV8rD,cAAc,EAAE;QACpB,CAAC,CAAC;MACN,CAAC,MACI;QACD,IAAI,CAAC/6D,OAAO,CAACsiC,8BAA8B,CAAC,IAAI,CAAC;MACrD;IACJ,CAAC;EACL;EACA5oC,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEN,OAAO;MAAEutB;IAAQ,CAAC,GAAG,IAAI,CAAC3mB,OAAO;IACvC,IAAI;MAAElE;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE1D,SAAS;MAAE2/D,UAAU;MAAEnwC;IAAY,CAAC,GAAG9rB,KAAK;IAClD,IAAI1O,KAAK,GAAGu5B,OAAO,CAACwJ,MAAM,CAAC/3B,SAAS,EAAEgB,OAAO,CAACihD,gBAAgB,CAAC;IAC/D,OAAQnhD,qDAAa,CAACoiF,gBAAgB,EAAE;MAAE97C,KAAK,EAAE,IAAI,CAAC68C,YAAY;MAAE7lF,IAAI,EAAE4B,SAAS;MAAEwvB,WAAW,EAAEA,WAAW;MAAEmwC,UAAU,EAAEA;IAAW,CAAC,EAAE,CAACnQ,YAAY,EAAEn9C,WAAW,EAAE6B,OAAO,KAAMpT,qDAAa,CAACkjF,OAAO,EAAE;MAAE58C,KAAK,EAAElzB,OAAO,CAACtQ,GAAG;MAAE2X,EAAE,EAAE7X,KAAK,CAAC6X,EAAE;MAAEvmB,KAAK,EAAEA,KAAK;MAAEu6D,eAAe,EAAE,CAAC,iBAAiB,CAAC,CAACv+C,MAAM,CAACkD,OAAO,CAAClJ,SAAS,IAAI,EAAE,CAAC;MAAEq5E,UAAU,EAAEnwE,OAAO,CAAC;MAAuD46B,QAAQ,EAAEprC,KAAK,CAACorC,QAAQ;MAAEw1C,WAAW,EAAE5gF,KAAK,CAAC4gF,WAAW;MAAEC,YAAY,EAAE7gF,KAAK,CAAC6gF,YAAY;MAAEvoF,OAAO,EAAE0H,KAAK,CAAC1H;IAAQ,CAAC,EAC5fsnF,uBAAuB,CAACtiF,OAAO,CAAC,IAAKF,qDAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,sBAAsB;IAAE,CAAC,CAAE,EACxHxO,KAAK,CAACvN,QAAQ,CAAE,CAAC;EACzB;EACAw5E,QAAQA,CAACC,YAAY,EAAEC,WAAW,EAAEC,OAAO,EAAEC,QAAQ,EAAE;IACnD,IAAI;MAAEl5D,MAAM;MAAEnT;IAAM,CAAC,GAAG,IAAI;IAC5B,IAAIksE,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAGE,OAAO,IAC3CD,WAAW,IAAI,CAAC,IAAIA,WAAW,GAAGE,QAAQ,EAAE;MAC5C,OAAO;QACHvgD,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;QAC9BkqC,QAAQ,EAAErwD,MAAM,CAACwa,MAAM,CAAC;UAAEkqB,MAAM,EAAE,CAACrqC,KAAK,CAACqhF,UAAU;UAAEpzD,KAAK,EAAE;YACpD5zB,KAAK,EAAE2F,KAAK,CAAC1D,SAAS;YACtBhC,GAAG,EAAE0F,KAAK,CAACzD;UACf;QAAE,CAAC,EAAEyD,KAAK,CAACshF,aAAa,CAAC;QAC7BC,KAAK,EAAEpuE,MAAM;QACbyuD,IAAI,EAAE;UACFroE,IAAI,EAAE,CAAC;UACPmlE,GAAG,EAAE,CAAC;UACNjlE,KAAK,EAAE2yE,OAAO;UACdvK,MAAM,EAAEwK;QACZ,CAAC;QACDmV,KAAK,EAAE,CAAC,CAAE;MACd,CAAC;IACL;;IACA,OAAO,IAAI;EACf;AACJ;AAEA,MAAMC,iBAAiB,SAAS1nE,aAAa,CAAC;EAC1C1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACvH,KAAK,GAAG;MACT8gF,aAAa,EAAE,KAAK;MACpBC,SAAS,EAAEtkE,cAAc,CAAC;IAC9B,CAAC;IACD,IAAI,CAACukE,YAAY,GAAIC,MAAM,IAAK;MAC5B,IAAI,CAACA,MAAM,GAAGA,MAAM;MACpB,IAAI,IAAI,CAAC7hF,KAAK,CAAC0jC,KAAK,EAAE;QAClBhnB,MAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEm+C,MAAM,CAAC;MACpC;IACJ,CAAC;IACD,IAAI,CAACC,WAAW,GAAIhwD,EAAE,IAAK;MACvB,IAAI;QAAE9xB,KAAK;QAAEkE;MAAQ,CAAC,GAAG,IAAI;MAC7B,IAAI;QAAE8+C;MAAc,CAAC,GAAG9+C,OAAO,CAAC5G,OAAO;MACvC,IAAI5C,IAAI,GAAGqnF,YAAY,CAAC/hF,KAAK,CAAC,CAAC3F,KAAK;MACpC,SAAS2nF,cAAcA,CAACv9C,GAAG,EAAE;QACzB,IAAI;UAAE/f,GAAG;UAAEqgB,QAAQ;UAAE9W;QAAM,CAAC,GAAGwW,GAAG,CAACK,UAAU;QAC7C,OAAO;UACHzoC,KAAK,EAAE,IAAIygB,SAAS,CAAC5Y,OAAO,EAAEwgB,GAAG,EAAEqgB,QAAQ,CAAC;UAC5C1qC,KAAK,EAAE6J,OAAO,CAAC2mB,OAAO,CAACgI,MAAM,CAAC5E,KAAK,CAAC5zB,KAAK,CAAC;UAC1CC,GAAG,EAAE4J,OAAO,CAAC2mB,OAAO,CAACgI,MAAM,CAAC5E,KAAK,CAAC3zB,GAAG,CAAC;UACtC6/D,OAAO,EAAE11B,GAAG,CAAC01B,OAAO;UACpBC,KAAK,EAAE31B,GAAG,CAAC21B;QACf,CAAC;MACL;MACA,IAAI,OAAOpX,aAAa,KAAK,UAAU,EAAE;QACrCA,aAAa,GAAGA,aAAa,CAAC;UAC1BtoD,IAAI;UACJ2vC,MAAM,EAAE7U,OAAO,CAACx1B,KAAK,CAACiiF,UAAU,CAAC;UACjCC,OAAO,EAAEliF,KAAK,CAACkiF,OAAO,CAAC7gF,GAAG,CAAC2gF,cAAc,CAAC;UAC1CG,UAAU,EAAEniF,KAAK,CAACmiF,UAAU,CAAC9gF,GAAG,CAAC2gF,cAAc,CAAC;UAChDh9C,OAAO,EAAElT,EAAE;UACXuF,IAAI,EAAEnzB,OAAO,CAACozB;QAClB,CAAC,CAAC;MACN;MACA,IAAI,CAAC0rB,aAAa,IAAIA,aAAa,KAAK,SAAS,EAAE;QAC/C,IAAI,CAAC1/C,QAAQ,CAAC;UAAEo+E,aAAa,EAAE;QAAK,CAAC,CAAC;MAC1C,CAAC,MACI,IAAI,OAAO1+B,aAAa,KAAK,QAAQ,EAAE;QAAE;QAC1C9+C,OAAO,CAAC0pB,WAAW,CAACqyC,MAAM,CAACvlE,IAAI,EAAEsoD,aAAa,CAAC;MACnD;IACJ,CAAC;IACD,IAAI,CAACo/B,kBAAkB,GAAG,MAAM;MAC5B,IAAI,CAAC9+E,QAAQ,CAAC;QAAEo+E,aAAa,EAAE;MAAM,CAAC,CAAC;IAC3C,CAAC;EACL;EACA9jF,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,OAAQxD,qDAAa,CAAC4c,eAAe,CAACpN,QAAQ,EAAE,IAAI,EAAG1I,OAAO,IAAK;MAC/D,IAAI;QAAEozB,OAAO;QAAEh6B,OAAO;QAAEswB;MAAY,CAAC,GAAG1pB,OAAO;MAC/C,IAAI;QAAE8b;MAAa,CAAC,GAAG1iB,OAAO;MAC9B,IAAI;QAAE+kF;MAAQ,CAAC,GAAGriF,KAAK;MACvB,IAAIiuB,KAAK,GAAG8zD,YAAY,CAAC/hF,KAAK,CAAC;MAC/B,IAAImyB,IAAI,GAAG,OAAOnS,YAAY,KAAK,UAAU,CAAC;MAAA,EACxCA,YAAY,CAAC7f,IAAI,CAACytB,WAAW,EAAEy0D,OAAO,CAAC,GACtC,IAAGA,OAAQ,IAAGriE,YAAa,EAAC;MACnC,IAAIoS,IAAI,GAAG1X,kBAAkB,CAACpd,OAAO,CAACkjB,YAAY,EAAE,CAAC6hE,OAAO,CAAC,EAAElwD,IAAI,CAAC;MACpE,IAAIxjB,WAAW,GAAG;QACd6tC,GAAG,EAAE6lC,OAAO;QACZC,SAAS,EAAG,IAAGD,OAAQ,EAAC;QACxBlwD,IAAI;QACJkF,IAAI,EAAEC;MACV,CAAC;MACD,OAAQl6B,qDAAa,CAACM,4CAAQ,EAAE,IAAI,EAChC83B,OAAO,CAACx1B,KAAK,CAACqiF,OAAO,CAAC,IAAKjlF,qDAAa,CAAC6c,gBAAgB,EAAE;QAAE1J,KAAK,EAAEvQ,KAAK,CAACuQ,KAAK,IAAI,GAAG;QAAEmzB,KAAK,EAAE,IAAI,CAACk+C,YAAY;QAAEpzE,SAAS,EAAE,CACrH,IAAIxO,KAAK,CAACwO,SAAS,IAAI,EAAE,CAAC,EAC1B,cAAc,CACjB;QAAEC,OAAO,EAAEzO,KAAK,CAACyO,OAAO;QAAE+B,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAACwQ,OAAO,CAAC,EAAE0+B,oBAAoB,CAAC,IAAI,CAAC4yC,WAAW,CAAC,CAAC,EAAE;UAAExwF,KAAK,EAAE8gC,IAAI;UAAE,eAAe,EAAExxB,KAAK,CAAC8gF,aAAa;UAAE,eAAe,EAAE9gF,KAAK,CAAC8gF,aAAa,GAAG9gF,KAAK,CAAC+gF,SAAS,GAAG;QAAG,CAAC,CAAC;QAAEhzE,WAAW,EAAEA,WAAW;QAAEuZ,aAAa,EAAE,iBAAiB;QAAEC,eAAe,EAAE7qB,OAAO,CAACsb,eAAe;QAAEkyC,gBAAgB,EAAE9qD,KAAK,CAAC8qD,gBAAgB,IAAIy3B,mBAAmB;QAAEn6D,kBAAkB,EAAE9qB,OAAO,CAAC2lD,kBAAkB;QAAE36B,QAAQ,EAAEhrB,OAAO,CAAC4lD,gBAAgB;QAAE36B,WAAW,EAAEjrB,OAAO,CAAC6lD;MAAoB,CAAC,EAAEnjD,KAAK,CAACvN,QAAQ,CAAE,EAC3jBmO,KAAK,CAAC8gF,aAAa,IAAKtkF,qDAAa,CAACgkF,WAAW,EAAE;QAAEvpE,EAAE,EAAEjX,KAAK,CAAC+gF,SAAS;QAAErlF,SAAS,EAAE2xB,KAAK,CAAC5zB,KAAK;QAAEkC,OAAO,EAAE0xB,KAAK,CAAC3zB,GAAG;QAAEwxB,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;QAAEmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;QAAEqlB,aAAa,EAAEthF,KAAK,CAACshF,aAAa;QAAEl2C,QAAQ,EAAE,IAAI,CAACA,QAAQ;QAAEw1C,WAAW,EAAE5gF,KAAK,CAACwiF,cAAc,GAC1QxiF,KAAK,CAACwiF,cAAc,CAACpiF,OAAO,GAC5B,IAAI,CAACyhF,MAAM;QAAEhB,YAAY,EAAE7gF,KAAK,CAAC6gF,YAAY;QAAEQ,UAAU,EAAErhF,KAAK,CAACqhF,UAAU;QAAE/oF,OAAO,EAAE,IAAI,CAAC8pF;MAAmB,CAAC,EAAEpiF,KAAK,CAACyiF,cAAc,CAAC,CAAC,CAAE,CAAC;IAC1J,CAAC,CAAC;EACN;EACAv9E,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACw9E,cAAc,CAAC,CAAC;EACzB;EACAz9E,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACy9E,cAAc,CAAC,CAAC;EACzB;EACAA,cAAcA,CAAA,EAAG;IACb,IAAI,IAAI,CAACb,MAAM,EAAE;MACb,IAAI,CAACz2C,QAAQ,GAAGvuB,cAAc,CAAC,IAAI,CAACglE,MAAM,EAAE,kBAAkB,CAAC;IACnE;EACJ;AACJ;AACA,SAASU,mBAAmBA,CAACviF,KAAK,EAAE;EAChC,OAAOA,KAAK,CAACmyB,IAAI;AACrB;AACA,SAAS4vD,YAAYA,CAAC/hF,KAAK,EAAE;EACzB,IAAIA,KAAK,CAACiiF,UAAU,EAAE;IAClB,OAAO;MACH5nF,KAAK,EAAE2F,KAAK,CAACiiF,UAAU;MACvB3nF,GAAG,EAAE4gB,OAAO,CAAClb,KAAK,CAACiiF,UAAU,EAAE,CAAC;IACpC,CAAC;EACL;EACA,IAAI;IAAEE;EAAW,CAAC,GAAGniF,KAAK;EAC1B,OAAO;IACH3F,KAAK,EAAEsoF,uBAAuB,CAACR,UAAU,CAAC;IAC1C7nF,GAAG,EAAEsoF,mBAAmB,CAACT,UAAU;EACvC,CAAC;AACL;AACA,SAASQ,uBAAuBA,CAAC/nB,IAAI,EAAE;EACnC,OAAOA,IAAI,CAACvpB,MAAM,CAACwxC,iBAAiB,CAAC,CAAC/9C,UAAU,CAAC7W,KAAK,CAAC5zB,KAAK;AAChE;AACA,SAASwoF,iBAAiBA,CAACC,IAAI,EAAEC,IAAI,EAAE;EACnC,OAAOD,IAAI,CAACh+C,UAAU,CAAC7W,KAAK,CAAC5zB,KAAK,GAAG0oF,IAAI,CAACj+C,UAAU,CAAC7W,KAAK,CAAC5zB,KAAK,GAAGyoF,IAAI,GAAGC,IAAI;AAClF;AACA,SAASH,mBAAmBA,CAAChoB,IAAI,EAAE;EAC/B,OAAOA,IAAI,CAACvpB,MAAM,CAAC2xC,aAAa,CAAC,CAACl+C,UAAU,CAAC7W,KAAK,CAAC3zB,GAAG;AAC1D;AACA,SAAS0oF,aAAaA,CAACF,IAAI,EAAEC,IAAI,EAAE;EAC/B,OAAOD,IAAI,CAACh+C,UAAU,CAAC7W,KAAK,CAAC3zB,GAAG,GAAGyoF,IAAI,CAACj+C,UAAU,CAAC7W,KAAK,CAAC3zB,GAAG,GAAGwoF,IAAI,GAAGC,IAAI;AAC9E;AAEA,MAAME,KAAK,CAAC;EACR5xF,WAAWA,CAAA,EAAG;IACV,IAAI,CAAC4jE,QAAQ,GAAG,EAAE;EACtB;EACAjwD,GAAGA,CAACe,KAAK,EAAE;IACP,IAAI,CAAC+N,YAAY,GAAG/N,KAAK;IACzB,KAAK,IAAIo0B,OAAO,IAAI,IAAI,CAAC86B,QAAQ,EAAE;MAC/B96B,OAAO,CAACp0B,KAAK,CAAC;IAClB;EACJ;EACArK,SAASA,CAACy+B,OAAO,EAAE;IACf,IAAI,CAAC86B,QAAQ,CAAC7xD,IAAI,CAAC+2B,OAAO,CAAC;IAC3B,IAAI,IAAI,CAACrmB,YAAY,KAAKpiB,SAAS,EAAE;MACjCyoC,OAAO,CAAC,IAAI,CAACrmB,YAAY,CAAC;IAC9B;EACJ;AACJ;;AAEA;AACA;AACA;AACA,MAAM5F,oBAAoB,SAAS+0E,KAAK,CAAC;EACrC5xF,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAAC9G,GAAG,GAAG,IAAIyD,GAAG,CAAC,CAAC;EACxB;EACA;EACAgR,MAAMA,CAAC8B,eAAe,EAAE;IACpB,MAAM;MAAEvW;IAAI,CAAC,GAAG,IAAI;IACpB,IAAI6hF,OAAO,GAAG,KAAK;IACnB,IAAItrE,eAAe,CAAC8zC,QAAQ,EAAE;MAC1BrqD,GAAG,CAAC2D,GAAG,CAAC4S,eAAe,CAACC,EAAE,EAAED,eAAe,CAAC;MAC5CsrE,OAAO,GAAG,IAAI;IAClB,CAAC,MACI,IAAI7hF,GAAG,CAAC8hF,GAAG,CAACvrE,eAAe,CAACC,EAAE,CAAC,EAAE;MAClCxW,GAAG,CAACwC,MAAM,CAAC+T,eAAe,CAACC,EAAE,CAAC;MAC9BqrE,OAAO,GAAG,IAAI;IAClB;IACA,IAAIA,OAAO,EAAE;MACT,IAAI,CAACl+E,GAAG,CAAC3D,GAAG,CAAC;IACjB;EACJ;AACJ;;;;;;;;;;;;;;;AC32OA,IAAI2qF,GAAG,GAAG;EACNntE,IAAI,EAAE,IAAI;EACVC,IAAI,EAAE;IACFC,GAAG,EAAE,CAAC;IACNC,GAAG,EAAE,CAAC,CAAE;EACZ,CAAC;;EACDhlB,UAAU,EAAE;IACRklB,IAAI,EAAE,QAAQ;IACdljB,IAAI,EAAE,MAAM;IACZsjB,KAAK,EAAE,UAAU;IACjBD,IAAI,EAAE,OAAO;IACbE,KAAK,EAAE,OAAO;IACdT,IAAI,EAAE,QAAQ;IACdU,GAAG,EAAE,MAAM;IACXC,IAAI,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE,IAAI;EACdK,UAAU,EAAE,cAAc;EAC1BC,YAAY,EAAE,OAAO;EACrBC,YAAY,EAAE;AAClB,CAAC;;;;;;;;;;;;;;;;;ACpB0D;AAC4B;AAC/C;AACF;AAEtC,IAAItI,KAAK,GAAGuK,yEAAY,CAAC;EACrB3hB,IAAI,EAAE,uBAAuB;EAC7BpG,WAAW,EAAE,cAAc;EAC3BL,KAAK,EAAE;IACHsyF,OAAO,EAAE;MACL/5F,SAAS,EAAE65F,qDAAY;MACvBntD,yBAAyB,EAAEotD,mEAAyBA;IACxD,CAAC;IACDE,UAAU,EAAE;MACRr3F,IAAI,EAAE,SAAS;MACfg0B,QAAQ,EAAE;QAAEoQ,IAAI,EAAE;MAAE;IACxB,CAAC;IACDkzD,WAAW,EAAE;MACTt3F,IAAI,EAAE,SAAS;MACfg0B,QAAQ,EAAE;QAAE8pB,KAAK,EAAE;MAAE;IACzB,CAAC;IACDy5C,YAAY,EAAE;MACVv3F,IAAI,EAAE,SAAS;MACfg0B,QAAQ,EAAE;QAAEqpB,MAAM,EAAE;MAAE,CAAC;MACvBxS,cAAc,EAAE;IACpB,CAAC;IACD2sD,WAAW,EAAE;MACTx3F,IAAI,EAAE,SAAS;MACfg0B,QAAQ,EAAE;QAAEopB,KAAK,EAAE;MAAE;IACzB;EACJ;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;AC/B2tB;AAC3oB;;AAElF;AACA;AACA;AACA;AACA,MAAMq6C,SAAS,SAAS1gB,8DAAa,CAAC;EAClC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACukF,WAAW,GAAGxuF,uEAAS,CAAC,CAAC;EAClC;EACAyuF,kBAAkBA,CAACC,gBAAgB,EAAEC,WAAW,EAAE;IAC9C,IAAI;MAAE7sF,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI+4E,QAAQ,GAAG,EAAE;IACjB,IAAIp8B,iBAAiB,GAAGu7B,kEAAoB,CAACl4E,OAAO,CAAC5G,OAAO,CAAC;IAC7D,IAAIsvF,gBAAgB,EAAE;MAClB3P,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,QAAQ;QACduV,GAAG,EAAE,QAAQ;QACbmnE,QAAQ,EAAE7wB,iBAAiB;QAC3Bi9B,KAAK,EAAE;UACHp6C,KAAK,EAAE,IAAI,CAACgpD,WAAW;UACvB1R,cAAc,EAAE,eAAe;UAC/BK,UAAU,EAAEuR;QAChB;MACJ,CAAC,CAAC;IACN;IACA3P,QAAQ,CAAC75E,IAAI,CAAC;MACVpO,IAAI,EAAE,MAAM;MACZuV,GAAG,EAAE,MAAM;MACXu5B,MAAM,EAAE,IAAI;MACZg6C,KAAK,EAAE;QAAEj2D,OAAO,EAAEglE;MAAY;IAClC,CAAC,CAAC;IACF,OAAQzvF,2EAAa,CAACkvD,8DAAa,EAAE;MAAE99C,SAAS,EAAE,CAAC,YAAY,CAAC;MAAEwZ,QAAQ,EAAE9jB,OAAO,CAAC8jB;IAAS,CAAC,EAC1F5qB,2EAAa,CAACk/E,8DAAgB,EAAE;MAAEx4C,MAAM,EAAE,CAAC9jC,KAAK,CAACinC,YAAY,IAAI,CAACjnC,KAAK,CAACknC,QAAQ;MAAEi2C,gBAAgB,EAAEn9E,KAAK,CAACknC,QAAQ;MAAEw0C,IAAI,EAAE,EAAE,CAAC;MAA4BuB,QAAQ,EAAEA;IAAS,CAAC,CAAC,CAAC;EACvL;EACA6P,mBAAmBA,CAACF,gBAAgB,EAAEC,WAAW,EAAEzb,MAAM,EAAEtvB,WAAW,EAAE;IACpE,IAAIirC,UAAU,GAAG,IAAI,CAAC7oF,OAAO,CAAC4pB,WAAW,CAAC/J,cAAc;IACxD,IAAI,CAACgpE,UAAU,EAAE;MACb,MAAM,IAAIxlE,KAAK,CAAC,8BAA8B,CAAC;IACnD;IACA,IAAI;MAAEvnB,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI28C,iBAAiB,GAAG,CAAC7gD,KAAK,CAACknC,QAAQ,IAAIk1C,kEAAoB,CAACl4E,OAAO,CAAC5G,OAAO,CAAC;IAChF,IAAIwjD,qBAAqB,GAAG,CAAC9gD,KAAK,CAACknC,QAAQ,IAAIm1C,kEAAwB,CAACn4E,OAAO,CAAC5G,OAAO,CAAC;IACxF,IAAI2/E,QAAQ,GAAG,EAAE;IACjB,IAAI2P,gBAAgB,EAAE;MAClB3P,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,QAAQ;QACduV,GAAG,EAAE,QAAQ;QACbmnE,QAAQ,EAAE7wB,iBAAiB;QAC3BmsC,MAAM,EAAE,CAAC;UACDziF,GAAG,EAAE,MAAM;UACXm5B,KAAK,EAAE,IAAI,CAACgpD,WAAW;UACvB1R,cAAc,EAAE,eAAe;UAC/BK,UAAU,EAAEuR;QAChB,CAAC;MACT,CAAC,CAAC;IACN;IACA3P,QAAQ,CAAC75E,IAAI,CAAC;MACVpO,IAAI,EAAE,MAAM;MACZuV,GAAG,EAAE,MAAM;MACXu5B,MAAM,EAAE,IAAI;MACZkpD,MAAM,EAAE,CAAC;QACDziF,GAAG,EAAE,MAAM;QACXsd,OAAO,EAAEglE;MACb,CAAC;IACT,CAAC,CAAC;IACF,IAAI/rC,qBAAqB,EAAE;MACvBm8B,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,QAAQ;QACduV,GAAG,EAAE,QAAQ;QACbmnE,QAAQ,EAAE,IAAI;QACdsb,MAAM,EAAE,CAAC;UACDziF,GAAG,EAAE,MAAM;UACXsd,OAAO,EAAEs0D,8DAAgBA;QAC7B,CAAC;MACT,CAAC,CAAC;IACN;IACA,OAAQ/+E,2EAAa,CAACkvD,8DAAa,EAAE;MAAE99C,SAAS,EAAE,CAAC,YAAY,CAAC;MAAEwZ,QAAQ,EAAE9jB,OAAO,CAAC8jB;IAAS,CAAC,EAC1F5qB,2EAAa,CAAC2vF,UAAU,EAAE;MAAEjpD,MAAM,EAAE,CAAC9jC,KAAK,CAACinC,YAAY,IAAI,CAACjnC,KAAK,CAACknC,QAAQ;MAAEA,QAAQ,EAAElnC,KAAK,CAACknC,QAAQ;MAAEi2C,gBAAgB,EAAEn9E,KAAK,CAACknC,QAAQ;MAAE+lD,SAAS,EAAE,CAAC;QAAEvR,IAAI,EAAE,CAAC;UAAEve,IAAI,EAAEiU,MAAM;UAAE8J,QAAQ,EAAEp5B;QAAY,CAAC;MAAE,CAAC,CAAC;MAAEm7B,QAAQ,EAAEA;IAAS,CAAC,CAAC,CAAC;EACxO;AACJ;AAEA,SAASiQ,cAAcA,CAACtyB,IAAI,EAAEuY,MAAM,EAAE;EAClC,IAAIga,KAAK,GAAG,EAAE;EACd,KAAK,IAAIpvF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGo1E,MAAM,EAAEp1E,CAAC,IAAI,CAAC,EAAE;IAChCovF,KAAK,CAACpvF,CAAC,CAAC,GAAG,EAAE;EACjB;EACA,KAAK,IAAI0mC,GAAG,IAAIm2B,IAAI,EAAE;IAClBuyB,KAAK,CAAC1oD,GAAG,CAACgvC,GAAG,CAAC,CAACrwE,IAAI,CAACqhC,GAAG,CAAC;EAC5B;EACA,OAAO0oD,KAAK;AAChB;AACA,SAASC,mBAAmBA,CAACxyB,IAAI,EAAEwW,MAAM,EAAE;EACvC,IAAIic,KAAK,GAAG,EAAE;EACd,KAAK,IAAItvF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqzE,MAAM,EAAErzE,CAAC,IAAI,CAAC,EAAE;IAChCsvF,KAAK,CAACtvF,CAAC,CAAC,GAAG,EAAE;EACjB;EACA,KAAK,IAAI0mC,GAAG,IAAIm2B,IAAI,EAAE;IAClByyB,KAAK,CAAC5oD,GAAG,CAACqvC,QAAQ,CAAC,CAAC1wE,IAAI,CAACqhC,GAAG,CAAC;EACjC;EACA,OAAO4oD,KAAK;AAChB;AACA,SAASC,qBAAqBA,CAACltD,EAAE,EAAE+yC,MAAM,EAAE;EACvC,IAAIga,KAAK,GAAG,EAAE;EACd,IAAI,CAAC/sD,EAAE,EAAE;IACL,KAAK,IAAIriC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGo1E,MAAM,EAAEp1E,CAAC,IAAI,CAAC,EAAE;MAChCovF,KAAK,CAACpvF,CAAC,CAAC,GAAG,IAAI;IACnB;EACJ,CAAC,MACI;IACD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGo1E,MAAM,EAAEp1E,CAAC,IAAI,CAAC,EAAE;MAChCovF,KAAK,CAACpvF,CAAC,CAAC,GAAG;QACPs3E,iBAAiB,EAAEj1C,EAAE,CAACi1C,iBAAiB;QACvCxlD,OAAO,EAAEuQ,EAAE,CAACvQ,OAAO;QACnB+qC,IAAI,EAAE;MACV,CAAC;IACL;IACA,KAAK,IAAIn2B,GAAG,IAAIrE,EAAE,CAACw6B,IAAI,EAAE;MACrBuyB,KAAK,CAAC1oD,GAAG,CAACgvC,GAAG,CAAC,CAAC7Y,IAAI,CAACx3D,IAAI,CAACqhC,GAAG,CAAC;IACjC;EACJ;EACA,OAAO0oD,KAAK;AAChB;AAEA,MAAMI,+BAA+B,GAAGjyE,iEAAe,CAAC;EACpDxgB,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EACjB0+C,cAAc,EAAE,IAAI;EACpBz+C,QAAQ,EAAE;AACd,CAAC,CAAC;AACF,SAASwyF,kBAAkBA,CAAC/oD,GAAG,EAAE;EAC7B,IAAI;IAAEjxB;EAAQ,CAAC,GAAGixB,GAAG,CAACK,UAAU,CAAC1E,EAAE;EACnC,OAAO5sB,OAAO,KAAK,WAAW,IAAKA,OAAO,KAAK,MAAM,IACjD,CAACixB,GAAG,CAACK,UAAU,CAACpgB,GAAG,CAAC2lB,MAAM,IAC1B5F,GAAG,CAACqvC,QAAQ,KAAKrvC,GAAG,CAACsvC,OAAO;EAAI;EAChCtvC,GAAG,CAAC01B,OAAO;EAAI;EACf11B,GAAG,CAAC21B,KAAK,CAAC;EACb;AACL;;AAEA,MAAMqzB,eAAe,SAAS1zE,6DAAa,CAAC;EACxCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,OAAQ5C,2EAAa,CAAC4hF,8DAAa,EAAEr5E,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,EAAE;MAAEwO,SAAS,EAAE,CAAC,kBAAkB,EAAE,wBAAwB,EAAE,YAAY,CAAC;MAAEywE,iBAAiB,EAAEsO,+BAA+B;MAAEhyB,sBAAsB,EAAEv7D,KAAK,CAACu7D,sBAAsB;MAAEujB,eAAe,EAAE,CAAC9+E,KAAK,CAACykC,GAAG,CAACK,UAAU,CAACpgB,GAAG,CAAC2lB;IAAO,CAAC,CAAC,CAAC;EAC5S;AACJ;AAEA,MAAMqjD,kBAAkB,SAAS3zE,6DAAa,CAAC;EAC3Cnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAI;MAAEugC;IAAI,CAAC,GAAGzkC,KAAK;IACnB,IAAIq7D,UAAU,GAAG/9D,OAAO,CAACzC,eAAe,IAAI0yF,+BAA+B;IAC3E,IAAI3O,QAAQ,GAAGxjB,kEAAgB,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAE,IAAI,EAAElE,KAAK,CAACu7D,sBAAsB,CAAC;IAC7F,OAAQn+D,2EAAa,CAACshF,8DAAc,EAAE/4E,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,EAAE;MAAEuQ,KAAK,EAAE,GAAG;MAAE/B,SAAS,EAAE,CAAC,kBAAkB,EAAE,sBAAsB,CAAC;MAAEgC,OAAO,EAAEusD,kEAAiB,CAAC/8D,KAAK,CAACykC,GAAG,EAAEvgC,OAAO,CAAC;MAAE4mD,gBAAgB,EAAEi1B,kBAAkB;MAAEnB,QAAQ,EAAEA,QAAQ;MAAEhiB,UAAU,EAAE,KAAK;MAAEmiB,eAAe,EAAE;IAAM,CAAC,CAAC,CAAC;EACjS;AACJ;AACA,SAASgB,kBAAkBA,CAACpxE,WAAW,EAAE;EACrC,OAAQvR,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAChCN,2EAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE,sBAAsB;IAAEmD,KAAK,EAAE;MAAEjQ,WAAW,EAAEmU,WAAW,CAACnU,WAAW,IAAImU,WAAW,CAACpU;IAAgB;EAAE,CAAC,CAAC,EAC3IoU,WAAW,CAACiwE,QAAQ,IAAKxhF,2EAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAAgB,CAAC,EAAEqH,WAAW,CAACiwE,QAAQ,CAAE,EACpGxhF,2EAAa,CAAC,KAAK,EAAE;IAAEkK,SAAS,EAAE;EAAiB,CAAC,EAAEqH,WAAW,CAACtS,KAAK,CAAC/K,KAAK,IAAI8L,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;AAClI;AAEA,MAAMiwF,iBAAiB,SAAS5zE,6DAAa,CAAC;EAC1C1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACylF,WAAW,GAAGpyE,iEAAO,CAACoyE,WAAW,CAAC;EAC3C;EACAhwF,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAEkiF,OAAO;MAAE2L;IAAc,CAAC,GAAG,IAAI,CAACD,WAAW,CAAC5tF,KAAK,CAAC8tF,gBAAgB,CAAC;IACzE,OAAQ1wF,2EAAa,CAACqkF,8DAAiB,EAAE;MAAEjzE,SAAS,EAAE,CAAC,sBAAsB,CAAC;MAAEsd,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAEgmB,UAAU,EAAEjiF,KAAK,CAACiiF,UAAU;MAAEI,OAAO,EAAEriF,KAAK,CAACqiF,OAAO;MAAEH,OAAO,EAAEA,OAAO;MAAEC,UAAU,EAAE0L,aAAa;MAAErL,cAAc,EAAExiF,KAAK,CAACwiF,cAAc;MAAE3B,YAAY,EAAE7gF,KAAK,CAAC6gF,YAAY;MAAES,aAAa,EAAEthF,KAAK,CAACshF,aAAa;MAAEmB,cAAc,EAAEA,CAAA,KAAM;QAC3W,IAAIsL,iBAAiB,GAAG,CAAC/tF,KAAK,CAAC08B,SAAS,GAAG18B,KAAK,CAAC08B,SAAS,CAAC24C,iBAAiB,GAAG,IAAI,MAC9Er1E,KAAK,CAAC28B,WAAW,GAAG38B,KAAK,CAAC28B,WAAW,CAAC04C,iBAAiB,GAAG,IAAI,CAAC,IAChE,CAAC,CAAC;QACN,OAAQj4E,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEwkF,OAAO,CAAC7gF,GAAG,CAAEojC,GAAG,IAAK;UACvD,IAAIkrB,UAAU,GAAGlrB,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU;UACnD,OAAQvyD,2EAAa,CAAC,KAAK,EAAE;YAAEkK,SAAS,EAAE,0BAA0B;YAAEiD,GAAG,EAAEolD,UAAU;YAAEllD,KAAK,EAAE;cACtFujF,UAAU,EAAED,iBAAiB,CAACp+B,UAAU,CAAC,GAAG,QAAQ,GAAG;YAC3D;UAAE,CAAC,EAAE69B,kBAAkB,CAAC/oD,GAAG,CAAC,GAAIrnC,2EAAa,CAACswF,kBAAkB,EAAE/nF,MAAM,CAACwa,MAAM,CAAC;YAAEskB,GAAG,EAAEA,GAAG;YAAEk4B,UAAU,EAAE,KAAK;YAAEE,UAAU,EAAElN,UAAU,KAAK3vD,KAAK,CAACy8B,cAAc;YAAE8+B,sBAAsB,EAAE;UAAM,CAAC,EAAES,kEAAU,CAACv3B,GAAG,EAAEzkC,KAAK,CAACi8D,UAAU,CAAC,CAAC,CAAC,GAAK7+D,2EAAa,CAACqwF,eAAe,EAAE9nF,MAAM,CAACwa,MAAM,CAAC;YAAEskB,GAAG,EAAEA,GAAG;YAAEk4B,UAAU,EAAE,KAAK;YAAEC,UAAU,EAAE,KAAK;YAAEmiB,eAAe,EAAE,KAAK;YAAEliB,UAAU,EAAElN,UAAU,KAAK3vD,KAAK,CAACy8B,cAAc;YAAE8+B,sBAAsB,EAAE;UAAM,CAAC,EAAES,kEAAU,CAACv3B,GAAG,EAAEzkC,KAAK,CAACi8D,UAAU,CAAC,CAAC,CAAE,CAAC;QAC/d,CAAC,CAAC,CAAC;MACP;IAAE,CAAC,CAAC;EACZ;AACJ;AACA,SAAS2xB,WAAWA,CAACE,gBAAgB,EAAE;EACnC,IAAI5L,OAAO,GAAG,EAAE;EAChB,IAAI2L,aAAa,GAAG,EAAE;EACtB,KAAK,IAAII,SAAS,IAAIH,gBAAgB,EAAE;IACpC5L,OAAO,CAAC9+E,IAAI,CAAC6qF,SAAS,CAACxpD,GAAG,CAAC;IAC3B,IAAI,CAACwpD,SAAS,CAACC,SAAS,EAAE;MACtBL,aAAa,CAACzqF,IAAI,CAAC6qF,SAAS,CAACxpD,GAAG,CAAC;IACrC;EACJ;EACA,OAAO;IAAEy9C,OAAO;IAAE2L;EAAc,CAAC;AACrC;AAEA,MAAMM,uBAAuB,GAAG7yE,iEAAe,CAAC;EAAEwD,IAAI,EAAE;AAAS,CAAC,CAAC;AACnE,MAAMsvE,SAAS,SAASriB,8DAAa,CAAC;EAClC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACiL,SAAS,GAAGlV,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAAC0C,KAAK,GAAG;MACTytF,WAAW,EAAEhxE,kEAAc,CAAC;IAChC,CAAC;IACD,IAAI,CAACkjE,YAAY,GAAItrE,EAAE,IAAK;MACxByH,iEAAM,CAAC,IAAI,CAACtJ,SAAS,EAAE6B,EAAE,CAAC;MAC1ByH,iEAAM,CAAC,IAAI,CAAC1c,KAAK,CAAC0jC,KAAK,EAAEzuB,EAAE,CAAC;IAChC,CAAC;EACL;EACArX,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEsG,OAAO;MAAElE,KAAK;MAAEY,KAAK;MAAEwS;IAAU,CAAC,GAAG,IAAI;IAC/C,IAAI;MAAE9V,OAAO;MAAEutB;IAAQ,CAAC,GAAG3mB,OAAO;IAClC,IAAI;MAAExJ,IAAI;MAAEoxB;IAAY,CAAC,GAAG9rB,KAAK;IACjC;IACA,MAAM0/E,YAAY,GAAG1/E,KAAK,CAAC2/E,aAAa,IACpC2O,uBAAuB,CAAC5zF,IAAI,EAAEoxB,WAAW,CAACkH,YAAY,EAAEnI,OAAO,CAAC;IACpE,OAAQztB,2EAAa,CAACoiF,8DAAgB,EAAE;MAAEjvE,KAAK,EAAE,IAAI;MAAEmzB,KAAK,EAAE,IAAI,CAAC68C,YAAY;MAAE/xE,SAAS,EAAE,CACpF,gBAAgB,EAChB,IAAIxO,KAAK,CAAC6rD,eAAe,IAAI,EAAE,CAAC,CACnC;MAAEr7C,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,CAACwxE,cAAc,CAAC,EAAGxxE,KAAK,CAAC2/E,aAAa,GAAG;QAAE,iBAAiB,EAAE/+E,KAAK,CAACytF;MAAY,CAAC,GAAG,CAAC,CAAE,CAAC,EAAE;QAAE37F,IAAI,EAAE;MAAW,CAAC,CAAC;MAAEo4D,gBAAgB,EAAEyjC,cAAc;MAAE7zF,IAAI,EAAEA,IAAI;MAAEoxB,WAAW,EAAEA,WAAW;MAAEmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAE0jB,aAAa,EAAE3/E,KAAK,CAAC2/E,aAAa;MAAED,YAAY,EAAEA,YAAY;MAAEpO,gBAAgB,EAAEtxE,KAAK,CAACsxE;IAAiB,CAAC,EAAE,CAACxlB,YAAY,EAAEn9C,WAAW,KAAMvR,2EAAa,CAAC,KAAK,EAAE;MAAE8C,GAAG,EAAEF,KAAK,CAACwuF,UAAU;MAAElnF,SAAS,EAAE,+CAA+C;MAAEmD,KAAK,EAAE;QAAEgkF,SAAS,EAAEzuF,KAAK,CAACyuF;MAAU;IAAE,CAAC,EACnjBzuF,KAAK,CAAC0uF,cAAc,IAAKtxF,2EAAa,CAAC8iF,8DAAmB,EAAE;MAAE3vE,KAAK,EAAE,GAAG;MAAE/B,SAAS,EAAE,CAAC,wBAAwB,CAAC;MAAEgC,OAAO,EAAE+0D,kEAAiB,CAACrhE,OAAO,EAAExJ,IAAI,EAAE,MAAM,CAAC;MAAEA,IAAI,EAAEA,IAAI;MAAEylF,aAAa,EAAEgO;IAAwB,CAAC,CAAE,EAC1N,CAACx/E,WAAW,CAAC2zB,UAAU,KAClBtiC,KAAK,CAAC2/E,aAAa,IAAIC,kEAAuB,CAACtiF,OAAO,CAAC,IAAI0C,KAAK,CAAC2uF,WAAW,CAAC,GAAIvxF,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAqB,CAAC,EAC1IlK,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,GAAG;MAAE/B,SAAS,EAAE,CAC7C,uBAAuB,EACvBkxE,YAAY,IAAI,wBAAwB,CAC3C;MAAElvE,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEolD,kEAAiB,CAACrhE,OAAO,EAAExJ,IAAI,CAAC,CAAC,EAAE;QAAEmd,EAAE,EAAEjX,KAAK,CAACytF;MAAY,CAAC;IAAE,CAAC,CAAC,CAAC,GAAIruF,KAAK,CAAC2/E,aAAa;IAC5I;IACAviF,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,oBAAoB;MAAEmD,KAAK,EAAE;QAAEujF,UAAU,EAAE;MAAS;IAAE,CAAC,EACrF5wF,2EAAa,CAAC,GAAG,EAAE;MAAEkK,SAAS,EAAE;IAAwB,CAAC,EAAE,QAAQ,CAAC,CAAC,GAAI5V,SAAS,EACtF0L,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,uBAAuB;MAAEpH,GAAG,EAAEF,KAAK,CAAC4uF;IAAe,CAAC,EAClF5uF,KAAK,CAAC6uF,SAAS,EACfzxF,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,uBAAuB;MAAEmD,KAAK,EAAE;QAAEqkF,SAAS,EAAE9uF,KAAK,CAAC+uF;MAAc;IAAE,CAAC,EAClG3xF,2EAAa,CAACuwF,iBAAiB,EAAE;MAAE1L,UAAU,EAAEvnF,IAAI;MAAEozF,gBAAgB,EAAE9tF,KAAK,CAAC8tF,gBAAgB;MAAEzL,OAAO,EAAEriF,KAAK,CAACqiF,OAAO;MAAEG,cAAc,EAAEpvE,SAAS;MAAEytE,YAAY,EAAE,CAAC7gF,KAAK,CAAC2/E,aAAa;MAAE2B,aAAa,EAAEthF,KAAK,CAACshF,aAAa;MAAEx1D,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAE2Q,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;MAAEC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;MAAEs/B,UAAU,EAAEj8D,KAAK,CAACi8D;IAAW,CAAC,CAAC,CAAC,CAAC,EACrY7+D,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAoB,CAAC,EAAEtH,KAAK,CAACgvF,SAAS,CAAC,CAAE,CAAC;EACpF;AACJ;AACA,SAAST,cAAcA,CAACvuF,KAAK,EAAE;EAC3B,OAAOA,KAAK,CAAC6/E,aAAa,IAAIziF,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAE,QAAQ,CAAC;AACzE;AACA,SAAS4wF,uBAAuBA,CAAC5zF,IAAI,EAAEs4B,YAAY,EAAEnI,OAAO,EAAE;EAC1D,MAAM;IAAExwB,KAAK,EAAE04B,YAAY;IAAEz4B,GAAG,EAAE24B;EAAW,CAAC,GAAGD,YAAY;EAC7D,MAAMi8D,cAAc,GAAGv6C,kEAAK,CAACzhB,UAAU,EAAE,CAAC,CAAC,CAAC;EAC5C,MAAMi8D,gBAAgB,GAAGrkE,OAAO,CAACk8B,OAAO,CAACh0B,YAAY,CAAC;EACtD,MAAMo8D,iBAAiB,GAAGtkE,OAAO,CAACgsB,QAAQ,CAAC9jB,YAAY,CAAC;EACxD,MAAMq8D,eAAe,GAAGvkE,OAAO,CAACk8B,OAAO,CAACkoC,cAAc,CAAC;EACvD,MAAMI,gBAAgB,GAAGxkE,OAAO,CAACgsB,QAAQ,CAACo4C,cAAc,CAAC;EACzD;EACA,OAAO,EAAEC,gBAAgB,KAAKE,eAAe,IAAID,iBAAiB,KAAKE,gBAAgB,CAAC,IACpF75D,OAAO;EACP;EACA96B,IAAI,CAACyW,OAAO,CAAC,CAAC,KAAK4hB,YAAY,CAAC5hB,OAAO,CAAC,CAAC;EACrC;EACC0Z,OAAO,CAACm8B,MAAM,CAACtsD,IAAI,CAAC,KAAK,CAAC,IAAIA,IAAI,CAACyW,OAAO,CAAC,CAAC,GAAG8hB,UAAU,CAAC9hB,OAAO,CAAC,CAAE,CAAC;AAClF;AAEA,SAASm+E,cAAcA,CAAC7qD,GAAG,EAAE;EACzB,OAAOA,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,GAAG,GAAG,GAAGlrB,GAAG,CAACqvC,QAAQ;AAClE;AACA,SAASyb,cAAcA,CAAC9qD,GAAG,EAAE;EACzB,OAAO6qD,cAAc,CAAC7qD,GAAG,CAAC,GAAG,GAAG,GAAGA,GAAG,CAACsvC,OAAO;AAClD;AACA,SAASyb,qBAAqBA,CAAC50B,IAAI;AAAE;AACrChZ,YAAY,EAAEC,eAAe,EAAE+qB,WAAW,EAAE6iB,UAAU,EAAEC,gBAAgB,EAAEtc,KAAK,EAAE;EAC7E,IAAIuc,SAAS,GAAG,IAAIC,mBAAmB,CAAEC,QAAQ,IAAK;IAClD;IACA,IAAIC,MAAM,GAAGl1B,IAAI,CAACi1B,QAAQ,CAACl4E,KAAK,CAAC,CAACmtB,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,GAC5D,GAAG,GAAGkgC,QAAQ,CAAC1yB,IAAI,CAAC9iE,KAAK,GACzB,GAAG,IAAIw1F,QAAQ,CAAC1yB,IAAI,CAAC7iE,GAAG,GAAG,CAAC,CAAC;IACjC;IACA,OAAOm1F,UAAU,CAACK,MAAM,CAAC,IAAI,CAAC;EAClC,CAAC,CAAC;EACFH,SAAS,CAAC9iB,cAAc,GAAG,IAAI;EAC/B8iB,SAAS,CAAC/iB,WAAW,GAAGA,WAAW;EACnC,IAAIhrB,YAAY,KAAK,IAAI,IAAIC,eAAe,KAAK,IAAI,EAAE;IACnD8tC,SAAS,CAAC7iB,QAAQ,GAAG4iB,gBAAgB;IACrCC,SAAS,CAACI,cAAc,GAAG,IAAI;EACnC,CAAC,MACI,IAAI,OAAOnuC,YAAY,KAAK,QAAQ,EAAE;IACvC+tC,SAAS,CAAC5iB,WAAW,GAAGnrB,YAAY;EACxC,CAAC,MACI,IAAI,OAAOC,eAAe,KAAK,QAAQ,EAAE;IAC1C8tC,SAAS,CAAC5iB,WAAW,GAAGlrB,eAAe;IACvC8tC,SAAS,CAACI,cAAc,GAAG,IAAI;EACnC;EACA;EACA,IAAIC,SAAS,GAAG,EAAE;EAClB,IAAIC,iBAAiB,GAAG,EAAE;EAC1B,KAAK,IAAIlyF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG68D,IAAI,CAACn5D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACrC,IAAI0mC,GAAG,GAAGm2B,IAAI,CAAC78D,CAAC,CAAC;IACjB,IAAI+xF,MAAM,GAAGP,cAAc,CAAC9qD,GAAG,CAAC;IAChC,IAAIyrD,WAAW,GAAGT,UAAU,CAACK,MAAM,CAAC;IACpC,IAAII,WAAW,IAAI,IAAI,EAAE;MACrBF,SAAS,CAAC5sF,IAAI,CAAC;QACXuU,KAAK,EAAE5Z,CAAC;QACRo/D,IAAI,EAAE;UACF9iE,KAAK,EAAEoqC,GAAG,CAACqvC,QAAQ;UACnBx5E,GAAG,EAAEmqC,GAAG,CAACsvC,OAAO,GAAG;QACvB;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACDkc,iBAAiB,CAAC7sF,IAAI,CAACqhC,GAAG,CAAC;IAC/B;EACJ;EACA,IAAI2oC,aAAa,GAAGuiB,SAAS,CAACxiB,OAAO,CAAC6iB,SAAS,CAAC;EAChD,IAAIG,QAAQ,GAAGR,SAAS,CAACpgB,OAAO,CAAC,CAAC;EAClC,IAAI;IAAE6gB,mBAAmB;IAAEC,kBAAkB;IAAEC;EAAgB,CAAC,GAAGC,UAAU,CAACJ,QAAQ,EAAEv1B,IAAI,EAAEwY,KAAK,CAAC;EACpG,IAAIod,QAAQ,GAAG,EAAE;EACjB,IAAIC,cAAc,GAAG,EAAE;EACvB;EACA,KAAK,IAAIhsD,GAAG,IAAIwrD,iBAAiB,EAAE;IAC/BI,kBAAkB,CAAC5rD,GAAG,CAACqvC,QAAQ,CAAC,CAAC1wE,IAAI,CAAC;MAClCqhC,GAAG;MACHypD,SAAS,EAAE,KAAK;MAChBvV,UAAU,EAAE,IAAI;MAChB+X,WAAW,EAAE,CAAC;MACd5B,SAAS,EAAE;IACf,CAAC,CAAC;IACF,KAAK,IAAIpb,GAAG,GAAGjvC,GAAG,CAACqvC,QAAQ,EAAEJ,GAAG,IAAIjvC,GAAG,CAACsvC,OAAO,EAAEL,GAAG,IAAI,CAAC,EAAE;MACvD0c,mBAAmB,CAAC1c,GAAG,CAAC,CAACtwE,IAAI,CAAC;QAC1BqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEivC,GAAG,EAAEA,GAAG,GAAG,CAAC,EAAEN,KAAK,CAAC;QACzC8a,SAAS,EAAE,KAAK;QAChBvV,UAAU,EAAE,KAAK;QACjB+X,WAAW,EAAE,CAAC;QACd5B,SAAS,EAAE;MACf,CAAC,CAAC;IACN;EACJ;EACA;EACA,KAAK,IAAIpb,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGN,KAAK,CAAC3xE,MAAM,EAAEiyE,GAAG,IAAI,CAAC,EAAE;IAC5C8c,QAAQ,CAACptF,IAAI,CAAC,CAAC,CAAC;EACpB;EACA,KAAK,IAAIyqE,WAAW,IAAIT,aAAa,EAAE;IACnC,IAAI3oC,GAAG,GAAGm2B,IAAI,CAACiT,WAAW,CAACl2D,KAAK,CAAC;IACjC,IAAIi5E,UAAU,GAAG/iB,WAAW,CAAC1Q,IAAI;IACjCkzB,kBAAkB,CAACO,UAAU,CAACv2F,KAAK,CAAC,CAAC+I,IAAI,CAAC;MACtCqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEmsD,UAAU,CAACv2F,KAAK,EAAEu2F,UAAU,CAACt2F,GAAG,EAAE84E,KAAK,CAAC;MAC7D8a,SAAS,EAAE,KAAK;MAChBvV,UAAU,EAAE,IAAI;MAChB+X,WAAW,EAAE,CAAC;MACd5B,SAAS,EAAE;IACf,CAAC,CAAC;IACF,KAAK,IAAIpb,GAAG,GAAGkd,UAAU,CAACv2F,KAAK,EAAEq5E,GAAG,GAAGkd,UAAU,CAACt2F,GAAG,EAAEo5E,GAAG,IAAI,CAAC,EAAE;MAC7D8c,QAAQ,CAAC9c,GAAG,CAAC,IAAI,CAAC;MAClB0c,mBAAmB,CAAC1c,GAAG,CAAC,CAACtwE,IAAI,CAAC;QAC1BqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEivC,GAAG,EAAEA,GAAG,GAAG,CAAC,EAAEN,KAAK,CAAC;QACzC8a,SAAS,EAAE,KAAK;QAChBvV,UAAU,EAAE,KAAK;QACjB+X,WAAW,EAAE,CAAC;QACd5B,SAAS,EAAE;MACf,CAAC,CAAC;IACN;EACJ;EACA;EACA,KAAK,IAAIpb,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGN,KAAK,CAAC3xE,MAAM,EAAEiyE,GAAG,IAAI,CAAC,EAAE;IAC5C+c,cAAc,CAACrtF,IAAI,CAACktF,eAAe,CAAC5c,GAAG,CAAC,CAAC;EAC7C;EACA,OAAO;IAAE0c,mBAAmB;IAAEC,kBAAkB;IAAEG,QAAQ;IAAEC;EAAe,CAAC;AAChF;AACA;AACA,SAASF,UAAUA,CAACM,QAAQ,EAAEj2B,IAAI,EAAEwY,KAAK,EAAE;EACvC,IAAI0d,cAAc,GAAGC,mBAAmB,CAACF,QAAQ,EAAEzd,KAAK,CAAC3xE,MAAM,CAAC;EAChE,IAAI2uF,mBAAmB,GAAG,EAAE;EAC5B,IAAIC,kBAAkB,GAAG,EAAE;EAC3B,IAAIC,eAAe,GAAG,EAAE;EACxB,KAAK,IAAI5c,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGN,KAAK,CAAC3xE,MAAM,EAAEiyE,GAAG,IAAI,CAAC,EAAE;IAC5C,IAAIlE,KAAK,GAAGshB,cAAc,CAACpd,GAAG,CAAC;IAC/B;IACA,IAAIoa,gBAAgB,GAAG,EAAE;IACzB,IAAIkD,aAAa,GAAG,CAAC;IACrB,IAAIC,gBAAgB,GAAG,CAAC;IACxB,KAAK,IAAIrvB,IAAI,IAAI4N,KAAK,EAAE;MACpB,IAAI/qC,GAAG,GAAGm2B,IAAI,CAACgH,IAAI,CAACjqD,KAAK,CAAC;MAC1Bm2E,gBAAgB,CAAC1qF,IAAI,CAAC;QAClBqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEivC,GAAG,EAAEA,GAAG,GAAG,CAAC,EAAEN,KAAK,CAAC;QACzC8a,SAAS,EAAE,IAAI;QACfvV,UAAU,EAAE,KAAK;QACjB+X,WAAW,EAAE9uB,IAAI,CAAC8L,UAAU;QAC5BohB,SAAS,EAAEltB,IAAI,CAAC8L,UAAU,GAAGsjB;MACjC,CAAC,CAAC;MACFA,aAAa,GAAGpvB,IAAI,CAAC8L,UAAU,GAAG9L,IAAI,CAAC+K,SAAS;IACpD;IACA;IACA,IAAIukB,eAAe,GAAG,EAAE;IACxBF,aAAa,GAAG,CAAC;IACjBC,gBAAgB,GAAG,CAAC;IACpB,KAAK,IAAIrvB,IAAI,IAAI4N,KAAK,EAAE;MACpB,IAAI/qC,GAAG,GAAGm2B,IAAI,CAACgH,IAAI,CAACjqD,KAAK,CAAC;MAC1B,IAAIghE,UAAU,GAAG/W,IAAI,CAACzE,IAAI,CAAC7iE,GAAG,GAAGsnE,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,GAAG,CAAC,CAAC,CAAC;MACtD,IAAI82F,UAAU,GAAGvvB,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,KAAKq5E,GAAG;MACxCud,gBAAgB,IAAIrvB,IAAI,CAAC8L,UAAU,GAAGsjB,aAAa,CAAC,CAAC;MACrDA,aAAa,GAAGpvB,IAAI,CAAC8L,UAAU,GAAG9L,IAAI,CAAC+K,SAAS,CAAC,CAAC;MAClD,IAAIgM,UAAU,EAAE;QACZsY,gBAAgB,IAAIrvB,IAAI,CAAC+K,SAAS;QAClC,IAAIwkB,UAAU,EAAE;UACZD,eAAe,CAAC9tF,IAAI,CAAC;YACjBqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEm9B,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,EAAEunE,IAAI,CAACzE,IAAI,CAAC7iE,GAAG,EAAE84E,KAAK,CAAC;YAC3D8a,SAAS,EAAE,IAAI;YACfvV,UAAU,EAAE,IAAI;YAChB+X,WAAW,EAAE9uB,IAAI,CAAC8L,UAAU;YAC5BohB,SAAS,EAAE;UACf,CAAC,CAAC;QACN;MACJ,CAAC,MACI,IAAIqC,UAAU,EAAE;QACjBD,eAAe,CAAC9tF,IAAI,CAAC;UACjBqhC,GAAG,EAAEksD,UAAU,CAAClsD,GAAG,EAAEm9B,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,EAAEunE,IAAI,CAACzE,IAAI,CAAC7iE,GAAG,EAAE84E,KAAK,CAAC;UAC3D8a,SAAS,EAAE,IAAI;UACfvV,UAAU,EAAE,KAAK;UACjB+X,WAAW,EAAE9uB,IAAI,CAAC8L,UAAU;UAC5BohB,SAAS,EAAEmC,gBAAgB,CAAE;QACjC,CAAC,CAAC;;QACFA,gBAAgB,GAAG,CAAC;MACxB;IACJ;IACAb,mBAAmB,CAAChtF,IAAI,CAAC0qF,gBAAgB,CAAC;IAC1CuC,kBAAkB,CAACjtF,IAAI,CAAC8tF,eAAe,CAAC;IACxCZ,eAAe,CAACltF,IAAI,CAAC6tF,gBAAgB,CAAC;EAC1C;EACA,OAAO;IAAEb,mBAAmB;IAAEC,kBAAkB;IAAEC;EAAgB,CAAC;AACvE;AACA,SAASS,mBAAmBA,CAACvhB,KAAK,EAAE4B,MAAM,EAAE;EACxC,IAAI0f,cAAc,GAAG,EAAE;EACvB,KAAK,IAAIpd,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGtC,MAAM,EAAEsC,GAAG,IAAI,CAAC,EAAE;IACtCod,cAAc,CAAC1tF,IAAI,CAAC,EAAE,CAAC;EAC3B;EACA,KAAK,IAAIw+D,IAAI,IAAI4N,KAAK,EAAE;IACpB,KAAK,IAAIkE,GAAG,GAAG9R,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,EAAEq5E,GAAG,GAAG9R,IAAI,CAACzE,IAAI,CAAC7iE,GAAG,EAAEo5E,GAAG,IAAI,CAAC,EAAE;MAC3Dod,cAAc,CAACpd,GAAG,CAAC,CAACtwE,IAAI,CAACw+D,IAAI,CAAC;IAClC;EACJ;EACA,OAAOkvB,cAAc;AACzB;AACA,SAASH,UAAUA,CAAClsD,GAAG,EAAE2sD,SAAS,EAAEC,OAAO,EAAEje,KAAK,EAAE;EAChD,IAAI3uC,GAAG,CAACqvC,QAAQ,KAAKsd,SAAS,IAAI3sD,GAAG,CAACsvC,OAAO,KAAKsd,OAAO,GAAG,CAAC,EAAE;IAC3D,OAAO5sD,GAAG;EACd;EACA,IAAIK,UAAU,GAAGL,GAAG,CAACK,UAAU;EAC/B,IAAIk1B,SAAS,GAAGl1B,UAAU,CAAC7W,KAAK;EAChC,IAAIisC,WAAW,GAAGl/C,iEAAe,CAACg/C,SAAS,EAAE;IACzC3/D,KAAK,EAAE+4E,KAAK,CAACge,SAAS,CAAC,CAAC12F,IAAI;IAC5BJ,GAAG,EAAE4gB,iEAAO,CAACk4D,KAAK,CAACie,OAAO,GAAG,CAAC,CAAC,CAAC32F,IAAI,EAAE,CAAC;EAC3C,CAAC,CAAC;EACF,OAAOiL,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEskB,GAAG,CAAC,EAAE;IAAEqvC,QAAQ,EAAEsd,SAAS;IAAErd,OAAO,EAAEsd,OAAO,GAAG,CAAC;IAAEvsD,UAAU,EAAE;MAC9FpgB,GAAG,EAAEogB,UAAU,CAACpgB,GAAG;MACnB0b,EAAE,EAAEz6B,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE2kB,UAAU,CAAC1E,EAAE,CAAC,EAAE;QAAEO,gBAAgB,EAAE;MAAM,CAAC,CAAC;MAChFoE,QAAQ,EAAED,UAAU,CAACC,QAAQ;MAC7B9W,KAAK,EAAEisC;IACX,CAAC;IAAEC,OAAO,EAAE11B,GAAG,CAAC01B,OAAO,IAAID,WAAW,CAAC7/D,KAAK,CAAC8W,OAAO,CAAC,CAAC,KAAK6oD,SAAS,CAAC3/D,KAAK,CAAC8W,OAAO,CAAC,CAAC;IAAEipD,KAAK,EAAE31B,GAAG,CAAC21B,KAAK,IAAIF,WAAW,CAAC5/D,GAAG,CAAC6W,OAAO,CAAC,CAAC,KAAK6oD,SAAS,CAAC1/D,GAAG,CAAC6W,OAAO,CAAC;EAAE,CAAC,CAAC;AAC1K;AACA,MAAMy+E,mBAAmB,SAASpjB,8DAAY,CAAC;EAC3Cn7E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB;IACA,IAAI,CAAC4nF,cAAc,GAAG,KAAK;IAC3B;IACA,IAAI,CAACuB,WAAW,GAAG,CAAC,CAAC;EACzB;EACAnkB,OAAOA,CAAC6iB,SAAS,EAAE;IACf,MAAM7N,UAAU,GAAG,KAAK,CAAChV,OAAO,CAAC6iB,SAAS,CAAC;IAC3C,MAAM;MAAE/iB;IAAe,CAAC,GAAG,IAAI;IAC/B,MAAMskB,aAAa,GAAI7kB,KAAK,IAAK,CAAC,IAAI,CAAC4kB,WAAW,CAAChjB,kEAAa,CAAC5B,KAAK,CAAC,CAAC;IACxE;IACA,KAAK,IAAI2B,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGpB,cAAc,CAACxrE,MAAM,EAAE4sE,KAAK,IAAI,CAAC,EAAE;MAC3DpB,cAAc,CAACoB,KAAK,CAAC,GAAGpB,cAAc,CAACoB,KAAK,CAAC,CAACjhE,MAAM,CAACmkF,aAAa,CAAC;IACvE;IACA,OAAOpP,UAAU;EACrB;EACA1U,sBAAsBA,CAACnyB,SAAS,EAAEoxB,KAAK,EAAEU,aAAa,EAAE;IACpD,MAAM;MAAEH,cAAc;MAAEqkB;IAAY,CAAC,GAAG,IAAI;IAC5C,MAAM;MAAE1jB,aAAa;MAAEc,aAAa;MAAEC;IAAgB,CAAC,GAAGrzB,SAAS;IACnE;IACA,IAAI,IAAI,CAACy0C,cAAc,IAAIniB,aAAa,EAAE;MACtC,MAAM4jB,eAAe,GAAGljB,kEAAa,CAACV,aAAa,CAAC;MACpD,IAAI,CAAC0jB,WAAW,CAACE,eAAe,CAAC,EAAE;QAC/B,IAAI,IAAI,CAAC3kB,cAAc,EAAE;UACrB;UACA,MAAMgB,WAAW,GAAGloE,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEytD,aAAa,CAAC,EAAE;YAAEzQ,IAAI,EAAE2Q,kEAAc,CAACF,aAAa,CAACzQ,IAAI,EAAEuP,KAAK,CAACvP,IAAI;UAAE,CAAC,CAAC;UAC7H;UACA;UACA,MAAMs0B,aAAa,GAAGnjB,kEAAa,CAACT,WAAW,CAAC;UAChDyjB,WAAW,CAACG,aAAa,CAAC,GAAG,IAAI;UACjCxkB,cAAc,CAACyB,aAAa,CAAC,CAACC,eAAe,CAAC,GAAGd,WAAW;UAC5DT,aAAa,CAAChqE,IAAI,CAACyqE,WAAW,CAAC;UAC/B,IAAI,CAACE,UAAU,CAACH,aAAa,EAAElB,KAAK,EAAEU,aAAa,CAAC;QACxD,CAAC,MACI;UACDkkB,WAAW,CAACE,eAAe,CAAC,GAAG,IAAI;UACnCpkB,aAAa,CAAChqE,IAAI,CAACwqE,aAAa,CAAC;QACrC;MACJ;IACJ;IACA;IACA,KAAK,CAACH,sBAAsB,CAACnyB,SAAS,EAAEoxB,KAAK,EAAEU,aAAa,CAAC;EACjE;AACJ;AAEA,MAAMskB,QAAQ,SAAS3lB,8DAAa,CAAC;EACjC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACwpF,UAAU,GAAG,IAAIjY,8DAAM,CAAC,CAAC,CAAC,CAAC;IAChC,IAAI,CAACkY,WAAW,GAAG,IAAIlY,8DAAM,CAAC,CAAC,CAAC,CAAC;IACjC,IAAI,CAACmY,QAAQ,GAAG,IAAInY,8DAAM,CAAC,CAAC,CAAC,CAAC;IAC9B,IAAI,CAACoY,cAAc,GAAG,IAAIpY,8DAAM,CAAC,CAAC,CAAC,CAAC;IACpC,IAAI,CAACtmE,SAAS,GAAGlV,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAAC0C,KAAK,GAAG;MACTmxF,cAAc,EAAE,IAAI;MACpBrC,gBAAgB,EAAE,IAAI;MACtBD,UAAU,EAAE,CAAC;IACjB,CAAC;IACD,IAAI,CAAC7rD,YAAY,GAAIouD,QAAQ,IAAK;MAC9B,IAAIA,QAAQ,EAAE;QACV,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;MAC7B;IACJ,CAAC;EACL;;EACAr0F,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY,KAAK;MAAEsD;IAAQ,CAAC,GAAG,IAAI;IACpC,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAIktE,MAAM,GAAGpxE,KAAK,CAACozE,KAAK,CAAC3xE,MAAM;IAC/B,IAAIywF,kBAAkB,GAAG9E,mBAAmB,CAACptF,KAAK,CAAC80E,gBAAgB,EAAE1D,MAAM,CAAC;IAC5E,IAAI+gB,gBAAgB,GAAG/E,mBAAmB,CAACptF,KAAK,CAACg1E,WAAW,EAAE5D,MAAM,CAAC;IACrE,IAAIghB,kBAAkB,GAAGhF,mBAAmB,CAAC,IAAI,CAACiF,gBAAgB,CAAC,CAAC,EAAEjhB,MAAM,CAAC;IAC7E,IAAIkhB,eAAe,GAAGlF,mBAAmB,CAAC,IAAI,CAACmF,aAAa,CAAC,CAAC,EAAEnhB,MAAM,CAAC;IACvE,IAAI;MAAEgf,mBAAmB;MAAEC,kBAAkB;MAAEG,QAAQ;MAAEC;IAAe,CAAC,GAAGjB,qBAAqB,CAAC70B,kEAAa,CAAC36D,KAAK,CAAC+0E,WAAW,EAAEz3E,OAAO,CAAC+iD,UAAU,CAAC,EAAErgD,KAAK,CAAC4hD,YAAY,EAAE5hD,KAAK,CAAC6hD,eAAe,EAAEvkD,OAAO,CAACgjD,gBAAgB,EAAE1/C,KAAK,CAAC6uF,UAAU,EAAE7uF,KAAK,CAAC8uF,gBAAgB,EAAE1vF,KAAK,CAACozE,KAAK,CAAC;IACnR,IAAI2a,iBAAiB;IAAG;IACtB/tF,KAAK,CAAC08B,SAAS,IAAI18B,KAAK,CAAC08B,SAAS,CAAC24C,iBAAiB,IACjDr1E,KAAK,CAAC28B,WAAW,IAAI38B,KAAK,CAAC28B,WAAW,CAAC04C,iBAAkB,IAC1D,CAAC,CAAC;IACN,OAAQj4E,2EAAa,CAAC,IAAI,EAAE;MAAE8C,GAAG,EAAE,IAAI,CAACkT,SAAS;MAAE1gB,IAAI,EAAE;IAAM,CAAC,EAC5DsN,KAAK,CAACgyE,WAAW,IAAIhyE,KAAK,CAACgyE,WAAW,CAAC,CAAC,EACxChyE,KAAK,CAACozE,KAAK,CAAC/xE,GAAG,CAAC,CAACmxF,IAAI,EAAE9e,GAAG,KAAK;MAC3B,IAAI+e,aAAa,GAAG,IAAI,CAACC,YAAY,CAAChf,GAAG,EAAE1zE,KAAK,CAACknC,QAAQ,GAAGkpD,mBAAmB,CAAC1c,GAAG,CAAC,GAAG2c,kBAAkB,CAAC3c,GAAG,CAAC,EAAE1zE,KAAK,CAACi8D,UAAU,EAAE8xB,iBAAiB,CAAC;MACpJ,IAAI4E,aAAa,GAAG,IAAI,CAACD,YAAY,CAAChf,GAAG,EAAEkf,qBAAqB,CAACN,eAAe,CAAC5e,GAAG,CAAC,EAAE2c,kBAAkB,CAAC,EAAErwF,KAAK,CAACi8D,UAAU,EAAE,CAAC,CAAC,EAAEzmC,OAAO,CAACx1B,KAAK,CAAC08B,SAAS,CAAC,EAAElH,OAAO,CAACx1B,KAAK,CAAC28B,WAAW,CAAC,EAAE,KAAK,CAAC;MAC9L,OAAQv/B,2EAAa,CAACgxF,SAAS,EAAE;QAAE7jF,GAAG,EAAEioF,IAAI,CAACjoF,GAAG;QAAEm5B,KAAK,EAAE,IAAI,CAACiuD,UAAU,CAACzzF,SAAS,CAACs0F,IAAI,CAACjoF,GAAG,CAAC;QAAEikF,UAAU,EAAE,IAAI,CAACoD,WAAW,CAAC1zF,SAAS,CAACs0F,IAAI,CAACjoF,GAAG,CAAC,CAAC;QAA0EuhB,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;QAAEpxB,IAAI,EAAE83F,IAAI,CAAC93F,IAAI;QAAEilF,aAAa,EAAE3/E,KAAK,CAAC6yF,cAAc;QAAEnE,cAAc,EAAE1uF,KAAK,CAAC8yF,eAAe,IAAIpf,GAAG,KAAK,CAAC;QAAEib,WAAW,EAAE3uF,KAAK,CAAC8yF,eAAe,CAAC;QAA4D72B,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;QAAEx/B,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;QAAEC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;QAAEC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;QAAE20C,gBAAgB,EAAEkhB,IAAI,CAAClhB,gBAAgB;QAAEE,cAAc,EAAEghB,IAAI,CAAChhB,cAAc;QAAE3lB,eAAe,EAAE2mC,IAAI,CAAC3mC,eAAe;QAAEy1B,aAAa,EAAEkR,IAAI,CAAClR,aAAa;QAAEe,OAAO,EAAEmO,QAAQ,CAAC9c,GAAG,CAAC;QAAEqb,aAAa,EAAE0B,cAAc,CAAC/c,GAAG,CAAC;QAAEoa,gBAAgB,EAAEsC,mBAAmB,CAAC1c,GAAG,CAAC;QAAEkb,cAAc,EAAE,IAAI,CAACiD,QAAQ,CAAC3zF,SAAS,CAACs0F,IAAI,CAACjoF,GAAG,CAAC;QAAEskF,SAAS;QAAI;QAC93BzxF,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EACxBN,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAE+0F,aAAa,CAAC,EAC5Cr1F,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEi1F,aAAa,CAAC,CAAE;QAAE3D,SAAS;QAAI;QACjE5xF,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EACxB,IAAI,CAACq1F,cAAc,CAACX,kBAAkB,CAAC1e,GAAG,CAAC,EAAE,WAAW,CAAC,EACzD,IAAI,CAACqf,cAAc,CAACb,kBAAkB,CAACxe,GAAG,CAAC,EAAE,cAAc,CAAC,EAC5D,IAAI,CAACqf,cAAc,CAACZ,gBAAgB,CAACze,GAAG,CAAC,EAAE,UAAU,CAAC,CAAE;QAAE+a,SAAS,EAAEzuF,KAAK,CAACgzF;MAAc,CAAC,CAAC;IACvG,CAAC,CAAC,CAAC;EACX;EACA9tF,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC+sF,YAAY,CAAC,IAAI,CAAC;IACvB,IAAI,CAAC/tF,OAAO,CAACggC,gBAAgB,CAAC,IAAI,CAACN,YAAY,CAAC;EACpD;EACA3+B,kBAAkBA,CAACyiC,SAAS,EAAEurD,SAAS,EAAE;IACrC,IAAIC,YAAY,GAAG,IAAI,CAAClzF,KAAK;IAC7B,IAAI,CAACiyF,YAAY,CAAC,CAACv2E,iEAAY,CAACgsB,SAAS,EAAEwrD,YAAY,CAAC,CAAC;EAC7D;EACAzvF,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACS,OAAO,CAACigC,mBAAmB,CAAC,IAAI,CAACP,YAAY,CAAC;EACvD;EACAyuD,gBAAgBA,CAAA,EAAG;IACf,IAAI;MAAEryF;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIA,KAAK,CAAC08B,SAAS,IAAI18B,KAAK,CAAC08B,SAAS,CAACk+B,IAAI,CAACn5D,MAAM,EAAE;MAAE;MAClD,OAAOzB,KAAK,CAAC08B,SAAS,CAACk+B,IAAI;IAC/B;IACA,IAAI56D,KAAK,CAAC28B,WAAW,IAAI38B,KAAK,CAAC28B,WAAW,CAACi+B,IAAI,CAACn5D,MAAM,EAAE;MAAE;MACtD,OAAOzB,KAAK,CAAC28B,WAAW,CAACi+B,IAAI;IACjC;IACA,OAAO56D,KAAK,CAAC60E,iBAAiB;EAClC;EACA0d,aAAaA,CAAA,EAAG;IACZ,IAAI;MAAEvyF;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIA,KAAK,CAAC28B,WAAW,IAAI38B,KAAK,CAAC28B,WAAW,CAACi+B,IAAI,CAACn5D,MAAM,EAAE;MAAE;MACtD,OAAOzB,KAAK,CAAC28B,WAAW,CAACi+B,IAAI;IACjC;IACA,OAAO,EAAE;EACb;EACA83B,YAAYA,CAAChf,GAAG,EAAEyf,aAAa,EAAEl3B,UAAU,EAAE8xB,iBAAiB,EAAEpxB,UAAU,EAAEC,UAAU,EAAEmiB,eAAe,EAAE;IACrG,IAAI;MAAE76E;IAAQ,CAAC,GAAG,IAAI;IACtB,IAAI;MAAEu4B;IAAe,CAAC,GAAG,IAAI,CAACz8B,KAAK;IACnC,IAAI;MAAE+xF;IAAe,CAAC,GAAG,IAAI,CAACnxF,KAAK;IACnC,IAAI26D,sBAAsB,GAAG,IAAI,CAACv7D,KAAK,CAACozE,KAAK,CAAC3xE,MAAM,KAAK,CAAC,CAAC,CAAC;IAC5D,IAAI86D,QAAQ,GAAGI,UAAU,IAAIC,UAAU,IAAImiB,eAAe;IAC1D,IAAIqU,KAAK,GAAG,EAAE;IACd,IAAIrB,cAAc,EAAE;MAChB,KAAK,IAAI9D,SAAS,IAAIkF,aAAa,EAAE;QACjC,IAAI;UAAE1uD;QAAI,CAAC,GAAGwpD,SAAS;QACvB,IAAI;UAAEt+B;QAAW,CAAC,GAAGlrB,GAAG,CAACK,UAAU,CAACC,QAAQ;QAC5C,IAAImpD,SAAS,GAAGD,SAAS,CAACC,SAAS,IAAI,CAACH,iBAAiB,CAACp+B,UAAU,CAAC;QACrE,IAAIgpB,UAAU,GAAGsV,SAAS,CAACtV,UAAU;QACrC,IAAIp/E,IAAI,GAAG,EAAE;QACb,IAAIE,KAAK,GAAG,EAAE;QACd,IAAIk/E,UAAU,EAAE;UACZ,IAAIz0E,OAAO,CAAC+sB,KAAK,EAAE;YACfx3B,KAAK,GAAG,CAAC;YACTF,IAAI,GAAGw4F,cAAc,CAACxoB,KAAK,CAAC9kC,GAAG,CAACsvC,OAAO,CAAC,GAAGge,cAAc,CAACxoB,KAAK,CAAC9kC,GAAG,CAACqvC,QAAQ,CAAC;UACjF,CAAC,MACI;YACDv6E,IAAI,GAAG,CAAC;YACRE,KAAK,GAAGs4F,cAAc,CAACvoB,MAAM,CAAC/kC,GAAG,CAACqvC,QAAQ,CAAC,GAAGie,cAAc,CAACvoB,MAAM,CAAC/kC,GAAG,CAACsvC,OAAO,CAAC;UACpF;QACJ;QACA;AAChB;AACA;AACA;QACgBqf,KAAK,CAAChwF,IAAI,CAAChG,2EAAa,CAAC,KAAK,EAAE;UAAEkK,SAAS,EAAE,0BAA0B,IAAIqxE,UAAU,GAAG,+BAA+B,GAAG,EAAE,CAAC;UAAEpuE,GAAG,EAAE+kF,cAAc,CAAC7qD,GAAG,CAAC;UAAEvkC,GAAG,EAAEq8D,QAAQ,GAAG,IAAI,GAAG,IAAI,CAACu1B,cAAc,CAAC5zF,SAAS,CAACqxF,cAAc,CAAC9qD,GAAG,CAAC,CAAC;UAAEh6B,KAAK,EAAE;YACnOujF,UAAU,EAAEE,SAAS,GAAG,EAAE,GAAG,QAAQ;YACrCY,SAAS,EAAEnW,UAAU,GAAG,EAAE,GAAGsV,SAAS,CAACa,SAAS;YAChDpwB,GAAG,EAAEia,UAAU,GAAGsV,SAAS,CAACyC,WAAW,GAAG,EAAE;YAC5Cn3F,IAAI;YACJE;UACJ;QAAE,CAAC,EAAE+zF,kBAAkB,CAAC/oD,GAAG,CAAC,GAAIrnC,2EAAa,CAACswF,kBAAkB,EAAE/nF,MAAM,CAACwa,MAAM,CAAC;UAAEskB,GAAG,EAAEA,GAAG;UAAEk4B,UAAU,EAAEA,UAAU;UAAEE,UAAU,EAAElN,UAAU,KAAKlzB,cAAc;UAAE8+B,sBAAsB,EAAEA;QAAuB,CAAC,EAAES,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,CAAC,CAAC,CAAC,GAAK7+D,2EAAa,CAACqwF,eAAe,EAAE9nF,MAAM,CAACwa,MAAM,CAAC;UAAEskB,GAAG,EAAEA,GAAG;UAAEk4B,UAAU,EAAEA,UAAU;UAAEC,UAAU,EAAEA,UAAU;UAAEmiB,eAAe,EAAEA,eAAe;UAAEliB,UAAU,EAAElN,UAAU,KAAKlzB,cAAc;UAAE8+B,sBAAsB,EAAEA;QAAuB,CAAC,EAAES,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,CAAC,CAAC,CAAE,CAAC,CAAC;MACngB;IACJ;IACA,OAAOm3B,KAAK;EAChB;EACAL,cAAcA,CAACn4B,IAAI,EAAEqlB,QAAQ,EAAE;IAC3B,IAAI;MAAEhvD;IAAM,CAAC,GAAG,IAAI,CAAC/sB,OAAO;IAC5B,IAAI;MAAE+3D;IAAW,CAAC,GAAG,IAAI,CAACj8D,KAAK;IAC/B,IAAI;MAAE+xF;IAAe,CAAC,GAAG,IAAI,CAACnxF,KAAK;IACnC,IAAIwyF,KAAK,GAAG,EAAE;IACd,IAAIrB,cAAc,EAAE;MAChB,KAAK,IAAIttD,GAAG,IAAIm2B,IAAI,EAAE;QAClB,IAAIy4B,YAAY,GAAGpiE,KAAK,GAAG;UACvBx3B,KAAK,EAAE,CAAC;UACRF,IAAI,EAAEw4F,cAAc,CAACxoB,KAAK,CAAC9kC,GAAG,CAACsvC,OAAO,CAAC,GAAGge,cAAc,CAACxoB,KAAK,CAAC9kC,GAAG,CAACqvC,QAAQ;QAC/E,CAAC,GAAG;UACAv6E,IAAI,EAAE,CAAC;UACPE,KAAK,EAAEs4F,cAAc,CAACvoB,MAAM,CAAC/kC,GAAG,CAACqvC,QAAQ,CAAC,GAAGie,cAAc,CAACvoB,MAAM,CAAC/kC,GAAG,CAACsvC,OAAO;QAClF,CAAC;QACDqf,KAAK,CAAChwF,IAAI,CAAChG,2EAAa,CAAC,KAAK,EAAE;UAAEmN,GAAG,EAAEuyD,kEAAkB,CAACr4B,GAAG,CAACK,UAAU,CAAC;UAAEx9B,SAAS,EAAE,uBAAuB;UAAEmD,KAAK,EAAE4oF;QAAa,CAAC,EAAEpT,QAAQ,KAAK,UAAU,GACzJ7iF,2EAAa,CAAC0iF,8DAAO,EAAEn6E,MAAM,CAACwa,MAAM,CAAC;UAAEskB,GAAG,EAAEA;QAAI,CAAC,EAAEu3B,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,CAAC,CAAC,CAAC,GAChF+jB,kEAAU,CAACC,QAAQ,CAAC,CAAC,CAAC;MAC9B;IACJ;IACA,OAAO7iF,2EAAa,CAACM,kEAAQ,EAAE,CAAC,CAAC,EAAE,GAAG01F,KAAK,CAAC;EAChD;EACAnB,YAAYA,CAACqB,sBAAsB,EAAE;IACjC,IAAI;MAAEtzF,KAAK;MAAEY,KAAK;MAAEgxF;IAAY,CAAC,GAAG,IAAI;IACxC,IAAI,CAAC5xF,KAAK,CAACknC,QAAQ,IACflnC,KAAK,CAAC0mE,WAAW,KAAK,IAAI,CAAC;IAAA,EAC7B;MACE,IAAI4sB,sBAAsB,EAAE;QACxB,IAAIC,QAAQ,GAAGvzF,KAAK,CAACozE,KAAK,CAAC/xE,GAAG,CAAEmxF,IAAI,IAAKZ,WAAW,CAAChY,UAAU,CAAC4Y,IAAI,CAACjoF,GAAG,CAAC,CAAC;QAC1E,IAAIgpF,QAAQ,CAAC9xF,MAAM,EAAE;UACjB,IAAIsnE,QAAQ,GAAG,IAAI,CAAC31D,SAAS,CAAChT,OAAO;UACrC,IAAIozF,gBAAgB,GAAG,IAAI1qB,8DAAa,CAACC,QAAQ,EAAEwqB,QAAQ,EAAE,IAAI;UAAE;UACnE,KAAK,CAAC;UACN,IAAI,CAAC3yF,KAAK,CAACmxF,cAAc,IAAI,CAACnxF,KAAK,CAACmxF,cAAc,CAAC3nB,SAAS,CAACopB,gBAAgB,CAAC,EAAE;YAC5E,IAAI,CAAClwF,QAAQ,CAAC;cACVyuF,cAAc,EAAE,IAAIjpB,8DAAa,CAACC,QAAQ,EAAEwqB,QAAQ,EAAE,IAAI;cAAE;cAC5D,KAAK;YACT,CAAC,CAAC;UACN;QACJ;MACJ;MACA,MAAME,aAAa,GAAG,IAAI,CAAC7yF,KAAK,CAAC6uF,UAAU;MAC3C,MAAMiE,aAAa,GAAG,IAAI,CAACC,eAAe,CAAC,CAAC;MAC5C,MAAMC,oBAAoB,GAAG5zF,KAAK,CAAC4hD,YAAY,KAAK,IAAI,IAAI5hD,KAAK,CAAC6hD,eAAe,KAAK,IAAI;MAC1F,IAAI,CAACwI,YAAY,CAAC;QACd;QACA;QACA;QACAolC,UAAU,EAAE9pF,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEszE,aAAa,CAAC,EAAEC,aAAa,CAAC;QAC1EhE,gBAAgB,EAAEkE,oBAAoB,GAAG,IAAI,CAACC,uBAAuB,CAAC,CAAC,GAAG;MAC9E,CAAC,CAAC;IACN;EACJ;EACAF,eAAeA,CAAA,EAAG;IACd,IAAIG,QAAQ,GAAG,IAAI,CAAChC,cAAc,CAAClY,UAAU;IAC7C,IAAI6V,UAAU,GAAG,CAAC,CAAC;IACnB;IACA,KAAK,IAAIK,MAAM,IAAIgE,QAAQ,EAAE;MACzB,IAAI/vD,MAAM,GAAGre,IAAI,CAAC2vB,KAAK,CAACy+C,QAAQ,CAAChE,MAAM,CAAC,CAACj+C,qBAAqB,CAAC,CAAC,CAAC9N,MAAM,CAAC;MACxE0rD,UAAU,CAACK,MAAM,CAAC,GAAGpqE,IAAI,CAACC,GAAG,CAAC8pE,UAAU,CAACK,MAAM,CAAC,IAAI,CAAC,EAAE/rD,MAAM,CAAC;IAClE;IACA,OAAO0rD,UAAU;EACrB;EACAoE,uBAAuBA,CAAA,EAAG;IACtB,IAAIE,QAAQ,GAAG,IAAI,CAAC/zF,KAAK,CAACozE,KAAK,CAAC,CAAC,CAAC,CAAC7oE,GAAG;IACtC,IAAImnC,MAAM,GAAG,IAAI,CAACigD,UAAU,CAAC/X,UAAU,CAACma,QAAQ,CAAC;IACjD,IAAIC,aAAa,GAAG,IAAI,CAACnC,QAAQ,CAACjY,UAAU,CAACma,QAAQ,CAAC;IACtD,OAAOriD,MAAM,CAACG,qBAAqB,CAAC,CAAC,CAACgwB,MAAM,GAAGmyB,aAAa,CAACniD,qBAAqB,CAAC,CAAC,CAAC6sB,GAAG;EAC5F;EACAu1B,UAAUA,CAAA,EAAG;IACT,IAAIC,KAAK,GAAG,IAAI,CAACvC,UAAU,CAAC/X,UAAU;IACtC,OAAO,IAAI,CAAC55E,KAAK,CAACozE,KAAK,CAAC/xE,GAAG,CAAEmxF,IAAI,IAAK0B,KAAK,CAAC1B,IAAI,CAACjoF,GAAG,CAAC,CAAC;EAC1D;AACJ;AACAmnF,QAAQ,CAACnnC,gBAAgB,CAAC;EACtBklC,UAAU,EAAE/zE,6DAAYA;AAC5B,CAAC,CAAC;AACF,SAASk3E,qBAAqBA,CAACuB,UAAU,EAAEC,aAAa,EAAE;EACtD,IAAI,CAACD,UAAU,CAAC1yF,MAAM,EAAE;IACpB,OAAO,EAAE;EACb;EACA,IAAI4yF,gBAAgB,GAAGC,oBAAoB,CAACF,aAAa,CAAC,CAAC,CAAC;EAC5D,OAAOD,UAAU,CAAC9yF,GAAG,CAAEojC,GAAG,KAAM;IAC5BA,GAAG;IACHypD,SAAS,EAAE,IAAI;IACfvV,UAAU,EAAE,IAAI;IAChB+X,WAAW,EAAE2D,gBAAgB,CAAC5vD,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,CAAC;IACjEm/B,SAAS,EAAE;EACf,CAAC,CAAC,CAAC;AACP;AACA,SAASwF,oBAAoBA,CAACF,aAAa,EAAE;EACzC,IAAIC,gBAAgB,GAAG,CAAC,CAAC;EACzB,KAAK,IAAIE,UAAU,IAAIH,aAAa,EAAE;IAClC,KAAK,IAAInG,SAAS,IAAIsG,UAAU,EAAE;MAC9BF,gBAAgB,CAACpG,SAAS,CAACxpD,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,CAAC,GAAGs+B,SAAS,CAACyC,WAAW;IAC1F;EACJ;EACA,OAAO2D,gBAAgB;AAC3B;AAEA,MAAMG,SAAS,SAASzoB,8DAAa,CAAC;EAClC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACssF,qBAAqB,GAAGj5E,iEAAO,CAAC0xE,cAAc,CAAC;IACpD,IAAI,CAACwH,gBAAgB,GAAGl5E,iEAAO,CAACm5E,oBAAoB,CAAC;IACrD,IAAI,CAACC,gBAAgB,GAAGp5E,iEAAO,CAAC0xE,cAAc,CAAC;IAC/C,IAAI,CAAC2H,sBAAsB,GAAGr5E,iEAAO,CAAC0xE,cAAc,CAAC;IACrD,IAAI,CAAC/pB,cAAc,GAAG3nD,iEAAO,CAAC8xE,qBAAqB,CAAC;IACpD,IAAI,CAACjqB,gBAAgB,GAAG7nD,iEAAO,CAAC8xE,qBAAqB,CAAC;IACtD,IAAI,CAACwH,OAAO,GAAG,IAAIpb,8DAAM,CAAC,CAAC;EAC/B;EACA97E,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAIivE,MAAM,GAAGnzE,KAAK,CAACozE,KAAK,CAAC3xE,MAAM;IAC/B,IAAIszF,qBAAqB,GAAG,IAAI,CAACN,qBAAqB,CAACz0F,KAAK,CAAC80E,gBAAgB,EAAE3B,MAAM,CAAC;IACtF,IAAI6hB,gBAAgB,GAAG,IAAI,CAACN,gBAAgB,CAAC10F,KAAK,CAACg1E,WAAW,EAAE7B,MAAM,CAAC;IACvE,IAAI8hB,gBAAgB,GAAG,IAAI,CAACL,gBAAgB,CAAC50F,KAAK,CAAC+0E,WAAW,EAAE5B,MAAM,CAAC;IACvE,IAAI+hB,sBAAsB,GAAG,IAAI,CAACL,sBAAsB,CAAC70F,KAAK,CAAC60E,iBAAiB,EAAE1B,MAAM,CAAC;IACzF,IAAIgiB,cAAc,GAAG,IAAI,CAAChyB,cAAc,CAACnjE,KAAK,CAAC08B,SAAS,EAAEy2C,MAAM,CAAC;IACjE,IAAIiiB,gBAAgB,GAAG,IAAI,CAAC/xB,gBAAgB,CAACrjE,KAAK,CAAC28B,WAAW,EAAEw2C,MAAM,CAAC;IACvE;IACA;IACA,IAAI6f,aAAa,GAAI7f,MAAM,IAAI,CAAC,IAAInzE,KAAK,CAAC0mE,WAAW,GACjD1mE,KAAK,CAAC0mE,WAAW,GAAGxiE,OAAO,CAAC5G,OAAO,CAACumC,WAAW,GAAG,CAAC,GACnD,IAAI;IACR,OAAQzmC,2EAAa,CAACugB,8DAAQ,EAAE;MAAE0C,IAAI,EAAE;IAAM,CAAC,EAAE,CAAC+mB,OAAO,EAAE60B,UAAU,KAAM7+D,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEsC,KAAK,CAACozE,KAAK,CAAC/xE,GAAG,CAAC,CAAC+xE,KAAK,EAAEK,GAAG,KAAMr2E,2EAAa,CAACs0F,QAAQ,EAAE;MAAExxF,GAAG,EAAE,IAAI,CAAC40F,OAAO,CAAC52F,SAAS,CAACu1E,GAAG,CAAC;MAAElpE,GAAG,EAAE6oE,KAAK,CAAC3xE,MAAM,GAC7M2xE,KAAK,CAAC,CAAC,CAAC,CAAC14E,IAAI,CAACi9C,WAAW,CAAC,CAAC,CAAC,yDAC5B87B,GAAG,CAAC;MAAA;MACRof,cAAc,EAAE1f,MAAM,GAAG,CAAC;MAAE2f,eAAe,EAAE9yF,KAAK,CAAC8yF,eAAe;MAAE72B,UAAU,EAAEA,UAAU;MAAEnwC,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEsnD,KAAK,EAAEA,KAAK;MAAEpB,WAAW,EAAEhyE,KAAK,CAACq1F,cAAc;MAAEvgB,gBAAgB,EAAEigB,qBAAqB,CAACthB,GAAG,CAAC;MAAEh3C,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEu4C,WAAW,EAAEggB,gBAAgB,CAACvhB,GAAG,CAAC;MAAEsB,WAAW,EAAEkgB,gBAAgB,CAACxhB,GAAG,CAAC;MAAEoB,iBAAiB,EAAEqgB,sBAAsB,CAACzhB,GAAG,CAAC;MAAE/2C,SAAS,EAAEy4D,cAAc,CAAC1hB,GAAG,CAAC;MAAE92C,WAAW,EAAEy4D,gBAAgB,CAAC3hB,GAAG,CAAC;MAAE7xB,YAAY,EAAE5hD,KAAK,CAAC4hD,YAAY;MAAEC,eAAe,EAAE7hD,KAAK,CAAC6hD,eAAe;MAAE6kB,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAED,YAAY,EAAEzmE,KAAK,CAACymE,YAAY;MAAEusB,aAAa,EAAEA,aAAa;MAAE9rD,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,CAAE,CAAC,CAAE,CAAC;EACjpB;EACAhiC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC+gC,4BAA4B,CAAC,CAAC;EACvC;EACAhhC,kBAAkBA,CAAA,EAAG;IACjB;IACA,IAAI,CAACghC,4BAA4B,CAAC,CAAC;EACvC;EACAA,4BAA4BA,CAAA,EAAG;IAC3B,IAAI,CAAC,IAAI,CAAC9yB,MAAM,EAAE;MACd;MACA;MACA,MAAMmiF,WAAW,GAAG,IAAI,CAACR,OAAO,CAAClb,UAAU,CAAC,CAAC,CAAC,CAACqa,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;MAC9D,MAAM9gF,MAAM,GAAGmiF,WAAW,GAAGA,WAAW,CAACh/E,OAAO,CAAC,kBAAkB,CAAC,GAAG,IAAI;MAC3E,IAAInD,MAAM,EAAE;QACR,IAAI,CAACA,MAAM,GAAGA,MAAM;QACpB,IAAI,CAACjP,OAAO,CAAC+hC,4BAA4B,CAAC,IAAI,EAAE;UAC5ChxB,EAAE,EAAE9B,MAAM;UACV6rD,iBAAiB,EAAE,IAAI,CAACh/D,KAAK,CAACg/D;QAClC,CAAC,CAAC;MACN;IACJ;EACJ;EACAv7D,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAAC0P,MAAM,EAAE;MACb,IAAI,CAACjP,OAAO,CAACsiC,8BAA8B,CAAC,IAAI,CAAC;MACjD,IAAI,CAACrzB,MAAM,GAAG,IAAI;IACtB;EACJ;EACA;EACA;EACA64D,WAAWA,CAAA,EAAG;IACV,IAAI,CAACupB,YAAY,GAAG,IAAIzsB,8DAAa,CAAC,IAAI,CAAC31D,MAAM,EAAE,IAAI,CAAC2hF,OAAO,CAAC3a,OAAO,CAAC,CAAC,CAAC94E,GAAG,CAAEm0F,MAAM,IAAKA,MAAM,CAACvB,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAAE;IACnH,KAAK,EAAE,IAAI,CAAC;IACZ,IAAI,CAACwB,YAAY,GAAG,IAAI3sB,8DAAa,CAAC,IAAI,CAAC31D,MAAM,EAAE,IAAI,CAAC2hF,OAAO,CAAClb,UAAU,CAAC,CAAC,CAAC,CAACqa,UAAU,CAAC,CAAC;IAAE;IAC5F,IAAI;IAAE;IACN,KAAK,CAAC;EACV;EACAhoB,QAAQA,CAACC,YAAY,EAAEC,WAAW,EAAE;IAChC,IAAI;MAAEspB,YAAY;MAAEF;IAAa,CAAC,GAAG,IAAI;IACzC,IAAI7hB,GAAG,GAAG+hB,YAAY,CAAC7rB,WAAW,CAACsC,YAAY,CAAC;IAChD,IAAIuH,GAAG,GAAG8hB,YAAY,CAACzrB,UAAU,CAACqC,WAAW,CAAC;IAC9C,IAAIsH,GAAG,IAAI,IAAI,IAAIC,GAAG,IAAI,IAAI,EAAE;MAC5B,IAAI8e,IAAI,GAAG,IAAI,CAACxyF,KAAK,CAACozE,KAAK,CAACK,GAAG,CAAC,CAACC,GAAG,CAAC;MACrC,OAAO;QACH5nD,WAAW,EAAE,IAAI,CAAC9rB,KAAK,CAAC8rB,WAAW;QACnCkqC,QAAQ,EAAErwD,MAAM,CAACwa,MAAM,CAAC;UAAE8N,KAAK,EAAE,IAAI,CAACynE,YAAY,CAACjiB,GAAG,EAAEC,GAAG,CAAC;UAAErpC,MAAM,EAAE;QAAK,CAAC,EAAEmoD,IAAI,CAAClR,aAAa,CAAC;QACjGC,KAAK,EAAE,IAAI,CAACoU,SAAS,CAACliB,GAAG,EAAEC,GAAG,CAAC;QAC/B9R,IAAI,EAAE;UACFroE,IAAI,EAAEk8F,YAAY,CAAClsB,KAAK,CAACmK,GAAG,CAAC;UAC7Bj6E,KAAK,EAAEg8F,YAAY,CAACjsB,MAAM,CAACkK,GAAG,CAAC;UAC/BhV,GAAG,EAAE62B,YAAY,CAAC7rB,IAAI,CAAC+J,GAAG,CAAC;UAC3B5R,MAAM,EAAE0zB,YAAY,CAAC5rB,OAAO,CAAC8J,GAAG;QACpC,CAAC;QACD+N,KAAK,EAAE;MACX,CAAC;IACL;IACA,OAAO,IAAI;EACf;EACAmU,SAASA,CAACliB,GAAG,EAAEC,GAAG,EAAE;IAChB,OAAO,IAAI,CAACohB,OAAO,CAAClb,UAAU,CAACnG,GAAG,CAAC,CAACwgB,UAAU,CAAC,CAAC,CAACvgB,GAAG,CAAC,CAAC,CAAC;EAC3D;;EACAgiB,YAAYA,CAACjiB,GAAG,EAAEC,GAAG,EAAE;IACnB,IAAIr5E,KAAK,GAAG,IAAI,CAAC2F,KAAK,CAACozE,KAAK,CAACK,GAAG,CAAC,CAACC,GAAG,CAAC,CAACh5E,IAAI;IAC3C,IAAIJ,GAAG,GAAG4gB,iEAAO,CAAC7gB,KAAK,EAAE,CAAC,CAAC;IAC3B,OAAO;MAAEA,KAAK;MAAEC;IAAI,CAAC;EACzB;AACJ;AACA,SAASq6F,oBAAoBA,CAAC/5B,IAAI,EAAEuY,MAAM,EAAE;EACxC,OAAO+Z,cAAc,CAACtyB,IAAI,CAACxtD,MAAM,CAACwoF,WAAW,CAAC,EAAEziB,MAAM,CAAC;AAC3D;AACA,SAASyiB,WAAWA,CAACnxD,GAAG,EAAE;EACtB,OAAOA,GAAG,CAACK,UAAU,CAACpgB,GAAG,CAAC2lB,MAAM;AACpC;AAEA,MAAMwrD,KAAK,SAAS9pB,8DAAa,CAAC;EAC9B16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACu7B,KAAK,GAAGxlC,uEAAS,CAAC,CAAC;IACxB,IAAI,CAAC43F,gBAAgB,GAAG,KAAK;EACjC;EACAl4F,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE6hD,eAAe;MAAED,YAAY;MAAEnB;IAAW,CAAC,GAAGzgD,KAAK;IACzD,IAAI+1F,gBAAgB,GAAGn0C,YAAY,KAAK,IAAI,IAAIC,eAAe,KAAK,IAAI;IACxE;IACA;IACA,IAAIk0C,gBAAgB,IAAI,CAACt1C,UAAU,EAAE;MACjCs1C,gBAAgB,GAAG,KAAK;MACxBl0C,eAAe,GAAG,IAAI;MACtBD,YAAY,GAAG,IAAI;IACvB;IACA,IAAIv5B,UAAU,GAAG,CACb,iBAAiB,EACjB0tE,gBAAgB,GAAG,0BAA0B,GAAG,4BAA4B,EAC5Et1C,UAAU,GAAG,EAAE,GAAG,yBAAyB,CAAE;IAAA,CAChD;;IACD,OAAQrjD,2EAAa,CAAC,KAAK,EAAE;MAAE8C,GAAG,EAAE,IAAI,CAACwjC,KAAK;MAAEp8B,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG,CAAC;MAAEpX,KAAK,EAAE;QAChF;QACA;QACA9N,KAAK,EAAEqD,KAAK,CAAC0mE,WAAW;QACxBwU,QAAQ,EAAEl7E,KAAK,CAACm7E;MACpB;IAAE,CAAC,EACH/9E,2EAAa,CAAC,OAAO,EAAE;MAAE1K,IAAI,EAAE,cAAc;MAAE4U,SAAS,EAAE,0BAA0B;MAAEmD,KAAK,EAAE;QACrF9N,KAAK,EAAEqD,KAAK,CAAC0mE,WAAW;QACxBwU,QAAQ,EAAEl7E,KAAK,CAACm7E,aAAa;QAC7Bp3C,MAAM,EAAE0c,UAAU,GAAGzgD,KAAK,CAACymE,YAAY,GAAG;MAC9C;IAAE,CAAC,EACHzmE,KAAK,CAACg2F,YAAY,EAClB54F,2EAAa,CAAC,OAAO,EAAE;MAAE1K,IAAI,EAAE;IAAe,CAAC,EAC3C0K,2EAAa,CAACo3F,SAAS,EAAE;MAAE1oE,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEsnD,KAAK,EAAEpzE,KAAK,CAACozE,KAAK;MAAEiiB,cAAc,EAAEr1F,KAAK,CAACq1F,cAAc;MAAEvC,eAAe,EAAE9yF,KAAK,CAAC8yF,eAAe;MAAEpsB,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAED,YAAY,EAAEzmE,KAAK,CAACymE,YAAY;MAAEqO,gBAAgB,EAAE90E,KAAK,CAAC80E,gBAAgB;MAAEE,WAAW,EAAEh1E,KAAK,CAACg1E,WAAW;MAAED,WAAW,EAAE/0E,KAAK,CAAC+0E,WAAW;MAAEF,iBAAiB,EAAE70E,KAAK,CAAC60E,iBAAiB;MAAEp4C,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;MAAEC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;MAAEilB,YAAY,EAAEA,YAAY;MAAEC,eAAe,EAAEA,eAAe;MAAE3a,QAAQ,EAAElnC,KAAK,CAACknC,QAAQ;MAAE83B,iBAAiB,EAAEh/D,KAAK,CAACg/D;IAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;EAC/mB;EACA95D,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC+wF,kBAAkB,CAAC,CAAC;EAC7B;EACAhxF,kBAAkBA,CAACyiC,SAAS,EAAE;IAC1B,IAAIA,SAAS,CAAC5b,WAAW,KAAK,IAAI,CAAC9rB,KAAK,CAAC8rB,WAAW,EAAE;MAClD,IAAI,CAACmqE,kBAAkB,CAAC,CAAC;IAC7B,CAAC,MACI;MACD,IAAI,CAACC,gBAAgB,CAAC,CAAC;IAC3B;EACJ;EACAD,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACH,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACI,gBAAgB,CAAC,CAAC;EAC3B;EACAA,gBAAgBA,CAAA,EAAG;IACf,IAAI,IAAI,CAACJ,gBAAgB,IACrB,IAAI,CAAC91F,KAAK,CAAC0mE,WAAW,CAAC;IAAA,EACzB;MACE,MAAMyvB,SAAS,GAAGC,kBAAkB,CAAC,IAAI,CAAC1yD,KAAK,CAACtjC,OAAO,EAAE,IAAI,CAACJ,KAAK,CAAC8rB,WAAW,CAAC;MAChF,IAAIqqE,SAAS,EAAE;QACX,MAAMptB,QAAQ,GAAGotB,SAAS,CAAC7/E,OAAO,CAAC,kBAAkB,CAAC;QACtD,MAAM+/E,QAAQ,GAAGttB,QAAQ,CAACzyD,OAAO,CAAC,cAAc,CAAC;QACjD,MAAMi1D,SAAS,GAAG4qB,SAAS,CAACtkD,qBAAqB,CAAC,CAAC,CAAC6sB,GAAG,GACnDqK,QAAQ,CAACl3B,qBAAqB,CAAC,CAAC,CAAC6sB,GAAG;QACxC23B,QAAQ,CAAC9qB,SAAS,GAAGA,SAAS,GAAIA,SAAS,GAAG,CAAC,GAAI,CAAC,CAAC,CAAC;MAC1D;;MACA,IAAI,CAACuqB,gBAAgB,GAAG,KAAK;IACjC;EACJ;AACJ;AACA,SAASM,kBAAkBA,CAAC/lF,WAAW,EAAEyb,WAAW,EAAE;EAClD,IAAI7W,EAAE;EACN,IAAI6W,WAAW,CAAC8M,gBAAgB,CAACmf,KAAK,CAAC,YAAY,CAAC,EAAE;IAClD9iC,EAAE,GAAG5E,WAAW,CAACu0B,aAAa,CAAE,eAAckT,kEAAiB,CAAChsB,WAAW,CAACpB,WAAW,CAAE,OAAM,CAAC;IAChG;EACJ;;EACA,IAAI,CAACzV,EAAE,EAAE;IACLA,EAAE,GAAG5E,WAAW,CAACu0B,aAAa,CAAE,eAAciT,kEAAe,CAAC/rB,WAAW,CAACpB,WAAW,CAAE,IAAG,CAAC;IAC3F;EACJ;;EACA,OAAOzV,EAAE;AACb;AAEA,MAAMqhF,cAAc,SAAStiB,8DAAM,CAAC;EAChC3iF,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACssE,kBAAkB,GAAG,IAAI;EAClC;EACAlC,UAAUA,CAAC3lB,SAAS,EAAE2pC,aAAa,EAAE;IACjC,OAAOA,aAAa,CAAChkB,UAAU,CAAC3lB,SAAS,CAAC;EAC9C;AACJ;AAEA,MAAM4pC,QAAQ,SAASzqB,8DAAa,CAAC;EACjC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACsuF,MAAM,GAAG,IAAIH,cAAc,CAAC,CAAC;IAClC,IAAI,CAACI,QAAQ,GAAGx4F,uEAAS,CAAC,CAAC;EAC/B;EACAN,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,OAAQ9G,2EAAa,CAACy4F,KAAK,EAAElwF,MAAM,CAACwa,MAAM,CAAC;MAAEjgB,GAAG,EAAE,IAAI,CAACw2F;IAAS,CAAC,EAAE,IAAI,CAACD,MAAM,CAAC/hB,UAAU,CAAC10E,KAAK,EAAEA,KAAK,CAAC8rB,WAAW,EAAE9rB,KAAK,CAACioB,gBAAgB,EAAE/jB,OAAO,EAAElE,KAAK,CAACu2F,aAAa,CAAC,EAAE;MAAEzqE,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEsnD,KAAK,EAAEpzE,KAAK,CAACu2F,aAAa,CAACnjB,KAAK;MAAE4iB,YAAY,EAAEh2F,KAAK,CAACg2F,YAAY;MAAE7a,aAAa,EAAEn7E,KAAK,CAACm7E,aAAa;MAAEka,cAAc,EAAEr1F,KAAK,CAACq1F,cAAc;MAAEzzC,YAAY,EAAE5hD,KAAK,CAAC4hD,YAAY;MAAEC,eAAe,EAAE7hD,KAAK,CAAC6hD,eAAe;MAAEixC,eAAe,EAAE9yF,KAAK,CAAC8yF,eAAe;MAAEryC,UAAU,EAAEzgD,KAAK,CAACygD,UAAU;MAAEk2C,gBAAgB,EAAE32F,KAAK,CAAC22F,gBAAgB;MAAEjwB,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAED,YAAY,EAAEzmE,KAAK,CAACymE,YAAY;MAAEv/B,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,CAAC,CAAC;EACvnB;AACJ;AAEA,MAAMglD,YAAY,SAASO,SAAS,CAAC;EACjCp7F,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACyuF,kBAAkB,GAAGp7E,iEAAO,CAACo7E,kBAAkB,CAAC;IACrD,IAAI,CAAC/wD,SAAS,GAAG3nC,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAACw4F,QAAQ,GAAGx4F,uEAAS,CAAC,CAAC;IAC3B;EACJ;;EACAN,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEN,OAAO;MAAEiuB;IAAqB,CAAC,GAAG,IAAI,CAACrnB,OAAO;IACpD,IAAI;MAAElE;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIu2F,aAAa,GAAG,IAAI,CAACK,kBAAkB,CAAC52F,KAAK,CAAC8rB,WAAW,EAAEP,oBAAoB,CAAC;IACpF,IAAIsrE,aAAa,GAAGv5F,OAAO,CAACqhD,UAAU,IAAKvhD,2EAAa,CAACy0E,8DAAS,EAAE;MAAE3xE,GAAG,EAAE,IAAI,CAAC2lC,SAAS;MAAE/Z,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEimD,KAAK,EAAEwkB,aAAa,CAACjjB,WAAW;MAAExC,oBAAoB,EAAEylB,aAAa,CAACpjB,MAAM,KAAK;IAAE,CAAC,CAAE;IACjN,IAAI0Z,WAAW,GAAIiK,UAAU,IAAM15F,2EAAa,CAACo5F,QAAQ,EAAE;MAAEt2F,GAAG,EAAE,IAAI,CAACw2F,QAAQ;MAAE5qE,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEyqE,aAAa,EAAEA,aAAa;MAAEl6D,aAAa,EAAEr8B,KAAK,CAACq8B,aAAa;MAAEG,aAAa,EAAEx8B,KAAK,CAACw8B,aAAa;MAAEhF,UAAU,EAAEx3B,KAAK,CAACw3B,UAAU;MAAE8E,YAAY,EAAEt8B,KAAK,CAACs8B,YAAY;MAAEG,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;MAAEC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;MAAE1U,gBAAgB,EAAE3qB,OAAO,CAAC2qB,gBAAgB;MAAE+tE,YAAY,EAAEc,UAAU,CAAC1b,iBAAiB;MAAED,aAAa,EAAE2b,UAAU,CAAC3b,aAAa;MAAEv5B,YAAY,EAAEtkD,OAAO,CAACskD,YAAY;MAAEC,eAAe,EAAEvkD,OAAO,CAACukD,eAAe;MAAEixC,eAAe,EAAEx1F,OAAO,CAAC8hD,WAAW;MAAEqB,UAAU,EAAE,CAACzgD,KAAK,CAACinC,YAAY;MAAE0vD,gBAAgB,EAAE,IAAI,CAACjK,WAAW;MAAEhmB,WAAW,EAAEowB,UAAU,CAACpwB,WAAW;MAAED,YAAY,EAAEqwB,UAAU,CAACrwB,YAAY;MAAEv/B,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,CAAE;IAC3xB,OAAO5pC,OAAO,CAACwkD,WAAW,GACpB,IAAI,CAACgrC,mBAAmB,CAAC+J,aAAa,EAAEhK,WAAW,EAAE0J,aAAa,CAACnlB,MAAM,EAAE9zE,OAAO,CAACwkD,WAAW,CAAC,GAC/F,IAAI,CAAC6qC,kBAAkB,CAACkK,aAAa,EAAEhK,WAAW,CAAC;EAC7D;AACJ;AACA,SAAS+J,kBAAkBA,CAAC9qE,WAAW,EAAEP,oBAAoB,EAAE;EAC3D,IAAIynD,SAAS,GAAG,IAAIb,8DAAc,CAACrmD,WAAW,CAACsiC,WAAW,EAAE7iC,oBAAoB,CAAC;EACjF,OAAO,IAAIwnD,8DAAa,CAACC,SAAS,EAAE,iBAAiB,CAACztE,IAAI,CAACumB,WAAW,CAAC8M,gBAAgB,CAAC,CAAC;AAC7F;AAEA,MAAMuzD,yBAAyB,SAAS5vE,6DAAoB,CAAC;EACzD;EACAiyC,gBAAgBA,CAACx7B,YAAY,EAAE4F,gBAAgB,EAAEK,aAAa,EAAE;IAC5D,IAAIm1B,WAAW,GAAG,KAAK,CAACI,gBAAgB,CAACx7B,YAAY,EAAE4F,gBAAgB,EAAEK,aAAa,CAAC;IACvF,IAAI;MAAEj5B;IAAM,CAAC,GAAG,IAAI;IACpB,OAAO+2F,wBAAwB,CAAC;MAC5B/jE,YAAY,EAAEo7B,WAAW;MACzB4oC,UAAU,EAAE,gBAAgB,CAACzxF,IAAI,CAACqzB,gBAAgB,CAAC;MACnDiH,cAAc,EAAE7/B,KAAK,CAAC6/B,cAAc;MACpChV,OAAO,EAAE7qB,KAAK,CAAC6qB;IACnB,CAAC,CAAC;EACN;AACJ;AACA,SAASksE,wBAAwBA,CAAC/2F,KAAK,EAAE;EACrC,IAAI;IAAE6qB,OAAO;IAAEmI;EAAa,CAAC,GAAGhzB,KAAK;EACrC,IAAI;IAAE3F,KAAK;IAAEC;EAAI,CAAC,GAAG04B,YAAY;EACjC,IAAIikE,SAAS;EACb;EACA,IAAIj3F,KAAK,CAACg3F,UAAU,EAAE;IAClB38F,KAAK,GAAGwwB,OAAO,CAAC+8B,WAAW,CAACvtD,KAAK,CAAC;IAClC;IACA48F,SAAS,GAAGpsE,OAAO,CAAC+8B,WAAW,CAACttD,GAAG,CAAC;IACpC,IAAI28F,SAAS,CAAC9lF,OAAO,CAAC,CAAC,KAAK7W,GAAG,CAAC6W,OAAO,CAAC,CAAC,EAAE;MACvC7W,GAAG,GAAGi6C,kEAAQ,CAAC0iD,SAAS,EAAE,CAAC,CAAC;IAChC;EACJ;EACA;EACA,IAAIj3F,KAAK,CAAC6/B,cAAc,EAAE;IACtB;IACA;IACA,IAAIq3D,oBAAoB,GAAGrsE,OAAO,CAAC+8B,WAAW,CAAC/8B,OAAO,CAAC88B,YAAY,CAACzsC,iEAAO,CAAC8X,YAAY,CAAC14B,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACnG,IAAI64E,MAAM,GAAGztD,IAAI,CAACmtD,IAAI;IAAC;IACvBl+B,kEAAS,CAACuiD,oBAAoB,EAAE58F,GAAG,CAAC,CAAC;IACrCA,GAAG,GAAGi6C,kEAAQ,CAACj6C,GAAG,EAAE,CAAC,GAAG64E,MAAM,CAAC;EACnC;EACA,OAAO;IAAE94E,KAAK;IAAEC;EAAI,CAAC;AACzB;AAEA,IAAI6xC,QAAQ,GAAG,s8GAAs8G;AACr9GzB,kEAAY,CAACyB,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;ACz9BqC;AAC83B;AAEz7BskC,8DAAM,CAAC0mB,oBAAoB,GAAG,GAAG;AACjC,IAAIC,gBAAgB,GAAG,CAAC;AACxB,IAAIC,WAAW,GAAG,CAAC;AACnB,IAAIC,0BAA0B,GAAG,KAAK;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,eAAe,CAAC;EAClBlmG,WAAWA,CAACgf,WAAW,EAAE;IACrB,IAAI,CAAC8lF,SAAS,GAAG,IAAI;IACrB;IACA,IAAI,CAACpjF,QAAQ,GAAG,EAAE,CAAC,CAAC;IACpB,IAAI,CAACykF,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,iBAAiB,GAAG,IAAI,CAAC,CAAC;IAC/B;IACA,IAAI,CAAC/6B,UAAU,GAAG,KAAK;IACvB,IAAI,CAACg7B,eAAe,GAAG,KAAK;IAC5B,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B;IACA;IACA,IAAI,CAACC,eAAe,GAAI/lE,EAAE,IAAK;MAC3B,IAAI,CAAC,IAAI,CAACgmE,iBAAiB,CAAC,CAAC,IACzBC,oBAAoB,CAACjmE,EAAE,CAAC,IACxB,IAAI,CAACkmE,QAAQ,CAAClmE,EAAE,CAAC,EAAE;QACnB,IAAI8jC,GAAG,GAAG,IAAI,CAACqiC,oBAAoB,CAACnmE,EAAE,EAAE,IAAI,CAAC;QAC7C,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEw+B,GAAG,CAAC;QACxC,IAAI,CAACsiC,eAAe,CAACtiC,GAAG,CAAC;QACzB,IAAI,CAAC,IAAI,CAAC6hC,gBAAgB,EAAE;UACxB/zF,QAAQ,CAACkH,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACutF,eAAe,CAAC;QAChE;QACAz0F,QAAQ,CAACkH,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACwtF,aAAa,CAAC;MAC5D;IACJ,CAAC;IACD,IAAI,CAACD,eAAe,GAAIrmE,EAAE,IAAK;MAC3B,IAAI8jC,GAAG,GAAG,IAAI,CAACqiC,oBAAoB,CAACnmE,EAAE,CAAC;MACvC,IAAI,CAACumE,YAAY,CAACziC,GAAG,CAAC;MACtB,IAAI,CAACz+B,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEw+B,GAAG,CAAC;IAC5C,CAAC;IACD,IAAI,CAACwiC,aAAa,GAAItmE,EAAE,IAAK;MACzBpuB,QAAQ,CAACmH,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACstF,eAAe,CAAC;MAC/Dz0F,QAAQ,CAACmH,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACutF,aAAa,CAAC;MAC3D,IAAI,CAACjhE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC6gE,oBAAoB,CAACnmE,EAAE,CAAC,CAAC;MAChE,IAAI,CAACwmE,OAAO,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;IACD;IACA;IACA,IAAI,CAACC,gBAAgB,GAAIzmE,EAAE,IAAK;MAC5B,IAAI,IAAI,CAACkmE,QAAQ,CAAClmE,EAAE,CAAC,EAAE;QACnB,IAAI,CAAC6lE,eAAe,GAAG,IAAI;QAC3B,IAAI/hC,GAAG,GAAG,IAAI,CAAC4iC,oBAAoB,CAAC1mE,EAAE,EAAE,IAAI,CAAC;QAC7C,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEw+B,GAAG,CAAC;QACxC,IAAI,CAACsiC,eAAe,CAACtiC,GAAG,CAAC;QACzB;QACA;QACA,IAAI6iC,QAAQ,GAAG3mE,EAAE,CAACE,MAAM;QACxB,IAAI,CAAC,IAAI,CAACylE,gBAAgB,EAAE;UACxBgB,QAAQ,CAAC7tF,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC8tF,eAAe,CAAC;QAChE;QACAD,QAAQ,CAAC7tF,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC+tF,cAAc,CAAC;QAC1DF,QAAQ,CAAC7tF,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC+tF,cAAc,CAAC,CAAC,CAAC;QAC/D;QACA;QACA;QACApjG,MAAM,CAACqV,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACguF,iBAAiB,EAAE,IAAI,CAAC;MACnE;IACJ,CAAC;IACD,IAAI,CAACF,eAAe,GAAI5mE,EAAE,IAAK;MAC3B,IAAI8jC,GAAG,GAAG,IAAI,CAAC4iC,oBAAoB,CAAC1mE,EAAE,CAAC;MACvC,IAAI,CAACumE,YAAY,CAACziC,GAAG,CAAC;MACtB,IAAI,CAACz+B,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEw+B,GAAG,CAAC;IAC5C,CAAC;IACD,IAAI,CAAC+iC,cAAc,GAAI7mE,EAAE,IAAK;MAC1B,IAAI,IAAI,CAAC6qC,UAAU,EAAE;QAAE;QACnB,IAAI87B,QAAQ,GAAG3mE,EAAE,CAACE,MAAM;QACxBymE,QAAQ,CAAC5tF,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC6tF,eAAe,CAAC;QAC/DD,QAAQ,CAAC5tF,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAAC8tF,cAAc,CAAC;QAC7DF,QAAQ,CAAC5tF,mBAAmB,CAAC,aAAa,EAAE,IAAI,CAAC8tF,cAAc,CAAC;QAChEpjG,MAAM,CAACsV,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC+tF,iBAAiB,EAAE,IAAI,CAAC,CAAC,CAAC;QACpE,IAAI,CAACzhE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAE,IAAI,CAACohE,oBAAoB,CAAC1mE,EAAE,CAAC,CAAC;QAChE,IAAI,CAACwmE,OAAO,CAAC,CAAC,CAAC,CAAC;QAChB,IAAI,CAACX,eAAe,GAAG,KAAK;QAC5BkB,kBAAkB,CAAC,CAAC;MACxB;IACJ,CAAC;IACD,IAAI,CAACD,iBAAiB,GAAG,MAAM;MAC3B,IAAI,CAAChB,cAAc,GAAG,IAAI;IAC9B,CAAC;IACD,IAAI,CAACkB,YAAY,GAAIhnE,EAAE,IAAK;MACxB,IAAI,CAAC,IAAI,CAAC2lE,gBAAgB,EAAE;QACxB,IAAIsB,KAAK,GAAIxjG,MAAM,CAAC8yE,OAAO,GAAG,IAAI,CAAC2wB,WAAW,GAAI,IAAI,CAACC,SAAS;QAChE,IAAIC,KAAK,GAAI3jG,MAAM,CAAC+yE,OAAO,GAAG,IAAI,CAAC6wB,WAAW,GAAI,IAAI,CAACC,SAAS;QAChE,IAAI,CAACjiE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAE;UAChC0+B,SAAS,EAAEhkC,EAAE;UACbunE,OAAO,EAAE,IAAI,CAAC1B,eAAe;UAC7BxB,SAAS,EAAE,IAAI,CAACA,SAAS;UACzB4C,KAAK;UACLG,KAAK;UACLh3B,MAAM,EAAE62B,KAAK,GAAG,IAAI,CAACO,SAAS;UAC9Bn3B,MAAM,EAAE+2B,KAAK,GAAG,IAAI,CAACK;QACzB,CAAC,CAAC;MACN;IACJ,CAAC;IACD,IAAI,CAAClpF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAC8mB,OAAO,GAAG,IAAIxb,6DAAO,CAAC,CAAC;IAC5BtL,WAAW,CAACzF,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACitF,eAAe,CAAC;IAC/DxnF,WAAW,CAACzF,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAAC2tF,gBAAgB,EAAE;MAAEiB,OAAO,EAAE;IAAK,CAAC,CAAC;IACpFC,eAAe,CAAC,CAAC;EACrB;EACAviF,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC7G,WAAW,CAACxF,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACgtF,eAAe,CAAC;IACvE,IAAI,CAACxnF,WAAW,CAACxF,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAAC0tF,gBAAgB,EAAE;MAAEiB,OAAO,EAAE;IAAK,CAAC,CAAC;IAC5FE,iBAAiB,CAAC,CAAC;EACvB;EACA1B,QAAQA,CAAClmE,EAAE,EAAE;IACT,IAAIqkE,SAAS,GAAG,IAAI,CAACwD,cAAc,CAAC7nE,EAAE,CAAC;IACvC,IAAI8nE,MAAM,GAAG9nE,EAAE,CAACE,MAAM;IACtB,IAAImkE,SAAS,KACR,CAAC,IAAI,CAACqB,cAAc,IAAI36E,iEAAc,CAAC+8E,MAAM,EAAE,IAAI,CAACpC,cAAc,CAAC,CAAC,EAAE;MACvE,IAAI,CAACrB,SAAS,GAAGA,SAAS;MAC1B,IAAI,CAACx5B,UAAU,GAAG,IAAI,CAAC,CAAC;MACxB,IAAI,CAACi7B,cAAc,GAAG,KAAK;MAC3B,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB;EACAU,OAAOA,CAAA,EAAG;IACNhB,0BAA0B,GAAG,KAAK;IAClC,IAAI,CAAC36B,UAAU,GAAG,KAAK;IACvB,IAAI,CAACw5B,SAAS,GAAG,IAAI;IACrB;IACA,IAAI,CAAC0D,kBAAkB,CAAC,CAAC;EAC7B;EACAF,cAAcA,CAAC7nE,EAAE,EAAE;IACf,IAAI,IAAI,CAAC/e,QAAQ,EAAE;MACf,OAAO8J,iEAAc,CAACiV,EAAE,CAACE,MAAM,EAAE,IAAI,CAACjf,QAAQ,CAAC;IACnD;IACA,OAAO,IAAI,CAAC1C,WAAW;EAC3B;EACAynF,iBAAiBA,CAAA,EAAG;IAChB,OAAOV,gBAAgB,IAAI,IAAI,CAACO,eAAe;EACnD;EACA;EACAmC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,IAAI,CAACn9B,UAAU,EAAE;MACjB26B,0BAA0B,GAAG,IAAI;IACrC;EACJ;EACA;EACA;EACAY,eAAeA,CAACpmE,EAAE,EAAE;IAChB,IAAI,IAAI,CAAC4lE,iBAAiB,EAAE;MACxB,IAAI,CAACW,YAAY,CAACvmE,EAAE,CAAC;MACrBv8B,MAAM,CAACqV,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACkuF,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;IAChE;EACJ;;EACAT,YAAYA,CAACvmE,EAAE,EAAE;IACb,IAAI,IAAI,CAAC4lE,iBAAiB,EAAE;MACxB,IAAI,CAACuB,SAAS,GAAGnnE,EAAE,CAACinE,KAAK;MACzB,IAAI,CAACK,SAAS,GAAGtnE,EAAE,CAAConE,KAAK;MACzB,IAAI,CAACF,WAAW,GAAGzjG,MAAM,CAAC8yE,OAAO;MACjC,IAAI,CAAC8wB,WAAW,GAAG5jG,MAAM,CAAC+yE,OAAO;IACrC;EACJ;EACAuxB,kBAAkBA,CAAA,EAAG;IACjB,IAAI,IAAI,CAACnC,iBAAiB,EAAE;MACxBniG,MAAM,CAACsV,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACiuF,YAAY,EAAE,IAAI,CAAC,CAAC,CAAC;IACnE;EACJ;EACA;EACA;EACAb,oBAAoBA,CAACnmE,EAAE,EAAEioE,OAAO,EAAE;IAC9B,IAAI73B,MAAM,GAAG,CAAC;IACd,IAAIC,MAAM,GAAG,CAAC;IACd;IACA,IAAI43B,OAAO,EAAE;MACT,IAAI,CAACT,SAAS,GAAGxnE,EAAE,CAACinE,KAAK;MACzB,IAAI,CAACQ,SAAS,GAAGznE,EAAE,CAAConE,KAAK;IAC7B,CAAC,MACI;MACDh3B,MAAM,GAAGpwC,EAAE,CAACinE,KAAK,GAAG,IAAI,CAACO,SAAS;MAClCn3B,MAAM,GAAGrwC,EAAE,CAAConE,KAAK,GAAG,IAAI,CAACK,SAAS;IACtC;IACA,OAAO;MACHzjC,SAAS,EAAEhkC,EAAE;MACbunE,OAAO,EAAE,KAAK;MACdlD,SAAS,EAAE,IAAI,CAACA,SAAS;MACzB4C,KAAK,EAAEjnE,EAAE,CAACinE,KAAK;MACfG,KAAK,EAAEpnE,EAAE,CAAConE,KAAK;MACfh3B,MAAM;MACNC;IACJ,CAAC;EACL;EACAq2B,oBAAoBA,CAAC1mE,EAAE,EAAEioE,OAAO,EAAE;IAC9B,IAAIC,OAAO,GAAGloE,EAAE,CAACkoE,OAAO;IACxB,IAAIjB,KAAK;IACT,IAAIG,KAAK;IACT,IAAIh3B,MAAM,GAAG,CAAC;IACd,IAAIC,MAAM,GAAG,CAAC;IACd;IACA;IACA,IAAI63B,OAAO,IAAIA,OAAO,CAACv4F,MAAM,EAAE;MAC3Bs3F,KAAK,GAAGiB,OAAO,CAAC,CAAC,CAAC,CAACjB,KAAK;MACxBG,KAAK,GAAGc,OAAO,CAAC,CAAC,CAAC,CAACd,KAAK;IAC5B,CAAC,MACI;MACDH,KAAK,GAAGjnE,EAAE,CAACinE,KAAK;MAChBG,KAAK,GAAGpnE,EAAE,CAAConE,KAAK;IACpB;IACA;IACA,IAAIa,OAAO,EAAE;MACT,IAAI,CAACT,SAAS,GAAGP,KAAK;MACtB,IAAI,CAACQ,SAAS,GAAGL,KAAK;IAC1B,CAAC,MACI;MACDh3B,MAAM,GAAG62B,KAAK,GAAG,IAAI,CAACO,SAAS;MAC/Bn3B,MAAM,GAAG+2B,KAAK,GAAG,IAAI,CAACK,SAAS;IACnC;IACA,OAAO;MACHzjC,SAAS,EAAEhkC,EAAE;MACbunE,OAAO,EAAE,IAAI;MACblD,SAAS,EAAE,IAAI,CAACA,SAAS;MACzB4C,KAAK;MACLG,KAAK;MACLh3B,MAAM;MACNC;IACJ,CAAC;EACL;AACJ;AACA;AACA,SAAS41B,oBAAoBA,CAACjmE,EAAE,EAAE;EAC9B,OAAOA,EAAE,CAAC7L,MAAM,KAAK,CAAC,IAAI,CAAC6L,EAAE,CAACmoE,OAAO;AACzC;AACA;AACA;AACA,SAASpB,kBAAkBA,CAAA,EAAG;EAC1BzB,gBAAgB,IAAI,CAAC;EACrBpsF,UAAU,CAAC,MAAM;IACbosF,gBAAgB,IAAI,CAAC;EACzB,CAAC,EAAE3mB,8DAAM,CAAC0mB,oBAAoB,CAAC;AACnC;AACA;AACA;AACA,SAASsC,eAAeA,CAAA,EAAG;EACvBpC,WAAW,IAAI,CAAC;EAChB,IAAIA,WAAW,KAAK,CAAC,EAAE;IACnB9hG,MAAM,CAACqV,gBAAgB,CAAC,WAAW,EAAEsvF,iBAAiB,EAAE;MAAEV,OAAO,EAAE;IAAM,CAAC,CAAC;EAC/E;AACJ;AACA,SAASE,iBAAiBA,CAAA,EAAG;EACzBrC,WAAW,IAAI,CAAC;EAChB,IAAI,CAACA,WAAW,EAAE;IACd9hG,MAAM,CAACsV,mBAAmB,CAAC,WAAW,EAAEqvF,iBAAiB,EAAE;MAAEV,OAAO,EAAE;IAAM,CAAC,CAAC;EAClF;AACJ;AACA,SAASU,iBAAiBA,CAACpoE,EAAE,EAAE;EAC3B,IAAIwlE,0BAA0B,EAAE;IAC5BxlE,EAAE,CAACqc,cAAc,CAAC,CAAC;EACvB;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMgsD,aAAa,CAAC;EAChB9oG,WAAWA,CAAA,EAAG;IACV,IAAI,CAAC68F,SAAS,GAAG,KAAK,CAAC,CAAC;IACxB,IAAI,CAACkM,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,YAAY,GAAG,IAAI,CAAC,CAAC;IAC1B;IACA,IAAI,CAACj2F,UAAU,GAAGX,QAAQ,CAAC8rC,IAAI,CAAC,CAAC;IACjC,IAAI,CAAC+qD,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,cAAc,GAAG,CAAC;EAC3B;EACAngG,KAAKA,CAAC+/F,QAAQ,EAAErB,KAAK,EAAEG,KAAK,EAAE;IAC1B,IAAI,CAACkB,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACE,YAAY,GAAG,IAAI,CAACF,QAAQ,CAACvoD,qBAAqB,CAAC,CAAC;IACzD,IAAI,CAAC4oD,WAAW,GAAG1B,KAAK,GAAGxjG,MAAM,CAAC8yE,OAAO;IACzC,IAAI,CAACqyB,WAAW,GAAGxB,KAAK,GAAG3jG,MAAM,CAAC+yE,OAAO;IACzC,IAAI,CAACpG,MAAM,GAAG,CAAC;IACf,IAAI,CAACC,MAAM,GAAG,CAAC;IACf,IAAI,CAACw4B,gBAAgB,CAAC,CAAC;EAC3B;EACAC,UAAUA,CAAC7B,KAAK,EAAEG,KAAK,EAAE;IACrB,IAAI,CAACh3B,MAAM,GAAI62B,KAAK,GAAGxjG,MAAM,CAAC8yE,OAAO,GAAI,IAAI,CAACoyB,WAAW;IACzD,IAAI,CAACt4B,MAAM,GAAI+2B,KAAK,GAAG3jG,MAAM,CAAC+yE,OAAO,GAAI,IAAI,CAACoyB,WAAW;IACzD,IAAI,CAACC,gBAAgB,CAAC,CAAC;EAC3B;EACA;EACAE,YAAYA,CAACvqB,IAAI,EAAE;IACf,IAAIA,IAAI,EAAE;MACN,IAAI,CAAC,IAAI,CAAC4d,SAAS,EAAE;QACjB,IAAI,IAAI,CAACmM,QAAQ,EAAE;UACf,IAAI,CAACA,QAAQ,CAAC5vF,KAAK,CAAC+I,OAAO,GAAG,EAAE;QACpC;QACA,IAAI,CAAC06E,SAAS,GAAG5d,IAAI,CAAC,CAAC;QACvB,IAAI,CAACqqB,gBAAgB,CAAC,CAAC,CAAC,CAAC;MAC7B;IACJ,CAAC,MACI,IAAI,IAAI,CAACzM,SAAS,EAAE;MACrB,IAAI,IAAI,CAACmM,QAAQ,EAAE;QACf,IAAI,CAACA,QAAQ,CAAC5vF,KAAK,CAAC+I,OAAO,GAAG,MAAM;MACxC;MACA,IAAI,CAAC06E,SAAS,GAAG5d,IAAI;IACzB;EACJ;EACA;EACAwqB,IAAIA,CAACC,oBAAoB,EAAE5+D,QAAQ,EAAE;IACjC,IAAI6+D,IAAI,GAAGA,CAAA,KAAM;MACb,IAAI,CAAC1C,OAAO,CAAC,CAAC;MACdn8D,QAAQ,CAAC,CAAC;IACd,CAAC;IACD,IAAI4+D,oBAAoB,IACpB,IAAI,CAACV,QAAQ,IACb,IAAI,CAACnM,SAAS,IACd,IAAI,CAACsM,cAAc;IAAI;IACtB,IAAI,CAACt4B,MAAM,IAAI,IAAI,CAACC,MAAM,CAAC,CAAC;IAAA,EAC/B;MACE,IAAI,CAAC84B,iBAAiB,CAACD,IAAI,EAAE,IAAI,CAACR,cAAc,CAAC;IACrD,CAAC,MACI;MACDxvF,UAAU,CAACgwF,IAAI,EAAE,CAAC,CAAC;IACvB;EACJ;EACAC,iBAAiBA,CAAC9+D,QAAQ,EAAEq+D,cAAc,EAAE;IACxC,IAAIH,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC5B,IAAIa,iBAAiB,GAAG,IAAI,CAACd,QAAQ,CAACvoD,qBAAqB,CAAC,CAAC,CAAC,CAAC;IAC/DwoD,QAAQ,CAAC5vF,KAAK,CAAC0wF,UAAU,GACrB,MAAM,GAAGX,cAAc,GAAG,KAAK,GAC3B,OAAO,GAAGA,cAAc,GAAG,IAAI;IACvC5sD,kEAAU,CAACysD,QAAQ,EAAE;MACjB9gG,IAAI,EAAE2hG,iBAAiB,CAAC3hG,IAAI;MAC5BmlE,GAAG,EAAEw8B,iBAAiB,CAACx8B;IAC3B,CAAC,CAAC;IACF3vB,kEAAkB,CAACsrD,QAAQ,EAAE,MAAM;MAC/BA,QAAQ,CAAC5vF,KAAK,CAAC0wF,UAAU,GAAG,EAAE;MAC9Bh/D,QAAQ,CAAC,CAAC;IACd,CAAC,CAAC;EACN;EACAm8D,OAAOA,CAAA,EAAG;IACN,IAAI,IAAI,CAAC+B,QAAQ,EAAE;MACf3tD,kEAAa,CAAC,IAAI,CAAC2tD,QAAQ,CAAC;MAC5B,IAAI,CAACA,QAAQ,GAAG,IAAI;IACxB;IACA,IAAI,CAACD,QAAQ,GAAG,IAAI;EACxB;EACAO,gBAAgBA,CAAA,EAAG;IACf,IAAI,IAAI,CAACP,QAAQ,IAAI,IAAI,CAAClM,SAAS,EAAE;MACjCtgD,kEAAU,CAAC,IAAI,CAACwtD,WAAW,CAAC,CAAC,EAAE;QAC3B7hG,IAAI,EAAE,IAAI,CAAC+gG,YAAY,CAAC/gG,IAAI,GAAG,IAAI,CAAC2oE,MAAM;QAC1CxD,GAAG,EAAE,IAAI,CAAC47B,YAAY,CAAC57B,GAAG,GAAG,IAAI,CAACyD;MACtC,CAAC,CAAC;IACN;EACJ;EACAi5B,WAAWA,CAAA,EAAG;IACV,IAAId,YAAY,GAAG,IAAI,CAACA,YAAY;IACpC,IAAID,QAAQ,GAAG,IAAI,CAACA,QAAQ;IAC5B,IAAI,CAACA,QAAQ,EAAE;MACXA,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI,CAACD,QAAQ,CAACiB,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC;MAC1D;MACA;MACAhB,QAAQ,CAAC5vF,KAAK,CAACklC,UAAU,GAAG,MAAM;MAClC0qD,QAAQ,CAAC5vF,KAAK,CAACmlC,gBAAgB,GAAG,MAAM;MACxCyqD,QAAQ,CAAC5vF,KAAK,CAAC6wF,aAAa,GAAG,MAAM;MACrCjB,QAAQ,CAAChxD,SAAS,CAAC7S,GAAG,CAAC,mBAAmB,CAAC;MAC3CoX,kEAAU,CAACysD,QAAQ,EAAE;QACjB57B,QAAQ,EAAE,OAAO;QACjB87B,MAAM,EAAE,IAAI,CAACA,MAAM;QACnBvM,UAAU,EAAE,EAAE;QACduN,SAAS,EAAE,YAAY;QACvB5+F,KAAK,EAAE29F,YAAY,CAAC7gG,KAAK,GAAG6gG,YAAY,CAAC/gG,IAAI;QAC7CwqC,MAAM,EAAEu2D,YAAY,CAACz4B,MAAM,GAAGy4B,YAAY,CAAC57B,GAAG;QAC9CjlE,KAAK,EAAE,MAAM;QACbooE,MAAM,EAAE,MAAM;QACd25B,MAAM,EAAE;MACZ,CAAC,CAAC;MACF,IAAI,CAACn3F,UAAU,CAACE,WAAW,CAAC81F,QAAQ,CAAC;IACzC;IACA,OAAOA,QAAQ;EACnB;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMoB,eAAe,SAASlxB,8DAAgB,CAAC;EAC3Cl5E,WAAWA,CAACqqG,gBAAgB,EAAEC,aAAa,EAAE;IACzC,KAAK,CAAC,CAAC;IACP,IAAI,CAAC7C,YAAY,GAAG,MAAM;MACtB,IAAI,CAACvtB,SAAS,GAAG,IAAI,CAACmwB,gBAAgB,CAACzwB,YAAY,CAAC,CAAC;MACrD,IAAI,CAACO,UAAU,GAAG,IAAI,CAACkwB,gBAAgB,CAACtwB,aAAa,CAAC,CAAC;MACvD,IAAI,CAACwwB,kBAAkB,CAAC,CAAC;IAC7B,CAAC;IACD,IAAI,CAACF,gBAAgB,GAAGA,gBAAgB;IACxC,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACpwB,SAAS,GAAG,IAAI,CAACswB,aAAa,GAAGH,gBAAgB,CAACzwB,YAAY,CAAC,CAAC;IACrE,IAAI,CAACO,UAAU,GAAG,IAAI,CAACswB,cAAc,GAAGJ,gBAAgB,CAACtwB,aAAa,CAAC,CAAC;IACxE,IAAI,CAACO,WAAW,GAAG+vB,gBAAgB,CAAC9wB,cAAc,CAAC,CAAC;IACpD,IAAI,CAACgB,YAAY,GAAG8vB,gBAAgB,CAACjxB,eAAe,CAAC,CAAC;IACtD,IAAI,CAAC/D,WAAW,GAAGg1B,gBAAgB,CAAC7wB,cAAc,CAAC,CAAC;IACpD,IAAI,CAACpE,YAAY,GAAGi1B,gBAAgB,CAAChxB,eAAe,CAAC,CAAC;IACtD,IAAI,CAACqxB,UAAU,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,IAAI,CAACL,aAAa,EAAE;MACpB,IAAI,CAACM,cAAc,CAAC,CAAC,CAACrxF,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACkuF,YAAY,CAAC;IACvE;EACJ;EACA5hF,OAAOA,CAAA,EAAG;IACN,IAAI,IAAI,CAACykF,aAAa,EAAE;MACpB,IAAI,CAACM,cAAc,CAAC,CAAC,CAACpxF,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAACiuF,YAAY,CAAC;IAC1E;EACJ;EACA7tB,YAAYA,CAAA,EAAG;IACX,OAAO,IAAI,CAACM,SAAS;EACzB;EACAH,aAAaA,CAAA,EAAG;IACZ,OAAO,IAAI,CAACI,UAAU;EAC1B;EACAC,YAAYA,CAAC/M,GAAG,EAAE;IACd,IAAI,CAACg9B,gBAAgB,CAACjwB,YAAY,CAAC/M,GAAG,CAAC;IACvC,IAAI,CAAC,IAAI,CAACi9B,aAAa,EAAE;MACrB;MACA;MACA,IAAI,CAACpwB,SAAS,GAAG7lD,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC0wB,GAAG,CAACsoB,GAAG,EAAE,IAAI,CAAC8L,eAAe,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACnE,IAAI,CAACoxB,kBAAkB,CAAC,CAAC;IAC7B;EACJ;EACAlwB,aAAaA,CAAChN,GAAG,EAAE;IACf,IAAI,CAACg9B,gBAAgB,CAAChwB,aAAa,CAAChN,GAAG,CAAC;IACxC,IAAI,CAAC,IAAI,CAACi9B,aAAa,EAAE;MACrB;MACA;MACA,IAAI,CAACnwB,UAAU,GAAG9lD,IAAI,CAACC,GAAG,CAACD,IAAI,CAAC0wB,GAAG,CAACsoB,GAAG,EAAE,IAAI,CAACiM,gBAAgB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACrE,IAAI,CAACixB,kBAAkB,CAAC,CAAC;IAC7B;EACJ;EACA/wB,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACnE,WAAW;EAC3B;EACAgE,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACjE,YAAY;EAC5B;EACAmE,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACe,WAAW;EAC3B;EACAlB,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACmB,YAAY;EAC5B;EACAgwB,kBAAkBA,CAAA,EAAG,CACrB;AACJ;AAEA,MAAMM,sBAAsB,SAAST,eAAe,CAAC;EACjDpqG,WAAWA,CAAC4jB,EAAE,EAAE0mF,aAAa,EAAE;IAC3B,KAAK,CAAC,IAAIrwB,8DAAuB,CAACr2D,EAAE,CAAC,EAAE0mF,aAAa,CAAC;EACzD;EACAM,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACP,gBAAgB,CAACzmF,EAAE;EACnC;EACA+mF,iBAAiBA,CAAA,EAAG;IAChB,OAAOj0B,kEAAgB,CAAC,IAAI,CAAC2zB,gBAAgB,CAACzmF,EAAE,CAAC;EACrD;AACJ;AAEA,MAAMknF,qBAAqB,SAASV,eAAe,CAAC;EAChDpqG,WAAWA,CAACsqG,aAAa,EAAE;IACvB,KAAK,CAAC,IAAI9vB,8DAAsB,CAAC,CAAC,EAAE8vB,aAAa,CAAC;EACtD;EACAM,cAAcA,CAAA,EAAG;IACb,OAAO1mG,MAAM;EACjB;EACAymG,iBAAiBA,CAAA,EAAG;IAChB,OAAO;MACHziG,IAAI,EAAE,IAAI,CAACiyE,UAAU;MACrB/xE,KAAK,EAAE,IAAI,CAAC+xE,UAAU,GAAG,IAAI,CAAC9E,WAAW;MACzChI,GAAG,EAAE,IAAI,CAAC6M,SAAS;MACnB1J,MAAM,EAAE,IAAI,CAAC0J,SAAS,GAAG,IAAI,CAAC9E;IAClC,CAAC;EACL;EACA;EACA;EACAm1B,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACG,UAAU,GAAG,IAAI,CAACC,iBAAiB,CAAC,CAAC;EAC9C;AACJ;;AAEA;AACA;AACA;AACA,MAAMI,OAAO,GAAG,OAAOC,WAAW,KAAK,UAAU,GAAGA,WAAW,CAACtiE,GAAG,GAAG7oB,IAAI,CAAC6oB,GAAG;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,MAAMuiE,YAAY,CAAC;EACfjrG,WAAWA,CAAA,EAAG;IACV;IACA,IAAI,CAACkrG,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,WAAW,GAAG,CAACjnG,MAAM,EAAE,cAAc,CAAC;IAC3C,IAAI,CAACknG,aAAa,GAAG,EAAE,CAAC,CAAC;IACzB,IAAI,CAACC,WAAW,GAAG,GAAG,CAAC,CAAC;IACxB;IACA,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,YAAY,GAAG,IAAI;IACxB;IACA,IAAI,CAACC,WAAW,GAAG,KAAK;IACxB,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,cAAc,GAAG,KAAK;IAC3B,IAAI,CAACC,OAAO,GAAG,MAAM;MACjB,IAAI,IAAI,CAACN,WAAW,EAAE;QAAE;QACpB,IAAIO,IAAI,GAAG,IAAI,CAACC,eAAe,CAAC,IAAI,CAACV,cAAc,GAAGpnG,MAAM,CAAC8yE,OAAO,EAAE,IAAI,CAACu0B,cAAc,GAAGrnG,MAAM,CAAC+yE,OAAO,CAAC;QAC3G,IAAI80B,IAAI,EAAE;UACN,IAAIrjE,GAAG,GAAGqiE,OAAO,CAAC,CAAC;UACnB,IAAI,CAACkB,UAAU,CAACF,IAAI,EAAE,CAACrjE,GAAG,GAAG,IAAI,CAACwjE,cAAc,IAAI,IAAI,CAAC;UACzD,IAAI,CAACC,gBAAgB,CAACzjE,GAAG,CAAC;QAC9B,CAAC,MACI;UACD,IAAI,CAAC8iE,WAAW,GAAG,KAAK,CAAC,CAAC;QAC9B;MACJ;IACJ,CAAC;EACL;;EACAxiG,KAAKA,CAAC0+F,KAAK,EAAEG,KAAK,EAAEuE,aAAa,EAAE;IAC/B,IAAI,IAAI,CAAClB,SAAS,EAAE;MAChB,IAAI,CAACO,YAAY,GAAG,IAAI,CAACY,WAAW,CAACD,aAAa,CAAC;MACnD,IAAI,CAACd,cAAc,GAAG,IAAI;MAC1B,IAAI,CAACC,cAAc,GAAG,IAAI;MAC1B,IAAI,CAACG,WAAW,GAAG,KAAK;MACxB,IAAI,CAACC,aAAa,GAAG,KAAK;MAC1B,IAAI,CAACC,aAAa,GAAG,KAAK;MAC1B,IAAI,CAACC,cAAc,GAAG,KAAK;MAC3B,IAAI,CAACtC,UAAU,CAAC7B,KAAK,EAAEG,KAAK,CAAC;IACjC;EACJ;EACA0B,UAAUA,CAAC7B,KAAK,EAAEG,KAAK,EAAE;IACrB,IAAI,IAAI,CAACqD,SAAS,EAAE;MAChB,IAAII,cAAc,GAAG5D,KAAK,GAAGxjG,MAAM,CAAC8yE,OAAO;MAC3C,IAAIu0B,cAAc,GAAG1D,KAAK,GAAG3jG,MAAM,CAAC+yE,OAAO;MAC3C,IAAIq1B,MAAM,GAAG,IAAI,CAACf,cAAc,KAAK,IAAI,GAAG,CAAC,GAAGA,cAAc,GAAG,IAAI,CAACA,cAAc;MACpF,IAAIgB,MAAM,GAAG,IAAI,CAACjB,cAAc,KAAK,IAAI,GAAG,CAAC,GAAGA,cAAc,GAAG,IAAI,CAACA,cAAc;MACpF,IAAIgB,MAAM,GAAG,CAAC,EAAE;QACZ,IAAI,CAACZ,WAAW,GAAG,IAAI;MAC3B,CAAC,MACI,IAAIY,MAAM,GAAG,CAAC,EAAE;QACjB,IAAI,CAACX,aAAa,GAAG,IAAI;MAC7B;MACA,IAAIY,MAAM,GAAG,CAAC,EAAE;QACZ,IAAI,CAACX,aAAa,GAAG,IAAI;MAC7B,CAAC,MACI,IAAIW,MAAM,GAAG,CAAC,EAAE;QACjB,IAAI,CAACV,cAAc,GAAG,IAAI;MAC9B;MACA,IAAI,CAACP,cAAc,GAAGA,cAAc;MACpC,IAAI,CAACC,cAAc,GAAGA,cAAc;MACpC,IAAI,CAAC,IAAI,CAACC,WAAW,EAAE;QACnB,IAAI,CAACA,WAAW,GAAG,IAAI;QACvB,IAAI,CAACW,gBAAgB,CAACpB,OAAO,CAAC,CAAC,CAAC;MACpC;IACJ;EACJ;EACAtB,IAAIA,CAAA,EAAG;IACH,IAAI,IAAI,CAACyB,SAAS,EAAE;MAChB,IAAI,CAACM,WAAW,GAAG,KAAK,CAAC,CAAC;MAC1B,KAAK,IAAIgB,WAAW,IAAI,IAAI,CAACf,YAAY,EAAE;QACvCe,WAAW,CAAC3mF,OAAO,CAAC,CAAC;MACzB;MACA,IAAI,CAAC4lF,YAAY,GAAG,IAAI;IAC5B;EACJ;EACAU,gBAAgBA,CAACzjE,GAAG,EAAE;IAClB,IAAI,CAACwjE,cAAc,GAAGxjE,GAAG;IACzBvsB,qBAAqB,CAAC,IAAI,CAAC2vF,OAAO,CAAC;EACvC;EACAG,UAAUA,CAACF,IAAI,EAAE1qD,OAAO,EAAE;IACtB,IAAI;MAAEmrD;IAAY,CAAC,GAAGT,IAAI;IAC1B,IAAI;MAAEX;IAAc,CAAC,GAAG,IAAI;IAC5B,IAAIqB,WAAW,GAAGrB,aAAa,GAAGW,IAAI,CAACW,QAAQ;IAC/C,IAAIC,QAAQ;IAAG;IACZF,WAAW,GAAGA,WAAW,IAAKrB,aAAa,GAAGA,aAAa,CAAC;IAAI;IAC/D,IAAI,CAACC,WAAW,GAAGhqD,OAAO;IAC9B,IAAIP,IAAI,GAAG,CAAC;IACZ,QAAQirD,IAAI,CAAC78F,IAAI;MACb,KAAK,MAAM;QACP4xC,IAAI,GAAG,CAAC,CAAC;MACb;MACA,KAAK,OAAO;QACR0rD,WAAW,CAACnyB,aAAa,CAACmyB,WAAW,CAACzyB,aAAa,CAAC,CAAC,GAAG4yB,QAAQ,GAAG7rD,IAAI,CAAC;QACxE;MACJ,KAAK,KAAK;QACNA,IAAI,GAAG,CAAC,CAAC;MACb;MACA,KAAK,QAAQ;QACT0rD,WAAW,CAACpyB,YAAY,CAACoyB,WAAW,CAAC5yB,YAAY,CAAC,CAAC,GAAG+yB,QAAQ,GAAG7rD,IAAI,CAAC;QACtE;IACR;EACJ;EACA;EACAkrD,eAAeA,CAAC9jG,IAAI,EAAEmlE,GAAG,EAAE;IACvB,IAAI;MAAE+9B;IAAc,CAAC,GAAG,IAAI;IAC5B,IAAIwB,QAAQ,GAAG,IAAI;IACnB,IAAInB,YAAY,GAAG,IAAI,CAACA,YAAY,IAAI,EAAE;IAC1C,KAAK,IAAIe,WAAW,IAAIf,YAAY,EAAE;MAClC,IAAIl7B,IAAI,GAAGi8B,WAAW,CAAC9B,UAAU;MACjC,IAAImC,QAAQ,GAAG3kG,IAAI,GAAGqoE,IAAI,CAACroE,IAAI;MAC/B,IAAI4kG,SAAS,GAAGv8B,IAAI,CAACnoE,KAAK,GAAGF,IAAI;MACjC,IAAI6kG,OAAO,GAAG1/B,GAAG,GAAGkD,IAAI,CAAClD,GAAG;MAC5B,IAAI2/B,UAAU,GAAGz8B,IAAI,CAACC,MAAM,GAAGnD,GAAG;MAClC;MACA,IAAIw/B,QAAQ,IAAI,CAAC,IAAIC,SAAS,IAAI,CAAC,IAAIC,OAAO,IAAI,CAAC,IAAIC,UAAU,IAAI,CAAC,EAAE;QACpE,IAAID,OAAO,IAAI3B,aAAa,IAAI,IAAI,CAACM,WAAW,IAAIc,WAAW,CAAC7yB,WAAW,CAAC,CAAC,KACxE,CAACizB,QAAQ,IAAIA,QAAQ,CAACF,QAAQ,GAAGK,OAAO,CAAC,EAAE;UAC5CH,QAAQ,GAAG;YAAEJ,WAAW;YAAEt9F,IAAI,EAAE,KAAK;YAAEw9F,QAAQ,EAAEK;UAAQ,CAAC;QAC9D;QACA,IAAIC,UAAU,IAAI5B,aAAa,IAAI,IAAI,CAACO,aAAa,IAAIa,WAAW,CAAC3yB,aAAa,CAAC,CAAC,KAC/E,CAAC+yB,QAAQ,IAAIA,QAAQ,CAACF,QAAQ,GAAGM,UAAU,CAAC,EAAE;UAC/CJ,QAAQ,GAAG;YAAEJ,WAAW;YAAEt9F,IAAI,EAAE,QAAQ;YAAEw9F,QAAQ,EAAEM;UAAW,CAAC;QACpE;QACA;AAChB;AACA;AACA;QACgB,IAAIH,QAAQ,IAAIzB,aAAa,IAAI,IAAI,CAACQ,aAAa,IAAIY,WAAW,CAAC1yB,aAAa,CAAC,CAAC,KAC7E,CAAC8yB,QAAQ,IAAIA,QAAQ,CAACF,QAAQ,GAAGG,QAAQ,CAAC,EAAE;UAC7CD,QAAQ,GAAG;YAAEJ,WAAW;YAAEt9F,IAAI,EAAE,MAAM;YAAEw9F,QAAQ,EAAEG;UAAS,CAAC;QAChE;QACA,IAAIC,SAAS,IAAI1B,aAAa,IAAI,IAAI,CAACS,cAAc,IAAIW,WAAW,CAACxyB,cAAc,CAAC,CAAC,KAChF,CAAC4yB,QAAQ,IAAIA,QAAQ,CAACF,QAAQ,GAAGI,SAAS,CAAC,EAAE;UAC9CF,QAAQ,GAAG;YAAEJ,WAAW;YAAEt9F,IAAI,EAAE,OAAO;YAAEw9F,QAAQ,EAAEI;UAAU,CAAC;QAClE;MACJ;IACJ;IACA,OAAOF,QAAQ;EACnB;EACAP,WAAWA,CAACD,aAAa,EAAE;IACvB,OAAO,IAAI,CAACa,cAAc,CAACb,aAAa,CAAC,CAACp8F,GAAG,CAAE4T,EAAE,IAAK;MAClD,IAAIA,EAAE,KAAK1f,MAAM,EAAE;QACf,OAAO,IAAI4mG,qBAAqB,CAAC,KAAK,CAAC,CAAC,CAAC;MAC7C;;MACA,OAAO,IAAID,sBAAsB,CAACjnF,EAAE,EAAE,KAAK,CAAC,CAAC,CAAC;IAClD,CAAC,CAAC;EACN;;EACAqpF,cAAcA,CAACb,aAAa,EAAE;IAC1B,IAAIz0B,GAAG,GAAG,EAAE;IACZ,KAAK,IAAIu1B,KAAK,IAAI,IAAI,CAAC/B,WAAW,EAAE;MAChC,IAAI,OAAO+B,KAAK,KAAK,QAAQ,EAAE;QAC3Bv1B,GAAG,CAAC5lE,IAAI,CAACm7F,KAAK,CAAC;MACnB,CAAC,MACI;QACD;AAChB;AACA;AACA;QACgBv1B,GAAG,CAAC5lE,IAAI,CAAC,GAAG8D,KAAK,CAAC1G,SAAS,CAACmK,KAAK,CAACxK,IAAI,CAACs9F,aAAa,CAAC1yD,WAAW,CAAC,CAAC,CAACuC,gBAAgB,CAACixD,KAAK,CAAC,CAAC,CAAC;MAChG;IACJ;IACA,OAAOv1B,GAAG;EACd;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMw1B,yBAAyB,SAASpuB,8DAAe,CAAC;EACpD/+E,WAAWA,CAACgf,WAAW,EAAE0C,QAAQ,EAAE;IAC/B,KAAK,CAAC1C,WAAW,CAAC;IAClB,IAAI,CAACA,WAAW,GAAGA,WAAW;IAC9B;IACA;IACA,IAAI,CAAC8nB,KAAK,GAAG,IAAI;IACjB,IAAI,CAACsmE,WAAW,GAAG,CAAC;IACpB,IAAI,CAACC,kBAAkB,GAAG,IAAI,CAAC,CAAC;IAChC,IAAI,CAACC,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,aAAa,GAAG,KAAK,CAAC,CAAC;IAC5B,IAAI,CAACjiC,UAAU,GAAG,KAAK,CAAC,CAAC;IACzB,IAAI,CAACkiC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,mBAAmB,GAAG,KAAK;IAChC,IAAI,CAACC,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACC,aAAa,GAAIltE,EAAE,IAAK;MACzB,IAAI,CAAC,IAAI,CAAC6qC,UAAU,EAAE;QAAE;QACpB,IAAI,CAACiiC,aAAa,GAAG,IAAI;QACzB,IAAI,CAACC,YAAY,GAAG,KAAK;QACzB,IAAI,CAACC,mBAAmB,GAAG,KAAK;QAChCpvD,kEAAgB,CAAChsC,QAAQ,CAAC8rC,IAAI,CAAC;QAC/BM,kEAAkB,CAACpsC,QAAQ,CAAC8rC,IAAI,CAAC;QACjC;QACA;QACA;QACA,IAAI,CAAC1d,EAAE,CAACunE,OAAO,EAAE;UACbvnE,EAAE,CAACgkC,SAAS,CAAC3nB,cAAc,CAAC,CAAC;QACjC;QACA,IAAI,CAAChX,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEtF,EAAE,CAAC;QACvC,IAAI,IAAI,CAAC8sE,aAAa;QAAI;QACtB,CAAC,IAAI,CAACK,OAAO,CAACxH,gBAAgB,EAAE;UAChC;UACA,IAAI,CAACyH,MAAM,CAACrE,YAAY,CAAC,KAAK,CAAC,CAAC,CAAC;UACjC,IAAI,CAACqE,MAAM,CAAC7kG,KAAK,CAACy3B,EAAE,CAACqkE,SAAS,EAAErkE,EAAE,CAACinE,KAAK,EAAEjnE,EAAE,CAAConE,KAAK,CAAC,CAAC,CAAC;UACrD,IAAI,CAACiG,UAAU,CAACrtE,EAAE,CAAC;UACnB,IAAI,CAAC,IAAI,CAAC2sE,WAAW,EAAE;YACnB,IAAI,CAACW,uBAAuB,CAACttE,EAAE,CAAC;UACpC;QACJ;MACJ;IACJ,CAAC;IACD,IAAI,CAACutE,aAAa,GAAIvtE,EAAE,IAAK;MACzB,IAAI,IAAI,CAAC8sE,aAAa,EAAE;QACpB,IAAI,CAACznE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEtF,EAAE,CAAC;QACvC,IAAI,CAAC,IAAI,CAACgtE,mBAAmB,EAAE;UAC3B,IAAIL,WAAW,GAAG,IAAI,CAACA,WAAW;UAClC,IAAIa,UAAU,CAAC,CAAC;UAChB,IAAI;YAAEp9B,MAAM;YAAEC;UAAO,CAAC,GAAGrwC,EAAE;UAC3BwtE,UAAU,GAAGp9B,MAAM,GAAGA,MAAM,GAAGC,MAAM,GAAGA,MAAM;UAC9C,IAAIm9B,UAAU,IAAIb,WAAW,GAAGA,WAAW,EAAE;YAAE;YAC3C,IAAI,CAACW,uBAAuB,CAACttE,EAAE,CAAC;UACpC;QACJ;QACA,IAAI,IAAI,CAAC6qC,UAAU,EAAE;UACjB;UACA,IAAI7qC,EAAE,CAACgkC,SAAS,CAAC9gE,IAAI,KAAK,QAAQ,EAAE;YAChC,IAAI,CAACkqG,MAAM,CAACtE,UAAU,CAAC9oE,EAAE,CAACinE,KAAK,EAAEjnE,EAAE,CAAConE,KAAK,CAAC;YAC1C,IAAI,CAACqG,YAAY,CAAC3E,UAAU,CAAC9oE,EAAE,CAACinE,KAAK,EAAEjnE,EAAE,CAAConE,KAAK,CAAC;UACpD;UACA,IAAI,CAAC/hE,OAAO,CAACC,OAAO,CAAC,UAAU,EAAEtF,EAAE,CAAC;QACxC;MACJ;IACJ,CAAC;IACD,IAAI,CAAC0tE,WAAW,GAAI1tE,EAAE,IAAK;MACvB,IAAI,IAAI,CAAC8sE,aAAa,EAAE;QACpB,IAAI,CAACA,aAAa,GAAG,KAAK;QAC1B/uD,kEAAc,CAACnsC,QAAQ,CAAC8rC,IAAI,CAAC;QAC7BO,kEAAgB,CAACrsC,QAAQ,CAAC8rC,IAAI,CAAC;QAC/B,IAAI,CAACrY,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC,CAAC,CAAC;QACvC,IAAI,IAAI,CAAC6qC,UAAU,EAAE;UACjB,IAAI,CAAC4iC,YAAY,CAACzE,IAAI,CAAC,CAAC;UACxB,IAAI,CAAC2E,WAAW,CAAC3tE,EAAE,CAAC,CAAC,CAAC;QAC1B;;QACA,IAAI,IAAI,CAACitE,cAAc,EAAE;UACrBtxF,YAAY,CAAC,IAAI,CAACsxF,cAAc,CAAC;UACjC,IAAI,CAACA,cAAc,GAAG,IAAI;QAC9B;MACJ;IACJ,CAAC;IACD,IAAIE,OAAO,GAAG,IAAI,CAACA,OAAO,GAAG,IAAI1H,eAAe,CAAClnF,WAAW,CAAC;IAC7D4uF,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACi3F,aAAa,CAAC;IACrDC,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACs3F,aAAa,CAAC;IACrDJ,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACy3F,WAAW,CAAC;IACjD,IAAIzsF,QAAQ,EAAE;MACVksF,OAAO,CAAClsF,QAAQ,GAAGA,QAAQ;IAC/B;IACA,IAAI,CAACmsF,MAAM,GAAG,IAAI/E,aAAa,CAAC,CAAC;IACjC,IAAI,CAACoF,YAAY,GAAG,IAAIjD,YAAY,CAAC,CAAC;EAC1C;EACAplF,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC+nF,OAAO,CAAC/nF,OAAO,CAAC,CAAC;IACtB;IACA;IACA,IAAI,CAACsoF,WAAW,CAAC,CAAC,CAAC,CAAC;EACxB;EACAL,UAAUA,CAACrtE,EAAE,EAAE;IACX,IAAI,OAAO,IAAI,CAACqG,KAAK,KAAK,QAAQ,EAAE;MAChC,IAAI,CAAC4mE,cAAc,GAAG/zF,UAAU,CAAC,MAAM;QACnC,IAAI,CAAC+zF,cAAc,GAAG,IAAI;QAC1B,IAAI,CAACW,cAAc,CAAC5tE,EAAE,CAAC;MAC3B,CAAC,EAAE,IAAI,CAACqG,KAAK,CAAC,CAAC,CAAC;IACpB,CAAC,MACI;MACD,IAAI,CAACunE,cAAc,CAAC5tE,EAAE,CAAC;IAC3B;EACJ;EACA4tE,cAAcA,CAAC5tE,EAAE,EAAE;IACf,IAAI,CAAC+sE,YAAY,GAAG,IAAI;IACxB,IAAI,CAACc,YAAY,CAAC7tE,EAAE,CAAC;EACzB;EACAstE,uBAAuBA,CAACttE,EAAE,EAAE;IACxB,IAAI,CAACgtE,mBAAmB,GAAG,IAAI;IAC/B,IAAI,CAACa,YAAY,CAAC7tE,EAAE,CAAC;EACzB;EACA6tE,YAAYA,CAAC7tE,EAAE,EAAE;IACb,IAAI,IAAI,CAAC+sE,YAAY,IAAI,IAAI,CAACC,mBAAmB,EAAE;MAC/C,IAAI,CAAC,IAAI,CAACG,OAAO,CAACrH,cAAc,IAAI,IAAI,CAAC8G,kBAAkB,EAAE;QACzD,IAAI,CAAC/hC,UAAU,GAAG,IAAI;QACtB,IAAI,CAACgiC,iBAAiB,GAAG,KAAK;QAC9B,IAAI,CAACY,YAAY,CAACllG,KAAK,CAACy3B,EAAE,CAACinE,KAAK,EAAEjnE,EAAE,CAAConE,KAAK,EAAE,IAAI,CAAC7oF,WAAW,CAAC;QAC7D,IAAI,CAAC8mB,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC;QACrC,IAAI,IAAI,CAAC4sE,kBAAkB,KAAK,KAAK,EAAE;UACnC,IAAI,CAACO,OAAO,CAACnF,iBAAiB,CAAC,CAAC;QACpC;MACJ;IACJ;EACJ;EACA2F,WAAWA,CAAC3tE,EAAE,EAAE;IACZ;IACA;IACA,IAAI,CAACotE,MAAM,CAACpE,IAAI,CAAC,IAAI,CAAC6D,iBAAiB,EAAE,IAAI,CAACiB,QAAQ,CAACxkG,IAAI,CAAC,IAAI,EAAE02B,EAAE,CAAC,CAAC;EAC1E;EACA8tE,QAAQA,CAAC9tE,EAAE,EAAE;IACT,IAAI,CAAC6qC,UAAU,GAAG,KAAK;IACvB,IAAI,CAACxlC,OAAO,CAACC,OAAO,CAAC,SAAS,EAAEtF,EAAE,CAAC;EACvC;EACA;EACA+tE,aAAaA,CAACvvB,IAAI,EAAE;IAChB,IAAI,CAAC2uB,OAAO,CAACxH,gBAAgB,GAAGnnB,IAAI;EACxC;EACAD,kBAAkBA,CAACC,IAAI,EAAE;IACrB,IAAI,CAAC4uB,MAAM,CAACrE,YAAY,CAACvqB,IAAI,CAAC;EAClC;EACAC,oBAAoBA,CAACD,IAAI,EAAE;IACvB,IAAI,CAACquB,iBAAiB,GAAGruB,IAAI;EACjC;EACAE,oBAAoBA,CAACF,IAAI,EAAE;IACvB,IAAI,CAACivB,YAAY,CAAChD,SAAS,GAAGjsB,IAAI;EACtC;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMwvB,aAAa,CAAC;EAChBzuG,WAAWA,CAAC4jB,EAAE,EAAE;IACZ,IAAI,CAACA,EAAE,GAAGA,EAAE;IACZ,IAAI,CAAC8qF,QAAQ,GAAG53B,kEAAW,CAAClzD,EAAE,CAAC;IAC/B;IACA,IAAI,CAAC6nF,YAAY,GAAGr0B,kEAAkB,CAACxzD,EAAE,CAAC,CAAC5T,GAAG,CAAEg1F,QAAQ,IAAK,IAAI6F,sBAAsB,CAAC7F,QAAQ,EAAE,IAAI,CAAC,CAAC;EAC5G;EACAn/E,OAAOA,CAAA,EAAG;IACN,KAAK,IAAI2mF,WAAW,IAAI,IAAI,CAACf,YAAY,EAAE;MACvCe,WAAW,CAAC3mF,OAAO,CAAC,CAAC;IACzB;EACJ;EACA8oF,WAAWA,CAAA,EAAG;IACV,IAAIzmG,IAAI,GAAG,IAAI,CAACwmG,QAAQ,CAACxmG,IAAI;IAC7B,KAAK,IAAIskG,WAAW,IAAI,IAAI,CAACf,YAAY,EAAE;MACvCvjG,IAAI,IAAIskG,WAAW,CAAC/B,cAAc,GAAG+B,WAAW,CAACzyB,aAAa,CAAC,CAAC;IACpE;IACA,OAAO7xE,IAAI;EACf;EACA0mG,UAAUA,CAAA,EAAG;IACT,IAAIvhC,GAAG,GAAG,IAAI,CAACqhC,QAAQ,CAACrhC,GAAG;IAC3B,KAAK,IAAIm/B,WAAW,IAAI,IAAI,CAACf,YAAY,EAAE;MACvCp+B,GAAG,IAAIm/B,WAAW,CAAChC,aAAa,GAAGgC,WAAW,CAAC5yB,YAAY,CAAC,CAAC;IACjE;IACA,OAAOvM,GAAG;EACd;EACAwhC,gBAAgBA,CAACnH,KAAK,EAAEG,KAAK,EAAE;IAC3B,IAAIv3B,KAAK,GAAG;MAAEpoE,IAAI,EAAEw/F,KAAK;MAAEr6B,GAAG,EAAEw6B;IAAM,CAAC;IACvC,KAAK,IAAI2E,WAAW,IAAI,IAAI,CAACf,YAAY,EAAE;MACvC,IAAI,CAACqD,iBAAiB,CAACtC,WAAW,CAAC5B,cAAc,CAAC,CAAC,CAAC,IAChD,CAACv6B,kEAAe,CAACC,KAAK,EAAEk8B,WAAW,CAAC9B,UAAU,CAAC,EAAE;QACjD,OAAO,KAAK;MAChB;IACJ;IACA,OAAO,IAAI;EACf;AACJ;AACA;AACA;AACA,SAASoE,iBAAiBA,CAACC,IAAI,EAAE;EAC7B,IAAIC,OAAO,GAAGD,IAAI,CAACC,OAAO;EAC1B,OAAOA,OAAO,KAAK,MAAM,IAAIA,OAAO,KAAK,MAAM;AACnD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,WAAW,CAAC;EACdjvG,WAAWA,CAACkvG,QAAQ,EAAEC,cAAc,EAAE;IAClC;IACA,IAAI,CAACC,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,cAAc,GAAG,IAAI,CAAC,CAAC;IAC5B,IAAI,CAACC,iBAAiB,GAAG,KAAK;IAC9B,IAAI,CAACC,UAAU,GAAG,IAAI;IACtB,IAAI,CAACC,SAAS,GAAG,IAAI;IACrB,IAAI,CAACC,QAAQ,GAAG,IAAI,CAAC,CAAC;IACtB,IAAI,CAACC,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAI;QAAEyuE;MAAS,CAAC,GAAG,IAAI;MACvB,IAAI,CAACK,UAAU,GAAG,IAAI;MACtB,IAAI,CAACC,SAAS,GAAG,IAAI;MACrB,IAAI,CAACC,QAAQ,GAAG,IAAI;MACpB,IAAI,CAAC90B,WAAW,CAAC,CAAC;MAClB,IAAI,CAACg1B,iBAAiB,CAAClvE,EAAE,CAAC;MAC1B,IAAI,IAAI,CAAC8uE,UAAU,IAAI,CAAC,IAAI,CAACF,cAAc,EAAE;QACzCH,QAAQ,CAACV,aAAa,CAAC,KAAK,CAAC;QAC7B;QACA,IAAI,CAAC1oE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEtF,EAAE,CAAC;MAC3C,CAAC,MACI;QACDyuE,QAAQ,CAACV,aAAa,CAAC,IAAI,CAAC;MAChC;IACJ,CAAC;IACD,IAAI,CAACoB,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC;MACrC,IAAI,CAAC8oE,UAAU,CAAC9oE,EAAE,EAAE,IAAI,CAAC,CAAC,CAAC;IAC/B,CAAC;;IACD,IAAI,CAACovE,cAAc,GAAIpvE,EAAE,IAAK;MAC1B,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,UAAU,EAAEtF,EAAE,CAAC;MACpC,IAAI,CAAC8oE,UAAU,CAAC9oE,EAAE,CAAC;IACvB,CAAC;IACD,IAAI,CAACqvE,eAAe,GAAIrvE,EAAE,IAAK;MAC3B,IAAI,CAACsvE,WAAW,CAAC,CAAC;MAClB,IAAI,CAACjqE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC;IACzC,CAAC;IACD,IAAI,CAACuvE,aAAa,GAAIvvE,EAAE,IAAK;MACzB,IAAI,IAAI,CAAC+uE,SAAS,EAAE;QAChB,IAAI,CAAC1pE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,EAAEtF,EAAE,CAAC;MACrD;MACA,IAAI,CAACgvE,QAAQ,GAAG,IAAI,CAACD,SAAS;MAC9B,IAAI,CAACA,SAAS,GAAG,IAAI;MACrB,IAAI,CAAC1pE,OAAO,CAACC,OAAO,CAAC,SAAS,EAAEtF,EAAE,CAAC;IACvC,CAAC;IACD,IAAI,CAAC0uE,cAAc,GAAGA,cAAc;IACpCD,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC1DR,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACtDV,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,UAAU,EAAE,IAAI,CAACm5F,cAAc,CAAC;IACpDX,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo5F,eAAe,CAAC;IACtDZ,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAE,IAAI,CAACs5F,aAAa,CAAC;IAClD,IAAI,CAACd,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACppE,OAAO,GAAG,IAAIxb,6DAAO,CAAC,CAAC;EAChC;EACA;EACA;EACAqlF,iBAAiBA,CAAClvE,EAAE,EAAE;IAClB,IAAIwvE,SAAS,GAAG;MAAE/nG,IAAI,EAAEu4B,EAAE,CAACinE,KAAK;MAAEr6B,GAAG,EAAE5sC,EAAE,CAAConE;IAAM,CAAC;IACjD,IAAIqI,aAAa,GAAGD,SAAS;IAC7B,IAAInL,SAAS,GAAGrkE,EAAE,CAACqkE,SAAS;IAC5B,IAAIqL,WAAW;IACf,IAAIrL,SAAS,YAAY/oD,WAAW,EAAE;MAAE;MACpCo0D,WAAW,GAAGr5B,kEAAW,CAACguB,SAAS,CAAC;MACpCoL,aAAa,GAAGn/B,kEAAc,CAACm/B,aAAa,EAAEC,WAAW,CAAC;IAC9D;IACA,IAAIZ,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,IAAI,CAACa,iBAAiB,CAACF,aAAa,CAAChoG,IAAI,EAAEgoG,aAAa,CAAC7iC,GAAG,CAAC;IAChG,IAAIkiC,UAAU,EAAE;MACZ,IAAI,IAAI,CAACH,gBAAgB,IAAIe,WAAW,EAAE;QACtC,IAAIE,iBAAiB,GAAG5/B,kEAAc,CAAC0/B,WAAW,EAAEZ,UAAU,CAACh/B,IAAI,CAAC;QACpE,IAAI8/B,iBAAiB,EAAE;UACnBH,aAAa,GAAGl/B,kEAAa,CAACq/B,iBAAiB,CAAC;QACpD;MACJ;MACA,IAAI,CAACC,WAAW,GAAGr/B,kEAAU,CAACi/B,aAAa,EAAED,SAAS,CAAC;IAC3D,CAAC,MACI;MACD,IAAI,CAACK,WAAW,GAAG;QAAEpoG,IAAI,EAAE,CAAC;QAAEmlE,GAAG,EAAE;MAAE,CAAC;IAC1C;EACJ;EACAk8B,UAAUA,CAAC9oE,EAAE,EAAE8vE,WAAW,EAAE;IACxB,IAAIC,GAAG,GAAG,IAAI,CAACJ,iBAAiB,CAAC3vE,EAAE,CAACinE,KAAK,GAAG,IAAI,CAAC4I,WAAW,CAACpoG,IAAI,EAAEu4B,EAAE,CAAConE,KAAK,GAAG,IAAI,CAACyI,WAAW,CAACjjC,GAAG,CAAC;IACnG,IAAIkjC,WAAW,IAAI,CAACE,WAAW,CAAC,IAAI,CAACjB,SAAS,EAAEgB,GAAG,CAAC,EAAE;MAClD,IAAI,CAAChB,SAAS,GAAGgB,GAAG;MACpB,IAAI,CAAC1qE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEyqE,GAAG,EAAE,KAAK,EAAE/vE,EAAE,CAAC;IACrD;EACJ;EACAk6C,WAAWA,CAAA,EAAG;IACV,IAAI,CAAC+1B,cAAc,GAAG3wF,iEAAO,CAAC,IAAI,CAACovF,cAAc,EAAGwB,mBAAmB,IAAK;MACxEA,mBAAmB,CAAC3vG,SAAS,CAAC25E,WAAW,CAAC,CAAC;MAC3C,OAAO,IAAI8zB,aAAa,CAACkC,mBAAmB,CAAC/sF,EAAE,CAAC;IACpD,CAAC,CAAC;EACN;EACAmsF,WAAWA,CAAA,EAAG;IACV,IAAI;MAAEW;IAAe,CAAC,GAAG,IAAI;IAC7B,KAAK,IAAIlqF,EAAE,IAAIkqF,cAAc,EAAE;MAC3BA,cAAc,CAAClqF,EAAE,CAAC,CAACX,OAAO,CAAC,CAAC;IAChC;IACA,IAAI,CAAC6qF,cAAc,GAAG,CAAC,CAAC;EAC5B;EACAN,iBAAiBA,CAACQ,UAAU,EAAEC,SAAS,EAAE;IACrC,IAAI;MAAE1B,cAAc;MAAEuB;IAAe,CAAC,GAAG,IAAI;IAC7C,IAAII,OAAO,GAAG,IAAI;IAClB,KAAK,IAAItqF,EAAE,IAAI2oF,cAAc,EAAE;MAC3B,IAAInuG,SAAS,GAAGmuG,cAAc,CAAC3oF,EAAE,CAAC,CAACxlB,SAAS;MAC5C,IAAI+vG,aAAa,GAAGL,cAAc,CAAClqF,EAAE,CAAC;MACtC,IAAIuqF,aAAa;MAAI;MACjBA,aAAa,CAAClC,gBAAgB,CAAC+B,UAAU,EAAEC,SAAS,CAAC,EAAE;QACvD,IAAIG,UAAU,GAAGD,aAAa,CAACpC,WAAW,CAAC,CAAC;QAC5C,IAAIsC,SAAS,GAAGF,aAAa,CAACnC,UAAU,CAAC,CAAC;QAC1C,IAAI/zB,YAAY,GAAG+1B,UAAU,GAAGI,UAAU;QAC1C,IAAIl2B,WAAW,GAAG+1B,SAAS,GAAGI,SAAS;QACvC,IAAI;UAAEvC;QAAS,CAAC,GAAGqC,aAAa;QAChC,IAAIzlG,KAAK,GAAGojG,QAAQ,CAACtmG,KAAK,GAAGsmG,QAAQ,CAACxmG,IAAI;QAC1C,IAAIwqC,MAAM,GAAGg8D,QAAQ,CAACl+B,MAAM,GAAGk+B,QAAQ,CAACrhC,GAAG;QAC3C;QACA;QACAwN,YAAY,IAAI,CAAC,IAAIA,YAAY,GAAGvvE,KAAK,IACrCwvE,WAAW,IAAI,CAAC,IAAIA,WAAW,GAAGpoC,MAAM,EAAE;UAC1C,IAAI89D,GAAG,GAAGxvG,SAAS,CAAC45E,QAAQ,CAACC,YAAY,EAAEC,WAAW,EAAExvE,KAAK,EAAEonC,MAAM,CAAC;UACtE,IAAI89D,GAAG;UACP;UACA10C,kEAAkB,CAAC00C,GAAG,CAAC/1E,WAAW,CAACC,WAAW,EAAE81E,GAAG,CAAC7rC,QAAQ,CAAC/nC,KAAK,CAAE;UAChE;UACA;UACA;UACC,IAAI,CAAC0yE,iBAAiB,IACnByB,aAAa,CAACntF,EAAE,CAAC23B,QAAQ,CAACw1D,aAAa,CAACntF,EAAE,CAAC81B,WAAW,CAAC,CAAC,CAACw3D,gBAAgB;UACzE;UACAr2B,YAAY,GAAGm2B,UAAU,GAAG9sG,MAAM,CAAC8yE,OAAO,EAAE8D,WAAW,GAAGm2B,SAAS,GAAG/sG,MAAM,CAAC+yE,OAAO,CAAC,CAAC,CAAC,KAC1F,CAAC65B,OAAO,IAAIN,GAAG,CAACrgB,KAAK,GAAG2gB,OAAO,CAAC3gB,KAAK,CAAC,EAAE;YACzCqgB,GAAG,CAACW,WAAW,GAAG3qF,EAAE;YACpBgqF,GAAG,CAAC39F,OAAO,GAAG7R,SAAS,CAAC6R,OAAO;YAC/B;YACA29F,GAAG,CAACjgC,IAAI,CAACroE,IAAI,IAAI8oG,UAAU;YAC3BR,GAAG,CAACjgC,IAAI,CAACnoE,KAAK,IAAI4oG,UAAU;YAC5BR,GAAG,CAACjgC,IAAI,CAAClD,GAAG,IAAI4jC,SAAS;YACzBT,GAAG,CAACjgC,IAAI,CAACC,MAAM,IAAIygC,SAAS;YAC5BH,OAAO,GAAGN,GAAG;UACjB;QACJ;MACJ;IACJ;IACA,OAAOM,OAAO;EAClB;AACJ;AACA,SAASL,WAAWA,CAACW,IAAI,EAAEC,IAAI,EAAE;EAC7B,IAAI,CAACD,IAAI,IAAI,CAACC,IAAI,EAAE;IAChB,OAAO,IAAI;EACf;EACA,IAAIltE,OAAO,CAACitE,IAAI,CAAC,KAAKjtE,OAAO,CAACktE,IAAI,CAAC,EAAE;IACjC,OAAO,KAAK;EAChB;EACA,OAAOrlC,kEAAgB,CAAColC,IAAI,CAACzsC,QAAQ,EAAE0sC,IAAI,CAAC1sC,QAAQ,CAAC;AACzD;AAEA,SAAS2sC,4BAA4BA,CAAC3sC,QAAQ,EAAE9xD,OAAO,EAAE;EACrD,IAAIlE,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,IAAI+nC,SAAS,IAAI7jC,OAAO,CAAC4pB,WAAW,CAAC/K,mBAAmB,EAAE;IAC3Dpd,MAAM,CAACwa,MAAM,CAACngB,KAAK,EAAE+nC,SAAS,CAACiuB,QAAQ,EAAE9xD,OAAO,CAAC,CAAC;EACtD;EACAyB,MAAM,CAACwa,MAAM,CAACngB,KAAK,EAAE4iG,iBAAiB,CAAC5sC,QAAQ,EAAE9xD,OAAO,CAAC2mB,OAAO,CAAC,CAAC;EAClE,OAAO7qB,KAAK;AAChB;AACA,SAAS4iG,iBAAiBA,CAACzlC,IAAI,EAAEtyC,OAAO,EAAE;EACtC,OAAO;IACHnwB,IAAI,EAAEmwB,OAAO,CAACgI,MAAM,CAACsqC,IAAI,CAAClvC,KAAK,CAAC5zB,KAAK,CAAC;IACtCorE,OAAO,EAAE56C,OAAO,CAAC+J,SAAS,CAACuoC,IAAI,CAAClvC,KAAK,CAAC5zB,KAAK,EAAE;MAAE4tD,QAAQ,EAAEkV,IAAI,CAAC9yB;IAAO,CAAC,CAAC;IACvEA,MAAM,EAAE8yB,IAAI,CAAC9yB;EACjB,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA,MAAMw4D,YAAY,SAASlmF,6DAAW,CAAC;EACnCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf,IAAI,CAACy8D,iBAAiB,GAAInrC,GAAG,IAAK;MAC9B,IAAI;QAAE2qC;MAAS,CAAC,GAAG,IAAI;MACvB,IAAI3G,MAAM,GAAGhkC,GAAG,CAACE,SAAS,CAAC9jC,MAAM;MACjC;MACAuuE,QAAQ,CAACV,aAAa,CAAC,CAAC,IAAI,CAACxtG,SAAS,CAACi6E,iBAAiB,CAACstB,MAAM,CAAC,CAAC;IACrE,CAAC;IACD;IACA,IAAI,CAACyH,aAAa,GAAIvvE,EAAE,IAAK;MACzB,IAAI;QAAEz/B;MAAU,CAAC,GAAG,IAAI;MACxB,IAAI;QAAE4sG;MAAQ,CAAC,GAAG,IAAI,CAACsB,QAAQ;MAC/B,IAAI,CAACtB,OAAO,CAACrH,cAAc,EAAE;QACzB,IAAI;UAAEgJ,UAAU;UAAEE;QAAS,CAAC,GAAG,IAAI,CAACgC,WAAW;QAC/C,IAAIlC,UAAU,IAAIE,QAAQ,IAAIgB,WAAW,CAAClB,UAAU,EAAEE,QAAQ,CAAC,EAAE;UAC7D,IAAI;YAAE58F;UAAQ,CAAC,GAAG7R,SAAS;UAC3B,IAAIihC,GAAG,GAAG3tB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEwiF,4BAA4B,CAAC/B,UAAU,CAAC5qC,QAAQ,EAAE9xD,OAAO,CAAC,CAAC,EAAE;YAAEq9E,KAAK,EAAEqf,UAAU,CAACrf,KAAK;YAAEv8C,OAAO,EAAElT,EAAE,CAACgkC,SAAS;YAAEz+B,IAAI,EAAEnzB,OAAO,CAACozB,OAAO,IAAIpzB,OAAO,CAAC0pB,WAAW,CAACyJ;UAAK,CAAC,CAAC;UAC7MnzB,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,WAAW,EAAE9D,GAAG,CAAC;QAC7C;MACJ;IACJ,CAAC;IACD;IACA,IAAI,CAACitE,QAAQ,GAAG,IAAI/B,yBAAyB,CAACl6D,QAAQ,CAACrvB,EAAE,CAAC;IAC1D,IAAI,CAACsrF,QAAQ,CAAChB,YAAY,CAAChD,SAAS,GAAG,KAAK;IAC5C,IAAIuG,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAIxC,WAAW,CAAC,IAAI,CAACC,QAAQ,EAAErhC,kEAA0B,CAAC56B,QAAQ,CAAC,CAAC;IACzGw+D,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC7D+B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAE,IAAI,CAACs5F,aAAa,CAAC;EACzD;EACAnqF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;AACJ;;AAEA;AACA;AACA;AACA;AACA,MAAM6rF,aAAa,SAASpmF,6DAAW,CAAC;EACpCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf,IAAI,CAAC0+D,aAAa,GAAG,IAAI;IACzB,IAAI,CAACjC,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAI;QAAEz/B,SAAS;QAAEkuG;MAAS,CAAC,GAAG,IAAI;MAClC,IAAI;QAAEjjG;MAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;MACnC,IAAI++F,SAAS,GAAG3lG,OAAO,CAACglD,UAAU,IAC9BjwD,SAAS,CAACi6E,iBAAiB,CAACx6C,EAAE,CAACgkC,SAAS,CAAC9jC,MAAM,CAAC;MACpD;MACAuuE,QAAQ,CAACV,aAAa,CAAC,CAACoD,SAAS,CAAC;MAClC;MACA1C,QAAQ,CAACpoE,KAAK,GAAGrG,EAAE,CAACunE,OAAO,GAAG6J,wBAAwB,CAAC7wG,SAAS,CAAC,GAAG,IAAI;IAC5E,CAAC;IACD,IAAI,CAAC4uG,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAI,CAACz/B,SAAS,CAAC6R,OAAO,CAAC0pB,WAAW,CAACk2B,QAAQ,CAAChyB,EAAE,CAAC,CAAC,CAAC;IACrD,CAAC;;IACD,IAAI,CAACqxE,eAAe,GAAG,CAACtB,GAAG,EAAEuB,OAAO,KAAK;MACrC,IAAI;QAAEl/F;MAAQ,CAAC,GAAG,IAAI,CAAC7R,SAAS;MAChC,IAAI2wG,aAAa,GAAG,IAAI;MACxB,IAAIK,SAAS,GAAG,KAAK;MACrB,IAAIxB,GAAG,EAAE;QACL,IAAIjB,UAAU,GAAG,IAAI,CAACkC,WAAW,CAAClC,UAAU;QAC5C,IAAI0C,UAAU,GAAGzB,GAAG,CAACW,WAAW,KAAK5B,UAAU,CAAC4B,WAAW,IACpD,IAAI,CAACxjC,iBAAiB,IACtB,CAAC,IAAI,CAACA,iBAAiB,CAAC4hC,UAAU,EAAEiB,GAAG,CAAC;QAC/C,IAAI,CAACyB,UAAU,EAAE;UACbN,aAAa,GAAGO,qBAAqB,CAAC3C,UAAU,EAAEiB,GAAG,EAAE39F,OAAO,CAAC4pB,WAAW,CAAChL,yBAAyB,CAAC;QACzG;QACA,IAAI,CAACkgF,aAAa,IAAI,CAACptB,kEAAoB,CAACotB,aAAa,EAAEnB,GAAG,CAAC/1E,WAAW,EAAE5nB,OAAO,CAAC,EAAE;UAClFm/F,SAAS,GAAG,IAAI;UAChBL,aAAa,GAAG,IAAI;QACxB;MACJ;MACA,IAAIA,aAAa,EAAE;QACf9+F,OAAO,CAACoqB,QAAQ,CAAC;UAAEt5B,IAAI,EAAE,cAAc;UAAEo6B,SAAS,EAAE4zE;QAAc,CAAC,CAAC;MACxE,CAAC,MACI,IAAI,CAACI,OAAO,EAAE;QAAE;QACjBl/F,OAAO,CAACoqB,QAAQ,CAAC;UAAEt5B,IAAI,EAAE;QAAiB,CAAC,CAAC;MAChD;MACA,IAAI,CAACquG,SAAS,EAAE;QACZ5zD,kEAAY,CAAC,CAAC;MAClB,CAAC,MACI;QACDF,kEAAa,CAAC,CAAC;MACnB;MACA,IAAI,CAAC6zD,OAAO,EAAE;QACV,IAAI,CAACJ,aAAa,GAAGA,aAAa,CAAC,CAAC;MACxC;IACJ,CAAC;;IACD,IAAI,CAAC7B,eAAe,GAAIvrC,GAAG,IAAK;MAC5B,IAAI,IAAI,CAACotC,aAAa,EAAE;QACpB;QACArtC,kEAAiB,CAAC,IAAI,CAACqtC,aAAa,EAAEptC,GAAG,EAAE,IAAI,CAACvjE,SAAS,CAAC6R,OAAO,CAAC;QAClE,IAAI,CAAC8+F,aAAa,GAAG,IAAI;MAC7B;IACJ,CAAC;IACD,IAAI;MAAE3wG;IAAU,CAAC,GAAGiyC,QAAQ;IAC5B,IAAI;MAAEhnC;IAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;IACnC,IAAIq8F,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI/B,yBAAyB,CAACl6D,QAAQ,CAACrvB,EAAE,CAAC;IACzEsrF,QAAQ,CAAC7B,kBAAkB,GAAG,KAAK;IACnC6B,QAAQ,CAAC9B,WAAW,GAAGnhG,OAAO,CAAC+kD,iBAAiB,IAAI,CAAC;IACrDk+C,QAAQ,CAAChB,YAAY,CAAChD,SAAS,GAAGj/F,OAAO,CAAC2iD,UAAU;IACpD,IAAI6iD,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAIxC,WAAW,CAAC,IAAI,CAACC,QAAQ,EAAErhC,kEAA0B,CAAC56B,QAAQ,CAAC,CAAC;IACzGw+D,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC7D+B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACzD6B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo7F,eAAe,CAAC;IACzDL,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo5F,eAAe,CAAC;EAC7D;EACAjqF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;AACJ;AACA,SAASgsF,wBAAwBA,CAAC7wG,SAAS,EAAE;EACzC,IAAI;IAAEiL;EAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;EACnC,IAAIi0B,KAAK,GAAG76B,OAAO,CAACilD,oBAAoB;EACxC,IAAIpqB,KAAK,IAAI,IAAI,EAAE;IACfA,KAAK,GAAG76B,OAAO,CAACijD,cAAc;EAClC;EACA,OAAOpoB,KAAK;AAChB;AACA,SAASorE,qBAAqBA,CAACd,IAAI,EAAEC,IAAI,EAAE5/E,yBAAyB,EAAE;EAClE,IAAI0gF,SAAS,GAAGf,IAAI,CAACzsC,QAAQ;EAC7B,IAAIytC,SAAS,GAAGf,IAAI,CAAC1sC,QAAQ;EAC7B,IAAInjB,EAAE,GAAG,CACL2wD,SAAS,CAACv1E,KAAK,CAAC5zB,KAAK,EACrBmpG,SAAS,CAACv1E,KAAK,CAAC3zB,GAAG,EACnBmpG,SAAS,CAACx1E,KAAK,CAAC5zB,KAAK,EACrBopG,SAAS,CAACx1E,KAAK,CAAC3zB,GAAG,CACtB;EACDu4C,EAAE,CAAC3nC,IAAI,CAACqmC,8DAAc,CAAC;EACvB,IAAIvxC,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,IAAI8nC,WAAW,IAAIhlB,yBAAyB,EAAE;IAC/C,IAAIwH,GAAG,GAAGwd,WAAW,CAAC26D,IAAI,EAAEC,IAAI,CAAC;IACjC,IAAIp4E,GAAG,KAAK,KAAK,EAAE;MACf,OAAO,IAAI;IACf;IACA,IAAIA,GAAG,EAAE;MACL3kB,MAAM,CAACwa,MAAM,CAACngB,KAAK,EAAEsqB,GAAG,CAAC;IAC7B;EACJ;EACAtqB,KAAK,CAACiuB,KAAK,GAAG;IAAE5zB,KAAK,EAAEw4C,EAAE,CAAC,CAAC,CAAC;IAAEv4C,GAAG,EAAEu4C,EAAE,CAAC,CAAC;EAAE,CAAC;EAC1C7yC,KAAK,CAACqqC,MAAM,GAAGm5D,SAAS,CAACn5D,MAAM;EAC/B,OAAOrqC,KAAK;AAChB;AAEA,MAAM0jG,aAAa,SAAS/mF,6DAAW,CAAC;EACpCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf;IACA,IAAI,CAAC6xD,SAAS,GAAG,IAAI;IACrB,IAAI,CAACwN,UAAU,GAAG,IAAI,CAAC,CAAC;IACxB,IAAI,CAAChnC,UAAU,GAAG,KAAK;IACvB,IAAI,CAAC73B,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC4zB,cAAc,GAAG,IAAI,CAAC,CAAC;IAC5B,IAAI,CAACkrC,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,qBAAqB,GAAG,IAAI;IACjC,IAAI,CAAC/C,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAIiyE,UAAU,GAAGjyE,EAAE,CAACgkC,SAAS,CAAC9jC,MAAM;MACpC,IAAI;QAAE3/B,SAAS;QAAEkuG;MAAS,CAAC,GAAG,IAAI;MAClC,IAAI;QAAErB;MAAO,CAAC,GAAGqB,QAAQ;MACzB,IAAI;QAAEjjG;MAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;MACnC,IAAI8/F,cAAc,GAAG3xG,SAAS,CAAC6R,OAAO;MACtC,IAAI,CAACiyF,SAAS,GAAGrkE,EAAE,CAACqkE,SAAS;MAC7B,IAAIwN,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG/mF,iEAAQ,CAACkV,EAAE,CAACqkE,SAAS,CAAC;MACzD,IAAIrxD,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG6+D,UAAU,CAAC7+D,UAAU;MACxD,IAAIvV,eAAe,GAAGuV,UAAU,CAACC,QAAQ,CAAC4qB,UAAU;MACpD,IAAI,CAAC+I,cAAc,GAAGxG,kEAAiB,CAAC8xC,cAAc,CAACtxE,cAAc,CAAC,CAAC,CAAC8E,UAAU,EAAEjI,eAAe,CAAC;MACpGgxE,QAAQ,CAAC9B,WAAW,GAAG3sE,EAAE,CAACunE,OAAO,GAAG,CAAC,GAAG/7F,OAAO,CAACkjD,oBAAoB;MACpE+/C,QAAQ,CAACpoE,KAAK;MACV;MACCrG,EAAE,CAACunE,OAAO,IAAI9pE,eAAe,KAAKl9B,SAAS,CAAC2N,KAAK,CAACy8B,cAAc,GAC7DwnE,sBAAsB,CAAC5xG,SAAS,CAAC,GACjC,IAAI;MACZ,IAAIiL,OAAO,CAAC4mG,iBAAiB,EAAE;QAC3BhF,MAAM,CAAC76F,UAAU,GAAG/G,OAAO,CAAC4mG,iBAAiB;MACjD,CAAC,MACI;QACDhF,MAAM,CAAC76F,UAAU,GAAGwY,iEAAc,CAACknF,UAAU,EAAE,KAAK,CAAC;MACzD;MACA7E,MAAM,CAAC1E,cAAc,GAAGl9F,OAAO,CAAC0iD,kBAAkB;MAClD,IAAIr0B,OAAO,GAAGt5B,SAAS,CAACqyC,gBAAgB,CAACq/D,UAAU,CAAC,IAChD,CAAClnF,iEAAc,CAACknF,UAAU,EAAE,mBAAmB,CAAC,CAAC,CAAC;MACtDxD,QAAQ,CAACV,aAAa,CAAC,CAACl0E,OAAO,CAAC;MAChC;MACA;MACA,IAAI,CAACgxC,UAAU,GAAGhxC,OAAO,IACrBmG,EAAE,CAACqkE,SAAS,CAAC9sD,SAAS,CAACuD,QAAQ,CAAC,oBAAoB,CAAC;IAC7D,CAAC;IACD,IAAI,CAACq0D,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAIkyE,cAAc,GAAG,IAAI,CAAC3xG,SAAS,CAAC6R,OAAO;MAC3C,IAAI4gC,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAIvV,eAAe,GAAGuV,UAAU,CAACC,QAAQ,CAAC4qB,UAAU;MACpD,IAAI79B,EAAE,CAACunE,OAAO,EAAE;QACZ;QACA,IAAI9pE,eAAe,KAAK,IAAI,CAACl9B,SAAS,CAAC2N,KAAK,CAACy8B,cAAc,EAAE;UACzDunE,cAAc,CAAC11E,QAAQ,CAAC;YAAEt5B,IAAI,EAAE,cAAc;YAAEu6B;UAAgB,CAAC,CAAC;QACtE;MACJ,CAAC,MACI;QACD;QACAy0E,cAAc,CAAC11E,QAAQ,CAAC;UAAEt5B,IAAI,EAAE;QAAiB,CAAC,CAAC;MACvD;MACA,IAAI,IAAI,CAAC2nE,UAAU,EAAE;QACjBqnC,cAAc,CAACp2E,WAAW,CAACk2B,QAAQ,CAAChyB,EAAE,CAAC,CAAC,CAAC;QACzCkyE,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,gBAAgB,EAAE;UAC7CniB,EAAE,EAAE,IAAI,CAACkhF,SAAS;UAClB95F,KAAK,EAAE,IAAIygB,6DAAS,CAACknF,cAAc,EAAEl/D,UAAU,CAACpgB,GAAG,EAAEogB,UAAU,CAACC,QAAQ,CAAC;UACzEC,OAAO,EAAElT,EAAE,CAACgkC,SAAS;UACrBz+B,IAAI,EAAE2sE,cAAc,CAAC1sE;QACzB,CAAC,CAAC;MACN;IACJ,CAAC;IACD,IAAI,CAAC6rE,eAAe,GAAG,CAACtB,GAAG,EAAEuB,OAAO,KAAK;MACrC,IAAI,CAAC,IAAI,CAACzmC,UAAU,EAAE;QAClB;MACJ;MACA,IAAIjE,cAAc,GAAG,IAAI,CAACA,cAAc;MACxC,IAAIkoC,UAAU,GAAG,IAAI,CAACkC,WAAW,CAAClC,UAAU;MAC5C,IAAIoD,cAAc,GAAG,IAAI,CAAC3xG,SAAS,CAAC6R,OAAO;MAC3C;MACA,IAAI0/F,gBAAgB,GAAG,IAAI;MAC3B,IAAIvtC,QAAQ,GAAG,IAAI;MACnB,IAAIytC,qBAAqB,GAAG,IAAI;MAChC,IAAIT,SAAS,GAAG,KAAK;MACrB,IAAIz7D,WAAW,GAAG;QACdjY,cAAc,EAAE+oC,cAAc;QAC9B9oC,aAAa,EAAE/T,iEAAqB,CAAC,CAAC;QACtCgU,OAAO,EAAE;MACb,CAAC;MACD,IAAIgyE,GAAG,EAAE;QACL+B,gBAAgB,GAAG/B,GAAG,CAAC39F,OAAO;QAC9B,IAAIigG,gBAAgB,GAAGP,gBAAgB,CAACtmG,OAAO;QAC/C,IAAI0mG,cAAc,KAAKJ,gBAAgB,IAClCO,gBAAgB,CAAC3jE,QAAQ,IAAI2jE,gBAAgB,CAAChjD,SAAU,EAAE;UAC3DkV,QAAQ,GAAG+tC,oBAAoB,CAACxD,UAAU,EAAEiB,GAAG,EAAE,IAAI,CAAC/8D,UAAU,CAACC,QAAQ,CAAC9W,KAAK,CAAC5zB,KAAK,EAAEupG,gBAAgB,CAAClxE,cAAc,CAAC,CAAC,CAAC5E,WAAW,CAAClL,0BAA0B,CAAC;UAChK,IAAIyzC,QAAQ,EAAE;YACVytC,qBAAqB,GAAG3tC,kEAAyB,CAACuC,cAAc,EAAEkrC,gBAAgB,CAAClxE,cAAc,CAAC,CAAC,CAAC4J,YAAY,EAAE+5B,QAAQ,EAAEutC,gBAAgB,CAAC;YAC7Ih8D,WAAW,CAAChY,aAAa,GAAGk0E,qBAAqB;YACjD,IAAI,CAACpuB,kEAAkB,CAAC9tC,WAAW,EAAEi6D,GAAG,CAAC/1E,WAAW,EAAE83E,gBAAgB,CAAC,EAAE;cACrEP,SAAS,GAAG,IAAI;cAChBhtC,QAAQ,GAAG,IAAI;cACfytC,qBAAqB,GAAG,IAAI;cAC5Bl8D,WAAW,CAAChY,aAAa,GAAG/T,iEAAqB,CAAC,CAAC;YACvD;UACJ;QACJ,CAAC,MACI;UACD+nF,gBAAgB,GAAG,IAAI;QAC3B;MACJ;MACA,IAAI,CAACS,WAAW,CAACT,gBAAgB,EAAEh8D,WAAW,CAAC;MAC/C,IAAI,CAACy7D,SAAS,EAAE;QACZ5zD,kEAAY,CAAC,CAAC;MAClB,CAAC,MACI;QACDF,kEAAa,CAAC,CAAC;MACnB;MACA,IAAI,CAAC6zD,OAAO,EAAE;QACV,IAAIY,cAAc,KAAKJ,gBAAgB;QAAI;QACvC9B,WAAW,CAAClB,UAAU,EAAEiB,GAAG,CAAC,EAAE;UAC9BxrC,QAAQ,GAAG,IAAI;QACnB;QACA,IAAI,CAACkqC,QAAQ,CAAChwB,oBAAoB,CAAC,CAACla,QAAQ,CAAC;QAC7C;QACA;QACA,IAAI,CAACkqC,QAAQ,CAAClwB,kBAAkB,CAAC,CAACwxB,GAAG,IAAI,CAAC,IAAI,CAAC1L,SAAS,CAACprD,WAAW,CAAC,CAAC,CAACnG,aAAa,CAAC,kBAAkB,CAAC,CAAC;QACzG;QACA,IAAI,CAACg/D,gBAAgB,GAAGA,gBAAgB;QACxC,IAAI,CAACC,aAAa,GAAGxtC,QAAQ;QAC7B,IAAI,CAACytC,qBAAqB,GAAGA,qBAAqB;MACtD;IACJ,CAAC;IACD,IAAI,CAAC3C,eAAe,GAAG,MAAM;MACzB,IAAI,CAAC,IAAI,CAACxkC,UAAU,EAAE;QAClB,IAAI,CAAC27B,OAAO,CAAC,CAAC,CAAC,CAAC;MACpB;IACJ,CAAC;;IACD,IAAI,CAAC+I,aAAa,GAAIvvE,EAAE,IAAK;MACzB,IAAI,IAAI,CAAC6qC,UAAU,EAAE;QACjB,IAAIqnC,cAAc,GAAG,IAAI,CAAC3xG,SAAS,CAAC6R,OAAO;QAC3C,IAAI/J,WAAW,GAAG6pG,cAAc,CAAC1sE,OAAO;QACxC,IAAI;UAAEssE,gBAAgB;UAAEC;QAAc,CAAC,GAAG,IAAI;QAC9C,IAAIzzC,QAAQ,GAAG,IAAI,CAACtrB,UAAU,CAACpgB,GAAG;QAClC,IAAIsyC,aAAa,GAAG,IAAI,CAAClyB,UAAU,CAACC,QAAQ;QAC5C,IAAIu0B,QAAQ,GAAG,IAAIx8C,6DAAS,CAACknF,cAAc,EAAE5zC,QAAQ,EAAE4G,aAAa,CAAC;QACrE,IAAI0B,cAAc,GAAG,IAAI,CAACA,cAAc;QACxC,IAAIorC,qBAAqB,GAAG,IAAI,CAACA,qBAAqB;QACtD,IAAI;UAAEhD;QAAS,CAAC,GAAG,IAAI,CAACgC,WAAW;QACnC,IAAI,CAACwB,SAAS,CAAC,CAAC,CAAC,CAAC;QAClBN,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,eAAe,EAAE;UAC5CniB,EAAE,EAAE,IAAI,CAACkhF,SAAS;UAClB95F,KAAK,EAAEi9D,QAAQ;UACft0B,OAAO,EAAElT,EAAE,CAACgkC,SAAS;UACrBz+B,IAAI,EAAEl9B;QACV,CAAC,CAAC;QACF,IAAI0pG,aAAa,EAAE;UACf;UACA,IAAID,gBAAgB,KAAKI,cAAc,EAAE;YACrC,IAAIO,eAAe,GAAG,IAAIznF,6DAAS,CAACknF,cAAc,EAAEF,qBAAqB,CAACr/E,IAAI,CAAC2rC,QAAQ,CAAC9vB,KAAK,CAAC,EAAE02B,aAAa,GAAG8sC,qBAAqB,CAAC9zC,SAAS,CAACgH,aAAa,CAACrH,UAAU,CAAC,GAAG,IAAI,CAAC;YACjLq0C,cAAc,CAAC11E,QAAQ,CAAC;cACpBt5B,IAAI,EAAE,cAAc;cACpBwiC,UAAU,EAAEssE;YAChB,CAAC,CAAC;YACF,IAAIU,cAAc,GAAG;cACjB7rC,QAAQ,EAAEW,QAAQ;cAClBj9D,KAAK,EAAEkoG,eAAe;cACtB3rC,aAAa,EAAEx9C,iEAAc,CAAC0oF,qBAAqB,EAAEE,cAAc,EAAEhtC,aAAa,CAAC;cACnF6B,MAAMA,CAAA,EAAG;gBACLmrC,cAAc,CAAC11E,QAAQ,CAAC;kBACpBt5B,IAAI,EAAE,cAAc;kBACpBwiC,UAAU,EAAEkhC,cAAc,CAAE;gBAChC,CAAC,CAAC;cACN;YACJ,CAAC;;YACD,IAAI+rC,WAAW,GAAG,CAAC,CAAC;YACpB,KAAK,IAAI38D,WAAW,IAAIk8D,cAAc,CAACtxE,cAAc,CAAC,CAAC,CAAC5E,WAAW,CAACzK,qBAAqB,EAAE;cACvF1d,MAAM,CAACwa,MAAM,CAACskF,WAAW,EAAE38D,WAAW,CAAC+7D,aAAa,EAAEG,cAAc,CAAC,CAAC;YAC1E;YACAA,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEqkF,cAAc,CAAC,EAAEC,WAAW,CAAC,EAAE;cAAExvF,EAAE,EAAE6c,EAAE,CAACqkE,SAAS;cAAE99B,KAAK,EAAEwrC,aAAa,CAAC1sC,UAAU;cAAEnyB,OAAO,EAAElT,EAAE,CAACgkC,SAAS;cAAEz+B,IAAI,EAAEl9B;YAAY,CAAC,CAAC,CAAC;YAC1N6pG,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEotE,cAAc,CAAC;YAC7D;UACJ,CAAC,MACI,IAAIZ,gBAAgB,EAAE;YACvB,IAAIc,cAAc,GAAG;cACjBroG,KAAK,EAAEi9D,QAAQ;cACfV,aAAa,EAAEx9C,iEAAc,CAACs9C,cAAc,EAAEsrC,cAAc,EAAEhtC,aAAa,CAAC;cAC5E6B,MAAMA,CAAA,EAAG;gBACLmrC,cAAc,CAAC11E,QAAQ,CAAC;kBACpBt5B,IAAI,EAAE,cAAc;kBACpBwiC,UAAU,EAAEkhC;gBAChB,CAAC,CAAC;cACN;YACJ,CAAC;YACDsrC,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,YAAY,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEukF,cAAc,CAAC,EAAE;cAAEC,SAAS,EAAE7yE,EAAE,CAACqkE,SAAS;cAAE9+D,IAAI,EAAEl9B;YAAY,CAAC,CAAC,CAAC;YAC9I6pG,cAAc,CAAC11E,QAAQ,CAAC;cACpBt5B,IAAI,EAAE,eAAe;cACrBwiC,UAAU,EAAEkhC;YAChB,CAAC,CAAC;YACFsrC,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEstE,cAAc,CAAC;YAC7D,IAAIE,aAAa,GAAGd,qBAAqB,CAACr/E,IAAI,CAAC2rC,QAAQ,CAAC9vB,KAAK,CAAC;YAC9D,IAAIukE,kBAAkB,GAAGf,qBAAqB,CAAC9zC,SAAS,CAACgH,aAAa,CAACrH,UAAU,CAAC;YAClF,IAAIm1C,aAAa,GAAG,IAAIhoF,6DAAS,CAAC8mF,gBAAgB,EAAEgB,aAAa,EAAEC,kBAAkB,CAAC;YACtFjB,gBAAgB,CAACt1E,QAAQ,CAAC;cACtBt5B,IAAI,EAAE,cAAc;cACpBwiC,UAAU,EAAEssE;YAChB,CAAC,CAAC;YACF,IAAIiB,WAAW,GAAG;cACd1oG,KAAK,EAAEyoG,aAAa;cACpBlsC,aAAa,EAAEx9C,iEAAc,CAAC0oF,qBAAqB,EAAEF,gBAAgB,EAAEiB,kBAAkB,CAAC;cAC1FhsC,MAAMA,CAAA,EAAG;gBACL+qC,gBAAgB,CAACt1E,QAAQ,CAAC;kBACtBt5B,IAAI,EAAE,eAAe;kBACrBwiC,UAAU,EAAEssE;gBAChB,CAAC,CAAC;cACN;YACJ,CAAC;YACDF,gBAAgB,CAACzsE,OAAO,CAACC,OAAO,CAAC,UAAU,EAAE2tE,WAAW,CAAC;YACzD,IAAIjzE,EAAE,CAACunE,OAAO,EAAE;cACZuK,gBAAgB,CAACt1E,QAAQ,CAAC;gBACtBt5B,IAAI,EAAE,cAAc;gBACpBu6B,eAAe,EAAEynC,aAAa,CAACrH;cACnC,CAAC,CAAC;YACN;YACAi0C,gBAAgB,CAACzsE,OAAO,CAACC,OAAO,CAAC,MAAM,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEwiF,4BAA4B,CAAC7B,QAAQ,CAAC9qC,QAAQ,EAAE4tC,gBAAgB,CAAC,CAAC,EAAE;cAAEe,SAAS,EAAE7yE,EAAE,CAACqkE,SAAS;cAAEnxD,OAAO,EAAElT,EAAE,CAACgkC,SAAS;cAAEz+B,IAAI,EAAEypE,QAAQ,CAAC58F,OAAO,CAACozB;YAAQ,CAAC,CAAC,CAAC;YACjOssE,gBAAgB,CAACzsE,OAAO,CAACC,OAAO,CAAC,cAAc,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE4kF,WAAW,CAAC,EAAE;cAAEJ,SAAS,EAAE7yE,EAAE,CAACqkE,SAAS;cAAE9+D,IAAI,EAAEypE,QAAQ,CAAC58F,OAAO,CAACozB;YAAQ,CAAC,CAAC,CAAC;UAChK;QACJ,CAAC,MACI;UACD0sE,cAAc,CAAC7sE,OAAO,CAACC,OAAO,CAAC,cAAc,CAAC;QAClD;MACJ;MACA,IAAI,CAACkhE,OAAO,CAAC,CAAC;IAClB,CAAC;IACD,IAAI;MAAEjmG;IAAU,CAAC,GAAG,IAAI;IACxB,IAAI;MAAEiL;IAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;IACnC,IAAIq8F,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI/B,yBAAyB,CAACl6D,QAAQ,CAACrvB,EAAE,CAAC;IACzEsrF,QAAQ,CAACtB,OAAO,CAAClsF,QAAQ,GAAG2wF,aAAa,CAACsB,QAAQ;IAClDzE,QAAQ,CAAC7B,kBAAkB,GAAG,KAAK;IACnC6B,QAAQ,CAAChB,YAAY,CAAChD,SAAS,GAAGj/F,OAAO,CAAC2iD,UAAU;IACpD,IAAI6iD,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAIxC,WAAW,CAAC,IAAI,CAACC,QAAQ,EAAE9iF,8DAAwB,CAAC;IAC7FqlF,WAAW,CAACrC,gBAAgB,GAAGn8D,QAAQ,CAAC26B,cAAc;IACtD6jC,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC7D+B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACzD6B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo7F,eAAe,CAAC;IACzDL,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo5F,eAAe,CAAC;IACzD2B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAE,IAAI,CAACs5F,aAAa,CAAC;EACzD;EACAnqF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;EACA;EACAmtF,WAAWA,CAACY,WAAW,EAAErkG,KAAK,EAAE;IAC5B,IAAIojG,cAAc,GAAG,IAAI,CAAC3xG,SAAS,CAAC6R,OAAO;IAC3C,IAAIghG,WAAW,GAAG,IAAI,CAACtB,gBAAgB;IACvC;IACA,IAAIsB,WAAW,IAAIA,WAAW,KAAKD,WAAW,EAAE;MAC5C;MACA;MACA,IAAIC,WAAW,KAAKlB,cAAc,EAAE;QAChCkB,WAAW,CAAC52E,QAAQ,CAAC;UACjBt5B,IAAI,EAAE,gBAAgB;UACtB4L,KAAK,EAAE;YACH+uB,cAAc,EAAE/uB,KAAK,CAAC+uB,cAAc;YACpCC,aAAa,EAAE/T,iEAAqB,CAAC,CAAC;YACtCgU,OAAO,EAAE;UACb;QACJ,CAAC,CAAC;QACF;MACJ,CAAC,MACI;QACDq1E,WAAW,CAAC52E,QAAQ,CAAC;UAAEt5B,IAAI,EAAE;QAAmB,CAAC,CAAC;MACtD;IACJ;IACA,IAAIiwG,WAAW,EAAE;MACbA,WAAW,CAAC32E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE,gBAAgB;QAAE4L;MAAM,CAAC,CAAC;IAC3D;EACJ;EACA0jG,SAASA,CAAA,EAAG;IACR,IAAIa,eAAe,GAAG,IAAI,CAAC9yG,SAAS,CAAC6R,OAAO;IAC5C,IAAI;MAAE0/F;IAAiB,CAAC,GAAG,IAAI;IAC/B,IAAIA,gBAAgB,EAAE;MAClBA,gBAAgB,CAACt1E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE;MAAmB,CAAC,CAAC;IAC3D;IACA;IACA,IAAImwG,eAAe,KAAKvB,gBAAgB,EAAE;MACtCuB,eAAe,CAAC72E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE;MAAmB,CAAC,CAAC;IAC1D;EACJ;EACAsjG,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqL,UAAU,GAAG,IAAI;IACtB,IAAI,CAAChnC,UAAU,GAAG,KAAK;IACvB,IAAI,CAAC73B,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC4zB,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACkrC,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,qBAAqB,GAAG,IAAI;EACrC;AACJ;AACA;AACA;AACAJ,aAAa,CAACsB,QAAQ,GAAG,0CAA0C;AACnE,SAASZ,oBAAoBA,CAAC3B,IAAI,EAAEC,IAAI,EAAE0C,kBAAkB,EAAEC,SAAS,EAAE;EACrE,IAAI7B,SAAS,GAAGf,IAAI,CAACzsC,QAAQ;EAC7B,IAAIytC,SAAS,GAAGf,IAAI,CAAC1sC,QAAQ;EAC7B,IAAIxwC,KAAK,GAAGg+E,SAAS,CAACv1E,KAAK,CAAC5zB,KAAK;EACjC,IAAIorB,KAAK,GAAGg+E,SAAS,CAACx1E,KAAK,CAAC5zB,KAAK;EACjC,IAAIs8D,aAAa,GAAG,CAAC,CAAC;EACtB,IAAI6sC,SAAS,CAACn5D,MAAM,KAAKo5D,SAAS,CAACp5D,MAAM,EAAE;IACvCssB,aAAa,CAACtsB,MAAM,GAAGo5D,SAAS,CAACp5D,MAAM;IACvCssB,aAAa,CAACnF,MAAM,GAAGkxC,IAAI,CAACx+F,OAAO,CAAC5G,OAAO,CAAC4iD,sBAAsB;IAClE,IAAIujD,SAAS,CAACp5D,MAAM,EAAE;MAClB;MACA;MACA7kB,KAAK,GAAGvK,iEAAU,CAACmqF,kBAAkB,CAAC;IAC1C,CAAC,MACI;MACD;MACA;MACA5/E,KAAK,GAAG4/E,kBAAkB;IAC9B;EACJ;EACA,IAAI/sC,KAAK,GAAGxK,kEAAS,CAACroC,KAAK,EAAEC,KAAK,EAAEg9E,IAAI,CAACv+F,OAAO,CAAC2mB,OAAO,EAAE43E,IAAI,CAACD,WAAW,KAAKE,IAAI,CAACF,WAAW,GAC3FC,IAAI,CAAC30C,SAAS,GACd,IAAI,CAAC;EACT,IAAIuK,KAAK,CAAChiC,YAAY,EAAE;IAAE;IACtBsgC,aAAa,CAACtsB,MAAM,GAAG,KAAK;EAChC;EACA,IAAIgsB,QAAQ,GAAG;IACXc,UAAU,EAAEkB,KAAK;IACjB1B;EACJ,CAAC;EACD,KAAK,IAAI2uC,QAAQ,IAAID,SAAS,EAAE;IAC5BC,QAAQ,CAACjvC,QAAQ,EAAEosC,IAAI,EAAEC,IAAI,CAAC;EAClC;EACA,OAAOrsC,QAAQ;AACnB;AACA,SAAS4tC,sBAAsBA,CAAC5xG,SAAS,EAAE;EACvC,IAAI;IAAEiL;EAAQ,CAAC,GAAGjL,SAAS,CAAC6R,OAAO;EACnC,IAAIi0B,KAAK,GAAG76B,OAAO,CAACklD,mBAAmB;EACvC,IAAIrqB,KAAK,IAAI,IAAI,EAAE;IACfA,KAAK,GAAG76B,OAAO,CAACijD,cAAc;EAClC;EACA,OAAOpoB,KAAK;AAChB;AAEA,MAAMotE,aAAa,SAAS5oF,6DAAW,CAAC;EACpCtrB,WAAWA,CAACizC,QAAQ,EAAE;IAClB,KAAK,CAACA,QAAQ,CAAC;IACf;IACA,IAAI,CAACkhE,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,WAAW,GAAG,IAAI,CAAC,CAAC;IACzB,IAAI,CAAC3gE,UAAU,GAAG,IAAI;IACtB,IAAI,CAAC4zB,cAAc,GAAG,IAAI;IAC1B,IAAI,CAACmrC,aAAa,GAAG,IAAI;IACzB,IAAI,CAACC,qBAAqB,GAAG,IAAI;IACjC,IAAI,CAAC/C,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAI;QAAEz/B;MAAU,CAAC,GAAG,IAAI;MACxB,IAAImyC,KAAK,GAAG,IAAI,CAACkhE,UAAU,CAAC5zE,EAAE,CAAC;MAC/B,IAAI2S,GAAG,GAAG7nB,iEAAQ,CAAC4nB,KAAK,CAAC;MACzB,IAAIM,UAAU,GAAG,IAAI,CAACA,UAAU,GAAGL,GAAG,CAACK,UAAU;MACjD,IAAI,CAACy7D,QAAQ,CAAC9B,WAAW,GAAGpsG,SAAS,CAAC6R,OAAO,CAAC5G,OAAO,CAACkjD,oBAAoB;MAC1E;MACA,IAAI,CAAC+/C,QAAQ,CAACV,aAAa,CAAC,CAAC,IAAI,CAACxtG,SAAS,CAACqyC,gBAAgB,CAAC5S,EAAE,CAACgkC,SAAS,CAAC9jC,MAAM,CAAC,IAC5EF,EAAE,CAACunE,OAAO,IAAI,IAAI,CAAChnG,SAAS,CAAC2N,KAAK,CAACy8B,cAAc,KAAKqI,UAAU,CAACC,QAAQ,CAAC4qB,UAAW,CAAC;IAC/F,CAAC;IACD,IAAI,CAACsxC,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAI;QAAE5tB;MAAQ,CAAC,GAAG,IAAI,CAAC7R,SAAS;MAChC,IAAIyyC,UAAU,GAAG,IAAI,CAACA,UAAU;MAChC,IAAI,CAAC4zB,cAAc,GAAGxG,kEAAiB,CAAChuD,OAAO,CAACwuB,cAAc,CAAC,CAAC,CAAC8E,UAAU,EAAE,IAAI,CAACsN,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,CAAC;MACjH,IAAInrB,KAAK,GAAG,IAAI,CAACkhE,UAAU,CAAC5zE,EAAE,CAAC;MAC/B,IAAI,CAAC0zE,aAAa,GAAGhhE,KAAK;MAC1B,IAAI,CAACihE,WAAW,GAAG7oF,iEAAQ,CAAC4nB,KAAK,CAAC;MAClCtgC,OAAO,CAAC0pB,WAAW,CAACk2B,QAAQ,CAAC,CAAC;MAC9B5/C,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,kBAAkB,EAAE;QACxCniB,EAAE,EAAEuvB,KAAK;QACTnoC,KAAK,EAAE,IAAIygB,6DAAS,CAAC5Y,OAAO,EAAE4gC,UAAU,CAACpgB,GAAG,EAAEogB,UAAU,CAACC,QAAQ,CAAC;QAClEC,OAAO,EAAElT,EAAE,CAACgkC,SAAS;QACrBz+B,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC,CAAC;IACN,CAAC;IACD,IAAI,CAAC6rE,eAAe,GAAG,CAACtB,GAAG,EAAEuB,OAAO,EAAEtxE,EAAE,KAAK;MACzC,IAAI;QAAE5tB;MAAQ,CAAC,GAAG,IAAI,CAAC7R,SAAS;MAChC,IAAIqmE,cAAc,GAAG,IAAI,CAACA,cAAc;MACxC,IAAIkoC,UAAU,GAAG,IAAI,CAACkC,WAAW,CAAClC,UAAU;MAC5C,IAAI5pC,aAAa,GAAG,IAAI,CAAClyB,UAAU,CAACC,QAAQ;MAC5C,IAAIsxB,QAAQ,GAAG,IAAI;MACnB,IAAIytC,qBAAqB,GAAG,IAAI;MAChC,IAAIT,SAAS,GAAG,KAAK;MACrB,IAAIz7D,WAAW,GAAG;QACdjY,cAAc,EAAE+oC,cAAc;QAC9B9oC,aAAa,EAAE/T,iEAAqB,CAAC,CAAC;QACtCgU,OAAO,EAAE;MACb,CAAC;MACD,IAAIgyE,GAAG,EAAE;QACL,IAAIyB,UAAU,GAAGzB,GAAG,CAACW,WAAW,KAAK5B,UAAU,CAAC4B,WAAW,IACpD,IAAI,CAACxjC,iBAAiB,IACtB,CAAC,IAAI,CAACA,iBAAiB,CAAC4hC,UAAU,EAAEiB,GAAG,CAAC;QAC/C,IAAI,CAACyB,UAAU,EAAE;UACbjtC,QAAQ,GAAGsvC,eAAe,CAAC/E,UAAU,EAAEiB,GAAG,EAAE/vE,EAAE,CAACqkE,SAAS,CAAC9sD,SAAS,CAACuD,QAAQ,CAAC,wBAAwB,CAAC,EAAEoqB,aAAa,CAAC/oC,KAAK,CAAC;QAC/H;MACJ;MACA,IAAIooC,QAAQ,EAAE;QACVytC,qBAAqB,GAAG3tC,kEAAyB,CAACuC,cAAc,EAAEx0D,OAAO,CAACwuB,cAAc,CAAC,CAAC,CAAC4J,YAAY,EAAE+5B,QAAQ,EAAEnyD,OAAO,CAAC;QAC3H0jC,WAAW,CAAChY,aAAa,GAAGk0E,qBAAqB;QACjD,IAAI,CAACpuB,kEAAkB,CAAC9tC,WAAW,EAAEi6D,GAAG,CAAC/1E,WAAW,EAAE5nB,OAAO,CAAC,EAAE;UAC5Dm/F,SAAS,GAAG,IAAI;UAChBhtC,QAAQ,GAAG,IAAI;UACfytC,qBAAqB,GAAG,IAAI;UAC5Bl8D,WAAW,CAAChY,aAAa,GAAG,IAAI;QACpC;MACJ;MACA,IAAIk0E,qBAAqB,EAAE;QACvB5/F,OAAO,CAACoqB,QAAQ,CAAC;UACbt5B,IAAI,EAAE,kBAAkB;UACxB4L,KAAK,EAAEgnC;QACX,CAAC,CAAC;MACN,CAAC,MACI;QACD1jC,OAAO,CAACoqB,QAAQ,CAAC;UAAEt5B,IAAI,EAAE;QAAqB,CAAC,CAAC;MACpD;MACA,IAAI,CAACquG,SAAS,EAAE;QACZ5zD,kEAAY,CAAC,CAAC;MAClB,CAAC,MACI;QACDF,kEAAa,CAAC,CAAC;MACnB;MACA,IAAI,CAAC6zD,OAAO,EAAE;QACV,IAAI/sC,QAAQ,IAAIyrC,WAAW,CAAClB,UAAU,EAAEiB,GAAG,CAAC,EAAE;UAC1CxrC,QAAQ,GAAG,IAAI;QACnB;QACA,IAAI,CAACwtC,aAAa,GAAGxtC,QAAQ;QAC7B,IAAI,CAACytC,qBAAqB,GAAGA,qBAAqB;MACtD;IACJ,CAAC;IACD,IAAI,CAACzC,aAAa,GAAIvvE,EAAE,IAAK;MACzB,IAAI;QAAE5tB;MAAQ,CAAC,GAAG,IAAI,CAAC7R,SAAS;MAChC,IAAI+9D,QAAQ,GAAG,IAAI,CAACtrB,UAAU,CAACpgB,GAAG;MAClC,IAAIsyC,aAAa,GAAG,IAAI,CAAClyB,UAAU,CAACC,QAAQ;MAC5C,IAAIu0B,QAAQ,GAAG,IAAIx8C,6DAAS,CAAC5Y,OAAO,EAAEksD,QAAQ,EAAE4G,aAAa,CAAC;MAC9D,IAAI0B,cAAc,GAAG,IAAI,CAACA,cAAc;MACxC,IAAIorC,qBAAqB,GAAG,IAAI,CAACA,qBAAqB;MACtD5/F,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,iBAAiB,EAAE;QACvCniB,EAAE,EAAE,IAAI,CAACuwF,aAAa;QACtBnpG,KAAK,EAAEi9D,QAAQ;QACft0B,OAAO,EAAElT,EAAE,CAACgkC,SAAS;QACrBz+B,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC,CAAC;MACF,IAAI,IAAI,CAACusE,aAAa,EAAE;QACpB,IAAIU,eAAe,GAAG,IAAIznF,6DAAS,CAAC5Y,OAAO,EAAE4/F,qBAAqB,CAACr/E,IAAI,CAAC2rC,QAAQ,CAAC9vB,KAAK,CAAC,EAAE02B,aAAa,GAAG8sC,qBAAqB,CAAC9zC,SAAS,CAACgH,aAAa,CAACrH,UAAU,CAAC,GAAG,IAAI,CAAC;QAC1KzrD,OAAO,CAACoqB,QAAQ,CAAC;UACbt5B,IAAI,EAAE,cAAc;UACpBwiC,UAAU,EAAEssE;QAChB,CAAC,CAAC;QACF,IAAIU,cAAc,GAAG;UACjB7rC,QAAQ,EAAEW,QAAQ;UAClBj9D,KAAK,EAAEkoG,eAAe;UACtB3rC,aAAa,EAAEx9C,iEAAc,CAAC0oF,qBAAqB,EAAE5/F,OAAO,EAAE8yD,aAAa,CAAC;UAC5E6B,MAAMA,CAAA,EAAG;YACL30D,OAAO,CAACoqB,QAAQ,CAAC;cACbt5B,IAAI,EAAE,cAAc;cACpBwiC,UAAU,EAAEkhC,cAAc,CAAE;YAChC,CAAC,CAAC;UACN;QACJ,CAAC;;QACDx0D,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEqkF,cAAc,CAAC,EAAE;UAAEvvF,EAAE,EAAE,IAAI,CAACuwF,aAAa;UAAE5uC,UAAU,EAAE,IAAI,CAACitC,aAAa,CAACjtC,UAAU,IAAIx8C,iEAAc,CAAC,CAAC,CAAC;UAAEy8C,QAAQ,EAAE,IAAI,CAACgtC,aAAa,CAAChtC,QAAQ,IAAIz8C,iEAAc,CAAC,CAAC,CAAC;UAAE4qB,OAAO,EAAElT,EAAE,CAACgkC,SAAS;UAAEz+B,IAAI,EAAEnzB,OAAO,CAACozB;QAAQ,CAAC,CAAC,CAAC;QAC9RpzB,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEotE,cAAc,CAAC;MAC1D,CAAC,MACI;QACDtgG,OAAO,CAACizB,OAAO,CAACC,OAAO,CAAC,gBAAgB,CAAC;MAC7C;MACA;MACA,IAAI,CAACquE,WAAW,GAAG,IAAI;MACvB,IAAI,CAAC/sC,cAAc,GAAG,IAAI;MAC1B,IAAI,CAACmrC,aAAa,GAAG,IAAI;MACzB;IACJ,CAAC;;IACD,IAAI;MAAExxG;IAAU,CAAC,GAAGiyC,QAAQ;IAC5B,IAAIi8D,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI/B,yBAAyB,CAACl6D,QAAQ,CAACrvB,EAAE,CAAC;IACzEsrF,QAAQ,CAACtB,OAAO,CAAClsF,QAAQ,GAAG,mBAAmB;IAC/CwtF,QAAQ,CAAC7B,kBAAkB,GAAG,KAAK;IACnC6B,QAAQ,CAAChB,YAAY,CAAChD,SAAS,GAAGlqG,SAAS,CAAC6R,OAAO,CAAC5G,OAAO,CAAC2iD,UAAU;IACtE,IAAI6iD,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAIxC,WAAW,CAAC,IAAI,CAACC,QAAQ,EAAErhC,kEAA0B,CAAC56B,QAAQ,CAAC,CAAC;IACzGw+D,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC7D+B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACzD6B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo7F,eAAe,CAAC;IACzDL,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAE,IAAI,CAACs5F,aAAa,CAAC;EACzD;EACAnqF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;EACAwuF,UAAUA,CAAC5zE,EAAE,EAAE;IACX,OAAOjV,iEAAc,CAACiV,EAAE,CAACqkE,SAAS,EAAE,WAAW,CAAC;EACpD;AACJ;AACA,SAASwP,eAAeA,CAAClD,IAAI,EAAEC,IAAI,EAAEkD,WAAW,EAAE9tC,aAAa,EAAE;EAC7D,IAAIjtC,OAAO,GAAG43E,IAAI,CAACv+F,OAAO,CAAC2mB,OAAO;EAClC,IAAIrF,KAAK,GAAGi9E,IAAI,CAACzsC,QAAQ,CAAC/nC,KAAK,CAAC5zB,KAAK;EACrC,IAAIorB,KAAK,GAAGi9E,IAAI,CAAC1sC,QAAQ,CAAC/nC,KAAK,CAAC5zB,KAAK;EACrC,IAAIg+D,KAAK,GAAGxK,kEAAS,CAACroC,KAAK,EAAEC,KAAK,EAAEoF,OAAO,EAAE43E,IAAI,CAAC30C,SAAS,CAAC;EAC5D,IAAI83C,WAAW,EAAE;IACb,IAAI/6E,OAAO,CAAC2L,GAAG,CAACshC,aAAa,CAACz9D,KAAK,EAAEg+D,KAAK,CAAC,GAAGP,aAAa,CAACx9D,GAAG,EAAE;MAC7D,OAAO;QAAEs8D,UAAU,EAAEyB;MAAM,CAAC;IAChC;EACJ,CAAC,MACI,IAAIxtC,OAAO,CAAC2L,GAAG,CAACshC,aAAa,CAACx9D,GAAG,EAAE+9D,KAAK,CAAC,GAAGP,aAAa,CAACz9D,KAAK,EAAE;IAClE,OAAO;MAAEw8D,QAAQ,EAAEwB;IAAM,CAAC;EAC9B;EACA,OAAO,IAAI;AACf;AAEA,MAAMwtC,YAAY,CAAC;EACfx0G,WAAWA,CAAC6S,OAAO,EAAE;IACjB,IAAI,CAACA,OAAO,GAAGA,OAAO;IACtB,IAAI,CAAC4hG,yBAAyB,GAAG,KAAK,CAAC,CAAC;IACxC,IAAI,CAACC,aAAa,GAAG,KAAK;IAC1B,IAAI,CAACC,YAAY,GAAG,KAAK;IACzB,IAAI,CAACC,QAAQ,GAAIC,UAAU,IAAK;MAC5B,IAAIA,UAAU,CAAClhE,OAAO,EAAE;QACpB,IAAI,CAAC8gE,yBAAyB,GAAG,IAAI;MACzC;IACJ,CAAC;IACD,IAAI,CAACK,qBAAqB,GAAIvwC,GAAG,IAAK;MAClC,IAAIxU,cAAc,GAAG,IAAI,CAACl9C,OAAO,CAAC5G,OAAO,CAAC8jD,cAAc;MACxD,IAAIw4C,MAAM,GAAG9rD,kEAAqB,CAAC8nB,GAAG,CAACE,SAAS,CAAC;MACjD,IAAI,CAACiwC,aAAa,GAAG,CAAC,CAAClpF,iEAAc,CAAC+8E,MAAM,EAAEx4C,cAAc,CAAC;MAC7D,IAAI,CAAC4kD,YAAY,GAAG,CAAC,CAACnpF,iEAAc,CAAC+8E,MAAM,EAAE8J,aAAa,CAACsB,QAAQ,CAAC,CAAC,CAAC;IAC1E,CAAC;;IACD,IAAI,CAACoB,mBAAmB,GAAIxwC,GAAG,IAAK;MAChC,IAAI;QAAE1xD;MAAQ,CAAC,GAAG,IAAI;MACtB,IAAI;QAAEmiG;MAAgB,CAAC,GAAG,IAAI;MAC9B,IAAIxwB,aAAa,GAAG3xE,OAAO,CAACwuB,cAAc,CAAC,CAAC;MAC5C;MACA,IAAI,CAAC2zE,eAAe,CAACzO,cAAc,EAAE;QACjC,IAAI/hB,aAAa,CAACr5C,aAAa;QAAI;QAC/B,CAAC,IAAI,CAACspE,yBAAyB,CAAC;QAAA,EAClC;UACE,IAAI3lD,YAAY,GAAGj8C,OAAO,CAAC5G,OAAO,CAAC6iD,YAAY;UAC/C,IAAIA,YAAY,KAAK,CAACA,YAAY,IAAI,CAAC,IAAI,CAAC4lD,aAAa,CAAC,EAAE;YACxD7hG,OAAO,CAAC0pB,WAAW,CAACk2B,QAAQ,CAAC8R,GAAG,CAAC;UACrC;QACJ;QACA,IAAIigB,aAAa,CAACp5C,cAAc;QAAI;QAChC,CAAC,IAAI,CAACupE,YAAY,CAAC;QAAA,EACrB;UACE9hG,OAAO,CAACoqB,QAAQ,CAAC;YAAEt5B,IAAI,EAAE;UAAiB,CAAC,CAAC;QAChD;MACJ;MACA,IAAI,CAAC8wG,yBAAyB,GAAG,KAAK;IAC1C,CAAC;IACD,IAAIO,eAAe,GAAG,IAAI,CAACA,eAAe,GAAG,IAAI9O,eAAe,CAAC7zF,QAAQ,CAAC;IAC1E2iG,eAAe,CAAC5O,gBAAgB,GAAG,IAAI;IACvC4O,eAAe,CAAC3O,iBAAiB,GAAG,KAAK;IACzC2O,eAAe,CAAClvE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACo+F,qBAAqB,CAAC;IACrEE,eAAe,CAAClvE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACq+F,mBAAmB,CAAC;IACjE;AACR;AACA;IACQliG,OAAO,CAACizB,OAAO,CAACpvB,EAAE,CAAC,QAAQ,EAAE,IAAI,CAACk+F,QAAQ,CAAC;EAC/C;EACA/uF,OAAOA,CAAA,EAAG;IACN,IAAI,CAAChT,OAAO,CAACizB,OAAO,CAACwyB,GAAG,CAAC,QAAQ,EAAE,IAAI,CAACs8C,QAAQ,CAAC;IACjD,IAAI,CAACI,eAAe,CAACnvF,OAAO,CAAC,CAAC;EAClC;AACJ;AAEA,MAAMovF,eAAe,GAAG;EACpBpC,iBAAiB,EAAErpF,6DAAQA;AAC/B,CAAC;AACD,MAAM0rF,iBAAiB,GAAG;EACtBC,SAAS,EAAE3rF,6DAAQ;EACnB4rF,cAAc,EAAE5rF,6DAAQ;EACxB6rF,aAAa,EAAE7rF,6DAAQ;EACvB8rF,SAAS,EAAE9rF,6DAAQ;EACnB+rF,gBAAgB,EAAE/rF,6DAAQ;EAC1BgsF,eAAe,EAAEhsF,6DAAQ;EACzB8hB,WAAW,EAAE9hB,6DAAQ;EACrBisF,IAAI,EAAEjsF,6DAAQ;EACdksF,YAAY,EAAElsF,6DAAQ;EACtBmsF,UAAU,EAAEnsF,6DAAQA;AACxB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,MAAMosF,uBAAuB,CAAC;EAC1B51G,WAAWA,CAACkvG,QAAQ,EAAE2G,gBAAgB,EAAE;IACpC,IAAI,CAACtD,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACuD,cAAc,GAAG,IAAI,CAAC,CAAC;IAC5B,IAAI,CAACD,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACE,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACnG,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAI,CAACs1E,QAAQ,GAAG,IAAI,CAACC,aAAa,CAACv1E,EAAE,CAACqkE,SAAS,CAAC;IACpD,CAAC;IACD,IAAI,CAACgN,eAAe,GAAG,CAACtB,GAAG,EAAEuB,OAAO,EAAEtxE,EAAE,KAAK;MACzC,IAAI;QAAEyuE;MAAS,CAAC,GAAG,IAAI,CAACuC,WAAW;MACnC,IAAIc,gBAAgB,GAAG,IAAI;MAC3B,IAAIuD,cAAc,GAAG,IAAI;MACzB,IAAI9D,SAAS,GAAG,KAAK;MACrB,IAAIz7D,WAAW,GAAG;QACdjY,cAAc,EAAE9T,iEAAqB,CAAC,CAAC;QACvC+T,aAAa,EAAE/T,iEAAqB,CAAC,CAAC;QACtCgU,OAAO,EAAE,IAAI,CAACu3E,QAAQ,CAAC58C;MAC3B,CAAC;MACD,IAAIq3C,GAAG,EAAE;QACL+B,gBAAgB,GAAG/B,GAAG,CAAC39F,OAAO;QAC9B,IAAI,IAAI,CAACojG,mBAAmB,CAACx1E,EAAE,CAACqkE,SAAS,EAAEyN,gBAAgB,CAAC,EAAE;UAC1DuD,cAAc,GAAGI,uBAAuB,CAAC1F,GAAG,CAAC7rC,QAAQ,EAAE,IAAI,CAACoxC,QAAQ,EAAExD,gBAAgB,CAAC;UACvFh8D,WAAW,CAAChY,aAAa,GAAGqiC,kEAAiB,CAACk1C,cAAc,CAAC;UAC7D9D,SAAS,GAAG,CAAC3tB,kEAAkB,CAAC9tC,WAAW,EAAEi6D,GAAG,CAAC/1E,WAAW,EAAE83E,gBAAgB,CAAC;UAC/E,IAAIP,SAAS,EAAE;YACXz7D,WAAW,CAAChY,aAAa,GAAG/T,iEAAqB,CAAC,CAAC;YACnDsrF,cAAc,GAAG,IAAI;UACzB;QACJ;MACJ;MACA,IAAI,CAAC9C,WAAW,CAACT,gBAAgB,EAAEh8D,WAAW,CAAC;MAC/C;MACA;MACA24D,QAAQ,CAAClwB,kBAAkB,CAAC+yB,OAAO,IAAI,CAAC+D,cAAc,IAAI,CAACzjG,QAAQ,CAACkhC,aAAa,CAAC,kBAAkB,CAAC,CAAC;MACtG,IAAI,CAACy+D,SAAS,EAAE;QACZ5zD,kEAAY,CAAC,CAAC;MAClB,CAAC,MACI;QACDF,kEAAa,CAAC,CAAC;MACnB;MACA,IAAI,CAAC6zD,OAAO,EAAE;QACV7C,QAAQ,CAAChwB,oBAAoB,CAAC,CAAC42B,cAAc,CAAC;QAC9C,IAAI,CAACvD,gBAAgB,GAAGA,gBAAgB;QACxC,IAAI,CAACuD,cAAc,GAAGA,cAAc;MACxC;IACJ,CAAC;IACD,IAAI,CAAC9F,aAAa,GAAIzrC,GAAG,IAAK;MAC1B,IAAI;QAAEguC,gBAAgB;QAAEuD;MAAe,CAAC,GAAG,IAAI;MAC/C,IAAI,CAAC7C,SAAS,CAAC,CAAC;MAChB,IAAIV,gBAAgB,IAAIuD,cAAc,EAAE;QACpC,IAAIrG,QAAQ,GAAG,IAAI,CAACgC,WAAW,CAAChC,QAAQ;QACxC,IAAI0G,SAAS,GAAG1G,QAAQ,CAAC58F,OAAO,CAACozB,OAAO;QACxC,IAAI8vE,QAAQ,GAAG,IAAI,CAACA,QAAQ;QAC5BxD,gBAAgB,CAACzsE,OAAO,CAACC,OAAO,CAAC,MAAM,EAAEzxB,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEwiF,4BAA4B,CAAC7B,QAAQ,CAAC9qC,QAAQ,EAAE4tC,gBAAgB,CAAC,CAAC,EAAE;UAAEe,SAAS,EAAE/uC,GAAG,CAACugC,SAAS;UAAEnxD,OAAO,EAAE4wB,GAAG,CAACE,SAAS;UAAEz+B,IAAI,EAAEmwE;QAAU,CAAC,CAAC,CAAC;QACpN,IAAIJ,QAAQ,CAAC58C,MAAM,EAAE;UACjB,IAAIi9C,YAAY,GAAGx1C,kEAAiB,CAACk1C,cAAc,CAAC;UACpDvD,gBAAgB,CAACt1E,QAAQ,CAAC;YACtBt5B,IAAI,EAAE,cAAc;YACpBwiC,UAAU,EAAEiwE;UAChB,CAAC,CAAC;UACF,IAAI7xC,GAAG,CAACyjC,OAAO,EAAE;YACbuK,gBAAgB,CAACt1E,QAAQ,CAAC;cACtBt5B,IAAI,EAAE,cAAc;cACpBu6B,eAAe,EAAE43E,cAAc,CAACpiE,QAAQ,CAAC4qB;YAC7C,CAAC,CAAC;UACN;UACA;UACAi0C,gBAAgB,CAACzsE,OAAO,CAACC,OAAO,CAAC,cAAc,EAAE;YAC7C/6B,KAAK,EAAE,IAAIygB,6DAAS,CAAC8mF,gBAAgB,EAAEuD,cAAc,CAACziF,GAAG,EAAEyiF,cAAc,CAACpiE,QAAQ,CAAC;YACnF6zB,aAAa,EAAE,EAAE;YACjBC,MAAMA,CAAA,EAAG;cACL+qC,gBAAgB,CAACt1E,QAAQ,CAAC;gBACtBt5B,IAAI,EAAE,eAAe;gBACrBwiC,UAAU,EAAEiwE;cAChB,CAAC,CAAC;YACN,CAAC;YACD9C,SAAS,EAAE/uC,GAAG,CAACugC,SAAS;YACxB9+D,IAAI,EAAEmwE;UACV,CAAC,CAAC;QACN;MACJ;MACA,IAAI,CAAC5D,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACuD,cAAc,GAAG,IAAI;IAC9B,CAAC;IACD,IAAIrE,WAAW,GAAG,IAAI,CAACA,WAAW,GAAG,IAAIxC,WAAW,CAACC,QAAQ,EAAE9iF,8DAAwB,CAAC;IACxFqlF,WAAW,CAACpC,cAAc,GAAG,KAAK,CAAC,CAAC;IACpCoC,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACzD6B,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo7F,eAAe,CAAC;IACzDL,WAAW,CAAC3rE,OAAO,CAACpvB,EAAE,CAAC,SAAS,EAAE,IAAI,CAACs5F,aAAa,CAAC;IACrD,IAAI,CAAC6F,gBAAgB,GAAGA,gBAAgB;EAC5C;EACAG,aAAaA,CAAClR,SAAS,EAAE;IACrB,IAAI,OAAO,IAAI,CAAC+Q,gBAAgB,KAAK,QAAQ,EAAE;MAC3C,OAAOv2B,kEAAa,CAAC,IAAI,CAACu2B,gBAAgB,CAAC;IAC/C;IACA,IAAI,OAAO,IAAI,CAACA,gBAAgB,KAAK,UAAU,EAAE;MAC7C,OAAOv2B,kEAAa,CAAC,IAAI,CAACu2B,gBAAgB,CAAC/Q,SAAS,CAAC,CAAC;IAC1D;IACA,OAAOuR,iBAAiB,CAACvR,SAAS,CAAC;EACvC;EACAkO,WAAWA,CAACY,WAAW,EAAErkG,KAAK,EAAE;IAC5B,IAAIskG,WAAW,GAAG,IAAI,CAACtB,gBAAgB;IACvC,IAAIsB,WAAW,IAAIA,WAAW,KAAKD,WAAW,EAAE;MAC5CC,WAAW,CAAC52E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE;MAAmB,CAAC,CAAC;IACtD;IACA,IAAIiwG,WAAW,EAAE;MACbA,WAAW,CAAC32E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE,gBAAgB;QAAE4L;MAAM,CAAC,CAAC;IAC3D;EACJ;EACA0jG,SAASA,CAAA,EAAG;IACR,IAAI,IAAI,CAACV,gBAAgB,EAAE;MACvB,IAAI,CAACA,gBAAgB,CAACt1E,QAAQ,CAAC;QAAEt5B,IAAI,EAAE;MAAmB,CAAC,CAAC;IAChE;EACJ;EACAsyG,mBAAmBA,CAACryF,EAAE,EAAE2uF,gBAAgB,EAAE;IACtC,IAAIxjD,UAAU,GAAGwjD,gBAAgB,CAACtmG,OAAO,CAAC8iD,UAAU;IACpD,IAAI,OAAOA,UAAU,KAAK,UAAU,EAAE;MAClC,OAAOA,UAAU,CAACjgD,IAAI,CAACyjG,gBAAgB,CAACh2E,WAAW,EAAE3Y,EAAE,CAAC;IAC5D;IACA,IAAI,OAAOmrC,UAAU,KAAK,QAAQ,IAAIA,UAAU,EAAE;MAC9C,OAAO5qB,OAAO,CAACqX,kEAAc,CAAC53B,EAAE,EAAEmrC,UAAU,CAAC,CAAC;IAClD;IACA,OAAO,IAAI;EACf;AACJ;AACA;AACA;AACA,SAASmnD,uBAAuBA,CAACvxC,QAAQ,EAAEoxC,QAAQ,EAAEljG,OAAO,EAAE;EAC1D,IAAIyjG,QAAQ,GAAGhiG,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEinF,QAAQ,CAACx2B,aAAa,CAAC;EACxD,KAAK,IAAI7oC,SAAS,IAAI7jC,OAAO,CAAC4pB,WAAW,CAAC3K,qBAAqB,EAAE;IAC7Dxd,MAAM,CAACwa,MAAM,CAACwnF,QAAQ,EAAE5/D,SAAS,CAACiuB,QAAQ,EAAEoxC,QAAQ,CAAC,CAAC;EAC1D;EACA,IAAI;IAAE/zE,OAAO;IAAE6K;EAAM,CAAC,GAAGgzB,kEAAc,CAACy2C,QAAQ,EAAEzjG,OAAO,CAAC;EAC1D,IAAIwgB,GAAG,GAAG2sC,kEAAa,CAACh+B,OAAO,EAAE6K,KAAK,EAAEkpE,QAAQ,CAAC/6E,QAAQ,EAAE2pC,QAAQ,CAAC3rB,MAAM,EAAEnmC,OAAO,CAAC5G,OAAO,CAACohD,kBAAkB,IAAIlpB,OAAO,CAAC4xE,QAAQ,CAACp+E,QAAQ,CAAC;EAAE;EAC9I9kB,OAAO,CAAC;EACR,IAAI7J,KAAK,GAAG27D,QAAQ,CAAC/nC,KAAK,CAAC5zB,KAAK;EAChC;EACA;EACA,IAAI27D,QAAQ,CAAC3rB,MAAM,IAAI+8D,QAAQ,CAACpyE,SAAS,EAAE;IACvC36B,KAAK,GAAG6J,OAAO,CAAC2mB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAE+sG,QAAQ,CAACpyE,SAAS,CAAC;EAC1D;EACA,IAAI16B,GAAG,GAAG8sG,QAAQ,CAACp+E,QAAQ,GACvB9kB,OAAO,CAAC2mB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAE+sG,QAAQ,CAACp+E,QAAQ,CAAC,GAC7CktC,kEAAkB,CAACF,QAAQ,CAAC3rB,MAAM,EAAEhwC,KAAK,EAAE6J,OAAO,CAAC;EACvD,IAAI6gC,QAAQ,GAAG2qB,kEAAmB,CAAChrC,GAAG,CAAC4b,KAAK,EAAE;IAAEjmC,KAAK;IAAEC;EAAI,CAAC,CAAC;EAC7D,OAAO;IAAEoqB,GAAG;IAAEqgB;EAAS,CAAC;AAC5B;AACA;AACA;AACA,SAAS2iE,iBAAiBA,CAACzyF,EAAE,EAAE;EAC3B,IAAIq8B,GAAG,GAAGs2D,iBAAiB,CAAC3yF,EAAE,EAAE,OAAO,CAAC;EACxC,IAAIs9B,GAAG,GAAGjB,GAAG,GACTlnB,IAAI,CAACiL,KAAK,CAACic,GAAG,CAAC,GACf;IAAEkZ,MAAM,EAAE;EAAM,CAAC,CAAC,CAAC;EACvB,OAAOmmB,kEAAa,CAACp+B,GAAG,CAAC;AAC7B;AACAk+B,8DAAM,CAACo3B,cAAc,GAAG,EAAE;AAC1B,SAASD,iBAAiBA,CAAC3yF,EAAE,EAAE1U,IAAI,EAAE;EACjC,IAAIkoD,MAAM,GAAGgoB,8DAAM,CAACo3B,cAAc;EAClC,IAAIC,YAAY,GAAG,CAACr/C,MAAM,GAAGA,MAAM,GAAG,GAAG,GAAG,EAAE,IAAIloD,IAAI;EACtD,OAAO0U,EAAE,CAACg3B,YAAY,CAAC,OAAO,GAAG67D,YAAY,CAAC,IAAI,EAAE;AACxD;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAMC,iBAAiB,CAAC;EACpB12G,WAAWA,CAAC4jB,EAAE,EAAEqvB,QAAQ,GAAG,CAAC,CAAC,EAAE;IAC3B,IAAI,CAACy8D,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAI;QAAEyuE;MAAS,CAAC,GAAG,IAAI;MACvB,IAAI;QAAE9B,WAAW;QAAEl+C;MAAe,CAAC,GAAG,IAAI,CAACjc,QAAQ;MACnDi8D,QAAQ,CAAC9B,WAAW,GAChBA,WAAW,IAAI,IAAI,GACfA,WAAW,GACV3sE,EAAE,CAACunE,OAAO,GAAG,CAAC,GAAGh/E,6DAAoB,CAACmmC,oBAAqB;MACpE+/C,QAAQ,CAACpoE,KAAK,GACVrG,EAAE,CAACunE,OAAO;MAAG;MACR94C,cAAc,IAAI,IAAI,GAAGA,cAAc,GAAGlmC,6DAAoB,CAACkmC,cAAc,GAC9E,CAAC;IACb,CAAC;IACD,IAAI,CAAC0gD,eAAe,GAAInvE,EAAE,IAAK;MAC3B,IAAIA,EAAE,CAACunE,OAAO,IACV,IAAI,CAACkH,QAAQ,CAACpoE,KAAK,IACnBrG,EAAE,CAACqkE,SAAS,CAAC9sD,SAAS,CAACuD,QAAQ,CAAC,UAAU,CAAC,EAAE;QAC7C,IAAI,CAAC2zD,QAAQ,CAACrB,MAAM,CAAC9D,WAAW,CAAC,CAAC,CAAC/xD,SAAS,CAAC7S,GAAG,CAAC,mBAAmB,CAAC;MACzE;IACJ,CAAC;IACD,IAAI,CAAC8N,QAAQ,GAAGA,QAAQ;IACxB,IAAIi8D,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI/B,yBAAyB,CAACvpF,EAAE,CAAC;IAChEsrF,QAAQ,CAAC7B,kBAAkB,GAAG,KAAK;IACnC,IAAIp6D,QAAQ,CAAC0jE,YAAY,IAAI,IAAI,EAAE;MAC/BzH,QAAQ,CAACtB,OAAO,CAAClsF,QAAQ,GAAGuxB,QAAQ,CAAC0jE,YAAY;IACrD;IACA,IAAI1jE,QAAQ,CAAC2jE,QAAQ,IAAI,IAAI,EAAE;MAC3B1H,QAAQ,CAACrB,MAAM,CAAC76F,UAAU,GAAGigC,QAAQ,CAAC2jE,QAAQ,CAAC,CAAC;IACpD;;IACA1H,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IAC1DR,QAAQ,CAACppE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACk5F,eAAe,CAAC;IACtD,IAAIgG,uBAAuB,CAAC1G,QAAQ,EAAEj8D,QAAQ,CAAC4jE,SAAS,CAAC,CAAC,CAAC;EAC/D;;EACAhxF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMixF,uBAAuB,SAAS/3B,8DAAe,CAAC;EAClD/+E,WAAWA,CAACgf,WAAW,EAAE;IACrB,KAAK,CAACA,WAAW,CAAC;IAClB,IAAI,CAAConF,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAAC2Q,cAAc,GAAG,EAAE;IACxB,IAAI,CAACC,eAAe,GAAG,IAAI;IAC3B,IAAI,CAACtH,iBAAiB,GAAIjvE,EAAE,IAAK;MAC7B,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,aAAa,EAAEtF,EAAE,CAAC;MACvC,IAAI,CAAC,IAAI,CAAC2lE,gBAAgB,EAAE;QACxB;QACA,IAAI,CAACtgE,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC;MACzC;IACJ,CAAC;IACD,IAAI,CAACw2E,iBAAiB,GAAIx2E,EAAE,IAAK;MAC7B,IAAI,CAAC,IAAI,CAAC2lE,gBAAgB,EAAE;QACxB,IAAI,CAACtgE,OAAO,CAACC,OAAO,CAAC,UAAU,EAAEtF,EAAE,CAAC;MACxC;IACJ,CAAC;IACD,IAAI,CAACqvE,eAAe,GAAIrvE,EAAE,IAAK;MAC3B,IAAI,CAACqF,OAAO,CAACC,OAAO,CAAC,WAAW,EAAEtF,EAAE,CAAC;MACrC,IAAI,CAAC,IAAI,CAAC2lE,gBAAgB,EAAE;QACxB;QACA,IAAI,CAACtgE,OAAO,CAACC,OAAO,CAAC,SAAS,EAAEtF,EAAE,CAAC;MACvC;IACJ,CAAC;IACD,IAAImtE,OAAO,GAAG,IAAI,CAACA,OAAO,GAAG,IAAI1H,eAAe,CAAClnF,WAAW,CAAC;IAC7D4uF,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACg5F,iBAAiB,CAAC;IACzD9B,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,aAAa,EAAE,IAAI,CAACugG,iBAAiB,CAAC;IACzDrJ,OAAO,CAAC9nE,OAAO,CAACpvB,EAAE,CAAC,WAAW,EAAE,IAAI,CAACo5F,eAAe,CAAC;EACzD;EACAjqF,OAAOA,CAAA,EAAG;IACN,IAAI,CAAC+nF,OAAO,CAAC/nF,OAAO,CAAC,CAAC;EAC1B;EACA2oF,aAAaA,CAACvvB,IAAI,EAAE;IAChB,IAAI,CAACmnB,gBAAgB,GAAGnnB,IAAI;EAChC;EACAD,kBAAkBA,CAACC,IAAI,EAAE;IACrB,IAAIA,IAAI,EAAE;MACN;MACA;MACA,IAAI,IAAI,CAAC+3B,eAAe,EAAE;QACtB,IAAI,CAACA,eAAe,CAAC59F,KAAK,CAACujF,UAAU,GAAG,EAAE;QAC1C,IAAI,CAACqa,eAAe,GAAG,IAAI;MAC/B;IACJ,CAAC,MACI;MACD,IAAIhO,QAAQ,GAAG,IAAI,CAAC+N;MAChB;MAAA,EACE1kG,QAAQ,CAACkhC,aAAa,CAAC,IAAI,CAACwjE,cAAc,CAAC,GAC3C,IAAI;MACV,IAAI/N,QAAQ,EAAE;QACV,IAAI,CAACgO,eAAe,GAAGhO,QAAQ;QAC/BA,QAAQ,CAAC5vF,KAAK,CAACujF,UAAU,GAAG,QAAQ;MACxC;IACJ;EACJ;AACJ;;AAEA;AACA;AACA;AACA;AACA,MAAMua,mBAAmB,CAAC;EACtBl3G,WAAWA,CAACm3G,mBAAmB,EAAElkE,QAAQ,EAAE;IACvC,IAAIj0B,WAAW,GAAG3M,QAAQ;IAC1B;IACA;IACA8kG,mBAAmB,KAAK9kG,QAAQ,IAC5B8kG,mBAAmB,YAAYC,OAAO,EAAE;MACxCp4F,WAAW,GAAGm4F,mBAAmB;MACjClkE,QAAQ,GAAGA,QAAQ,IAAI,CAAC,CAAC;IAC7B,CAAC,MACI;MACDA,QAAQ,GAAIkkE,mBAAmB,IAAI,CAAC,CAAE;IAC1C;IACA,IAAIjI,QAAQ,GAAG,IAAI,CAACA,QAAQ,GAAG,IAAI4H,uBAAuB,CAAC93F,WAAW,CAAC;IACvE,IAAI,OAAOi0B,QAAQ,CAAC0jE,YAAY,KAAK,QAAQ,EAAE;MAC3CzH,QAAQ,CAACtB,OAAO,CAAClsF,QAAQ,GAAGuxB,QAAQ,CAAC0jE,YAAY;IACrD,CAAC,MACI,IAAI33F,WAAW,KAAK3M,QAAQ,EAAE;MAC/B68F,QAAQ,CAACtB,OAAO,CAAClsF,QAAQ,GAAG,cAAc;IAC9C;IACA,IAAI,OAAOuxB,QAAQ,CAAC8jE,cAAc,KAAK,QAAQ,EAAE;MAC7C7H,QAAQ,CAAC6H,cAAc,GAAG9jE,QAAQ,CAAC8jE,cAAc;IACrD;IACA,IAAIM,gBAAgB,GAAG,IAAIzB,uBAAuB,CAAC1G,QAAQ,EAAEj8D,QAAQ,CAAC4jE,SAAS,CAAC;IAChF;IACA;IACAQ,gBAAgB,CAAC5F,WAAW,CAACnC,iBAAiB,GAAG,IAAI;EACzD;EACAzpF,OAAOA,CAAA,EAAG;IACN,IAAI,CAACqpF,QAAQ,CAACrpF,OAAO,CAAC,CAAC;EAC3B;AACJ;AAEA,IAAIS,KAAK,GAAGuK,yEAAY,CAAC;EACrB3hB,IAAI,EAAE,2BAA2B;EACjC+iB,qBAAqB,EAAE,CAACu/E,YAAY,EAAEE,aAAa,EAAEW,aAAa,EAAE6B,aAAa,CAAC;EAClFhiF,oBAAoB,EAAE,CAACsiF,YAAY,CAAC;EACpChiF,mBAAmB,EAAE26E,yBAAyB;EAC9Cv6E,cAAc,EAAEqiF,eAAe;EAC/BtiF,gBAAgB,EAAEuiF;AACtB,CAAC,CAAC;;;;;;;;;;;;;;;;;;AC3kEyD;AAClB;AACkC;AACrC;AAEtC,MAAMD,eAAe,GAAG;EACpBuC,aAAa,EAAEC,uBAAuB;EACtCC,iBAAiB,EAAED,uBAAuB;EAC1CE,kBAAkB,EAAEnuF,6DAAQ;EAC5BhC,eAAe,EAAEgC,6DAAQ;EACzBouF,gBAAgB,EAAEpuF,6DAAQ;EAC1BquF,mBAAmB,EAAEruF,6DAAQA;EAC7B;AACJ,CAAC;;AACD,SAASiuF,uBAAuBA,CAAC73F,KAAK,EAAE;EACpC,OAAOA,KAAK,KAAK,KAAK,GAAG,IAAI,GAAGqK,iEAAe,CAACrK,KAAK,CAAC;AAC1D;AAEA,IAAI0G,KAAK,GAAGuK,yEAAY,CAAC;EACrB3hB,IAAI,EAAE,oBAAoB;EAC1B0jB,cAAc,EAAEqiF,eAAe;EAC/BxsG,KAAK,EAAE;IACH2lB,IAAI,EAAE;MACFptB,SAAS,EAAEu2G,kDAAQ;MACnBn/E,aAAa,EAAE,MAAM;MACrBo/E,aAAa,EAAE;QAAEtpF,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE,SAAS;QAAEH,IAAI,EAAE;MAAU,CAAC,CAAE;IACvE,CAAC;;IACD8pF,OAAO,EAAE;MACLn0G,IAAI,EAAE,MAAM;MACZg0B,QAAQ,EAAE;QAAEoQ,IAAI,EAAE;MAAE,CAAC;MACrByvE,aAAa,EAAE;QAAE/uD,OAAO,EAAE;MAAO,CAAC,CAAE;IACxC,CAAC;;IACD5/C,QAAQ,EAAE;MACNlF,IAAI,EAAE,MAAM;MACZg0B,QAAQ,EAAE;QAAE8pB,KAAK,EAAE;MAAE,CAAC;MACtB+1D,aAAa,EAAE;QAAE/uD,OAAO,EAAE;MAAO,CAAC;MAClCivD,iBAAiB,EAAE;QAAExpF,KAAK,EAAE,MAAM;QAAEC,GAAG,EAAE,SAAS;QAAEH,IAAI,EAAE;MAAU;IACxE,CAAC;IACD+pF,SAAS,EAAE;MACPp0G,IAAI,EAAE,MAAM;MACZg0B,QAAQ,EAAE;QAAEzJ,KAAK,EAAE;MAAE,CAAC;MACtBwpF,iBAAiB,EAAE;QAAEjvD,OAAO,EAAE;MAAO,CAAC,CAAE;IAC5C,CAAC;;IACDuvD,QAAQ,EAAE;MACNr0G,IAAI,EAAE,MAAM;MACZg0B,QAAQ,EAAE;QAAE3J,IAAI,EAAE;MAAE,CAAC;MACrB0pF,iBAAiB,EAAE;QAAEjvD,OAAO,EAAE;MAAO,CAAC,CAAE;IAC5C;EACJ;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;ACjDoZ;AAC/U;AAEvE,MAAMwvD,iBAAiB,SAASvvF,6DAAa,CAAC;EAC1C1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACvH,KAAK,GAAG;MACT2oG,MAAM,EAAElsF,kEAAc,CAAC;IAC3B,CAAC;EACL;EACAzf,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEuyB,KAAK;MAAEtF,OAAO;MAAEvtB,OAAO;MAAEg6B;IAAQ,CAAC,GAAG,IAAI,CAACpzB,OAAO;IACvD,IAAI;MAAEslG,MAAM;MAAEC,OAAO;MAAExtC;IAAW,CAAC,GAAG,IAAI,CAACj8D,KAAK;IAChD,IAAI;MAAEupG;IAAO,CAAC,GAAG,IAAI,CAAC3oG,KAAK;IAC3B,IAAIswE,OAAO,GAAGjM,kEAAW,CAACwkC,OAAO,EAAExtC,UAAU,CAAC;IAC9C;IACA,IAAI9pC,IAAI,GAAG70B,OAAO,CAACurG,aAAa,GAAGh+E,OAAO,CAACwJ,MAAM,CAACo1E,OAAO,EAAEnsG,OAAO,CAACurG,aAAa,CAAC,GAAG,EAAE;IACtF;IACA,IAAIa,QAAQ,GAAGpsG,OAAO,CAACyrG,iBAAiB,GAAGl+E,OAAO,CAACwJ,MAAM,CAACo1E,OAAO,EAAEnsG,OAAO,CAACyrG,iBAAiB,CAAC,GAAG,EAAE;IAClG,IAAIp6F,WAAW,GAAGhJ,MAAM,CAACwa,MAAM,CAAC;MAAEzlB,IAAI,EAAEmwB,OAAO,CAACgI,MAAM,CAAC42E,OAAO,CAAC;MAAEpyE,IAAI,EAAEC,OAAO;MAAEiyE,MAAM;MAClFp3E,IAAI;MACJu3E,QAAQ;MAAEv4B,YAAY,EAAE5L,kEAAiB,CAAC,IAAI,CAACrhE,OAAO,EAAEulG,OAAO,CAAC;MAAEE,gBAAgB,EAAEpkC,kEAAiB,CAAC,IAAI,CAACrhE,OAAO,EAAEulG,OAAO,EAAE,KAAK,EAAE,KAAK;IAAE,CAAC,EAAEv4B,OAAO,CAAC;IAC1J;IACA,OAAQ9zE,2EAAa,CAAC6c,6DAAgB,EAAE;MAAE1J,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE,CAC1D,aAAa,EACb,GAAG22D,kEAAgB,CAAC+L,OAAO,EAAE/gD,KAAK,CAAC,CACtC;MAAE3f,OAAO,EAAE;QACR,WAAW,EAAEqnC,kEAAe,CAAC4xD,OAAO;MACxC,CAAC;MAAE96F,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,kBAAkB;MAAEC,eAAe,EAAE7qB,OAAO,CAAC8a,gBAAgB;MAAE0yC,gBAAgB,EAAEi1B,kBAAkB;MAAE33D,kBAAkB,EAAE9qB,OAAO,CAACuhD,mBAAmB;MAAEv2B,QAAQ,EAAEhrB,OAAO,CAACwhD,iBAAiB;MAAEv2B,WAAW,EAAEjrB,OAAO,CAACyhD;IAAqB,CAAC,EAAG+M,YAAY;IAAO;IAC5S1uD,2EAAa,CAAC,IAAI,EAAE;MAAEi7B,KAAK,EAAE,UAAU;MAAEk5C,OAAO,EAAE,CAAC;MAAE15D,EAAE,EAAE2xF,MAAM;MAAE,iBAAiB,EAAED;IAAO,CAAC,EACxFnsG,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAC/C,qBAAqB,EACrB2hB,KAAK,CAACwS,QAAQ,CAAC,iBAAiB,CAAC;IACnC,CAAC,CAAC,CAAE,CAAC;EACnB;AACJ;AACA,SAASo9C,kBAAkBA,CAAC//E,KAAK,EAAE;EAC/B,OAAQ5C,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAChCsC,KAAK,CAACmyB,IAAI,IAAK/0B,2EAAa,CAAC,GAAG,EAAEuI,MAAM,CAACwa,MAAM,CAAC;IAAEtI,EAAE,EAAE7X,KAAK,CAACupG,MAAM;IAAEjiG,SAAS,EAAE;EAAmB,CAAC,EAAEtH,KAAK,CAACmxE,YAAY,CAAC,EAAEnxE,KAAK,CAACmyB,IAAI,CAAE,EACtInyB,KAAK,CAAC0pG,QAAQ,IAAM,2BAA2BtsG,2EAAa,CAAC,GAAG,EAAEuI,MAAM,CAACwa,MAAM,CAAC;IAAE,aAAa,EAAE,IAAI;IAAE7Y,SAAS,EAAE;EAAwB,CAAC,EAAEtH,KAAK,CAAC2pG,gBAAgB,CAAC,EAAE3pG,KAAK,CAAC0pG,QAAQ,CAAE,CAAC;AAC/L;AAEA,MAAME,mBAAmB,GAAGtuF,iEAAe,CAAC;EACxCxgB,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EACjBC,QAAQ,EAAE;AACd,CAAC,CAAC;AACF,MAAM6uG,gBAAgB,SAAS9vF,6DAAa,CAAC;EACzCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAI;MAAEugC,GAAG;MAAEqlE,YAAY;MAAEC,aAAa;MAAEC;IAAa,CAAC,GAAGhqG,KAAK;IAC9D,IAAIq7D,UAAU,GAAG/9D,OAAO,CAACzC,eAAe,IAAI+uG,mBAAmB;IAC/D,OAAQxsG,2EAAa,CAACshF,8DAAc,EAAE/4E,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEngB,KAAK,EAAE;MAAEuQ,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE,CACjF,eAAe,EACfi2B,GAAG,CAACK,UAAU,CAACpgB,GAAG,CAACpvB,GAAG,IAAI,qBAAqB,CAClD;MAAEw1D,gBAAgB,EAAEA,CAAA,KAAMm/C,uBAAuB,CAACxlE,GAAG,EAAEvgC,OAAO,CAAC,CAAC;MAAaugC,GAAG,EAAEA,GAAG;MAAEm6C,QAAQ,EAAE,EAAE;MAAEC,eAAe,EAAE,IAAI;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC,EAAE,CAAChzB,YAAY,EAAEqzB,eAAe,KAAM/hF,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EACvNwsG,gBAAgB,CAACzlE,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAE4lG,YAAY,EAAEE,YAAY,CAAC,EACtE5sG,2EAAa,CAAC,IAAI,EAAE;MAAE,aAAa,EAAE,IAAI;MAAEkK,SAAS,EAAE;IAAwB,CAAC,EAC3ElK,2EAAa,CAAC,MAAM,EAAE;MAAEkK,SAAS,EAAE,mBAAmB;MAAEmD,KAAK,EAAE;QACvDjQ,WAAW,EAAE2kF,eAAe,CAAC3kF,WAAW,IAAI2kF,eAAe,CAAC5kF;MAChE;IAAE,CAAC,CAAC,CAAC,EACb6C,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE,CAAC,qBAAqB,CAAC;MAAEgC,OAAO,EAAE;QAAE0tD,OAAO,EAAG,GAAE6rC,aAAc,IAAGC,YAAa;MAAE;IAAE,CAAC,CAAC,CAAE,CAAC;EACrJ;AACJ;AACA,SAASC,uBAAuBA,CAACxlE,GAAG,EAAEvgC,OAAO,EAAE;EAC3C,IAAIimG,gBAAgB,GAAGptC,kEAAiB,CAACt4B,GAAG,EAAEvgC,OAAO,CAAC;EACtD,OAAQ9G,2EAAa,CAAC,GAAG,EAAEuI,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEgqF,gBAAgB,CAAC,EAAE1lE,GAAG,CAACK,UAAU,CAACpgB,GAAG,CAACpzB,KAAK,CAAC;AAC7F;AACA,SAAS44G,gBAAgBA,CAACzlE,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAE4lG,YAAY,EAAEE,YAAY,EAAE;EAC5E,IAAI;IAAE1sG;EAAQ,CAAC,GAAG4G,OAAO;EACzB,IAAI5G,OAAO,CAAC3C,gBAAgB,KAAK,KAAK,EAAE;IACpC,IAAIy1D,QAAQ,GAAG3rB,GAAG,CAACK,UAAU,CAACpgB,GAAG;IACjC,IAAIsyC,aAAa,GAAGvyB,GAAG,CAACK,UAAU,CAACC,QAAQ;IAC3C,IAAIqlE,QAAQ,GAAG,KAAK;IACpB,IAAIxrB,QAAQ;IACZ,IAAIxuB,QAAQ,CAAC/lB,MAAM,EAAE;MACjB+/D,QAAQ,GAAG,IAAI;IACnB,CAAC,MACI,IAAIx8C,kEAAe,CAACnpB,GAAG,CAACK,UAAU,CAAC7W,KAAK,CAAC,EAAE;MAAE;MAC9C,IAAIwW,GAAG,CAAC01B,OAAO,EAAE;QACbykB,QAAQ,GAAGxjB,kEAAgB,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE8yD,aAAa,CAAC/oC,KAAK,CAAC5zB,KAAK,EAAEoqC,GAAG,CAACnqC,GAAG,CAAC;MACzG,CAAC,MACI,IAAImqC,GAAG,CAAC21B,KAAK,EAAE;QAChBwkB,QAAQ,GAAGxjB,kEAAgB,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,EAAE,IAAI,EAAE,IAAI,EAAEugC,GAAG,CAACpqC,KAAK,EAAE28D,aAAa,CAAC/oC,KAAK,CAAC3zB,GAAG,CAAC;MACzG,CAAC,MACI;QACD8vG,QAAQ,GAAG,IAAI;MACnB;IACJ,CAAC,MACI;MACDxrB,QAAQ,GAAGxjB,kEAAgB,CAAC32B,GAAG,EAAE42B,UAAU,EAAEn3D,OAAO,CAAC;IACzD;IACA,IAAIkmG,QAAQ,EAAE;MACV,IAAIz7F,WAAW,GAAG;QACdwjB,IAAI,EAAEjuB,OAAO,CAAC5G,OAAO,CAACyiB,UAAU;QAChCsX,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC;MACD,OAAQl6B,2EAAa,CAAC6c,6DAAgB,EAAE;QAAE1J,KAAK,EAAE,IAAI;QAAE/B,SAAS,EAAE,CAAC,oBAAoB,CAAC;QAAEgC,OAAO,EAAE;UAC3F0tD,OAAO,EAAG,GAAE4rC,YAAa,IAAGE,YAAa;QAC7C,CAAC;QAAEr7F,WAAW,EAAEA,WAAW;QAAEuZ,aAAa,EAAE,eAAe;QAAEC,eAAe,EAAE7qB,OAAO,CAACqb,aAAa;QAAEmyC,gBAAgB,EAAEu/C,iBAAiB;QAAEjiF,kBAAkB,EAAE9qB,OAAO,CAAC0kD,gBAAgB;QAAE15B,QAAQ,EAAEhrB,OAAO,CAAC2kD,cAAc;QAAE15B,WAAW,EAAEjrB,OAAO,CAAC4kD;MAAkB,CAAC,CAAC;IAC3Q;IACA,OAAQ9kD,2EAAa,CAAC,IAAI,EAAE;MAAEkK,SAAS,EAAE;IAAqB,CAAC,EAAEs3E,QAAQ,CAAC;EAC9E;EACA,OAAO,IAAI;AACf;AACA,SAASyrB,iBAAiBA,CAAC17F,WAAW,EAAE;EACpC,OAAOA,WAAW,CAACwjB,IAAI;AAC3B;;AAEA;AACA;AACA;AACA,MAAMy2E,QAAQ,SAAS78B,8DAAa,CAAC;EACjC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACmiG,eAAe,GAAG9uF,iEAAO,CAAC8uF,eAAe,CAAC;IAC/C,IAAI,CAACC,gBAAgB,GAAG/uF,iEAAO,CAAC,IAAI,CAACgvF,iBAAiB,CAAC;IACvD,IAAI,CAAC5pG,KAAK,GAAG;MACTkpG,YAAY,EAAEzsF,kEAAc,CAAC,CAAC;MAC9B0sF,aAAa,EAAE1sF,kEAAc,CAAC,CAAC;MAC/BotF,gBAAgB,EAAEptF,kEAAc,CAAC;IACrC,CAAC;IACD,IAAI,CAACqtF,SAAS,GAAIv3F,MAAM,IAAK;MACzB,IAAIA,MAAM,EAAE;QACR,IAAI,CAACjP,OAAO,CAAC+hC,4BAA4B,CAAC,IAAI,EAAE;UAC5ChxB,EAAE,EAAE9B;QACR,CAAC,CAAC;MACN,CAAC,MACI;QACD,IAAI,CAACjP,OAAO,CAACsiC,8BAA8B,CAAC,IAAI,CAAC;MACrD;IACJ,CAAC;EACL;EACA5oC,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAEymG,QAAQ;MAAEC;IAAU,CAAC,GAAG,IAAI,CAACN,eAAe,CAACtqG,KAAK,CAAC8rB,WAAW,CAAC;IACrE,IAAI8oD,SAAS,GAAG,IAAI,CAAC21B,gBAAgB,CAACvqG,KAAK,CAACw3B,UAAU,EAAEx3B,KAAK,CAACs8B,YAAY,EAAEsuE,SAAS,CAAC;IACtF,OAAQxtG,2EAAa,CAACkvD,8DAAa,EAAE;MAAE5oB,KAAK,EAAE,IAAI,CAACgnE,SAAS;MAAEl8F,SAAS,EAAE,CACjE,SAAS,EACTtK,OAAO,CAACisB,KAAK,CAACwS,QAAQ,CAAC,OAAO,CAAC,EAC/Bz+B,OAAO,CAAC5G,OAAO,CAACujD,iBAAiB,KAAK,KAAK,GACvC,gBAAgB,GAChB,EAAE,CACT;MAAE74B,QAAQ,EAAE9jB,OAAO,CAAC8jB;IAAS,CAAC,EAC/B5qB,2EAAa,CAACq7E,8DAAQ,EAAE;MAAE30C,MAAM,EAAE,CAAC9jC,KAAK,CAACinC,YAAY;MAAE4hC,SAAS,EAAE7oE,KAAK,CAACinC,YAAY,GAAG,SAAS,GAAG,QAAQ;MAAE2hC,SAAS,EAAE5oE,KAAK,CAACinC,YAAY,GAAG,SAAS,GAAG;IAAO,CAAC,EAAE2tC,SAAS,CAACnzE,MAAM,GAAG,CAAC,GACnL,IAAI,CAACopG,aAAa,CAACj2B,SAAS,EAAE+1B,QAAQ,CAAC,GACvC,IAAI,CAACG,kBAAkB,CAAC,CAAC,CAAC,CAAC;EACvC;EACAA,kBAAkBA,CAAA,EAAG;IACjB,IAAI;MAAExtG,OAAO;MAAEg6B;IAAQ,CAAC,GAAG,IAAI,CAACpzB,OAAO;IACvC,IAAIyK,WAAW,GAAG;MACdwjB,IAAI,EAAE70B,OAAO,CAAC2iB,YAAY;MAC1BoX,IAAI,EAAEC;IACV,CAAC;IACD,OAAQl6B,2EAAa,CAAC6c,6DAAgB,EAAE;MAAE1J,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,eAAe,CAAC;MAAEG,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,iBAAiB;MAAEC,eAAe,EAAE7qB,OAAO,CAACub,eAAe;MAAEiyC,gBAAgB,EAAEigD,mBAAmB;MAAE3iF,kBAAkB,EAAE9qB,OAAO,CAAC0rG,kBAAkB;MAAE1gF,QAAQ,EAAEhrB,OAAO,CAAC2rG,gBAAgB;MAAE1gF,WAAW,EAAEjrB,OAAO,CAAC4rG;IAAoB,CAAC,EAAGp9C,YAAY,IAAM1uD,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,uBAAuB;IAAE,CAAC,CAAE,CAAC;EAC/c;EACAq8F,aAAaA,CAAC3oB,OAAO,EAAEyoB,QAAQ,EAAE;IAC7B,IAAI;MAAEx6E,KAAK;MAAE7yB;IAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;IACrC,IAAI;MAAE4lG,YAAY;MAAEC,aAAa;MAAEU;IAAiB,CAAC,GAAG,IAAI,CAAC7pG,KAAK;IAClE,IAAIoqG,SAAS,GAAGC,cAAc,CAAC/oB,OAAO,CAAC,CAAC,CAAC;IACzC,OAAQ9kF,2EAAa,CAACugB,8DAAQ,EAAE;MAAE0C,IAAI,EAAE;IAAM,CAAC,EAAE,CAAC+mB,OAAO,EAAE60B,UAAU,KAAK;MACtE,IAAIivC,UAAU,GAAG,EAAE;MACnB,KAAK,IAAI74B,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAG24B,SAAS,CAACvpG,MAAM,EAAE4wE,QAAQ,IAAI,CAAC,EAAE;QAC/D,IAAI84B,OAAO,GAAGH,SAAS,CAAC34B,QAAQ,CAAC;QACjC,IAAI84B,OAAO,EAAE;UAAE;UACX,IAAIC,MAAM,GAAGvzD,kEAAe,CAAC8yD,QAAQ,CAACt4B,QAAQ,CAAC,CAAC;UAChD,IAAI23B,YAAY,GAAGS,gBAAgB,GAAG,GAAG,GAAGW,MAAM;UAClD;UACAF,UAAU,CAAC9nG,IAAI,CAAChG,2EAAa,CAACksG,iBAAiB,EAAE;YAAE/+F,GAAG,EAAE6gG,MAAM;YAAE5B,MAAM,EAAEQ,YAAY;YAAEP,OAAO,EAAEkB,QAAQ,CAACt4B,QAAQ,CAAC;YAAEpW,UAAU,EAAEA;UAAW,CAAC,CAAC,CAAC;UAC7IkvC,OAAO,GAAGxwC,kEAAa,CAACwwC,OAAO,EAAE7tG,OAAO,CAAC+iD,UAAU,CAAC;UACpD,KAAK,IAAI5b,GAAG,IAAI0mE,OAAO,EAAE;YACrBD,UAAU,CAAC9nG,IAAI,CAAChG,2EAAa,CAACysG,gBAAgB,EAAElkG,MAAM,CAACwa,MAAM,CAAC;cAAE5V,GAAG,EAAE6gG,MAAM,GAAG,GAAG,GAAG3mE,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU,CAAC;cAA2ClrB,GAAG,EAAEA,GAAG;cAAEk4B,UAAU,EAAE,KAAK;cAAEC,UAAU,EAAE,KAAK;cAAEmiB,eAAe,EAAE,KAAK;cAAEliB,UAAU,EAAE,KAAK;cAAEitC,YAAY,EAAEA,YAAY;cAAEC,aAAa,EAAEA,aAAa;cAAEC,YAAY,EAAEA;YAAa,CAAC,EAAEhuC,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,EAAE70B,OAAO,CAAC,CAAC,CAAC,CAAC;UAChY;QACJ;MACJ;MACA,OAAQhqC,2EAAa,CAAC,OAAO,EAAE;QAAEkK,SAAS,EAAE,gBAAgB,GAAG6oB,KAAK,CAACwS,QAAQ,CAAC,OAAO;MAAE,CAAC,EACpFvlC,2EAAa,CAAC,OAAO,EAAE,IAAI,EACvBA,2EAAa,CAAC,IAAI,EAAE,IAAI,EACpBA,2EAAa,CAAC,IAAI,EAAE;QAAEi7B,KAAK,EAAE,KAAK;QAAExgB,EAAE,EAAEiyF;MAAa,CAAC,EAAExsG,OAAO,CAACuiB,QAAQ,CAAC,EACzEziB,2EAAa,CAAC,IAAI,EAAE;QAAEi7B,KAAK,EAAE,KAAK;QAAE,aAAa,EAAE;MAAK,CAAC,CAAC,EAC1Dj7B,2EAAa,CAAC,IAAI,EAAE;QAAEi7B,KAAK,EAAE,KAAK;QAAExgB,EAAE,EAAEkyF;MAAc,CAAC,EAAEzsG,OAAO,CAACwiB,SAAS,CAAC,CAAC,CAAC,EACrF1iB,2EAAa,CAAC,OAAO,EAAE,IAAI,EAAE8tG,UAAU,CAAC,CAAC;IACjD,CAAC,CAAC;EACN;EACAV,iBAAiBA,CAAChzE,UAAU,EAAE8E,YAAY,EAAEsuE,SAAS,EAAE;IACnD,OAAO,IAAI,CAACS,iBAAiB,CAAC7sF,kEAAe,CAACgZ,UAAU,EAAE8E,YAAY,EAAE,IAAI,CAACt8B,KAAK,CAAC8rB,WAAW,CAACC,WAAW,EAAE,IAAI,CAAC7nB,OAAO,CAAC5G,OAAO,CAAC2qB,gBAAgB,CAAC,CAACqiB,EAAE,EAAEsgE,SAAS,CAAC;EACrK;EACAS,iBAAiBA,CAAC91B,WAAW,EAAEq1B,SAAS,EAAE;IACtC,IAAIhwC,IAAI,GAAG,EAAE;IACb,KAAK,IAAI91B,UAAU,IAAIywC,WAAW,EAAE;MAChC3a,IAAI,CAACx3D,IAAI,CAAC,GAAG,IAAI,CAACkoG,gBAAgB,CAACxmE,UAAU,EAAE8lE,SAAS,CAAC,CAAC;IAC9D;IACA,OAAOhwC,IAAI;EACf;EACA0wC,gBAAgBA,CAACxmE,UAAU,EAAE8lE,SAAS,EAAE;IACpC,IAAI;MAAE//E;IAAQ,CAAC,GAAG,IAAI,CAAC3mB,OAAO;IAC9B,IAAI;MAAE+jB;IAAiB,CAAC,GAAG,IAAI,CAAC/jB,OAAO,CAAC5G,OAAO;IAC/C,IAAI2wB,KAAK,GAAG6W,UAAU,CAAC7W,KAAK;IAC5B,IAAIoc,MAAM,GAAGvF,UAAU,CAACpgB,GAAG,CAAC2lB,MAAM;IAClC,IAAIgoC,QAAQ;IACZ,IAAInW,QAAQ;IACZ,IAAIz3B,GAAG;IACP,IAAIm2B,IAAI,GAAG,EAAE;IACb,KAAKyX,QAAQ,GAAG,CAAC,EAAEA,QAAQ,GAAGu4B,SAAS,CAACnpG,MAAM,EAAE4wE,QAAQ,IAAI,CAAC,EAAE;MAC3DnW,QAAQ,GAAGlhD,iEAAe,CAACiT,KAAK,EAAE28E,SAAS,CAACv4B,QAAQ,CAAC,CAAC;MACtD,IAAInW,QAAQ,EAAE;QACVz3B,GAAG,GAAG;UACFpyC,SAAS,EAAE,IAAI;UACfyyC,UAAU;UACVzqC,KAAK,EAAE6hE,QAAQ,CAAC7hE,KAAK;UACrBC,GAAG,EAAE4hE,QAAQ,CAAC5hE,GAAG;UACjB6/D,OAAO,EAAEr1B,UAAU,CAACq1B,OAAO,IAAI+B,QAAQ,CAAC7hE,KAAK,CAAC8W,OAAO,CAAC,CAAC,KAAK8c,KAAK,CAAC5zB,KAAK,CAAC8W,OAAO,CAAC,CAAC;UACjFipD,KAAK,EAAEt1B,UAAU,CAACs1B,KAAK,IAAI8B,QAAQ,CAAC5hE,GAAG,CAAC6W,OAAO,CAAC,CAAC,KAAK8c,KAAK,CAAC3zB,GAAG,CAAC6W,OAAO,CAAC,CAAC;UACzEkhE;QACJ,CAAC;QACDzX,IAAI,CAACx3D,IAAI,CAACqhC,GAAG,CAAC;QACd;QACA;QACA,IAAI,CAACA,GAAG,CAAC21B,KAAK,IAAI,CAAC/vB,MAAM,IACrBgoC,QAAQ,GAAG,CAAC,GAAGu4B,SAAS,CAACnpG,MAAM,IAC/BwsB,KAAK,CAAC3zB,GAAG,GACLuwB,OAAO,CAAC2L,GAAG,CAACo0E,SAAS,CAACv4B,QAAQ,GAAG,CAAC,CAAC,CAACh4E,KAAK,EAAE4tB,gBAAgB,CAAC,EAAE;UAClEwc,GAAG,CAACnqC,GAAG,GAAG2zB,KAAK,CAAC3zB,GAAG;UACnBmqC,GAAG,CAAC21B,KAAK,GAAG,IAAI;UAChB;QACJ;MACJ;IACJ;IACA,OAAOQ,IAAI;EACf;AACJ;AACA,SAASmwC,mBAAmBA,CAACp8F,WAAW,EAAE;EACtC,OAAOA,WAAW,CAACwjB,IAAI;AAC3B;AACA,SAASm4E,eAAeA,CAACx+E,WAAW,EAAE;EAClC,IAAIyqB,QAAQ,GAAGt7B,iEAAU,CAAC6Q,WAAW,CAACsiC,WAAW,CAAC/zD,KAAK,CAAC;EACxD,IAAIkxG,OAAO,GAAGz/E,WAAW,CAACsiC,WAAW,CAAC9zD,GAAG;EACzC,IAAIqwG,QAAQ,GAAG,EAAE;EACjB,IAAIC,SAAS,GAAG,EAAE;EAClB,OAAOr0D,QAAQ,GAAGg1D,OAAO,EAAE;IACvBZ,QAAQ,CAACvnG,IAAI,CAACmzC,QAAQ,CAAC;IACvBq0D,SAAS,CAACxnG,IAAI,CAAC;MACX/I,KAAK,EAAEk8C,QAAQ;MACfj8C,GAAG,EAAE4gB,iEAAO,CAACq7B,QAAQ,EAAE,CAAC;IAC5B,CAAC,CAAC;IACFA,QAAQ,GAAGr7B,iEAAO,CAACq7B,QAAQ,EAAE,CAAC,CAAC;EACnC;EACA,OAAO;IAAEo0D,QAAQ;IAAEC;EAAU,CAAC;AAClC;AACA;AACA,SAASK,cAAcA,CAACrwC,IAAI,EAAE;EAC1B,IAAIowC,SAAS,GAAG,EAAE,CAAC,CAAC;EACpB,IAAIjtG,CAAC;EACL,IAAI0mC,GAAG;EACP,KAAK1mC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG68D,IAAI,CAACn5D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACjC0mC,GAAG,GAAGm2B,IAAI,CAAC78D,CAAC,CAAC;IACb,CAACitG,SAAS,CAACvmE,GAAG,CAAC4tC,QAAQ,CAAC,KAAK24B,SAAS,CAACvmE,GAAG,CAAC4tC,QAAQ,CAAC,GAAG,EAAE,CAAC,EACrDjvE,IAAI,CAACqhC,GAAG,CAAC;EAClB;EACA,OAAOumE,SAAS;AACpB;AAEA,IAAI7+D,QAAQ,GAAG,iuDAAiuD;AAChvDzB,kEAAY,CAACyB,QAAQ,CAAC;;;;;;;;;;;;;;;;;ACxQqC;AACX;AACR;AACF;AACK;AAE3C,MAAMm6D,eAAe,GAAG;EACpBmF,UAAU,EAAEj2E;AAChB,CAAC;AAED,IAAI7d,KAAK,GAAGuK,yEAAY,CAAC;EACrB3hB,IAAI,EAAE,wBAAwB;EAC9BpG,WAAW,EAAE,cAAc;EAC3B8pB,cAAc,EAAEqiF,eAAe;EAC/BxsG,KAAK,EAAE;IACH4xG,QAAQ,EAAE;MACNr5G,SAAS,EAAEm5G,yDAAe;MAC1BxsE,cAAc,EAAE,IAAI;MACpBysE,UAAU,EAAE,IAAI;MAChBjtD,YAAY,EAAE,UAAU;MACxBsE,gBAAgB,EAAE,IAAI,CAAE;IAC5B,CAAC;;IACD7oD,WAAW,EAAE;MACTjF,IAAI,EAAE,UAAU;MAChBg0B,QAAQ,EAAE;QAAEoQ,IAAI,EAAE;MAAE;IACxB,CAAC;IACDr/B,YAAY,EAAE;MACV/E,IAAI,EAAE,UAAU;MAChBg0B,QAAQ,EAAE;QAAE8pB,KAAK,EAAE;MAAE;IACzB;EACJ;AACJ,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AC/Bw1B;AACxwB;AACrB;AAE7D,MAAM64D,cAAc,SAASjpC,8DAAQ,CAAC;EAClCe,UAAUA,CAAA,EAAG;IACT,OAAO;MACHp5B,MAAM,EAAE,CAAC,CAAC;MACVuhE,KAAK,EAAE,CAAC;IACZ,CAAC;EACL;EACAxnC,kBAAkBA,CAACpO,QAAQ,EAAE;IACzB,IAAIA,QAAQ,CAAC3rB,MAAM,EAAE;MACjB,OAAO,CAAC,QAAQ,CAAC;IACrB;IACA,OAAO,CAAC,OAAO,CAAC;EACpB;EACAg6B,kBAAkBA,CAACjU,QAAQ,EAAE;IACzB,IAAI,CAACA,QAAQ,CAAC/lB,MAAM,EAAE;MAClB,OAAO,CAAC,OAAO,CAAC;IACpB;IACA,IAAIkwB,kEAAc,CAACnK,QAAQ,CAAC,EAAE;MAC1B,OAAO,CAAC,OAAO,EAAE,QAAQ,CAAC;IAC9B;IACA,OAAO,CAAC,QAAQ,CAAC;EACrB;AACJ;AAEA,MAAMy7C,yBAAyB,GAAGvwF,iEAAe,CAAC;EAC9CxgB,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EACjB0+C,cAAc,EAAE,IAAI;EACpBz+C,QAAQ,EAAE;AACd,CAAC,CAAC;AACF,SAAS8wG,gBAAgBA,CAAC9rG,KAAK,EAAE;EAC7B,IAAIqoB,UAAU,GAAG,CACb,kBAAkB,EAClB,wBAAwB,EACxBroB,KAAK,CAAC+rG,SAAS,GAAG,sBAAsB,GAAG,wBAAwB,CACtE;EACD,OAAQ3uG,2EAAa,CAAC4c,6DAAe,CAACpN,QAAQ,EAAE,IAAI,EAAG1I,OAAO,IAAK;IAC/D,IAAI,CAAClE,KAAK,CAAC+rG,SAAS,EAAE;MAClB,OAAQ3uG,2EAAa,CAAC,IAAI,EAAE;QAAEkK,SAAS,EAAE+gB,UAAU,CAACxG,IAAI,CAAC,GAAG,CAAC;QAAE,WAAW,EAAE7hB,KAAK,CAACgsG;MAAW,CAAC,CAAC;IACnG;IACA,IAAI;MAAEnhF,OAAO;MAAEvtB,OAAO;MAAEg6B;IAAQ,CAAC,GAAGpzB,OAAO;IAC3C,IAAI+nG,WAAW;IAAG;IACjB3uG,OAAO,CAAC+jD,eAAe,IAAI,IAAI,GAAGwqD,yBAAyB,GACxD3kG,KAAK,CAACC,OAAO,CAAC7J,OAAO,CAAC+jD,eAAe,CAAC,GAAG/lC,iEAAe,CAAChe,OAAO,CAAC+jD,eAAe,CAAC,CAAC,CAAC,CAAC,GAChF/lC,iEAAe,CAAChe,OAAO,CAAC+jD,eAAe,CAAC;IAChD,IAAI1yC,WAAW,GAAG;MACd0/D,KAAK,EAAE,CAAC;MACRvkB,IAAI,EAAE9pD,KAAK,CAAC8pD,IAAI;MAChBpvD,IAAI,EAAEmwB,OAAO,CAACgI,MAAM,CAAC7yB,KAAK,CAACtF,IAAI,CAAC;MAChC28B,IAAI,EAAEC,OAAO;MACbnF,IAAI,EAAEtH,OAAO,CAACwJ,MAAM,CAACr0B,KAAK,CAACtF,IAAI,EAAEuxG,WAAW;IAChD,CAAC;IACD,OAAQ7uG,2EAAa,CAAC6c,6DAAgB,EAAE;MAAE1J,KAAK,EAAE,IAAI;MAAE/B,SAAS,EAAE6Z,UAAU;MAAE7X,OAAO,EAAE;QAC/E,WAAW,EAAExQ,KAAK,CAACgsG;MACvB,CAAC;MAAEr9F,WAAW,EAAEA,WAAW;MAAEuZ,aAAa,EAAE,kBAAkB;MAAEC,eAAe,EAAE7qB,OAAO,CAACob,gBAAgB;MAAEoyC,gBAAgB,EAAEi1B,kBAAkB;MAAE33D,kBAAkB,EAAE9qB,OAAO,CAACmkD,mBAAmB;MAAEn5B,QAAQ,EAAEhrB,OAAO,CAACokD,iBAAiB;MAAEn5B,WAAW,EAAEjrB,OAAO,CAACqkD;IAAqB,CAAC,EAAGmK,YAAY,IAAM1uD,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAA0D,CAAC,EACpYlK,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAC/C,gCAAgC,EAChC,8BAA8B;IAChC,CAAC,CAAC,CAAE,CAAC;EACnB,CAAC,CAAC;AACN;AACA,SAASuxE,kBAAkBA,CAAC//E,KAAK,EAAE;EAC/B,OAAOA,KAAK,CAACmyB,IAAI;AACrB;AAEA,MAAM+5E,YAAY,SAASnyF,6DAAa,CAAC;EACrCnc,MAAMA,CAAA,EAAG;IACL,OAAO,IAAI,CAACoC,KAAK,CAACmsG,SAAS,CAAC9qG,GAAG,CAAE+qG,QAAQ,IAAMhvG,2EAAa,CAAC,IAAI,EAAE;MAAEmN,GAAG,EAAE6hG,QAAQ,CAAC7hG;IAAI,CAAC,EACpFnN,2EAAa,CAAC0uG,gBAAgB,EAAEnmG,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEisF,QAAQ,CAAC,CAAC,CAAE,CAAC;EACvE;AACJ;AAEA,MAAMje,uBAAuB,GAAG7yE,iEAAe,CAAC;EAAEwD,IAAI,EAAE;AAAQ,CAAC,CAAC;AAClE,MAAMutF,2BAA2B,GAAG,CAAC;AACrC,MAAMC,YAAY,SAASvgC,8DAAa,CAAC;EACrC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACokG,cAAc,GAAG,IAAIZ,cAAc,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,CAACjf,WAAW,GAAGxuF,uEAAS,CAAC,CAAC;IAC9B,IAAI,CAACkV,SAAS,GAAGlV,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAACogF,aAAa,GAAGpgF,uEAAS,CAAC,CAAC;IAChC,IAAI,CAAC0C,KAAK,GAAG;MACT4rG,UAAU,EAAE;IAChB,CAAC;IACD,IAAI,CAACC,sBAAsB,GAAIlhC,SAAS,IAAK;MACzC,IAAI4S,UAAU,GAAG,IAAI,CAACG,aAAa,CAACl+E,OAAO;MAC3C,IAAI+9E,UAAU,EAAE;QAAE;QACdA,UAAU,CAAC5S,SAAS,GAAGA,SAAS;MACpC;IACJ,CAAC;IACD;AACR;IACQ,IAAI,CAACmhC,cAAc,GAAG,CAACC,MAAM,EAAEC,WAAW,GAAG,EAAE,KAAK;MAChD,IAAI;QAAEtvG;MAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;MAC9B,IAAI;QAAE4nB;MAAY,CAAC,GAAG,IAAI,CAAC9rB,KAAK;MAChC,IAAIiuB,KAAK,GAAGnC,WAAW,CAACsiC,WAAW;MACnC,IAAIX,MAAM,GAAG3Y,kEAAQ,CAAC7mB,KAAK,CAAC5zB,KAAK,EAAE4zB,KAAK,CAAC3zB,GAAG,CAAC;MAC7C;MACA,IAAI62E,YAAY,GAAI1jB,MAAM,KAAK,CAAC,GAC1B8X,kEAAiB,CAAC,IAAI,CAACrhE,OAAO,EAAE+pB,KAAK,CAAC5zB,KAAK,EAAE,MAAM,CAAC,GACpD,CAAC,CAAC;MACR,IAAIiD,OAAO,CAAC8hD,WAAW,IAAIutD,MAAM,KAAK,KAAK,EAAE;QACzC,OAAQvvG,2EAAa,CAAC8iF,8DAAmB,EAAE;UAAE3vE,KAAK,EAAE,IAAI;UAAE/B,SAAS,EAAE,CAC7D,kBAAkB,EAClB,sBAAsB,CACzB;UAAEgC,OAAO,EAAE;YACR,aAAa,EAAE;UACnB,CAAC;UAAE9V,IAAI,EAAEuzB,KAAK,CAAC5zB,KAAK;UAAE8lF,aAAa,EAAEgO;QAAwB,CAAC,EAAGriC,YAAY,IAAM1uD,2EAAa,CAAC,KAAK,EAAE;UAAEkK,SAAS,EAAE,CACjH,wBAAwB,EACxB,4BAA4B,EAC5B,+BAA+B,CAClC,CAACua,IAAI,CAAC,GAAG,CAAC;UAAEpX,KAAK,EAAE;YAAEs5B,MAAM,EAAE6oE;UAAY;QAAE,CAAC,EAC7CxvG,2EAAa,CAAC0uD,YAAY,EAAE;UAAEv7C,KAAK,EAAE,GAAG;UAAE/B,SAAS,EAAE,CAC7C,0BAA0B,EAC1B,8BAA8B,EAC9B,0BAA0B,CAC7B;UAAEgC,OAAO,EAAE2gE;QAAa,CAAC,CAAC,CAAE,CAAC;MAC1C;MACA,OAAQ/zE,2EAAa,CAAC,IAAI,EAAE;QAAE,aAAa,EAAE,IAAI;QAAEkK,SAAS,EAAE;MAAmB,CAAC,EAC9ElK,2EAAa,CAAC,KAAK,EAAE;QAAEkK,SAAS,EAAE,wBAAwB;QAAEmD,KAAK,EAAE;UAAEs5B,MAAM,EAAE6oE;QAAY;MAAE,CAAC,CAAC,CAAC;IACtG,CAAC;IACD;AACR;IACQ;IACA;IACA,IAAI,CAACC,kBAAkB,GAAIC,SAAS,IAAK;MACrC,IAAI;QAAExvG,OAAO;QAAEg6B;MAAQ,CAAC,GAAG,IAAI,CAACpzB,OAAO;MACvC,IAAIyK,WAAW,GAAG;QACdwjB,IAAI,EAAE70B,OAAO,CAACyiB,UAAU;QACxBsX,IAAI,EAAEC;MACV,CAAC;MACD;QACA;QACAl6B,2EAAa,CAAC6c,6DAAgB,EAAE;UAAE1J,KAAK,EAAE,IAAI;UAAE/B,SAAS,EAAE,CAClD,kBAAkB,EAClB,sBAAsB,CACzB;UAAEgC,OAAO,EAAE;YACR,aAAa,EAAE;UACnB,CAAC;UAAE7B,WAAW,EAAEA,WAAW;UAAEuZ,aAAa,EAAE,eAAe;UAAEC,eAAe,EAAE7qB,OAAO,CAACqb,aAAa;UAAEmyC,gBAAgB,EAAEu/C,iBAAiB;UAAEjiF,kBAAkB,EAAE9qB,OAAO,CAAC0kD,gBAAgB;UAAE15B,QAAQ,EAAEhrB,OAAO,CAAC2kD,cAAc;UAAE15B,WAAW,EAAEjrB,OAAO,CAAC4kD;QAAkB,CAAC,EAAG4J,YAAY,IAAM1uD,2EAAa,CAAC,KAAK,EAAE;UAAEkK,SAAS,EAAE,CACrT,wBAAwB,EACxB,4BAA4B,EAC5BwlG,SAAS,IAAI,IAAI,GAAG,gCAAgC,GAAG,EAAE,CAC5D,CAACjrF,IAAI,CAAC,GAAG,CAAC;UAAEpX,KAAK,EAAE;YAAEs5B,MAAM,EAAE+oE;UAAU;QAAE,CAAC,EAC3C1vG,2EAAa,CAAC0uD,YAAY,EAAE;UAAEv7C,KAAK,EAAE,MAAM;UAAE/B,SAAS,EAAE,CAChD,0BAA0B,EAC1B,8BAA8B,EAC9B,0BAA0B;QAC5B,CAAC,CAAC,CAAE;MAAC;IACnB,CAAC;IACD,IAAI,CAACu+F,gBAAgB,GAAIP,UAAU,IAAK;MACpC,IAAI,CAAClpG,QAAQ,CAAC;QAAEkpG;MAAW,CAAC,CAAC;IACjC,CAAC;EACL;EACA;EACA;EACA7f,kBAAkBA,CAACC,gBAAgB,EAAEj0E,aAAa,EAAEq0F,WAAW,EAAE;IAC7D,IAAI;MAAE9oG,OAAO;MAAElE;IAAM,CAAC,GAAG,IAAI;IAC7B,IAAIi9E,QAAQ,GAAG,EAAE;IACjB,IAAIp8B,iBAAiB,GAAGu7B,kEAAoB,CAACl4E,OAAO,CAAC5G,OAAO,CAAC;IAC7D,IAAIsvF,gBAAgB,EAAE;MAClB3P,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,QAAQ;QACduV,GAAG,EAAE,QAAQ;QACbmnE,QAAQ,EAAE7wB,iBAAiB;QAC3Bi9B,KAAK,EAAE;UACHp6C,KAAK,EAAE,IAAI,CAACgpD,WAAW;UACvB1R,cAAc,EAAE,eAAe;UAC/BK,UAAU,EAAEuR;QAChB;MACJ,CAAC,CAAC;IACN;IACA,IAAIj0E,aAAa,EAAE;MACfskE,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,MAAM;QACZuV,GAAG,EAAE,SAAS;QACduzE,KAAK,EAAE;UAAEj2D,OAAO,EAAElP;QAAc;MACpC,CAAC,CAAC;MACFskE,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,MAAM;QACZuV,GAAG,EAAE,iBAAiB;QACtBqzE,YAAY;QAAI;QAChBxgF,2EAAa,CAAC,IAAI,EAAE;UAAE1K,IAAI,EAAE,cAAc;UAAE4U,SAAS,EAAE;QAAwB,CAAC,EAC5ElK,2EAAa,CAAC,IAAI,EAAE;UAAEkK,SAAS,EAAE,sBAAsB,GAAGpD,OAAO,CAACisB,KAAK,CAACwS,QAAQ,CAAC,iBAAiB;QAAE,CAAC,CAAC;MAC9G,CAAC,CAAC;IACN;IACAs6C,QAAQ,CAAC75E,IAAI,CAAC;MACVpO,IAAI,EAAE,MAAM;MACZuV,GAAG,EAAE,MAAM;MACXu5B,MAAM,EAAE,IAAI;MACZ2c,UAAU,EAAEjrB,OAAO,CAACtxB,OAAO,CAAC5G,OAAO,CAACmjD,UAAU,CAAC;MAC/Cq9B,KAAK,EAAE;QACHQ,aAAa,EAAE,IAAI,CAACA,aAAa;QACjCz2D,OAAO,EAAEmlF;MACb;IACJ,CAAC,CAAC;IACF,OAAQ5vG,2EAAa,CAACkvD,8DAAa,EAAE;MAAE5oB,KAAK,EAAE,IAAI,CAACtwB,SAAS;MAAE5E,SAAS,EAAE,CAAC,aAAa,CAAC;MAAEwZ,QAAQ,EAAE9jB,OAAO,CAAC8jB;IAAS,CAAC,EAClH5qB,2EAAa,CAACk/E,8DAAgB,EAAE;MAAEx4C,MAAM,EAAE,CAAC9jC,KAAK,CAACinC,YAAY,IAAI,CAACjnC,KAAK,CAACknC,QAAQ;MAAEi2C,gBAAgB,EAAEn9E,KAAK,CAACknC,QAAQ;MAAEw0C,IAAI,EAAE,CAAC;QAAE/+E,KAAK,EAAE;MAAS,CAAC,CAAC;MAAEsgF,QAAQ,EAAEA;IAAS,CAAC,CAAC,CAAC;EAC/K;EACA6P,mBAAmBA,CAACF,gBAAgB,EAAEj0E,aAAa,EAAEq0F,WAAW,EAAE57B,MAAM,EAAEtvB,WAAW,EAAEqqD,SAAS,EAAEK,UAAU,EAAE;IAC1G,IAAIzf,UAAU,GAAG,IAAI,CAAC7oF,OAAO,CAAC4pB,WAAW,CAAC/J,cAAc;IACxD,IAAI,CAACgpE,UAAU,EAAE;MACb,MAAM,IAAIxlE,KAAK,CAAC,8BAA8B,CAAC;IACnD;IACA,IAAI;MAAErjB,OAAO;MAAElE;IAAM,CAAC,GAAG,IAAI;IAC7B,IAAI6gD,iBAAiB,GAAG,CAAC7gD,KAAK,CAACknC,QAAQ,IAAIk1C,kEAAoB,CAACl4E,OAAO,CAAC5G,OAAO,CAAC;IAChF,IAAIwjD,qBAAqB,GAAG,CAAC9gD,KAAK,CAACknC,QAAQ,IAAIm1C,kEAAwB,CAACn4E,OAAO,CAAC5G,OAAO,CAAC;IACxF,IAAI2/E,QAAQ,GAAG,EAAE;IACjB,IAAI2P,gBAAgB,EAAE;MAClB3P,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,QAAQ;QACduV,GAAG,EAAE,QAAQ;QACbmnE,QAAQ,EAAE7wB,iBAAiB;QAC3Bo6B,cAAc,EAAE,IAAI;QACpB+R,MAAM,EAAE,CACJ;UACIziF,GAAG,EAAE,MAAM;UACX8wE,UAAU,EAAG/nD,GAAG,IAAMl2B,2EAAa,CAAC,IAAI,EAAE;YAAE1K,IAAI,EAAE;UAAe,CAAC,EAAE,IAAI,CAACg6G,cAAc,CAAC,KAAK,EAAEp5E,GAAG,CAAC2qD,cAAc,CAAC,CAAC,CAAC,CAAC;QACzH,CAAC,EACD;UACI1zE,GAAG,EAAE,MAAM;UACXm5B,KAAK,EAAE,IAAI,CAACgpD,WAAW;UACvB1R,cAAc,EAAE,eAAe;UAC/BK,UAAU,EAAEuR;QAChB,CAAC;MAET,CAAC,CAAC;IACN;IACA,IAAIj0E,aAAa,EAAE;MACfskE,QAAQ,CAAC75E,IAAI,CAAC;QACVpO,IAAI,EAAE,MAAM;QACZuV,GAAG,EAAE,SAAS;QACd0wE,cAAc,EAAE,IAAI;QACpB+R,MAAM,EAAE,CACJ;UACIziF,GAAG,EAAE,MAAM;UACX8wE,UAAU,EAAGyb,UAAU,IAAM15F,2EAAa,CAAC,IAAI,EAAE;YAAE1K,IAAI,EAAE;UAAe,CAAC,EAAE,IAAI,CAACm6G,kBAAkB,CAAC/V,UAAU,CAAC7Y,cAAc,CAAC,CAAC,CAAC,CAAC;QACpI,CAAC,EACD;UACI1zE,GAAG,EAAE,MAAM;UACXsd,OAAO,EAAElP;QACb,CAAC;MAET,CAAC,CAAC;MACFskE,QAAQ,CAAC75E,IAAI,CAAC;QACVmH,GAAG,EAAE,iBAAiB;QACtBvV,IAAI,EAAE,MAAM;QACZ4oF,YAAY;QAAI;QAChBxgF,2EAAa,CAAC,IAAI,EAAE;UAAE1K,IAAI,EAAE,cAAc;UAAE4U,SAAS,EAAE;QAAwB,CAAC,EAC5ElK,2EAAa,CAAC,IAAI,EAAE;UAAEm0E,OAAO,EAAE,CAAC;UAAEjqE,SAAS,EAAE,sBAAsB,GAAGpD,OAAO,CAACisB,KAAK,CAACwS,QAAQ,CAAC,iBAAiB;QAAE,CAAC,CAAC;MAC1H,CAAC,CAAC;IACN;IACA,IAAIsqE,cAAc,GAAG/oG,OAAO,CAAC5G,OAAO,CAACqiD,YAAY;IACjDs9B,QAAQ,CAAC75E,IAAI,CAAC;MACVpO,IAAI,EAAE,MAAM;MACZuV,GAAG,EAAE,MAAM;MACXu5B,MAAM,EAAE,IAAI;MACZ2c,UAAU,EAAEjrB,OAAO,CAACtxB,OAAO,CAAC5G,OAAO,CAACmjD,UAAU,CAAC;MAC/CusC,MAAM,EAAE,CACJ;QACIziF,GAAG,EAAE,MAAM;QACXsd,OAAO,EAAGyL,GAAG;QACb;QACAl2B,2EAAa,CAAC,KAAK,EAAE;UAAEkK,SAAS,EAAE;QAAyB,CAAC,EACxDlK,2EAAa,CAAC,OAAO,EAAE;UAAE,aAAa,EAAE,IAAI;UAAEqN,KAAK,EAAE;YAAEs5B,MAAM,EAAEzQ,GAAG,CAACmtB,UAAU,GAAGntB,GAAG,CAACmzC,YAAY,GAAG;UAAG;QAAE,CAAC,EACrGnzC,GAAG,CAAC8nD,iBAAiB,EACrBh+E,2EAAa,CAAC,OAAO,EAAE,IAAI,EACvBA,2EAAa,CAAC8uG,YAAY,EAAE;UAAEC,SAAS,EAAEA;QAAU,CAAC,CAAC,CAAC,CAAC,EAC/D/uG,2EAAa,CAAC,KAAK,EAAE;UAAEkK,SAAS,EAAE;QAAsC,CAAC,EACrElK,2EAAa,CAACugB,8DAAQ,EAAE;UAAE0C,IAAI,EAAE4sF,cAAc,GAAG,QAAQ,GAAG,KAAK,CAAC;QAAY,CAAC,EAAG7lE,OAAO,IAAK;UAC1F,IAAI8lE,eAAe,GAAGD,cAAc,IAChCT,UAAU,IACVA,UAAU,CAACW,cAAc,CAAC/lE,OAAO,CAAC,CAAC,CAAC;UACxC,IAAI,OAAO8lE,eAAe,KAAK,QAAQ,EAAE;YACrC,OAAQ9vG,2EAAa,CAACiiF,8DAAqB,EAAE;cAAE7wE,SAAS,EAAE,CAAC,iCAAiC,CAAC;cAAEC,OAAO,EAAE;gBAAEiwD,GAAG,EAAEwuC;cAAgB,CAAC;cAAE5tB,MAAM,EAAE,IAAI;cAAE5kF,IAAI,EAAE0sC;YAAQ,CAAC,CAAC;UACpK;UACA,OAAO,IAAI;QACf,CAAC,CAAC,CAAC;MACf,CAAC,EACD;QACI78B,GAAG,EAAE,MAAM;QACX+zE,aAAa,EAAE,IAAI,CAACA,aAAa;QACjCz2D,OAAO,EAAEmlF;MACb,CAAC;IAET,CAAC,CAAC;IACF,IAAIlsD,qBAAqB,EAAE;MACvBm8B,QAAQ,CAAC75E,IAAI,CAAC;QACVmH,GAAG,EAAE,QAAQ;QACbvV,IAAI,EAAE,QAAQ;QACd08E,QAAQ,EAAE,IAAI;QACdsb,MAAM,EAAE,CACJ;UACIziF,GAAG,EAAE,MAAM;UACXsd,OAAO,EAAEs0D,8DAAgBA;QAC7B,CAAC,EACD;UACI5xE,GAAG,EAAE,MAAM;UACXsd,OAAO,EAAEs0D,8DAAgBA;QAC7B,CAAC;MAET,CAAC,CAAC;IACN;IACA,OAAQ/+E,2EAAa,CAACkvD,8DAAa,EAAE;MAAE5oB,KAAK,EAAE,IAAI,CAACtwB,SAAS;MAAE5E,SAAS,EAAE,CAAC,aAAa,CAAC;MAAEwZ,QAAQ,EAAE9jB,OAAO,CAAC8jB;IAAS,CAAC,EAClH5qB,2EAAa,CAAC2vF,UAAU,EAAE;MAAEjpD,MAAM,EAAE,CAAC9jC,KAAK,CAACinC,YAAY,IAAI,CAACjnC,KAAK,CAACknC,QAAQ;MAAEA,QAAQ,EAAElnC,KAAK,CAACknC,QAAQ;MAAEi2C,gBAAgB,EAAE,KAAK;MAAE8P,SAAS,EAAE,CAClI;QAAEtwF,KAAK,EAAE,QAAQ;QAAE++E,IAAI,EAAE,CAAC;UAAE/+E,KAAK,EAAE;QAAS,CAAC;MAAE,CAAC,EAChD;QAAE++E,IAAI,EAAE,CAAC;UAAEve,IAAI,EAAEiU,MAAM;UAAE8J,QAAQ,EAAEp5B;QAAY,CAAC;MAAE,CAAC,CACtD;MAAEm7B,QAAQ,EAAEA;IAAS,CAAC,CAAC,CAAC;EACrC;EACA;AACJ;EACImwB,sBAAsBA,CAAA,EAAG;IACrB,IAAI;MAAExrD,YAAY;MAAEC;IAAgB,CAAC,GAAG,IAAI,CAAC39C,OAAO,CAAC5G,OAAO;IAC5D,IAAIskD,YAAY,KAAK,IAAI,IAAIC,eAAe,KAAK,IAAI,EAAE;MAAE;MACrDD,YAAY,GAAGlwD,SAAS;MACxBmwD,eAAe,GAAGwqD,2BAA2B,CAAC,CAAC;IACnD;;IACA,OAAO;MAAEzqD,YAAY;MAAEC;IAAgB,CAAC;EAC5C;AACJ;AACA,SAASwoD,iBAAiBA,CAAC17F,WAAW,EAAE;EACpC,OAAOA,WAAW,CAACwjB,IAAI;AAC3B;AAEA,MAAMk7E,mBAAmB,CAAC;EACtBh8G,WAAWA,CAACi8G,SAAS,EAAExhF,WAAW,EAAE0yB,YAAY,EAAE;IAC9C,IAAI,CAAC8uD,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACxhF,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAAC0yB,YAAY,GAAGA,YAAY;EACpC;EACA2uD,cAAcA,CAACzyG,IAAI,EAAE;IACjB,IAAI;MAAEoxB;IAAY,CAAC,GAAG,IAAI;IAC1B,IAAIlQ,iEAAmB,CAACkQ,WAAW,CAACkH,YAAY,EAAEt4B,IAAI,CAAC,EAAE;MACrD,IAAI6yG,cAAc,GAAGtyF,iEAAU,CAACvgB,IAAI,CAAC;MACrC,IAAI8yG,MAAM,GAAG9yG,IAAI,CAACyW,OAAO,CAAC,CAAC,GAAGo8F,cAAc,CAACp8F,OAAO,CAAC,CAAC;MACtD,IAAIq8F,MAAM,IAAI95D,kEAAS,CAAC5nB,WAAW,CAACmT,WAAW,CAAC,IAC5CuuE,MAAM,GAAG95D,kEAAS,CAAC5nB,WAAW,CAACoT,WAAW,CAAC,EAAE;QAC7C,OAAO,IAAI,CAACuuE,cAAc,CAACrzF,iEAAc,CAACozF,MAAM,CAAC,CAAC;MACtD;IACJ;IACA,OAAO,IAAI;EACf;EACA;EACA;EACAE,cAAcA,CAACC,IAAI,EAAEJ,cAAc,EAAE;IACjC,IAAI,CAACA,cAAc,EAAE;MACjBA,cAAc,GAAGtyF,iEAAU,CAAC0yF,IAAI,CAAC;IACrC;IACA,OAAO,IAAI,CAACF,cAAc,CAACrzF,iEAAc,CAACuzF,IAAI,CAACx8F,OAAO,CAAC,CAAC,GAAGo8F,cAAc,CAACp8F,OAAO,CAAC,CAAC,CAAC,CAAC;EACzF;EACA;EACA;EACA;EACAs8F,cAAcA,CAACzkF,QAAQ,EAAE;IACrB,IAAI;MAAEskF,SAAS;MAAExhF;IAAY,CAAC,GAAG,IAAI;IACrC,IAAIolB,GAAG,GAAGo8D,SAAS,CAACtkC,GAAG,CAACvnE,MAAM;IAC9B;IACA,IAAImsG,YAAY,GAAG,CAAC5kF,QAAQ,CAACqN,YAAY,GAAGqd,kEAAS,CAAC5nB,WAAW,CAACmT,WAAW,CAAC,IAAIyU,kEAAS,CAAC,IAAI,CAAC8K,YAAY,CAAC;IAC9G,IAAIqvD,SAAS;IACb,IAAIC,aAAa;IACjB;IACA;IACA;IACAF,YAAY,GAAGloF,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEioF,YAAY,CAAC;IACxCA,YAAY,GAAGloF,IAAI,CAAC0wB,GAAG,CAAClF,GAAG,EAAE08D,YAAY,CAAC;IAC1C;IACA;IACAC,SAAS,GAAGnoF,IAAI,CAAC8wB,KAAK,CAACo3D,YAAY,CAAC;IACpCC,SAAS,GAAGnoF,IAAI,CAAC0wB,GAAG,CAACy3D,SAAS,EAAE38D,GAAG,GAAG,CAAC,CAAC;IACxC;IACA;IACA48D,aAAa,GAAGF,YAAY,GAAGC,SAAS;IACxC,OAAOP,SAAS,CAAC5jC,IAAI,CAACmkC,SAAS,CAAC,GAC5BP,SAAS,CAACpjC,SAAS,CAAC2jC,SAAS,CAAC,GAAGC,aAAa;EACtD;AACJ;AAEA,MAAMC,iBAAiB,SAASh0F,6DAAa,CAAC;EAC1Cnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAI;MAAE8pG;IAAW,CAAC,GAAGhuG,KAAK;IAC1B,OAAQ5C,2EAAa,CAAC,OAAO,EAAE,IAAI,EAAE4C,KAAK,CAACmsG,SAAS,CAAC9qG,GAAG,CAAC,CAAC+qG,QAAQ,EAAEruG,CAAC,KAAK;MACtE,IAAI4Q,WAAW,GAAG;QACdm7C,IAAI,EAAEsiD,QAAQ,CAACtiD,IAAI;QACnBpvD,IAAI,EAAEwJ,OAAO,CAAC2mB,OAAO,CAACgI,MAAM,CAACu5E,QAAQ,CAAC1xG,IAAI,CAAC;QAC3C28B,IAAI,EAAEnzB,OAAO,CAACozB;MAClB,CAAC;MACD,OAAQl6B,2EAAa,CAAC,IAAI,EAAE;QAAEmN,GAAG,EAAE6hG,QAAQ,CAAC7hG,GAAG;QAAErK,GAAG,EAAE8tG,UAAU,CAAC9vG,SAAS,CAACkuG,QAAQ,CAAC7hG,GAAG;MAAE,CAAC,EACtFvK,KAAK,CAACiuG,IAAI,IAAK7wG,2EAAa,CAAC0uG,gBAAgB,EAAEnmG,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEisF,QAAQ,CAAC,CAAE,EAC5EhvG,2EAAa,CAAC6c,6DAAgB,EAAE;QAAE1J,KAAK,EAAE,IAAI;QAAE/B,SAAS,EAAE,CAClD,kBAAkB,EAClB,uBAAuB,EACvB,CAAC49F,QAAQ,CAACL,SAAS,IAAI,wBAAwB,CAClD;QAAEv7F,OAAO,EAAE;UACR,WAAW,EAAE47F,QAAQ,CAACJ;QAC1B,CAAC;QAAEr9F,WAAW,EAAEA,WAAW;QAAEuZ,aAAa,EAAE,iBAAiB;QAAEC,eAAe,EAAE7qB,OAAO,CAACmb,eAAe;QAAE2P,kBAAkB,EAAE9qB,OAAO,CAACgkD,kBAAkB;QAAEh5B,QAAQ,EAAEhrB,OAAO,CAACikD,gBAAgB;QAAEh5B,WAAW,EAAEjrB,OAAO,CAACkkD;MAAoB,CAAC,CAAC,CAAC;IACrP,CAAC,CAAC,CAAC;EACP;AACJ;;AAEA;AACA;AACA;AACA,MAAM0sD,aAAa,SAASn0F,6DAAa,CAAC;EACtC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACiL,SAAS,GAAGlV,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAAC8vG,UAAU,GAAG,IAAIt0B,8DAAM,CAAC,CAAC;EAClC;EACA97E,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,OAAQ9G,2EAAa,CAAC,KAAK,EAAE;MAAE8C,GAAG,EAAE,IAAI,CAACkT,SAAS;MAAE9L,SAAS,EAAE;IAAoB,CAAC,EAChFlK,2EAAa,CAAC,OAAO,EAAE;MAAE,aAAa,EAAE,IAAI;MAAEkK,SAAS,EAAEpD,OAAO,CAACisB,KAAK,CAACwS,QAAQ,CAAC,OAAO,CAAC;MAAEl4B,KAAK,EAAE;QACzFywE,QAAQ,EAAEl7E,KAAK,CAACm7E,aAAa;QAC7Bx+E,KAAK,EAAEqD,KAAK,CAAC0mE,WAAW;QACxB3iC,MAAM,EAAE/jC,KAAK,CAACyuF;MAClB;IAAE,CAAC,EACHzuF,KAAK,CAACo7E,iBAAiB,CAAC,8DACxBh+E,2EAAa,CAAC2wG,iBAAiB,EAAE;MAAEC,UAAU,EAAE,IAAI,CAACA,UAAU;MAAEC,IAAI,EAAEjuG,KAAK,CAACiuG,IAAI;MAAE9B,SAAS,EAAEnsG,KAAK,CAACmsG;IAAU,CAAC,CAAC,CAAC,CAAC;EAC7H;EACAjnG,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC+sF,YAAY,CAAC,CAAC;EACvB;EACAhtF,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACgtF,YAAY,CAAC,CAAC;EACvB;EACAxuF,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAACzD,KAAK,CAACmuG,QAAQ,EAAE;MACrB,IAAI,CAACnuG,KAAK,CAACmuG,QAAQ,CAAC,IAAI,CAAC;IAC7B;EACJ;EACAlc,YAAYA,CAAA,EAAG;IACX,IAAI;MAAE/tF,OAAO;MAAElE;IAAM,CAAC,GAAG,IAAI;IAC7B,IAAIA,KAAK,CAACmuG,QAAQ,IACdnuG,KAAK,CAAC0mE,WAAW,KAAK,IAAI,CAAC;IAAA,EAC7B;MACE,IAAIvzD,MAAM,GAAG,IAAI,CAACC,SAAS,CAAChT,OAAO;MACnC,IAAI+S,MAAM,CAAC0rD,YAAY,EAAE;QAAE;QACvB7+D,KAAK,CAACmuG,QAAQ,CAAC,IAAId,mBAAmB,CAAC,IAAIvkC,8DAAa,CAAC,IAAI,CAAC11D,SAAS,CAAChT,OAAO,EAAEguG,cAAc,CAAC,IAAI,CAACJ,UAAU,CAACp0B,UAAU,EAAE55E,KAAK,CAACmsG,SAAS,CAAC,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE,IAAI,CAACnsG,KAAK,CAAC8rB,WAAW,EAAE5nB,OAAO,CAAC5G,OAAO,CAACkhD,YAAY,CAAC,CAAC;MACtN;IACJ;EACJ;AACJ;AACA,SAAS4vD,cAAcA,CAACla,KAAK,EAAEiY,SAAS,EAAE;EACtC,OAAOA,SAAS,CAAC9qG,GAAG,CAAE+qG,QAAQ,IAAKlY,KAAK,CAACkY,QAAQ,CAAC7hG,GAAG,CAAC,CAAC;AAC3D;AAEA,SAAS8jG,cAAcA,CAACzzC,IAAI,EAAEwW,MAAM,EAAE;EAClC,IAAIk9B,SAAS,GAAG,EAAE;EAClB,IAAIvwG,CAAC;EACL,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqzE,MAAM,EAAErzE,CAAC,IAAI,CAAC,EAAE;IAC5BuwG,SAAS,CAAClrG,IAAI,CAAC,EAAE,CAAC;EACtB;EACA,IAAIw3D,IAAI,EAAE;IACN,KAAK78D,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG68D,IAAI,CAACn5D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MACjCuwG,SAAS,CAAC1zC,IAAI,CAAC78D,CAAC,CAAC,CAAC21E,GAAG,CAAC,CAACtwE,IAAI,CAACw3D,IAAI,CAAC78D,CAAC,CAAC,CAAC;IACxC;EACJ;EACA,OAAOuwG,SAAS;AACpB;AACA,SAASC,qBAAqBA,CAACnuE,EAAE,EAAEgxC,MAAM,EAAE;EACvC,IAAI+b,KAAK,GAAG,EAAE;EACd,IAAI,CAAC/sD,EAAE,EAAE;IACL,KAAK,IAAIriC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqzE,MAAM,EAAErzE,CAAC,IAAI,CAAC,EAAE;MAChCovF,KAAK,CAACpvF,CAAC,CAAC,GAAG,IAAI;IACnB;EACJ,CAAC,MACI;IACD,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGqzE,MAAM,EAAErzE,CAAC,IAAI,CAAC,EAAE;MAChCovF,KAAK,CAACpvF,CAAC,CAAC,GAAG;QACPs3E,iBAAiB,EAAEj1C,EAAE,CAACi1C,iBAAiB;QACvCxlD,OAAO,EAAEuQ,EAAE,CAACvQ,OAAO;QACnB+qC,IAAI,EAAE;MACV,CAAC;IACL;IACA,KAAK,IAAIn2B,GAAG,IAAIrE,EAAE,CAACw6B,IAAI,EAAE;MACrBuyB,KAAK,CAAC1oD,GAAG,CAACivC,GAAG,CAAC,CAAC9Y,IAAI,CAACx3D,IAAI,CAACqhC,GAAG,CAAC;IACjC;EACJ;EACA,OAAO0oD,KAAK;AAChB;AAEA,MAAMqhB,eAAe,SAASz0F,6DAAa,CAAC;EACxCnc,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC;IAAM,CAAC,GAAG,IAAI;IACpB,OAAQ5C,2EAAa,CAACqkF,8DAAiB,EAAE;MAAEjzE,SAAS,EAAE,CAAC,uBAAuB,CAAC;MAAEC,OAAO,EAAE;QAClFiwD,GAAG,EAAE1+D,KAAK,CAAC0+D,GAAG;QACdmD,MAAM,EAAE7hE,KAAK,CAAC6hE;MAClB,CAAC;MAAEogB,UAAU,EAAE,IAAI;MAAEI,OAAO,EAAEriF,KAAK,CAACmiF,UAAU,CAAC1gF,MAAM;MAAEygF,OAAO,EAAEliF,KAAK,CAACmiF,UAAU;MAAEA,UAAU,EAAEniF,KAAK,CAACmiF,UAAU;MAAEb,aAAa,EAAEthF,KAAK,CAACshF,aAAa;MAAEx1D,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAEwmB,cAAc,EAAEA,CAAA,KAAMgsB,iBAAiB,CAACzuG,KAAK,CAACmiF,UAAU,EAAEniF,KAAK,CAAC;MAAE8qD,gBAAgB,EAAEy3B,mBAAmB;MAAElB,UAAU,EAAE;IAAK,CAAC,EAAGv1B,YAAY,IAAM1uD,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,6BAA6B,EAAE,WAAW;IAAE,CAAC,CAAE,CAAC;EACld;AACJ;AACA,SAAS+zE,mBAAmBA,CAACviF,KAAK,EAAE;EAChC,OAAOA,KAAK,CAACsiF,SAAS;AAC1B;;AAEA;AACA,SAASosB,gBAAgBA,CAAC1e,SAAS,EAAEpjB,WAAW,EAAEG,WAAW,EAAE;EAC3D,IAAI4iB,SAAS,GAAG,IAAInjB,8DAAY,CAAC,CAAC;EAClC,IAAII,WAAW,IAAI,IAAI,EAAE;IACrB+iB,SAAS,CAAC/iB,WAAW,GAAGA,WAAW;EACvC;EACA,IAAIG,WAAW,IAAI,IAAI,EAAE;IACrB4iB,SAAS,CAAC5iB,WAAW,GAAGA,WAAW;EACvC;EACA,IAAIK,aAAa,GAAGuiB,SAAS,CAACxiB,OAAO,CAAC6iB,SAAS,CAAC;EAChD,IAAI2e,YAAY,GAAGj/B,kEAAwB,CAACtC,aAAa,CAAC;EAC1D,IAAIwhC,GAAG,GAAGC,QAAQ,CAAClf,SAAS,CAAC;EAC7Bif,GAAG,GAAGE,UAAU,CAACF,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;EAC1B,IAAIze,QAAQ,GAAG4e,UAAU,CAACH,GAAG,CAAC;EAC9B,OAAO;IAAEze,QAAQ;IAAEwe;EAAa,CAAC;AACrC;AACA,SAASE,QAAQA,CAAClf,SAAS,EAAE;EACzB,MAAM;IAAE1iB;EAAe,CAAC,GAAG0iB,SAAS;EACpC,MAAMqf,SAAS,GAAGC,SAAS,CAAC,CAAC5gC,KAAK,EAAEF,OAAO,KAAKE,KAAK,GAAG,GAAG,GAAGF,OAAO,EAAE,CAACE,KAAK,EAAEF,OAAO,KAAK;IACvF,IAAI+gC,YAAY,GAAGC,iBAAiB,CAACxf,SAAS,EAAEthB,KAAK,EAAEF,OAAO,CAAC;IAC/D,IAAIihC,YAAY,GAAGC,UAAU,CAACH,YAAY,EAAEF,SAAS,CAAC;IACtD,IAAItiC,KAAK,GAAGO,cAAc,CAACoB,KAAK,CAAC,CAACF,OAAO,CAAC;IAC1C,OAAO,CACHxoE,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEusD,KAAK,CAAC,EAAE;MAAE4iC,cAAc,EAAEF,YAAY,CAAC,CAAC;IAAE,CAAC,CAAC,EAC5E1iC,KAAK,CAACC,SAAS,GAAGyiC,YAAY,CAAC,CAAC,CAAC,CAAE;IAAA,CACtC;EACL,CAAC,CAAC;;EACF,OAAOC,UAAU,CAACpiC,cAAc,CAACxrE,MAAM,GACjC;IAAE4sE,KAAK,EAAE,CAAC;IAAEkhC,YAAY,EAAE,CAAC;IAAEC,UAAU,EAAEviC,cAAc,CAAC,CAAC,CAAC,CAACxrE;EAAO,CAAC,GACnE,IAAI,EAAEutG,SAAS,CAAC,CAAC,CAAC,CAAC;AAC7B;AACA,SAASK,UAAUA,CAACH,YAAY,EAAEF,SAAS,EAAE;EACzC,IAAI,CAACE,YAAY,EAAE;IACf,OAAO,CAAC,EAAE,EAAE,CAAC,CAAC;EAClB;EACA,IAAI;IAAE7gC,KAAK;IAAEkhC,YAAY;IAAEC;EAAW,CAAC,GAAGN,YAAY;EACtD,IAAI/gC,OAAO,GAAGohC,YAAY;EAC1B,IAAIE,KAAK,GAAG,EAAE;EACd,OAAOthC,OAAO,GAAGqhC,UAAU,EAAE;IACzBC,KAAK,CAACrsG,IAAI,CAAC4rG,SAAS,CAAC3gC,KAAK,EAAEF,OAAO,CAAC,CAAC;IACrCA,OAAO,IAAI,CAAC;EAChB;EACAshC,KAAK,CAACvkG,IAAI,CAACwkG,gBAAgB,CAAC;EAC5B,OAAO,CACHD,KAAK,CAACpuG,GAAG,CAACsuG,WAAW,CAAC,EACtBF,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE;EAAA,CAChB;AACL;;AACA,SAASC,gBAAgBA,CAACnxG,CAAC,EAAEkB,CAAC,EAAE;EAC5B,OAAOA,CAAC,CAAC,CAAC,CAAC,GAAGlB,CAAC,CAAC,CAAC,CAAC;AACtB;AACA,SAASoxG,WAAWA,CAACpxG,CAAC,EAAE;EACpB,OAAOA,CAAC,CAAC,CAAC,CAAC;AACf;AACA,SAAS4wG,iBAAiBA,CAACxf,SAAS,EAAEigB,YAAY,EAAEC,cAAc,EAAE;EAChE,IAAI;IAAE7iC,WAAW;IAAEC;EAAe,CAAC,GAAG0iB,SAAS;EAC/C,IAAImgB,YAAY,GAAG7iC,cAAc,CAAC2iC,YAAY,CAAC,CAACC,cAAc,CAAC;EAC/D,IAAIE,YAAY,GAAG/iC,WAAW,CAAC4iC,YAAY,CAAC,GAAGE,YAAY,CAACnjC,SAAS;EACrE,IAAI6B,QAAQ,GAAGxB,WAAW,CAACvrE,MAAM;EACjC,IAAI4sE,KAAK,GAAGuhC,YAAY;EACxB;EACA,OAAOvhC,KAAK,GAAGG,QAAQ,IAAIxB,WAAW,CAACqB,KAAK,CAAC,GAAG0hC,YAAY,EAAE1hC,KAAK,IAAI,CAAC,CACpE,CAAC,CAAC;EACN,OAAOA,KAAK,GAAGG,QAAQ,EAAEH,KAAK,IAAI,CAAC,EAAE;IACjC,IAAIoB,OAAO,GAAGxC,cAAc,CAACoB,KAAK,CAAC;IACnC,IAAI3B,KAAK;IACT,IAAIsjC,WAAW,GAAG/gC,kEAAY,CAACQ,OAAO,EAAEqgC,YAAY,CAAC3yC,IAAI,CAAC9iE,KAAK,EAAE60E,8DAAe,CAAC;IACjF,IAAIqgC,YAAY,GAAGS,WAAW,CAAC,CAAC,CAAC,GAAGA,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC;IACpD,IAAIR,UAAU,GAAGD,YAAY;IAC7B;IAAQ;IACR,CAAC7iC,KAAK,GAAG+C,OAAO,CAAC+/B,UAAU,CAAC;IAAK;IAC7B9iC,KAAK,CAACvP,IAAI,CAAC9iE,KAAK,GAAGy1G,YAAY,CAAC3yC,IAAI,CAAC7iE,GAAG,EAAE;MAC1Ck1G,UAAU,IAAI,CAAC;IACnB;IACA,IAAID,YAAY,GAAGC,UAAU,EAAE;MAC3B,OAAO;QAAEnhC,KAAK;QAAEkhC,YAAY;QAAEC;MAAW,CAAC;IAC9C;EACJ;EACA,OAAO,IAAI;AACf;AACA,SAASV,UAAUA,CAACmB,aAAa,EAAEC,cAAc,EAAE;EAC/C,MAAMC,WAAW,GAAGlB,SAAS,CAAC,CAAC7O,IAAI,EAAEgQ,UAAU,EAAEC,aAAa,KAAK/hC,kEAAa,CAAC8xB,IAAI,CAAC,EAAE,CAACA,IAAI,EAAEgQ,UAAU,EAAEC,aAAa,KAAK;IACzH,IAAI;MAAEf,cAAc;MAAE3iC;IAAU,CAAC,GAAGyzB,IAAI;IACxC,IAAIkQ,YAAY,GAAG3jC,SAAS,GAAG0jC,aAAa;IAC5C,IAAIE,iBAAiB,GAAG5jC,SAAS,GAAG2jC,YAAY;IAChD,IAAIE,QAAQ;IACZ,IAAIC,WAAW,GAAG,EAAE;IACpB,IAAI,CAACnB,cAAc,CAAC7tG,MAAM,EAAE;MACxB+uG,QAAQ,GAAGN,cAAc;IAC7B,CAAC,MACI;MACD,KAAK,IAAIxiE,SAAS,IAAI4hE,cAAc,EAAE;QAClC,IAAIkB,QAAQ,KAAK9+G,SAAS,EAAE;UACxB,IAAI44B,GAAG,GAAG6lF,WAAW,CAACziE,SAAS,EAAE0iE,UAAU,EAAEE,YAAY,CAAC;UAC1DE,QAAQ,GAAGlmF,GAAG,CAAC,CAAC,CAAC;UACjBmmF,WAAW,CAACrtG,IAAI,CAACknB,GAAG,CAAC,CAAC,CAAC,CAAC;QAC5B,CAAC,MACI;UACD,IAAIA,GAAG,GAAG6lF,WAAW,CAACziE,SAAS,EAAE8iE,QAAQ,EAAE,CAAC,CAAC;UAC7CC,WAAW,CAACrtG,IAAI,CAACknB,GAAG,CAAC,CAAC,CAAC,CAAC;QAC5B;MACJ;IACJ;IACA,IAAIomF,YAAY,GAAG,CAACF,QAAQ,GAAGJ,UAAU,IAAIG,iBAAiB;IAC9D,OAAO,CAACC,QAAQ,GAAGE,YAAY,EAAE/qG,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEigF,IAAI,CAAC,EAAE;MAAEzzB,SAAS,EAAE+jC,YAAY;MAAEpB,cAAc,EAAEmB;IAAY,CAAC,CAAC,CAAC;EACtI,CAAC,CAAC;EACF,OAAOR,aAAa,CAAC5uG,GAAG,CAAE++F,IAAI,IAAK+P,WAAW,CAAC/P,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClE;AACA;AACA,SAAS2O,UAAUA,CAACkB,aAAa,EAAE;EAC/B,IAAIzgC,KAAK,GAAG,EAAE;EACd,MAAMmhC,WAAW,GAAG1B,SAAS,CAAC,CAAC7O,IAAI,EAAE1yB,UAAU,EAAEkjC,UAAU,KAAKtiC,kEAAa,CAAC8xB,IAAI,CAAC,EAAE,CAACA,IAAI,EAAE1yB,UAAU,EAAEkjC,UAAU,KAAK;IACnH,IAAIhvC,IAAI,GAAGj8D,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEigF,IAAI,CAAC,EAAE;MAAE1yB,UAAU;MAC1DkjC,UAAU;MAAEC,YAAY,EAAE;IAAE,CAAC,CAAC;IAClCrhC,KAAK,CAACpsE,IAAI,CAACw+D,IAAI,CAAC;IAChB,OAAQA,IAAI,CAACivC,YAAY,GAAGC,YAAY,CAAC1Q,IAAI,CAACkP,cAAc,EAAE5hC,UAAU,GAAG0yB,IAAI,CAACzzB,SAAS,EAAEikC,UAAU,GAAG,CAAC,CAAC,GAAG,CAAC;EAClH,CAAC,CAAC;EACF,SAASE,YAAYA,CAAC1d,KAAK,EAAE1lB,UAAU,EAAEkjC,UAAU,EAAE;IACjD,IAAIC,YAAY,GAAG,CAAC;IACpB,KAAK,IAAIzQ,IAAI,IAAIhN,KAAK,EAAE;MACpByd,YAAY,GAAGnrF,IAAI,CAACC,GAAG,CAACgrF,WAAW,CAACvQ,IAAI,EAAE1yB,UAAU,EAAEkjC,UAAU,CAAC,EAAEC,YAAY,CAAC;IACpF;IACA,OAAOA,YAAY;EACvB;EACAC,YAAY,CAACb,aAAa,EAAE,CAAC,EAAE,CAAC,CAAC;EACjC,OAAOzgC,KAAK,CAAC,CAAC;AAClB;AACA;AACA,SAASy/B,SAASA,CAAC8B,OAAO,EAAEC,QAAQ,EAAE;EAClC,MAAMC,KAAK,GAAG,CAAC,CAAC;EAChB,OAAO,CAAC,GAAGn+F,IAAI,KAAK;IAChB,IAAIvI,GAAG,GAAGwmG,OAAO,CAAC,GAAGj+F,IAAI,CAAC;IAC1B,OAAQvI,GAAG,IAAI0mG,KAAK,GACdA,KAAK,CAAC1mG,GAAG,CAAC,GACT0mG,KAAK,CAAC1mG,GAAG,CAAC,GAAGymG,QAAQ,CAAC,GAAGl+F,IAAI,CAAE;EAC1C,CAAC;AACL;AAEA,SAASo+F,iBAAiBA,CAACt2C,IAAI,EAAEu2C,OAAO,EAAE3E,UAAU,GAAG,IAAI,EAAE7pD,cAAc,GAAG,CAAC,EAAE;EAC7E,IAAIyuD,OAAO,GAAG,EAAE;EAChB,IAAI5E,UAAU,EAAE;IACZ,KAAK,IAAIzuG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG68D,IAAI,CAACn5D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;MACrC,IAAI0mC,GAAG,GAAGm2B,IAAI,CAAC78D,CAAC,CAAC;MACjB,IAAIqzF,SAAS,GAAGob,UAAU,CAACkB,cAAc,CAACjpE,GAAG,CAACpqC,KAAK,EAAE82G,OAAO,CAAC;MAC7D,IAAI9f,OAAO,GAAG3rE,IAAI,CAACC,GAAG,CAACyrE,SAAS,IAAIzuC,cAAc,IAAI,CAAC,CAAC;MAAE;MAC1D6pD,UAAU,CAACkB,cAAc,CAACjpE,GAAG,CAACnqC,GAAG,EAAE62G,OAAO,CAAC,CAAC;MAC5CC,OAAO,CAAChuG,IAAI,CAAC;QACT/I,KAAK,EAAEqrB,IAAI,CAAC2vB,KAAK,CAAC+7C,SAAS,CAAC;QAC5B92F,GAAG,EAAEorB,IAAI,CAAC2vB,KAAK,CAACg8C,OAAO,CAAC,CAAE;MAC9B,CAAC,CAAC;IACN;EACJ;;EACA,OAAO+f,OAAO;AAClB;AACA,SAASC,sBAAsBA,CAACz2C,IAAI,EAAE02C,UAAU;AAAE;AAClDhxD,gBAAgB,EAAEoC,aAAa,EAAE;EAC7B,IAAIstC,SAAS,GAAG,EAAE;EAClB,IAAIuhB,QAAQ,GAAG,EAAE,CAAC,CAAC;EACnB,KAAK,IAAIxzG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG68D,IAAI,CAACn5D,MAAM,EAAE1D,CAAC,IAAI,CAAC,EAAE;IACrC,IAAIqzG,OAAO,GAAGE,UAAU,CAACvzG,CAAC,CAAC;IAC3B,IAAIqzG,OAAO,EAAE;MACTphB,SAAS,CAAC5sF,IAAI,CAAC;QACXuU,KAAK,EAAE5Z,CAAC;QACR4uE,SAAS,EAAE,CAAC;QACZxP,IAAI,EAAEi0C;MACV,CAAC,CAAC;IACN,CAAC,MACI;MACDG,QAAQ,CAACnuG,IAAI,CAACw3D,IAAI,CAAC78D,CAAC,CAAC,CAAC;IAC1B;EACJ;EACA,IAAI;IAAEoyF,QAAQ;IAAEwe;EAAa,CAAC,GAAGD,gBAAgB,CAAC1e,SAAS,EAAE1vC,gBAAgB,EAAEoC,aAAa,CAAC;EAC7F,IAAIywC,aAAa,GAAG,EAAE;EACtB,KAAK,IAAIqe,OAAO,IAAIrhB,QAAQ,EAAE;IAC1BgD,aAAa,CAAC/vF,IAAI,CAAC;MACfqhC,GAAG,EAAEm2B,IAAI,CAAC42C,OAAO,CAAC75F,KAAK,CAAC;MACxBiqD,IAAI,EAAE4vC;IACV,CAAC,CAAC;EACN;EACA,KAAK,IAAIC,OAAO,IAAIF,QAAQ,EAAE;IAC1Bpe,aAAa,CAAC/vF,IAAI,CAAC;MAAEqhC,GAAG,EAAEgtE,OAAO;MAAE7vC,IAAI,EAAE;IAAK,CAAC,CAAC;EACpD;EACA,OAAO;IAAEuxB,aAAa;IAAEwb;EAAa,CAAC;AAC1C;AAEA,MAAM/E,mBAAmB,GAAGtuF,iEAAe,CAAC;EACxCxgB,IAAI,EAAE,SAAS;EACfC,MAAM,EAAE,SAAS;EACjBC,QAAQ,EAAE;AACd,CAAC,CAAC;AACF,MAAM02G,YAAY,SAAS33F,6DAAa,CAAC;EACrCnc,MAAMA,CAAA,EAAG;IACL,OAAQR,2EAAa,CAAC4hF,8DAAa,EAAEr5E,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACngB,KAAK,EAAE;MAAEwO,SAAS,EAAE,CACxE,mBAAmB,EACnB,YAAY,EACZ,IAAI,CAACxO,KAAK,CAAC2xG,OAAO,IAAI,yBAAyB,CAClD;MAAE1yB,iBAAiB,EAAE2qB;IAAoB,CAAC,CAAC,CAAC;EACrD;AACJ;AAEA,MAAMgI,OAAO,SAAS73F,6DAAa,CAAC;EAChC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACwyD,aAAa,GAAGn/C,iEAAO,CAACm/C,8DAAa,CAAC;EAC/C;EACA;EACA/8D,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE5G;IAAQ,CAAC,GAAG4G,OAAO;IACzB,IAAI2tG,cAAc,GAAGv0G,OAAO,CAACmlD,YAAY;IACzC,IAAI0xC,UAAU;IAAG;IACfn0F,KAAK,CAAC08B,SAAS,IAAI18B,KAAK,CAAC08B,SAAS,CAACk+B,IAAI,IACpC56D,KAAK,CAAC28B,WAAW,IAAI38B,KAAK,CAAC28B,WAAW,CAACi+B,IAAK,IAC5Ci3C,cAAc,IAAI7xG,KAAK,CAAC60E,iBAAkB,IAC3C,EAAE;IACN,IAAIi9B,4BAA4B;IAAG;IACjC9xG,KAAK,CAAC08B,SAAS,IAAI18B,KAAK,CAAC08B,SAAS,CAAC24C,iBAAiB,IACjDr1E,KAAK,CAAC28B,WAAW,IAAI38B,KAAK,CAAC28B,WAAW,CAAC04C,iBAAkB,IAC1D,CAAC,CAAC;IACN,IAAI08B,YAAY,GAAG,IAAI,CAACp3C,aAAa,CAAC36D,KAAK,CAAC+0E,WAAW,EAAEz3E,OAAO,CAAC+iD,UAAU,CAAC;IAC5E,OAAQjjD,2EAAa,CAACoiF,8DAAgB,EAAE;MAAEjvE,KAAK,EAAE,IAAI;MAAEmzB,KAAK,EAAE1jC,KAAK,CAAC0jC,KAAK;MAAEl1B,SAAS,EAAE,CAC9E,iBAAiB,EACjB,IAAIxO,KAAK,CAAC6rD,eAAe,IAAI,EAAE,CAAC,CACnC;MAAEr7C,OAAO,EAAE7K,MAAM,CAACwa,MAAM,CAAC;QAAEztB,IAAI,EAAE;MAAW,CAAC,EAAEsN,KAAK,CAACwxE,cAAc,CAAC;MAAE92E,IAAI,EAAEsF,KAAK,CAACtF,IAAI;MAAEoxB,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEmwC,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAEqV,gBAAgB,EAAEtxE,KAAK,CAACsxE;IAAiB,CAAC,EAAGxlB,YAAY,IAAM1uD,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAwB,CAAC,EACjRlK,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAqB,CAAC,EACpD,IAAI,CAACyrF,cAAc,CAAC/yF,KAAK,CAAC80E,gBAAgB,EAAE,cAAc,CAAC,EAC3D,IAAI,CAACie,cAAc,CAAC/yF,KAAK,CAACg1E,WAAW,EAAE,UAAU,CAAC,EAClD,IAAI,CAAC+d,cAAc,CAAC/yF,KAAK,CAAC60E,iBAAiB,EAAE,WAAW,CAAC,CAAC,EAC9Dz3E,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAyB,CAAC,EAAE,IAAI,CAACorF,YAAY,CAACqf,YAAY,EAAED,4BAA4B,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC,EACjJ10G,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAyB,CAAC,EAAE,IAAI,CAACorF,YAAY,CAACyB,UAAU,EAAE,CAAC,CAAC,EAAE3+D,OAAO,CAACx1B,KAAK,CAAC08B,SAAS,CAAC,EAAElH,OAAO,CAACx1B,KAAK,CAAC28B,WAAW,CAAC,EAAEnH,OAAO,CAACq8E,cAAc,CAAC,EAAE,QAAQ,CAAC,CAAC,EACzLz0G,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAsC,CAAC,EAAE,IAAI,CAAC0qG,kBAAkB,CAAChyG,KAAK,CAACiyG,gBAAgB,CAAC,CAAC,EAC3HryB,kEAAuB,CAACtiF,OAAO,CAAC,IAAKF,2EAAa,CAAC0uD,YAAY,EAAE;MAAEv7C,KAAK,EAAE,KAAK;MAAE/B,SAAS,EAAE,CAAC,sBAAsB;IAAE,CAAC,CAAE,CAAE,CAAC;EACnI;EACAkkF,YAAYA,CAACqf,YAAY,EAAEG,cAAc,EAAEv1C,UAAU,EAAEC,UAAU,EAAEmiB,eAAe,EAAEozB,SAAS,EAAE;IAC3F,IAAI;MAAEnyG;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIA,KAAK,CAACknC,QAAQ,EAAE;MAChB,OAAOunE,iBAAiB,CAACsD,YAAY,EAAE/xG,KAAK,CAAC;IACjD;IACA,OAAO,IAAI,CAACoyG,sBAAsB,CAACL,YAAY,EAAEG,cAAc,EAAEv1C,UAAU,EAAEC,UAAU,EAAEmiB,eAAe,EAAEozB,SAAS,CAAC;EACxH;EACAC,sBAAsBA,CAACx3C,IAAI;EAAE;EAC7Bs3C,cAAc,EAAEv1C,UAAU,EAAEC,UAAU,EAAEmiB,eAAe,EAAEozB,SAAS,EAAE;IAChE,IAAI;MAAEzvD,aAAa;MAAEG,gBAAgB;MAAEvC,gBAAgB;MAAEqC;IAAe,CAAC,GAAG,IAAI,CAACz+C,OAAO,CAAC5G,OAAO;IAChG,IAAI;MAAE5C,IAAI;MAAE8xG,UAAU;MAAE/vE,cAAc;MAAEw/B,UAAU;MAAE70B;IAAQ,CAAC,GAAG,IAAI,CAACpnC,KAAK;IAC1E,IAAIu8D,QAAQ,GAAGI,UAAU,IAAIC,UAAU,IAAImiB,eAAe;IAC1D,IAAIuyB,UAAU,GAAGJ,iBAAiB,CAACt2C,IAAI,EAAElgE,IAAI,EAAE8xG,UAAU,EAAE7pD,cAAc,CAAC;IAC1E,IAAI;MAAEwwC,aAAa;MAAEwb;IAAa,CAAC,GAAG0C,sBAAsB,CAACz2C,IAAI,EAAE02C,UAAU,EAAEhxD,gBAAgB,EAAEoC,aAAa,CAAC;IAC/G,OAAQtlD,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAChC,IAAI,CAAC20G,kBAAkB,CAAC1D,YAAY,EAAE/zC,IAAI,CAAC,EAC3Cu4B,aAAa,CAAC9xF,GAAG,CAAEixG,YAAY,IAAK;MAChC,IAAI;QAAE7tE,GAAG;QAAEm9B;MAAK,CAAC,GAAG0wC,YAAY;MAChC,IAAI3iD,UAAU,GAAGlrB,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU;MACnD,IAAIu+B,SAAS,GAAG3xB,QAAQ,IAAI/mC,OAAO,CAAC,CAAC08E,cAAc,CAACviD,UAAU,CAAC,IAAIiS,IAAI,CAAC;MACxE,IAAI2wC,MAAM,GAAGC,gBAAgB,CAAC5wC,IAAI,IAAIA,IAAI,CAACzE,IAAI,CAAC;MAChD,IAAIs1C,MAAM,GAAI,CAACl2C,QAAQ,IAAIqF,IAAI,GAAI,IAAI,CAAC8wC,gBAAgB,CAAC9wC,IAAI,CAAC,GAAG;QAAEroE,IAAI,EAAE,CAAC;QAAEE,KAAK,EAAE;MAAE,CAAC;MACtF,IAAIk5G,OAAO,GAAGn9E,OAAO,CAACosC,IAAI,CAAC,IAAIA,IAAI,CAACivC,YAAY,GAAG,CAAC;MACpD,IAAIc,OAAO,GAAGn8E,OAAO,CAACosC,IAAI,CAAC,IAAKA,IAAI,CAACzE,IAAI,CAAC7iE,GAAG,GAAGsnE,IAAI,CAACzE,IAAI,CAAC9iE,KAAK,GAAIwoD,gBAAgB,CAAC,CAAC;MACrF,OAAQzlD,2EAAa,CAAC,KAAK,EAAE;QAAEkK,SAAS,EAAE,2BAA2B,IAC5DqrG,OAAO,GAAG,kCAAkC,GAAG,EAAE,CAAC;QAAEpoG,GAAG,EAAE4nG,SAAS,IAAIxiD,UAAU;QAAEllD,KAAK,EAAE9E,MAAM,CAACwa,MAAM,CAACxa,MAAM,CAACwa,MAAM,CAAC;UAAE6tE,UAAU,EAAEE,SAAS,GAAG,EAAE,GAAG;QAAS,CAAC,EAAEqkB,MAAM,CAAC,EAAEE,MAAM;MAAE,CAAC,EACvLr1G,2EAAa,CAACs0G,YAAY,EAAE/rG,MAAM,CAACwa,MAAM,CAAC;QAAEskB,GAAG,EAAEA,GAAG;QAAEk4B,UAAU,EAAEA,UAAU;QAAEC,UAAU,EAAEA,UAAU;QAAEmiB,eAAe,EAAEA,eAAe;QAAEliB,UAAU,EAAElN,UAAU,KAAKlzB,cAAc;QAAEk1E,OAAO,EAAEA;MAAQ,CAAC,EAAE31C,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,EAAE70B,OAAO,CAAC,CAAC,CAAC,CAAC;IACtP,CAAC,CAAC,CAAC;EACX;EACA;EACAirE,kBAAkBA,CAAC1D,YAAY,EAAE/zC,IAAI,EAAE;IACnC,IAAI;MAAE0mB,aAAa;MAAEx1D,WAAW;MAAEmwC,UAAU;MAAE70B,OAAO;MAAE3K,cAAc;MAAEC,SAAS;MAAEC;IAAY,CAAC,GAAG,IAAI,CAAC38B,KAAK;IAC5G,OAAQ5C,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEixG,YAAY,CAACttG,GAAG,CAAEuxG,WAAW,IAAK;MACpE,IAAIC,WAAW,GAAGL,gBAAgB,CAACI,WAAW,CAACz1C,IAAI,CAAC;MACpD,IAAIglB,UAAU,GAAG2wB,sBAAsB,CAACF,WAAW,CAACnjC,OAAO,EAAE7U,IAAI,CAAC;MAClE,OAAQx9D,2EAAa,CAACoxG,eAAe,EAAE;QAAEjkG,GAAG,EAAEitC,kEAAc,CAACmrC,kEAAuB,CAACR,UAAU,CAAC,CAAC;QAAEA,UAAU,EAAEA,UAAU;QAAEzjB,GAAG,EAAEm0C,WAAW,CAACn0C,GAAG;QAAEmD,MAAM,EAAEgxC,WAAW,CAAChxC,MAAM;QAAEyf,aAAa,EAAEA,aAAa;QAAEx1D,WAAW,EAAEA,WAAW;QAAEmwC,UAAU,EAAEA,UAAU;QAAE70B,OAAO,EAAEA,OAAO;QAAE3K,cAAc,EAAEA,cAAc;QAAEC,SAAS,EAAEA,SAAS;QAAEC,WAAW,EAAEA;MAAY,CAAC,CAAC;IACpW,CAAC,CAAC,CAAC;EACP;EACAo2D,cAAcA,CAACn4B,IAAI,EAAEqlB,QAAQ,EAAE;IAC3B,IAAI;MAAEjgF,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAIotG,UAAU,GAAGJ,iBAAiB,CAACt2C,IAAI,EAAE56D,KAAK,CAACtF,IAAI,EAAEsF,KAAK,CAACwsG,UAAU,EAAEtoG,OAAO,CAAC5G,OAAO,CAACqlD,cAAc,CAAC,CAAC,CAAC;IACxG,IAAIlwD,QAAQ,GAAG6+G,UAAU,CAACjwG,GAAG,CAAC,CAAC+vG,OAAO,EAAErzG,CAAC,KAAK;MAC1C,IAAI0mC,GAAG,GAAGm2B,IAAI,CAAC78D,CAAC,CAAC;MACjB,OAAQX,2EAAa,CAAC,KAAK,EAAE;QAAEmN,GAAG,EAAEuyD,kEAAkB,CAACr4B,GAAG,CAACK,UAAU,CAAC;QAAEx9B,SAAS,EAAE,wBAAwB;QAAEmD,KAAK,EAAE+nG,gBAAgB,CAACpB,OAAO;MAAE,CAAC,EAAEnxB,QAAQ,KAAK,UAAU,GACpK7iF,2EAAa,CAAC0iF,8DAAO,EAAEn6E,MAAM,CAACwa,MAAM,CAAC;QAAEskB,GAAG,EAAEA;MAAI,CAAC,EAAEu3B,kEAAU,CAACv3B,GAAG,EAAEzkC,KAAK,CAACi8D,UAAU,EAAEj8D,KAAK,CAAConC,OAAO,CAAC,CAAC,CAAC,GACrG44C,kEAAU,CAACC,QAAQ,CAAC,CAAC;IAC7B,CAAC,CAAC;IACF,OAAO7iF,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEjL,QAAQ,CAAC;EAClD;EACAu/G,kBAAkBA,CAACp3C,IAAI,EAAE;IACrB,IAAI;MAAE4xC,UAAU;MAAE9xG;IAAK,CAAC,GAAG,IAAI,CAACsF,KAAK;IACrC,IAAI,CAACwsG,UAAU,EAAE;MACb,OAAO,IAAI;IACf;IACA,OAAO5xC,IAAI,CAACv5D,GAAG,CAAC,CAACojC,GAAG,EAAE1mC,CAAC,KAAMX,2EAAa,CAACiiF,8DAAqBA;IAChE;IAAA,EACE;MACE;MACA90E,GAAG,EAAExM,CAAC;MAAEyQ,SAAS,EAAE,CAAC,gCAAgC,CAAC;MAAEC,OAAO,EAAE;QAC5DiwD,GAAG,EAAE8tC,UAAU,CAACkB,cAAc,CAACjpE,GAAG,CAACpqC,KAAK,EAAEK,IAAI;MAClD,CAAC;MAAE4kF,MAAM,EAAE,KAAK;MAAE5kF,IAAI,EAAEA;IAAK,CAAC,CAAE,CAAC;EACzC;EACAg4G,gBAAgBA,CAACK,UAAU,EAAE;IACzB,IAAI;MAAE9hF,KAAK;MAAE3zB;IAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;IACrC,IAAI8uG,aAAa,GAAG11G,OAAO,CAACwlD,gBAAgB;IAC5C,IAAImwD,SAAS,GAAGF,UAAU,CAACrlC,UAAU,CAAC,CAAC;IACvC,IAAIwlC,QAAQ,GAAGH,UAAU,CAACrlC,UAAU,GAAGqlC,UAAU,CAACpmC,SAAS,CAAC,CAAC;IAC7D,IAAIpzE,IAAI,CAAC,CAAC;IACV,IAAIE,KAAK,CAAC,CAAC;IACX,IAAIu5G,aAAa,EAAE;MACf;MACAE,QAAQ,GAAGxtF,IAAI,CAAC0wB,GAAG,CAAC,CAAC,EAAE68D,SAAS,GAAG,CAACC,QAAQ,GAAGD,SAAS,IAAI,CAAC,CAAC;IAClE;IACA,IAAIhiF,KAAK,EAAE;MACP13B,IAAI,GAAG,CAAC,GAAG25G,QAAQ;MACnBz5G,KAAK,GAAGw5G,SAAS;IACrB,CAAC,MACI;MACD15G,IAAI,GAAG05G,SAAS;MAChBx5G,KAAK,GAAG,CAAC,GAAGy5G,QAAQ;IACxB;IACA,IAAIlzG,KAAK,GAAG;MACRu6F,MAAM,EAAEwY,UAAU,CAACnC,UAAU,GAAG,CAAC;MACjCr3G,IAAI,EAAEA,IAAI,GAAG,GAAG,GAAG,GAAG;MACtBE,KAAK,EAAEA,KAAK,GAAG,GAAG,GAAG;IACzB,CAAC;IACD,IAAIu5G,aAAa,IAAI,CAACD,UAAU,CAAClC,YAAY,EAAE;MAC3C;MACA7wG,KAAK,CAACixB,KAAK,GAAG,YAAY,GAAG,aAAa,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;IAC1D;;IACA,OAAOjxB,KAAK;EAChB;AACJ;AACA,SAASyuG,iBAAiBA,CAACsD,YAAY,EAAE;EAAE91C,UAAU;EAAE70B,OAAO;EAAE3K,cAAc;EAAEC,SAAS;EAAEC;AAAY,CAAC,EAAE;EACtG,IAAIw2E,eAAe,GAAG,CAACz2E,SAAS,GAAGA,SAAS,CAAC24C,iBAAiB,GAAG,IAAI,MAChE14C,WAAW,GAAGA,WAAW,CAAC04C,iBAAiB,GAAG,IAAI,CAAC,IACpD,CAAC,CAAC;EACN,OAAQj4E,2EAAa,CAACM,kEAAQ,EAAE,IAAI,EAAEq0G,YAAY,CAAC1wG,GAAG,CAAEojC,GAAG,IAAK;IAC5D,IAAIkrB,UAAU,GAAGlrB,GAAG,CAACK,UAAU,CAACC,QAAQ,CAAC4qB,UAAU;IACnD,OAAQvyD,2EAAa,CAAC,KAAK,EAAE;MAAEmN,GAAG,EAAEolD,UAAU;MAAEllD,KAAK,EAAE;QAAEujF,UAAU,EAAEmlB,eAAe,CAACxjD,UAAU,CAAC,GAAG,QAAQ,GAAG;MAAG;IAAE,CAAC,EAChHvyD,2EAAa,CAACs0G,YAAY,EAAE/rG,MAAM,CAACwa,MAAM,CAAC;MAAEskB,GAAG,EAAEA,GAAG;MAAEk4B,UAAU,EAAE,KAAK;MAAEC,UAAU,EAAE,KAAK;MAAEmiB,eAAe,EAAE,KAAK;MAAEliB,UAAU,EAAElN,UAAU,KAAKlzB,cAAc;MAAEk1E,OAAO,EAAE;IAAM,CAAC,EAAE31C,kEAAU,CAACv3B,GAAG,EAAEw3B,UAAU,EAAE70B,OAAO,CAAC,CAAC,CAAC,CAAC;EAChO,CAAC,CAAC,CAAC;AACP;AACA,SAASorE,gBAAgBA,CAAClB,UAAU,EAAE;EAClC,IAAI,CAACA,UAAU,EAAE;IACb,OAAO;MAAE5yC,GAAG,EAAE,EAAE;MAAEmD,MAAM,EAAE;IAAG,CAAC;EAClC;EACA,OAAO;IACHnD,GAAG,EAAE4yC,UAAU,CAACj3G,KAAK;IACrBwnE,MAAM,EAAE,CAACyvC,UAAU,CAACh3G;EACxB,CAAC;AACL;AACA,SAASw4G,sBAAsBA,CAACM,UAAU,EAAElxB,OAAO,EAAE;EACjD,OAAOkxB,UAAU,CAAC/xG,GAAG,CAAEwuF,QAAQ,IAAK3N,OAAO,CAAC2N,QAAQ,CAACl4E,KAAK,CAAC,CAAC;AAChE;AAEA,MAAM07F,eAAe,SAASt5F,6DAAa,CAAC;EACxC1oB,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACysF,gBAAgB,GAAGp5E,iEAAO,CAAC6yF,cAAc,CAAC;IAC/C,IAAI,CAAC3Z,gBAAgB,GAAGl5E,iEAAO,CAAC6yF,cAAc,CAAC;IAC/C,IAAI,CAAC5Z,qBAAqB,GAAGj5E,iEAAO,CAAC6yF,cAAc,CAAC;IACpD,IAAI,CAACiF,qBAAqB,GAAG93F,iEAAO,CAAC6yF,cAAc,CAAC;IACpD,IAAI,CAACxZ,sBAAsB,GAAGr5E,iEAAO,CAAC6yF,cAAc,CAAC;IACrD,IAAI,CAAClrC,cAAc,GAAG3nD,iEAAO,CAAC+yF,qBAAqB,CAAC;IACpD,IAAI,CAAClrC,gBAAgB,GAAG7nD,iEAAO,CAAC+yF,qBAAqB,CAAC;IACtD,IAAI,CAACn7F,SAAS,GAAGlV,uEAAS,CAAC,CAAC;IAC5B,IAAI,CAACyzF,UAAU,GAAG,IAAIjY,8DAAM,CAAC,CAAC;EAClC;EACA97E,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAIgpG,eAAe,GAAGhpG,OAAO,CAAC5G,OAAO,CAACqiD,YAAY,IAC9C3/C,KAAK,CAACwsG,UAAU,IAChBxsG,KAAK,CAACwsG,UAAU,CAACW,cAAc,CAACntG,KAAK,CAAConC,OAAO,CAAC,CAAC,CAAC;IACpD,IAAIgqC,MAAM,GAAGpxE,KAAK,CAACozE,KAAK,CAAC3xE,MAAM;IAC/B,IAAIwzF,gBAAgB,GAAG,IAAI,CAACL,gBAAgB,CAAC50F,KAAK,CAAC+0E,WAAW,EAAE3D,MAAM,CAAC;IACvE,IAAI4jB,gBAAgB,GAAG,IAAI,CAACN,gBAAgB,CAAC10F,KAAK,CAACg1E,WAAW,EAAE5D,MAAM,CAAC;IACvE,IAAI2jB,qBAAqB,GAAG,IAAI,CAACN,qBAAqB,CAACz0F,KAAK,CAAC80E,gBAAgB,EAAE1D,MAAM,CAAC;IACtF,IAAImiC,qBAAqB,GAAG,IAAI,CAACD,qBAAqB,CAACtzG,KAAK,CAACiyG,gBAAgB,EAAE7gC,MAAM,CAAC;IACtF,IAAI8jB,sBAAsB,GAAG,IAAI,CAACL,sBAAsB,CAAC70F,KAAK,CAAC60E,iBAAiB,EAAEzD,MAAM,CAAC;IACzF,IAAI+jB,cAAc,GAAG,IAAI,CAAChyB,cAAc,CAACnjE,KAAK,CAAC08B,SAAS,EAAE00C,MAAM,CAAC;IACjE,IAAIgkB,gBAAgB,GAAG,IAAI,CAAC/xB,gBAAgB,CAACrjE,KAAK,CAAC28B,WAAW,EAAEy0C,MAAM,CAAC;IACvE,OAAQh0E,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,kBAAkB;MAAEpH,GAAG,EAAE,IAAI,CAACkT;IAAU,CAAC,EAC/EhW,2EAAa,CAAC,OAAO,EAAE;MAAE1K,IAAI,EAAE,cAAc;MAAE+X,KAAK,EAAE;QAC9CywE,QAAQ,EAAEl7E,KAAK,CAACm7E,aAAa;QAC7Bx+E,KAAK,EAAEqD,KAAK,CAAC0mE;MACjB;IAAE,CAAC,EACH1mE,KAAK,CAACo7E,iBAAiB,EACvBh+E,2EAAa,CAAC,OAAO,EAAE;MAAE1K,IAAI,EAAE;IAAe,CAAC,EAC3C0K,2EAAa,CAAC,IAAI,EAAE;MAAE1K,IAAI,EAAE;IAAM,CAAC,EAC/BsN,KAAK,CAACiuG,IAAI,IAAK7wG,2EAAa,CAAC,IAAI,EAAE;MAAE,aAAa,EAAE,IAAI;MAAEkK,SAAS,EAAE;IAAmC,CAAC,EACrGlK,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAwB,CAAC,EACvDlK,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE;IAAsC,CAAC,EAAE,OAAO4lG,eAAe,KAAK,QAAQ,IAAK9vG,2EAAa,CAACiiF,8DAAqB,EAAE;MAAE7wE,SAAS,EAAE,CAAC,iCAAiC,CAAC;MAAEC,OAAO,EAAE;QAAEiwD,GAAG,EAAEwuC;MAAgB,CAAC;MAAE5tB,MAAM,EAAE,IAAI;MAAE5kF,IAAI,EAAEsF,KAAK,CAAConC;IAAQ,CAAC,CAAE,CAAC,CAAC,CAAE,EAC9RpnC,KAAK,CAACozE,KAAK,CAAC/xE,GAAG,CAAC,CAACmxF,IAAI,EAAEz0F,CAAC,KAAMX,2EAAa,CAACw0G,OAAO,EAAE;MAAErnG,GAAG,EAAEioF,IAAI,CAACjoF,GAAG;MAAEm5B,KAAK,EAAE,IAAI,CAACiuD,UAAU,CAACzzF,SAAS,CAACs0F,IAAI,CAACjoF,GAAG,CAAC;MAAEuhB,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEpxB,IAAI,EAAE83F,IAAI,CAAC93F,IAAI;MAAE0sC,OAAO,EAAEpnC,KAAK,CAAConC,OAAO;MAAE60B,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAEqV,gBAAgB,EAAEkhB,IAAI,CAAClhB,gBAAgB;MAAEE,cAAc,EAAEghB,IAAI,CAAChhB,cAAc;MAAE3lB,eAAe,EAAE2mC,IAAI,CAAC3mC,eAAe;MAAEy1B,aAAa,EAAEkR,IAAI,CAAClR,aAAa;MAAEvM,WAAW,EAAEkgB,gBAAgB,CAACl3F,CAAC,CAAC;MAAEi3E,WAAW,EAAEggB,gBAAgB,CAACj3F,CAAC,CAAC;MAAE+2E,gBAAgB,EAAEigB,qBAAqB,CAACh3F,CAAC,CAAC;MAAEk0G,gBAAgB,EAAEsB,qBAAqB,CAACx1G,CAAC,CAAC;MAAE82E,iBAAiB,EAAEqgB,sBAAsB,CAACn3F,CAAC,CAAC;MAAE2+B,SAAS,EAAEy4D,cAAc,CAACp3F,CAAC,CAAC;MAAE4+B,WAAW,EAAEy4D,gBAAgB,CAACr3F,CAAC,CAAC;MAAEyuG,UAAU,EAAExsG,KAAK,CAACwsG,UAAU;MAAE/vE,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEyK,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,CAAE,CAAC,CAAC,CAAC,CAAC,CAAC;EACpvB;EACAhiC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACsuG,YAAY,CAAC,CAAC;EACvB;EACAvuG,kBAAkBA,CAAA,EAAG;IACjB,IAAI,CAACuuG,YAAY,CAAC,CAAC;EACvB;EACAA,YAAYA,CAAA,EAAG;IACX,IAAI;MAAExzG;IAAM,CAAC,GAAG,IAAI;IACpB,IAAIA,KAAK,CAACyzG,WAAW,IACjBzzG,KAAK,CAAC0mE,WAAW,KAAK,IAAI,CAAC;IAAA,EAC7B;MACE1mE,KAAK,CAACyzG,WAAW,CAAC,IAAI3qC,8DAAa,CAAC,IAAI,CAAC11D,SAAS,CAAChT,OAAO,EAAEszG,cAAc,CAAC,IAAI,CAAC/hB,UAAU,CAAC/X,UAAU,EAAE55E,KAAK,CAACozE,KAAK,CAAC,EAAE,IAAI;MAAE;MAC3H,KAAK,CAAC,CAAC;IACX;EACJ;AACJ;AACA,SAASsgC,cAAcA,CAACxf,KAAK,EAAE9gB,KAAK,EAAE;EAClC,OAAOA,KAAK,CAAC/xE,GAAG,CAAEmxF,IAAI,IAAK0B,KAAK,CAAC1B,IAAI,CAACjoF,GAAG,CAAC,CAAC;AAC/C;;AAEA;AACA;AACA,MAAMopG,QAAQ,SAAS5nC,8DAAa,CAAC;EACjC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACyrG,kBAAkB,GAAGp4F,iEAAO,CAACo4F,kBAAkB,CAAC;IACrD,IAAI,CAAChzG,KAAK,GAAG;MACT4rG,UAAU,EAAE;IAChB,CAAC;IACD,IAAI,CAACjsB,YAAY,GAAItrE,EAAE,IAAK;MACxB,IAAIA,EAAE,EAAE;QACJ,IAAI,CAAC/Q,OAAO,CAAC+hC,4BAA4B,CAAC,IAAI,EAAE;UAC5ChxB,EAAE;UACF+pD,iBAAiB,EAAE,IAAI,CAACh/D,KAAK,CAACg/D;QAClC,CAAC,CAAC;MACN,CAAC,MACI;QACD,IAAI,CAAC96D,OAAO,CAACsiC,8BAA8B,CAAC,IAAI,CAAC;MACrD;IACJ,CAAC;IACD,IAAI,CAAC+iB,mBAAmB,GAAItxB,OAAO,IAAK;MACpC,IAAI;QAAE47E;MAAmB,CAAC,GAAG,IAAI,CAAC7zG,KAAK;MACvC,IAAI;QAAEwsG;MAAW,CAAC,GAAG,IAAI,CAAC5rG,KAAK;MAC/B,IAAIizG,kBAAkB,IAAIrH,UAAU,EAAE;QAClC,IAAIv0E,OAAO,CAAC6xB,IAAI,EAAE;UACd,IAAI4U,GAAG,GAAG8tC,UAAU,CAACiB,cAAc,CAACx1E,OAAO,CAAC6xB,IAAI,CAAC;UACjD4U,GAAG,GAAGh5C,IAAI,CAACmtD,IAAI,CAACnU,GAAG,CAAC,CAAC,CAAC;UACtB,IAAIA,GAAG,EAAE;YACLA,GAAG,IAAI,CAAC,CAAC,CAAC;UACd;;UACAm1C,kBAAkB,CAACn1C,GAAG,CAAC;QAC3B;QACA,OAAO,IAAI;MACf;MACA,OAAO,KAAK;IAChB,CAAC;IACD,IAAI,CAACo1C,eAAe,GAAIC,SAAS,IAAK;MAClC,IAAI,CAACA,SAAS,GAAGA,SAAS;IAC9B,CAAC;IACD,IAAI,CAAChH,gBAAgB,GAAIP,UAAU,IAAK;MACpC,IAAI,CAAClpG,QAAQ,CAAC;QAAEkpG;MAAW,CAAC,CAAC;MAC7B,IAAI,IAAI,CAACxsG,KAAK,CAACg0G,YAAY,EAAE;QACzB,IAAI,CAACh0G,KAAK,CAACg0G,YAAY,CAACxH,UAAU,CAAC;MACvC;IACJ,CAAC;EACL;EACA5uG,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEY;IAAM,CAAC,GAAG,IAAI;IAC3B,OAAQxD,2EAAa,CAAC,KAAK,EAAE;MAAEkK,SAAS,EAAE,kBAAkB;MAAEpH,GAAG,EAAE,IAAI,CAACqgF,YAAY;MAAE91E,KAAK,EAAE;QACrF;QACA;QACA9N,KAAK,EAAEqD,KAAK,CAAC0mE,WAAW;QACxBwU,QAAQ,EAAEl7E,KAAK,CAACm7E;MACpB;IAAE,CAAC,EACH/9E,2EAAa,CAAC8wG,aAAa,EAAE;MAAED,IAAI,EAAEjuG,KAAK,CAACiuG,IAAI;MAAEniF,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEqgF,SAAS,EAAEnsG,KAAK,CAACmsG,SAAS;MAAEzlC,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAE+nB,SAAS,EAAEzuF,KAAK,CAACygD,UAAU,GAAGzgD,KAAK,CAACymE,YAAY,GAAG,EAAE;MAAE0U,aAAa,EAAEn7E,KAAK,CAACm7E,aAAa;MAAEC,iBAAiB,EAAEp7E,KAAK,CAACiuG,IAAI,GAAGjuG,KAAK,CAACo7E,iBAAiB,GAAG,IAAI,CAAC;MAAgD+yB,QAAQ,EAAE,IAAI,CAACpB;IAAiB,CAAC,CAAC,EACzX3vG,2EAAa,CAACi2G,eAAe,EAAE;MAAEjgC,KAAK,EAAEpzE,KAAK,CAACozE,KAAK;MAAE66B,IAAI,EAAEjuG,KAAK,CAACiuG,IAAI;MAAEniF,WAAW,EAAE9rB,KAAK,CAAC8rB,WAAW;MAAEgpD,gBAAgB,EAAE90E,KAAK,CAAC80E,gBAAgB;MAAEE,WAAW,EAAEh1E,KAAK,CAACg1E,WAAW;MAAED,WAAW,EAAE/0E,KAAK,CAAC+0E,WAAW;MAAEF,iBAAiB,EAAE70E,KAAK,CAAC60E,iBAAiB;MAAEp4C,cAAc,EAAEz8B,KAAK,CAACy8B,cAAc;MAAEC,SAAS,EAAE18B,KAAK,CAAC08B,SAAS;MAAEC,WAAW,EAAE38B,KAAK,CAAC28B,WAAW;MAAEs/B,UAAU,EAAEj8D,KAAK,CAACi8D,UAAU;MAAE70B,OAAO,EAAEpnC,KAAK,CAAConC,OAAO;MAAE6qE,gBAAgB,EAAEjyG,KAAK,CAACiyG,gBAAgB;MAAEvrC,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAEyU,aAAa,EAAEn7E,KAAK,CAACm7E,aAAa;MAAEC,iBAAiB,EAAEp7E,KAAK,CAACo7E,iBAAiB;MAAEoxB,UAAU,EAAE5rG,KAAK,CAAC4rG,UAAU;MAAEiH,WAAW,EAAE,IAAI,CAACK,eAAe;MAAE5sE,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,CAAC,CAAC;EACppB;EACAhiC,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAAC+uG,eAAe,GAAG,IAAI,CAAC/vG,OAAO,CAAC6lD,qBAAqB,CAAC,IAAI,CAACR,mBAAmB,CAAC;EACvF;EACAtkD,kBAAkBA,CAACyiC,SAAS,EAAE;IAC1B,IAAI,CAACusE,eAAe,CAACrqD,MAAM,CAACliB,SAAS,CAAC5b,WAAW,KAAK,IAAI,CAAC9rB,KAAK,CAAC8rB,WAAW,CAAC;EACjF;EACAroB,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAACwwG,eAAe,CAACvqD,MAAM,CAAC,CAAC;EACjC;EACAuiB,QAAQA,CAACC,YAAY,EAAEC,WAAW,EAAE;IAChC,IAAI;MAAEthD,OAAO;MAAEvtB;IAAQ,CAAC,GAAG,IAAI,CAAC4G,OAAO;IACvC,IAAI;MAAE6vG;IAAU,CAAC,GAAG,IAAI;IACxB,IAAI;MAAEjoF;IAAY,CAAC,GAAG,IAAI,CAAC9rB,KAAK;IAChC,IAAI;MAAEwsG;IAAW,CAAC,GAAG,IAAI,CAAC5rG,KAAK;IAC/B,IAAI;MAAE69C,YAAY;MAAEy1D;IAAa,CAAC,GAAG,IAAI,CAACN,kBAAkB,CAAC,IAAI,CAAC5zG,KAAK,CAACw+C,YAAY,EAAElhD,OAAO,CAACmhD,YAAY,CAAC;IAC3G,IAAI01D,QAAQ,GAAGJ,SAAS,CAACnqC,WAAW,CAACsC,YAAY,CAAC;IAClD,IAAI2hC,SAAS,GAAGrB,UAAU,CAACc,SAAS,CAACxjC,UAAU,CAACqC,WAAW,CAAC;IAC5D,IAAIgoC,QAAQ,IAAI,IAAI,IAAItG,SAAS,IAAI,IAAI,EAAE;MACvC,IAAIrb,IAAI,GAAG,IAAI,CAACxyF,KAAK,CAACozE,KAAK,CAAC+gC,QAAQ,CAAC;MACrC,IAAIC,OAAO,GAAG5H,UAAU,CAACc,SAAS,CAAC5jC,IAAI,CAACmkC,SAAS,CAAC;MAClD,IAAIwG,UAAU,GAAG7H,UAAU,CAACc,SAAS,CAACpjC,SAAS,CAAC2jC,SAAS,CAAC;MAC1D,IAAIyG,OAAO,GAAG,CAACnoC,WAAW,GAAGioC,OAAO,IAAIC,UAAU,CAAC,CAAC;MACpD,IAAIE,cAAc,GAAG7uF,IAAI,CAAC8wB,KAAK,CAAC89D,OAAO,GAAGJ,YAAY,CAAC,CAAC,CAAC;MACzD,IAAIM,SAAS,GAAG3G,SAAS,GAAGqG,YAAY,GAAGK,cAAc;MACzD,IAAI9K,OAAO,GAAG,IAAI,CAACzpG,KAAK,CAACozE,KAAK,CAAC+gC,QAAQ,CAAC,CAACz5G,IAAI;MAC7C,IAAIovD,IAAI,GAAGzW,kEAAY,CAACvnB,WAAW,CAACmT,WAAW,EAAEqU,kEAAgB,CAACmL,YAAY,EAAE+1D,SAAS,CAAC,CAAC;MAC3F,IAAIn6G,KAAK,GAAGwwB,OAAO,CAAC2L,GAAG,CAACizE,OAAO,EAAE3/C,IAAI,CAAC;MACtC,IAAIxvD,GAAG,GAAGuwB,OAAO,CAAC2L,GAAG,CAACn8B,KAAK,EAAEokD,YAAY,CAAC;MAC1C,OAAO;QACH3yB,WAAW;QACXkqC,QAAQ,EAAErwD,MAAM,CAACwa,MAAM,CAAC;UAAE8N,KAAK,EAAE;YAAE5zB,KAAK;YAAEC;UAAI,CAAC;UAAE+vC,MAAM,EAAE;QAAM,CAAC,EAAEmoD,IAAI,CAAClR,aAAa,CAAC;QACrFC,KAAK,EAAEwyB,SAAS,CAAC/qC,GAAG,CAACmrC,QAAQ,CAAC;QAC9BvyC,IAAI,EAAE;UACFroE,IAAI,EAAEw6G,SAAS,CAACxqC,KAAK,CAAC4qC,QAAQ,CAAC;UAC/B16G,KAAK,EAAEs6G,SAAS,CAACvqC,MAAM,CAAC2qC,QAAQ,CAAC;UACjCz1C,GAAG,EAAE01C,OAAO;UACZvyC,MAAM,EAAEuyC,OAAO,GAAGC;QACtB,CAAC;QACD7yB,KAAK,EAAE;MACX,CAAC;IACL;IACA,OAAO,IAAI;EACf;AACJ;AACA,SAASoyB,kBAAkBA,CAACp1D,YAAY,EAAEi2D,oBAAoB,EAAE;EAC5D,IAAIh2D,YAAY,GAAGg2D,oBAAoB,IAAIj2D,YAAY;EACvD,IAAI01D,YAAY,GAAGrgE,kEAAoB,CAAC2K,YAAY,EAAEC,YAAY,CAAC;EACnE,IAAIy1D,YAAY,KAAK,IAAI,EAAE;IACvBz1D,YAAY,GAAGD,YAAY;IAC3B01D,YAAY,GAAG,CAAC;IAChB;EACJ;;EACA,OAAO;IAAEz1D,YAAY;IAAEy1D;EAAa,CAAC;AACzC;AAEA,MAAMQ,iBAAiB,SAAS1gC,8DAAM,CAAC;EACnCzB,UAAUA,CAACtkD,KAAK,EAAE28E,SAAS,EAAE;IACzB,IAAIhwC,IAAI,GAAG,EAAE;IACb,KAAK,IAAI8Y,GAAG,GAAG,CAAC,EAAEA,GAAG,GAAGk3B,SAAS,CAACnpG,MAAM,EAAEiyE,GAAG,IAAI,CAAC,EAAE;MAChD,IAAIxX,QAAQ,GAAGlhD,iEAAe,CAACiT,KAAK,EAAE28E,SAAS,CAACl3B,GAAG,CAAC,CAAC;MACrD,IAAIxX,QAAQ,EAAE;QACVtB,IAAI,CAACx3D,IAAI,CAAC;UACN/I,KAAK,EAAE6hE,QAAQ,CAAC7hE,KAAK;UACrBC,GAAG,EAAE4hE,QAAQ,CAAC5hE,GAAG;UACjB6/D,OAAO,EAAE+B,QAAQ,CAAC7hE,KAAK,CAAC8W,OAAO,CAAC,CAAC,KAAK8c,KAAK,CAAC5zB,KAAK,CAAC8W,OAAO,CAAC,CAAC;UAC3DipD,KAAK,EAAE8B,QAAQ,CAAC5hE,GAAG,CAAC6W,OAAO,CAAC,CAAC,KAAK8c,KAAK,CAAC3zB,GAAG,CAAC6W,OAAO,CAAC,CAAC;UACrDuiE;QACJ,CAAC,CAAC;MACN;IACJ;IACA,OAAO9Y,IAAI;EACf;AACJ;AAEA,MAAM+5C,WAAW,SAAS5oC,8DAAa,CAAC;EACpC16E,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACysG,cAAc,GAAGp5F,iEAAO,CAACo5F,cAAc,CAAC;IAC7C,IAAI,CAACne,MAAM,GAAG,IAAIie,iBAAiB,CAAC,CAAC;IACrC,IAAI,CAACG,WAAW,GAAG32G,uEAAS,CAAC,CAAC;EAClC;EACAN,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEoC,KAAK;MAAEkE;IAAQ,CAAC,GAAG,IAAI;IAC7B,IAAI;MAAE4nB,WAAW;MAAEyqE;IAAc,CAAC,GAAGv2F,KAAK;IAC1C,IAAI;MAAE2/C,YAAY;MAAE13B;IAAiB,CAAC,GAAG/jB,OAAO,CAAC5G,OAAO;IACxD,IAAIstG,SAAS,GAAG,IAAI,CAACgK,cAAc,CAACre,aAAa,EAAEzqE,WAAW,EAAE5nB,OAAO,CAAC2mB,OAAO,CAAC;IAChF;IACA;IACA,OAAQztB,2EAAa,CAACugB,8DAAQ,EAAE;MAAE0C,IAAI,EAAEs/B,YAAY,GAAG,QAAQ,GAAG;IAAM,CAAC,EAAE,CAACvY,OAAO,EAAE60B,UAAU,KAAM7+D,2EAAa,CAACu2G,QAAQ,EAAEhuG,MAAM,CAACwa,MAAM,CAAC;MAAEjgB,GAAG,EAAE,IAAI,CAAC20G;IAAY,CAAC,EAAE,IAAI,CAACpe,MAAM,CAAC/hB,UAAU,CAAC10E,KAAK,EAAE8rB,WAAW,EAAE,IAAI,EAAE5nB,OAAO,EAAE0mG,SAAS,CAAC,EAAE;MAAE1jE,QAAQ,EAAElnC,KAAK,CAACknC,QAAQ;MAAE+mE,IAAI,EAAEjuG,KAAK,CAACiuG,IAAI;MAAEniF,WAAW,EAAEA,WAAW;MAAEqgF,SAAS,EAAEnsG,KAAK,CAACmsG,SAAS;MAAE3tD,YAAY,EAAEx+C,KAAK,CAACw+C,YAAY;MAAE40B,KAAK,EAAEmjB,aAAa,CAACnjB,KAAK,CAAC,CAAC,CAAC;MAAEgI,iBAAiB,EAAEp7E,KAAK,CAACo7E,iBAAiB;MAAED,aAAa,EAAEn7E,KAAK,CAACm7E,aAAa;MAAEzU,WAAW,EAAE1mE,KAAK,CAAC0mE,WAAW;MAAED,YAAY,EAAEzmE,KAAK,CAACymE,YAAY;MAAEhmB,UAAU,EAAEzgD,KAAK,CAACygD,UAAU;MAAErZ,OAAO,EAAEA,OAAO;MAAE6qE,gBAAgB,EAAEtyD,YAAY,IAAI,IAAI,CAAC82C,MAAM,CAACxhB,YAAY,CAAC7tC,OAAO,EAAEtb,WAAW,EAAE7D,gBAAgB,EAAE/jB,OAAO,EAAE0mG,SAAS,CAAC;MAAE3uC,UAAU,EAAEA,UAAU;MAAE43C,kBAAkB,EAAE7zG,KAAK,CAAC6zG,kBAAkB;MAAEG,YAAY,EAAEh0G,KAAK,CAACg0G;IAAa,CAAC,CAAC,CAAE,CAAC;EAC3zB;AACJ;AACA,SAASY,cAAcA,CAACre,aAAa,EAAEzqE,WAAW,EAAEjB,OAAO,EAAE;EACzD,IAAI4hC,MAAM,GAAG,EAAE;EACf,KAAK,IAAI/xD,IAAI,IAAI67F,aAAa,CAACjjB,WAAW,EAAE;IACxC7mB,MAAM,CAACrpD,IAAI,CAAC;MACR/I,KAAK,EAAEwwB,OAAO,CAAC2L,GAAG,CAAC97B,IAAI,EAAEoxB,WAAW,CAACmT,WAAW,CAAC;MACjD3kC,GAAG,EAAEuwB,OAAO,CAAC2L,GAAG,CAAC97B,IAAI,EAAEoxB,WAAW,CAACoT,WAAW;IAClD,CAAC,CAAC;EACN;EACA,OAAOutB,MAAM;AACjB;;AAEA;AACA;AACA,MAAMqoD,mBAAmB,GAAG,CACxB;EAAEtiE,KAAK,EAAE;AAAE,CAAC,EACZ;EAAEC,OAAO,EAAE;AAAG,CAAC,EACf;EAAEA,OAAO,EAAE;AAAG,CAAC,EACf;EAAEC,OAAO,EAAE;AAAG,CAAC,EACf;EAAEA,OAAO,EAAE;AAAG,CAAC,CAClB;AACD,SAASqiE,cAAcA,CAAC91E,WAAW,EAAEC,WAAW,EAAE81E,qBAAqB,EAAEx2D,YAAY,EAAE3zB,OAAO,EAAE;EAC5F,IAAI0rB,QAAQ,GAAG,IAAIrlC,IAAI,CAAC,CAAC,CAAC;EAC1B,IAAI+jG,QAAQ,GAAGh2E,WAAW;EAC1B,IAAIi2E,YAAY,GAAG96F,iEAAc,CAAC,CAAC,CAAC;EACpC,IAAI+6F,aAAa,GAAGH,qBAAqB,IAAII,oBAAoB,CAAC52D,YAAY,CAAC;EAC/E,IAAI62D,KAAK,GAAG,EAAE;EACd,OAAO3hE,kEAAS,CAACuhE,QAAQ,CAAC,GAAGvhE,kEAAS,CAACxU,WAAW,CAAC,EAAE;IACjD,IAAIxkC,IAAI,GAAGmwB,OAAO,CAAC2L,GAAG,CAAC+f,QAAQ,EAAE0+D,QAAQ,CAAC;IAC1C,IAAIlJ,SAAS,GAAGl4D,kEAAoB,CAACqhE,YAAY,EAAEC,aAAa,CAAC,KAAK,IAAI;IAC1EE,KAAK,CAACjyG,IAAI,CAAC;MACP1I,IAAI;MACJovD,IAAI,EAAEmrD,QAAQ;MACd1qG,GAAG,EAAE7P,IAAI,CAACi9C,WAAW,CAAC,CAAC;MACvBq0D,UAAU,EAAEh0D,kEAAmB,CAACt9C,IAAI,CAAC;MACrCqxG;IACJ,CAAC,CAAC;IACFkJ,QAAQ,GAAG5hE,kEAAY,CAAC4hE,QAAQ,EAAEz2D,YAAY,CAAC;IAC/C02D,YAAY,GAAG7hE,kEAAY,CAAC6hE,YAAY,EAAE12D,YAAY,CAAC;EAC3D;EACA,OAAO62D,KAAK;AAChB;AACA;AACA,SAASD,oBAAoBA,CAAC52D,YAAY,EAAE;EACxC,IAAIzgD,CAAC;EACL,IAAIo3G,aAAa;EACjB,IAAIG,aAAa;EACjB;EACA,KAAKv3G,CAAC,GAAG+2G,mBAAmB,CAACrzG,MAAM,GAAG,CAAC,EAAE1D,CAAC,IAAI,CAAC,EAAEA,CAAC,IAAI,CAAC,EAAE;IACrDo3G,aAAa,GAAG/6F,iEAAc,CAAC06F,mBAAmB,CAAC/2G,CAAC,CAAC,CAAC;IACtDu3G,aAAa,GAAGzhE,kEAAoB,CAACshE,aAAa,EAAE32D,YAAY,CAAC;IACjE,IAAI82D,aAAa,KAAK,IAAI,IAAIA,aAAa,GAAG,CAAC,EAAE;MAC7C,OAAOH,aAAa;IACxB;EACJ;EACA,OAAO32D,YAAY,CAAC,CAAC;AACzB;;AAEA,MAAMgtD,eAAe,SAASc,YAAY,CAAC;EACvCj7G,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAG8W,SAAS,CAAC;IACnB,IAAI,CAACotG,kBAAkB,GAAG/5F,iEAAO,CAAC+5F,kBAAkB,CAAC;IACrD,IAAI,CAACR,cAAc,GAAGv5F,iEAAO,CAACu5F,cAAc,CAAC;EACjD;EACAn3G,MAAMA,CAAA,EAAG;IACL,IAAI;MAAEN,OAAO;MAAEutB,OAAO;MAAEU;IAAqB,CAAC,GAAG,IAAI,CAACrnB,OAAO;IAC7D,IAAI;MAAElE;IAAM,CAAC,GAAG,IAAI;IACpB,IAAI;MAAE8rB;IAAY,CAAC,GAAG9rB,KAAK;IAC3B,IAAIu2F,aAAa,GAAG,IAAI,CAACgf,kBAAkB,CAACzpF,WAAW,EAAEP,oBAAoB,CAAC;IAC9E,IAAIg4C,UAAU,GAAG,IAAI,CAACgpC,cAAc,CAAChpC,UAAU,CAACvjE,KAAK,CAAC;IACtD,IAAImsG,SAAS,GAAG,IAAI,CAAC4I,cAAc,CAACjpF,WAAW,CAACmT,WAAW,EAAEnT,WAAW,CAACoT,WAAW,EAAE5hC,OAAO,CAACykD,iBAAiB,EAAEzkD,OAAO,CAACkhD,YAAY,EAAE3zB,OAAO,CAAC;IAC/I,IAAI;MAAEi3B;IAAY,CAAC,GAAGxkD,OAAO;IAC7B,IAAIk4G,eAAe,GAAG,CAAC1zD,WAAW;IAClC,IAAI2zD,eAAe,GAAG3zD,WAAW;IACjC,IAAI+0C,aAAa,GAAGv5F,OAAO,CAACqhD,UAAU,IAAKvhD,2EAAa,CAACy0E,8DAAS,EAAE;MAAEE,KAAK,EAAEwkB,aAAa,CAACjjB,WAAW;MAAExnD,WAAW,EAAEA,WAAW;MAAEglD,oBAAoB,EAAE,IAAI;MAAEkB,WAAW,EAAEwjC,eAAe,GAAG,IAAI,CAAC9I,cAAc,GAAG;IAAK,CAAC,CAAE;IAC3N,IAAI/zF,aAAa,GAAIrb,OAAO,CAACmuG,UAAU,KAAK,KAAK,KAAO3U,UAAU,IAAM15F,2EAAa,CAACo5F,uEAAQ,EAAE7wF,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEojD,UAAU,CAACl5B,MAAM,EAAE;MAAEve,WAAW,EAAEA,WAAW;MAAEyqE,aAAa,EAAEA,aAAa;MAAEtuE,gBAAgB,EAAE3qB,OAAO,CAAC2qB,gBAAgB;MAAEkzD,aAAa,EAAE2b,UAAU,CAAC3b,aAAa;MAAE6a,YAAY,EAAEc,UAAU,CAAC1b,iBAAiB;MAAEia,cAAc,EAAEmgB,eAAe,GAAG,IAAI,CAAC3I,kBAAkB,GAAG,IAAI;MAAE/Z,eAAe,EAAE,KAAK;MAAEryC,UAAU,EAAE,KAAK;MAAEk2C,gBAAgB,EAAE,IAAI,CAACjK,WAAW;MAAEhmB,WAAW,EAAEowB,UAAU,CAACpwB,WAAW;MAAED,YAAY,EAAEqwB,UAAU,CAACrwB,YAAY;MAAEv/B,QAAQ,EAAElnC,KAAK,CAACknC;IAAS,CAAC,EAAE,IAAI,CAACkmE,sBAAsB,CAAC,CAAC,CAAC,CAAE,CAAC;IAC1lB,IAAIsI,eAAe,GAAI5e,UAAU,IAAM15F,2EAAa,CAACu3G,WAAW,EAAEhvG,MAAM,CAACwa,MAAM,CAAC,CAAC,CAAC,EAAEojD,UAAU,CAACqoC,KAAK,EAAE;MAAErV,aAAa,EAAEA,aAAa;MAAEzqE,WAAW,EAAEA,WAAW;MAAEmiF,IAAI,EAAEuH,eAAe;MAAEh3D,YAAY,EAAElhD,OAAO,CAACkhD,YAAY;MAAE2tD,SAAS,EAAEA,SAAS;MAAEjlE,QAAQ,EAAElnC,KAAK,CAACknC,QAAQ;MAAEk0C,iBAAiB,EAAE0b,UAAU,CAAC1b,iBAAiB;MAAED,aAAa,EAAE2b,UAAU,CAAC3b,aAAa;MAAEzU,WAAW,EAAEowB,UAAU,CAACpwB,WAAW;MAAED,YAAY,EAAEqwB,UAAU,CAACrwB,YAAY;MAAEutC,YAAY,EAAE,IAAI,CAACjH,gBAAgB;MAAEtsD,UAAU,EAAEq2C,UAAU,CAACr2C,UAAU;MAAEozD,kBAAkB,EAAE,IAAI,CAACpH;IAAuB,CAAC,CAAC,CAAE;IAC7iB,OAAOgJ,eAAe,GAChB,IAAI,CAAC3oB,mBAAmB,CAAC+J,aAAa,EAAEl+E,aAAa,EAAE+8F,eAAe,EAAEnf,aAAa,CAACnlB,MAAM,EAAEtvB,WAAW,EAAEqqD,SAAS,EAAE,IAAI,CAACvrG,KAAK,CAAC4rG,UAAU,CAAC,GAC5I,IAAI,CAAC7f,kBAAkB,CAACkK,aAAa,EAAEl+E,aAAa,EAAE+8F,eAAe,CAAC;EAChF;AACJ;AACA,SAASH,kBAAkBA,CAACzpF,WAAW,EAAEP,oBAAoB,EAAE;EAC3D,IAAIynD,SAAS,GAAG,IAAIb,8DAAc,CAACrmD,WAAW,CAACsiC,WAAW,EAAE7iC,oBAAoB,CAAC;EACjF,OAAO,IAAIwnD,8DAAa,CAACC,SAAS,EAAE,KAAK,CAAC;AAC9C;AAEA,IAAI7mC,QAAQ,GAAG,i2KAAi2K;AACh3KzB,kEAAY,CAACyB,QAAQ,CAAC","sources":["./src/app/components/pages/bank-victoria/bank-victoria-routing.module.ts","./src/app/components/pages/bank-victoria/bank-victoria.module.ts","./src/app/components/pages/bank-victoria/certification/certification.component.ts","./src/app/components/pages/bank-victoria/certification/certification.component.html","./src/app/components/pages/bank-victoria/program/navigation/navigation.component.ts","./src/app/components/pages/bank-victoria/program/navigation/navigation.component.html","./src/app/components/pages/bank-victoria/program/program-detail/program-detail.component.ts","./src/app/components/pages/bank-victoria/program/program-detail/program-detail.component.html","./src/app/components/pages/bank-victoria/program/program.collection.ts","./src/app/components/pages/bank-victoria/program/program.component.ts","./src/app/components/pages/bank-victoria/program/program.component.html","./src/app/components/pages/bank-victoria/schedule/dialog/detail-schedule/detail-schedule.component.ts","./src/app/components/pages/bank-victoria/schedule/dialog/detail-schedule/detail-schedule.component.html","./src/app/components/pages/bank-victoria/schedule/schedule.component.ts","./src/app/components/pages/bank-victoria/schedule/schedule.component.html","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./node_modules/@fullcalendar/angular/fesm2020/fullcalendar-angular.mjs","./node_modules/@fullcalendar/core/index.js","./node_modules/@fullcalendar/core/internal-common.js","./node_modules/@fullcalendar/core/locales/id.js","./node_modules/@fullcalendar/daygrid/index.js","./node_modules/@fullcalendar/daygrid/internal.js","./node_modules/@fullcalendar/interaction/index.js","./node_modules/@fullcalendar/list/index.js","./node_modules/@fullcalendar/list/internal.js","./node_modules/@fullcalendar/timegrid/index.js","./node_modules/@fullcalendar/timegrid/internal.js"],"sourcesContent":["import { NgModule, Injectable } from '@angular/core';\r\nimport {\r\n  RouterModule,\r\n  RouterStateSnapshot,\r\n  Routes,\r\n  TitleStrategy,\r\n} from '@angular/router';\r\nimport { AuthGuard } from 'src/app/auth/auth.guards';\r\nimport { Title } from '@angular/platform-browser';\r\nimport { ProgramComponent } from './program/program.component';\r\nimport { BankVictoriaComponent } from './bank-victoria.component';\r\nimport { ScheduleComponent } from './schedule/schedule.component';\r\nimport { DetailArticleComponent } from '../dashboard-victoria/pages/detail-article/detail-article.component';\r\nimport { ProgramDetailComponent } from './program/program-detail/program-detail.component';\r\nimport { CertificationComponent } from './certification/certification.component';\r\n@Injectable({ providedIn: 'root' })\r\nexport class TemplatePageTitleStrategy extends TitleStrategy {\r\n  constructor(private readonly title: Title) {\r\n    super();\r\n  }\r\n\r\n  override updateTitle(routerState: RouterStateSnapshot) {\r\n    const title = this.buildTitle(routerState);\r\n    if (title !== undefined) {\r\n      this.title.setTitle(title);\r\n    }\r\n  }\r\n}\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BankVictoriaComponent,\r\n    canActivate: [AuthGuard],\r\n    title: 'Beranda | PT. Bank Victoria International, Tbk',\r\n    data: {\r\n      navTitle: 'Beranda',\r\n    },\r\n    children: [\r\n      {\r\n        path: 'program',\r\n        title: 'Program | PT. Bank Victoria International, Tbk',\r\n        component: ProgramComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          navTitle: 'Daftar Program',\r\n          role: 'all',\r\n        },\r\n      },\r\n      {\r\n        path: 'program/detail',\r\n        title: 'Detil Program | PT. Bank Victoria International, Tbk',\r\n        component: ProgramDetailComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          navTitle: 'Detil Program',\r\n          role: 'all',\r\n        },\r\n      },\r\n      {\r\n        path: 'sertifikat',\r\n        title: 'Sertifikat | PT. Bank Victoria International, Tbk',\r\n        component: CertificationComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          navTitle: 'Sertifikat',\r\n          role: 'all',\r\n        },\r\n      },\r\n      {\r\n        path: 'jadwal-pelatihan',\r\n        title: 'Jadwal Pelatihan | PT. Bank Victoria International, Tbk',\r\n        component: ScheduleComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          navTitle: 'Jadwal Pelatihan',\r\n          role: 'all',\r\n        },\r\n      },\r\n      {\r\n        path: 'article/detail-article',\r\n        title: 'Detail Artikel | PT. Bank Victoria International, Tbk',\r\n        component: DetailArticleComponent,\r\n        canActivate: [AuthGuard],\r\n        data: {\r\n          navTitle: 'Detail Artikel',\r\n          role: 'all',\r\n        },\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n  providers: [\r\n    AuthGuard,\r\n    { provide: TitleStrategy, useClass: TemplatePageTitleStrategy },\r\n  ],\r\n})\r\nexport class BankVictoriaPagesRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MatBottomSheetModule } from '@angular/material/bottom-sheet';\r\n\r\nimport { BankVictoriaPagesRoutingModule } from './bank-victoria-routing.module';\r\nimport { ProgramComponent } from './program/program.component';\r\nimport { BankVictoriaComponent } from './bank-victoria.component';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ScheduleComponent } from './schedule/schedule.component';\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\nimport { ProgramDetailComponent } from './program/program-detail/program-detail.component';\r\nimport { NavigationComponent } from './program/navigation/navigation.component';\r\nimport { DetailScheduleComponent } from './schedule/dialog/detail-schedule/detail-schedule.component';\r\nimport { CertificationComponent } from './certification/certification.component';\r\nimport { NotificationComponent } from './notification/notification.component';\r\n@NgModule({\r\n  declarations: [\r\n    ProgramComponent,\r\n    BankVictoriaComponent,\r\n    ScheduleComponent,\r\n    ProgramDetailComponent,\r\n    NavigationComponent,\r\n    DetailScheduleComponent,\r\n    CertificationComponent,\r\n    NotificationComponent,\r\n  ],\r\n  exports: [\r\n    ProgramComponent,\r\n    NotificationComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    BankVictoriaPagesRoutingModule,\r\n    RouterModule,\r\n    FullCalendarModule,\r\n    MatBottomSheetModule\r\n  ],\r\n  providers: [\r\n  ],\r\n})\r\nexport class BankVictoriaPagesModule { }\r\n","import { Component } from '@angular/core';\r\nimport { SERTIFIKAT_LIST } from '../program/program.collection';\r\n\r\n@Component({\r\n  selector: 'app-certification',\r\n  templateUrl: './certification.component.html',\r\n  styleUrls: ['./certification.component.scss'],\r\n})\r\nexport class CertificationComponent {\r\n  coursesList = structuredClone(SERTIFIKAT_LIST);\r\n  openSertif(url: string) {\r\n    window.open(url, '_blank');\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"courses\">\r\n    <div class=\"header\">\r\n      <div class=\"article-search-container-form-control\">\r\n        <input\r\n          name=\"search-article\"\r\n          class=\"article-search-container-input\"\r\n          type=\"text\"\r\n          placeholder=\"Cari Sertifikat\"\r\n        />\r\n        <img\r\n          class=\"ic-search\"\r\n          src=\"./assets/bank-victoria/svg/ic-search.svg\"\r\n          alt=\"Search Icon\"\r\n        />\r\n      </div>\r\n      <div class=\"select\">\r\n        <select class=\"article-search-container-select\">\r\n          <option value=\"\" disabled selected>Filter Kategori</option>\r\n          <option value=\"all\">Semua Kategori</option>\r\n          <option value=\"business\">Business</option>\r\n          <option value=\"technology\">Technology</option>\r\n          <option value=\"design\">Design</option>\r\n        </select>\r\n        <select class=\"article-search-container-select\">\r\n          <option value=\"\" disabled selected>Urutkan</option>\r\n          <option value=\"all\">Nama Kursus</option>\r\n          <option value=\"business\">Peserta</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"list\">\r\n      <div class=\"item\" *ngFor=\"let course of coursesList\">\r\n        <div class=\"card-article\">\r\n          <img [src]=\"course.image\" alt=\"Article Thumbnail\" />\r\n          <span\r\n            [ngClass]=\"{\r\n              information2: course.type === 'Sertifikat',\r\n              information: course.type === 'E-Sertifikat',\r\n            }\"\r\n            >{{ course.type }}</span\r\n          >\r\n          <div class=\"title\">{{ course.title }}</div>\r\n          <div class=\"subtitle\" style=\"margin-bottom: 10px !important\">\r\n            {{ course.subtitle }}\r\n          </div>\r\n          <button class=\"button\" (click)=\"openSertif(course.image)\">\r\n            Lihat Sertifikat\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-navigation',\r\n  templateUrl: './navigation.component.html',\r\n  styleUrls: ['./navigation.component.scss'],\r\n})\r\nexport class NavigationComponent {\r\n  openMenus: { [key: string]: boolean } = {\r\n    dashboard: true,\r\n    sitePages: true,\r\n    myCourses: true,\r\n  };\r\n\r\n  courses = [\r\n    'CSL577399',\r\n    'CSL577398',\r\n    'CSL577397',\r\n    'CSL577396',\r\n    'CSL577395',\r\n    'CSL577394',\r\n    'CSL577393',\r\n    'CSL577392',\r\n  ];\r\n  toggleMenu(menu: string) {\r\n    this.openMenus[menu] = !this.openMenus[menu];\r\n  }\r\n\r\n  isOpen(menu: string): boolean {\r\n    return !!this.openMenus[menu];\r\n  }\r\n}\r\n","<nav class=\"sidebar\">\r\n  <h3 class=\"sidebar-title\">Navigation</h3>\r\n  <hr class=\"sidebar-divider\" />\r\n\r\n  <ul class=\"menu\">\r\n    <li>\r\n      <button class=\"menu-item\" (click)=\"toggleMenu('dashboard')\">\r\n        <span class=\"arrow\" [class.open]=\"isOpen('dashboard')\"\r\n          ><img\r\n            class=\"arrow\"\r\n            src=\"assets/bank-victoria/svg/sidebar/arrow-down.svg\"\r\n        /></span>\r\n        Dashboard\r\n      </button>\r\n\r\n      <ul class=\"submenu\" *ngIf=\"isOpen('dashboard')\">\r\n        <li>\r\n          <button class=\"menu-item inner\">\r\n            <img\r\n              class=\"arrow\"\r\n              src=\"assets/bank-victoria/svg/sidebar/home.svg\"\r\n              width=\"15px\"\r\n            />\r\n            Site Home\r\n          </button>\r\n        </li>\r\n\r\n        <li>\r\n          <button class=\"menu-item inner\" (click)=\"toggleMenu('sitePages')\">\r\n            <span class=\"arrow\" [class.open]=\"isOpen('sitePages')\"\r\n              ><img\r\n                class=\"arrow\"\r\n                src=\"assets/bank-victoria/svg/sidebar/arrow-down.svg\"\r\n            /></span>\r\n            Site Pages\r\n          </button>\r\n          <ul class=\"submenu\" *ngIf=\"isOpen('sitePages')\">\r\n            <li>\r\n              <span class=\"menu-link\">\r\n                <img\r\n                  class=\"arrow\"\r\n                  src=\"assets/bank-victoria/svg/sidebar/arrow-right.svg\"\r\n                />Page 1</span\r\n              >\r\n            </li>\r\n            <li>\r\n              <span class=\"menu-link\">\r\n                <img\r\n                  class=\"arrow\"\r\n                  src=\"assets/bank-victoria/svg/sidebar/arrow-right.svg\"\r\n                />Page 2</span\r\n              >\r\n            </li>\r\n          </ul>\r\n        </li>\r\n\r\n        <li>\r\n          <button\r\n            class=\"menu-item inner highlight\"\r\n            (click)=\"toggleMenu('myCourses')\"\r\n          >\r\n            <span class=\"arrow\" [class.open]=\"isOpen('myCourses')\"\r\n              ><img\r\n                class=\"arrow\"\r\n                src=\"assets/bank-victoria/svg/sidebar/arrow-down.svg\"\r\n            /></span>\r\n            My Courses\r\n          </button>\r\n          <ul class=\"submenu\" *ngIf=\"isOpen('myCourses')\">\r\n            <li *ngFor=\"let course of courses\">\r\n              <span class=\"menu-link\"\r\n                ><img\r\n                  class=\"arrow\"\r\n                  src=\"assets/bank-victoria/svg/sidebar/arrow-right.svg\"\r\n                />{{ course }}</span\r\n              >\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </li>\r\n  </ul>\r\n</nav>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-program-detail',\r\n  templateUrl: './program-detail.component.html',\r\n  styleUrls: ['./program-detail.component.scss']\r\n})\r\nexport class ProgramDetailComponent {\r\n\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"courses\">\r\n    <div class=\"header\">\r\n      <div class=\"progress\">\r\n        <span>65% progressed</span>\r\n        <progress max=\"100\" [value]=\"65\"></progress>\r\n      </div>\r\n      <select class=\"article-search-container-select\">\r\n        <option value=\"\" disabled selected>Pendahuluan</option>\r\n        <option value=\"all\">Apa itu HTML ?</option>\r\n        <option value=\"business\">Bagaimana cara kerja HTML ?</option>\r\n        <option value=\"technology\">Implementasi HTML dalam Browser?</option>\r\n        <option value=\"design\">Buat Websitemu sendiri menggunakan HTML</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"detail\">\r\n      <div class=\"session\">\r\n        <button class=\"button\">Pendahuluan</button>\r\n        <button class=\"button-clear\">Sesi 1</button>\r\n        <button class=\"button-clear\">Sesi 2</button>\r\n        <button class=\"button-clear\">Sesi 3</button>\r\n        <button class=\"button-clear\">Sesi 4</button>\r\n        <button class=\"button-clear\">Sesi 5</button>\r\n      </div>\r\n      <div class=\"title\">Full Course HTML and CSS Courses from Scratch</div>\r\n      <div>\r\n        <iframe\r\n          width=\"100%\"\r\n          height=\"315\"\r\n          src=\"https://www.youtube.com/embed/HGTJBPNC-Gw?si=wQFienny77twU3Wc\"\r\n          title=\"YouTube video player\"\r\n          frameborder=\"0\"\r\n          allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n          referrerpolicy=\"strict-origin-when-cross-origin\"\r\n          allowfullscreen\r\n        ></iframe>\r\n      </div>\r\n      <div>\r\n        <p>\r\n          Pernahkah Anda kagum dengan situs web modern yang rapi, indah, dan\r\n          berfungsi sempurna di ponsel maupun desktop? Tahukah Anda bahwa semua\r\n          itu dimulai dari dua pondasi utama?\r\n        </p>\r\n        <p>\r\n          Di era digital, membangun kehadiran online bukan lagi pilihan,\r\n          melainkan keharusan. Namun, Anda mungkin bingung harus mulai dari\r\n          mana. Banyak kursus terasa terlalu rumit atau hanya mengajarkan teori\r\n          tanpa praktik.\r\n        </p>\r\n      </div>\r\n      <div class=\"related-acticle\">\r\n        <span class=\"related-acticle-title\">Related Article</span>\r\n        <div>\r\n          <button>learning</button>\r\n          <button>html</button>\r\n          <button>basic</button>\r\n          <button>js</button>\r\n          <button>course</button>\r\n          <button>tutor</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"related-acticle\">\r\n        <span class=\"related-acticle-title\">Kehadiran</span>\r\n        <div id=\"attedance\">\r\n          <span>Session 1 attendace Done</span>\r\n          <p>\r\n            To confirm your attendance in the Tuton class, please click on\r\n            Attendance Session 1! If the attendance score is already 100, it\r\n            means you have successfully accessed the attendance for this Tuton\r\n            session. You can then proceed to access other Tuton materials.\"\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"related-acticle\">\r\n        <span class=\"related-acticle-title\">Materi Inisiasi</span>\r\n        <div id=\"initiation\">\r\n          <div>\r\n            <div>\r\n              <img\r\n                class=\"ic-search\"\r\n                src=\"./assets/bank-victoria/svg/pdf.svg\"\r\n                alt=\"Search Icon\"\r\n              />\r\n              <a\r\n                href=\"https://ontheline.trincoll.edu/images/bookdown/sample-local-pdf.pdf\"\r\n                target=\"_blank\"\r\n                >Learnning HTML 5 with simple framwork for easy web build.pdf</a\r\n              >\r\n            </div>\r\n            <span>Done</span>\r\n          </div>\r\n          <div id=\"divider\"></div>\r\n          <div>\r\n            <div>\r\n              <img\r\n                class=\"ic-search\"\r\n                src=\"./assets/bank-victoria/svg/pdf.svg\"\r\n                alt=\"Search Icon\"\r\n              />\r\n              <a\r\n                href=\"https://ontheline.trincoll.edu/images/bookdown/sample-local-pdf.pdf\"\r\n                target=\"_blank\"\r\n                >Learnning HTML 5 with simple framwork for easy web build part\r\n                2.pdf</a\r\n              >\r\n            </div>\r\n            <span>Done</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"related-acticle\">\r\n        <span class=\"related-acticle-title\">Materi Pengayaan</span>\r\n        <div id=\"pengayaan\">\r\n          <div id=\"frame\">\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"180px\"\r\n              src=\"https://www.youtube.com/embed/HGTJBPNC-Gw?si=wQFienny77twU3Wc\"\r\n              title=\"YouTube video player\"\r\n              frameborder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share\"\r\n              referrerpolicy=\"strict-origin-when-cross-origin\"\r\n              allowfullscreen\r\n            ></iframe>\r\n          </div>\r\n          <div id=\"content\">\r\n            <span id=\"title\">Model Framework dan jenisnya </span>\r\n            <p>\r\n              How to Make a Website with Login and Register, How to Create a\r\n              Website with Login and Register, How to Make Website with Login,\r\n              How to Create a Website with Login and Password, How to Create a\r\n              Website Login Page in HTML, How to Make Website Login Page,\r\n              Website with Login and Registration HTML CSS & Javascript\r\n            </p>\r\n            <span>Done</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"related-acticle\">\r\n        <span class=\"related-acticle-title\">Diskusi</span>\r\n        <div id=\"initiation\">\r\n          <div>\r\n            <div>\r\n              <img\r\n                class=\"ic-search\"\r\n                src=\"./assets/bank-victoria/svg/chat.svg\"\r\n                alt=\"Search Icon\"\r\n              />\r\n              <a href=\"#\" target=\"_blank\">Diskusi penggunaan css</a>\r\n            </div>\r\n            <span>Done</span>\r\n          </div>\r\n          <div id=\"divider\"></div>\r\n          <div>\r\n            <div>\r\n              <img\r\n                class=\"ic-search\"\r\n                src=\"./assets/bank-victoria/svg/chat.svg\"\r\n                alt=\"Search Icon\"\r\n              />\r\n              <a href=\"#\" target=\"_blank\">Diskusi penggunaan framework css</a>\r\n            </div>\r\n            <span>Done</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"navigation\">\r\n    <app-navigation></app-navigation>\r\n  </div>\r\n</div>\r\n","export const COURSES_LIST = [\r\n  {\r\n    image: './assets/bank-victoria/images/courses-1.png',\r\n    title: 'Full Course HTML and CSS Courses from Scratch',\r\n    subtitle: 'Codex Studio',\r\n    progress: 65,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/courses-2.png',\r\n    title: 'Basic Database Fundamental For Beginner',\r\n    subtitle: 'Codex Studio',\r\n    progress: 12,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/courses-3.png',\r\n    title: 'Start Built Apps using Python course vol.1',\r\n    subtitle: 'Codex Studio',\r\n    progress: 30,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/courses-4.png',\r\n    title: 'Interactive JavaScript Course for Beginner',\r\n    subtitle: 'Dr. Kelvin Febrian Go',\r\n    progress: 37,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/courses-5.png',\r\n    title: 'Building Responsive Web Structure and Design',\r\n    subtitle: 'Dhanny Hermawan S.Kom',\r\n    progress: 66,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/courses-6.png',\r\n    title: 'SQL and Data Management for Web Application',\r\n    subtitle: 'LMS Bank Victoria',\r\n    progress: 59,\r\n  },\r\n];\r\n\r\nexport const SERTIFIKAT_LIST = [\r\n  {\r\n    image: './assets/bank-victoria/images/sertifikat-1.jpg',\r\n    title: 'Sampling dalam Auditing di Era Serba Digital',\r\n    subtitle: 'PT RajaGrafindo Persada',\r\n    type: 'E-Sertifikat',\r\n    progress: 65,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/sertifikat-2.jpg',\r\n    title: 'Anti Fraud Detection and Prevention',\r\n    subtitle: 'PT RajaGrafindo Persada',\r\n    type: 'E-Sertifikat',\r\n    progress: 65,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/sertifikat-3.webp',\r\n    title: 'Software Engineering Vol 1, Vol2, Vol 3',\r\n    subtitle: 'PT RajaGrafindo Persada',\r\n    type: 'Sertifikat',\r\n    progress: 65,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/sertifikat-2.jpg',\r\n    title: 'Sampling dalam Auditing di Era Serba Digital',\r\n    subtitle: 'PT RajaGrafindo Persada',\r\n    type: 'E-Sertifikat',\r\n    progress: 65,\r\n  },\r\n  {\r\n    image: './assets/bank-victoria/images/sertifikat-1.jpg',\r\n    title: 'Sampling dalam Auditing di Era Serba Digital',\r\n    subtitle: 'PT RajaGrafindo Persada',\r\n    type: 'Sertifikat',\r\n    progress: 65,\r\n  },\r\n];\r\n","import { Component } from '@angular/core';\r\nimport { COURSES_LIST } from './program.collection';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-program',\r\n  templateUrl: './program.component.html',\r\n  styleUrls: ['./program.component.scss'],\r\n})\r\nexport class ProgramComponent {\r\n  constructor(private router: Router) {}\r\n\r\n  coursesList = structuredClone(COURSES_LIST);\r\n\r\n  imgUrl: string = './assets/bank-victoria/images/illust-related-article.png';\r\n  title: string = 'Mengapa Web Development Penting di Era Digital?';\r\n\r\n  toDetail() {\r\n    this.router.navigate(['/lms/program/detail']);\r\n  }\r\n}\r\n","<div class=\"container\">\r\n  <div class=\"courses\">\r\n    <div class=\"header\">\r\n      <div class=\"article-search-container-form-control\">\r\n        <input\r\n          name=\"search-article\"\r\n          class=\"article-search-container-input\"\r\n          type=\"text\"\r\n          placeholder=\"Cari Kursus\"\r\n        />\r\n        <img\r\n          class=\"ic-search\"\r\n          src=\"./assets/bank-victoria/svg/ic-search.svg\"\r\n          alt=\"Search Icon\"\r\n        />\r\n      </div>\r\n      <div class=\"select\">\r\n        <select class=\"article-search-container-select\">\r\n          <option value=\"\" disabled selected>Filter Kategori</option>\r\n          <option value=\"all\">Semua Kategori</option>\r\n          <option value=\"business\">Business</option>\r\n          <option value=\"technology\">Technology</option>\r\n          <option value=\"design\">Design</option>\r\n        </select>\r\n        <select class=\"article-search-container-select\">\r\n          <option value=\"\" disabled selected>Urutkan</option>\r\n          <option value=\"all\">Nama Kursus</option>\r\n          <option value=\"business\">Peserta</option>\r\n        </select>\r\n      </div>\r\n    </div>\r\n    <div class=\"list\">\r\n      <div class=\"item\" *ngFor=\"let course of coursesList\">\r\n        <div class=\"card-article\">\r\n          <img [src]=\"course.image\" alt=\"Article Thumbnail\" />\r\n          <div class=\"title\">{{ course.title }}</div>\r\n          <div class=\"subtitle\" style=\"margin-bottom: 10px !important\">\r\n            {{ course.subtitle }}\r\n          </div>\r\n          <span class=\"subtitle\">{{ course.progress }}% progressed</span>\r\n          <progress max=\"100\" [value]=\"course.progress\"></progress>\r\n          <button class=\"button\" (click)=\"toDetail()\">Enroll Kursus</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"navigation\">\r\n    <app-navigation></app-navigation>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\nimport { MatDialogRef } from '@angular/material/dialog';\n\n@Component({\n  selector: 'app-detail-schedule',\n  templateUrl: './detail-schedule.component.html',\n  styleUrls: ['./detail-schedule.component.scss']\n})\nexport class DetailScheduleComponent {\n\n  constructor(private dialogRef: MatDialogRef<DetailScheduleComponent>) {}\n\n  onClose() {\n    this.dialogRef.close();\n  }\n}\n","<div class=\"bottom-sheet-handle-container\">\n    <div class=\"bottom-sheet-grabber\"></div>\n</div>\n\n<section class=\"detail-schedule\">\n    <div class=\"title\">HTML Fundamental Course</div>\n\n    <div class=\"information\">\n        <div class=\"information-item\">\n            <img src=\"./assets/bank-victoria/svg/sidebar/calendar.svg\" alt=\"Calendar Icon\" />\n            Senin, 10 Oktober 09:00 - 13:00\n        </div>\n        <div class=\"information-item\">\n            <img src=\"./assets/bank-victoria/svg/sidebar/user-tag.svg\" alt=\"User Tag Icon\" />\n            Bambang Wijaya S.kom\n        </div>\n        <div class=\"information-item\">\n            <img src=\"./assets/bank-victoria/svg/sidebar/location.svg\" alt=\"Location Icon\" />\n            <a href=\"https://meet.google.com/hcb-xqze-sxe\" target=\"_blank\">https://meet.google.com/hcb-xqze-sxe</a>\n        </div>\n    </div>\n\n    <div class=\"content\">\n        <img src=\"./assets/bank-victoria/svg/burger-menu.svg\" alt=\"Burger Menu Icon\" />\n        <div class=\"description\">\n            Setelah sesi ini, peserta diharapkan mampu:\n            <ol>\n                <li>Memahami definisi dan peran HTML (HyperText Markup Language) dalam pengembangan web.</li>\n                <li>Menyusun kerangka dasar dokumen HTML5 dengan benar.</li>\n                <li>Menggunakan tag-tag semantik untuk menyusun konten yang terstruktur dan mudah diakses.</li>\n            </ol>\n        </div>\n    </div>\n</section>","import { BreakpointObserver, Breakpoints } from '@angular/cdk/layout';\r\nimport { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { CalendarOptions, EventInput } from '@fullcalendar/core';\r\nimport dayGridPlugin from '@fullcalendar/daygrid';\r\nimport interactionPlugin from '@fullcalendar/interaction';\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport listPlugin from '@fullcalendar/list';\r\nimport { Subject, takeUntil } from 'rxjs';\r\nimport idLocale from '@fullcalendar/core/locales/id';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { DetailScheduleComponent } from './dialog/detail-schedule/detail-schedule.component';\r\nimport { MatBottomSheet } from '@angular/material/bottom-sheet';\r\n\r\n@Component({\r\n  selector: 'app-schedule',\r\n  templateUrl: './schedule.component.html',\r\n  styleUrls: ['./schedule.component.scss']\r\n})\r\nexport class ScheduleComponent implements OnInit, OnDestroy {\r\n  isMobile = false;\r\n  desktopToolbar = {\r\n    left: 'prev,next today',\r\n    center: 'title',\r\n    right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'\r\n  };\r\n\r\n  mobileToolbar = {\r\n    left: 'prev,next',\r\n    center: 'title',\r\n    right: 'dayGridMonth,timeGridDay,listWeek'\r\n  };\r\n\r\n  calendarOptions: CalendarOptions = {\r\n    locale: idLocale,\r\n    plugins: [dayGridPlugin, interactionPlugin, timeGridPlugin, listPlugin],\r\n    views: {\r\n      timeGridWeek: {\r\n        buttonText: 'Minggu'\r\n      },\r\n      timeGridDay: {\r\n        buttonText: 'Hari'\r\n      },\r\n      listWeek: {\r\n        buttonText: 'List'\r\n      }\r\n    },\r\n    initialView: 'dayGridMonth',\r\n    events: [\r\n      {\r\n        title: 'HTML Fundametal',\r\n        start: '2025-11-11T06:00:00',\r\n        end: '2025-11-11T14:00:00',\r\n        backgroundColor: '#5DC6E7',\r\n        borderColor: '#5DC6E7',\r\n        color: '#5DC6E7'\r\n      },\r\n      {\r\n        title: 'Presentasi',\r\n        date: '2025-11-10', // Jika hanya tanggal, jangan sertakan waktu jika intended full-day\r\n        color: '#D35DE7'\r\n      },\r\n      {\r\n        title: 'Workshop FullCalendar',\r\n        start: '2025-11-20',\r\n        end: '2025-11-22',\r\n        color: '#9E1212'\r\n      }\r\n    ] as EventInput[],\r\n    displayEventTime: true,\r\n    displayEventEnd: true,\r\n    eventTimeFormat: {\r\n      hour: '2-digit', // Menggunakan '2-digit' lebih konsisten dengan HH\r\n      minute: '2-digit',\r\n      meridiem: false,\r\n      hour12: false, // Format 24 Jam\r\n    },\r\n    eventClick: this.handleEventClick.bind(this)\r\n  };\r\n\r\n  private destroy$ = new Subject<void>();\r\n  constructor(private breakpointObserver: BreakpointObserver, private dialog: MatDialog, private bottomSheet: MatBottomSheet) { }\r\n\r\n  ngOnInit(): void {\r\n    this.breakpointObserver\r\n      .observe([Breakpoints.XSmall]) // Anda bisa menggunakan 'max-width: 768px' jika mau\r\n      .pipe(takeUntil(this.destroy$))\r\n      .subscribe(result => {\r\n        this.isMobile = result.matches;\r\n\r\n        // Perbarui headerToolbar di calendarOptions\r\n        this.calendarOptions = {\r\n          ...this.calendarOptions, // Pertahankan semua opsi lainnya\r\n          headerToolbar: this.isMobile ? this.mobileToolbar : this.desktopToolbar,\r\n          contentHeight: this.isMobile ? 'auto' : undefined,\r\n        };\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.destroy$.next();\r\n    this.destroy$.complete();\r\n  }\r\n\r\n  handleEventClick(info: any) {\r\n    this.openDetailDialog();\r\n  }\r\n\r\n  getEventTimeFormat(event: any): 'time' | 'dateRange' | null {\r\n    if (!event.start) {\r\n      return null; // Tidak ada waktu untuk ditampilkan\r\n    }\r\n\r\n    const startDate = event.start; // Ini adalah objek Date\r\n    const endDate = event.end;     // Ini adalah objek Date atau null/undefined\r\n    if (!endDate) {\r\n      return 'time';\r\n    }\r\n    const startDay = startDate.toDateString();\r\n    const endDay = endDate.toDateString();\r\n\r\n    if (startDay !== endDay) {\r\n      return 'dateRange';\r\n    } else {\r\n      if (startDay && endDay) {\r\n        return 'time';\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n  }\r\n\r\n  openDetailDialog(): void {\r\n    if (this.isMobile) {\r\n      this.bottomSheet.open(DetailScheduleComponent);\r\n    } else {\r\n\r\n      const dialogRef = this.dialog.open(DetailScheduleComponent, {\r\n        width: '500px',\r\n      });\r\n      dialogRef.afterClosed().subscribe((result) => { });\r\n    }\r\n  }\r\n}\r\n","<div class=\"schedule\">\r\n    <full-calendar [options]=\"calendarOptions\">\r\n        <!-- <ng-template #eventContent let-arg>\r\n            <div class=\"schedule-event-content\">\r\n                <ng-container *ngIf=\"getEventTimeFormat(arg.event) === 'time'\">\r\n                    <div *ngIf=\"arg.event.start && arg.event.end\" class=\"event-time\">\r\n                        {{ arg.event.start | date:'hh:mm a' }} - {{ arg.event.end | date:'hh:mm a' }}\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <ng-container *ngIf=\"getEventTimeFormat(arg.event) === 'dateRange'\">\r\n                    <div class=\"event-time\">\r\n                        {{ arg.event.start | date:'MMM d' }} - {{ arg.event.end | date:'MMM d' }}\r\n                    </div>\r\n                </ng-container>\r\n\r\n                <div class=\"event-title\">\r\n                    {{ arg.event.title }}\r\n                </div>\r\n            </div>\r\n        </ng-template> -->\r\n    </full-calendar>\r\n\r\n</div>","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as l,createRef as c,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useId as s,useReducer as h,useEffect as v,useLayoutEffect as d,useRef as p,useImperativeHandle as m,useMemo as y,useCallback as _,useContext as b,useDebugValue as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function C(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n,t){return n===t&&(0!==n||1/n==1/t)||n!=n&&t!=t}function w(n){this.props=n}function R(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:C(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(w.prototype=new n).isPureReactComponent=!0,w.prototype.shouldComponentUpdate=function(n,t){return C(this.props,n)||C(this.state,t)};var x=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),x&&x(n)};var N=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function k(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=N,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var A=function(n,t){return null==n?null:r(r(n).map(t))},O={map:A,forEach:A,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},T=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);T(n,t,e,r)};var I=e.unmount;function L(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return L(n,t,e)})),n}function U(n,t,e){return n&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return U(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.insertBefore(n.__e,n.__d),n.__c.__e=!0,n.__c.__P=e)),n}function D(){this.__u=0,this.t=null,this.__b=null}function F(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function M(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function V(){this.u=null,this.o=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),I&&I(n)},(D.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=F(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=U(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.t.pop();)t.forceUpdate()}},c=!0===t.__h;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},D.prototype.componentWillUnmount=function(){this.t=[]},D.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=L(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__h=null),[t(u,null,e.__a?null:n.children),i]};var W=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function P(n){return this.getChildContext=function(){return n.context},n.children}function $(n){var e=this,r=n.i;e.componentWillUnmount=function(){o(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),n.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),o(t(P,{context:e.context},n.__v),e.l)):e.l&&e.componentWillUnmount()}function j(n,e){var r=t($,{__v:n,i:e});return r.containerInfo=e,r}(V.prototype=new n).__a=function(n){var t=this,e=F(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),W(t,n,r)):u()};e?e(o):o()}},V.prototype.render=function(n){this.u=null,this.o=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},V.prototype.componentDidUpdate=V.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){W(n,e,t)})};var z=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,B=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,H=\"undefined\"!=typeof document,Z=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function Y(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function q(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var G=e.event;function J(){}function K(){return this.cancelBubble}function Q(){return this.defaultPrevented}e.event=function(n){return G&&(n=G(n)),n.persist=J,n.isPropagationStopped=K,n.isDefaultPrevented=Q,n.nativeEvent=n};var X,nn={configurable:!0,get:function(){return this.class}},tn=e.vnode;e.vnode=function(n){var t=n.type,e=n.props,u=e;if(\"string\"==typeof t){var o=-1===t.indexOf(\"-\");for(var i in u={},e){var l=e[i];H&&\"children\"===i&&\"noscript\"===t||\"value\"===i&&\"defaultValue\"in e&&null==l||(\"defaultValue\"===i&&\"value\"in e&&null==e.value?i=\"value\":\"download\"===i&&!0===l?l=\"\":/ondoubleclick/i.test(i)?i=\"ondblclick\":/^onchange(textarea|input)/i.test(i+t)&&!Z(e.type)?i=\"oninput\":/^onfocus$/i.test(i)?i=\"onfocusin\":/^onblur$/i.test(i)?i=\"onfocusout\":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():o&&B.test(i)?i=i.replace(/[A-Z0-9]/g,\"-$&\").toLowerCase():null===l&&(l=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),u[i]&&(i=\"oninputCapture\")),u[i]=l)}\"select\"==t&&u.multiple&&Array.isArray(u.value)&&(u.value=r(e.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==t&&null!=u.defaultValue&&(u.value=r(e.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),n.props=u,e.class!=e.className&&(nn.enumerable=\"className\"in e,null!=e.className&&(u.class=e.className),Object.defineProperty(u,\"className\",nn))}n.$$typeof=z,tn&&tn(n)};var en=e.__r;e.__r=function(n){en&&en(n),X=n.__c};var rn={ReactCurrentDispatcher:{current:{readContext:function(n){return X.__n[n.__c].props.value}}}},un=\"17.0.2\";function on(n){return t.bind(null,n)}function ln(n){return!!n&&n.$$typeof===z}function cn(n){return ln(n)?f.apply(null,arguments):n}function fn(n){return!!n.__k&&(o(null,n),!0)}function an(n){return n&&(n.base||1===n.nodeType&&n)||null}var sn=function(n,t){return n(t)},hn=function(n,t){return n(t)},vn=u;function dn(n){n()}function pn(n){return n}function mn(){return[!1,dn]}var yn=d;function _n(n,t){var e=t(),r=a({h:{__:e,v:t}}),u=r[0].h,o=r[1];return d(function(){u.__=e,u.v=t,E(u.__,t())||o({h:u})},[n,e,t]),v(function(){return E(u.__,u.v())||o({h:u}),n(function(){E(u.__,u.v())||o({h:u})})},[n]),e}var bn={useState:a,useId:s,useReducer:h,useEffect:v,useLayoutEffect:d,useInsertionEffect:yn,useTransition:mn,useDeferredValue:pn,useSyncExternalStore:_n,startTransition:dn,useRef:p,useImperativeHandle:m,useMemo:y,useCallback:_,useContext:b,useDebugValue:S,version:\"17.0.2\",Children:O,render:Y,hydrate:q,unmountComponentAtNode:fn,createPortal:j,createElement:t,createContext:l,createFactory:on,cloneElement:cn,createRef:c,Fragment:u,isValidElement:ln,findDOMNode:an,Component:n,PureComponent:w,memo:R,forwardRef:k,flushSync:hn,unstable_batchedUpdates:sn,StrictMode:vn,Suspense:D,SuspenseList:V,lazy:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:rn};export{O as Children,w as PureComponent,vn as StrictMode,D as Suspense,V as SuspenseList,rn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cn as cloneElement,on as createFactory,j as createPortal,bn as default,an as findDOMNode,hn as flushSync,k as forwardRef,q as hydrate,ln as isValidElement,M as lazy,R as memo,Y as render,dn as startTransition,fn as unmountComponentAtNode,sn as unstable_batchedUpdates,pn as useDeferredValue,yn as useInsertionEffect,_n as useSyncExternalStore,mn as useTransition,un as version};\n","var n,l,u,i,t,r,o,f,e,c={},s=[],a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function h(n,l){for(var u in l)n[u]=l[u];return n}function v(n){var l=n.parentNode;l&&l.removeChild(n)}function y(l,u,i){var t,r,o,f={};for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];if(arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===f[o]&&(f[o]=l.defaultProps[o]);return p(l,f,t,r,null)}function p(n,i,t,r,o){var f={type:n,props:i,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++u:o};return null==o&&null!=l.vnode&&l.vnode(f),f}function d(){return{current:null}}function _(n){return n.children}function k(n,l,u,i,t){var r;for(r in u)\"children\"===r||\"key\"===r||r in l||g(n,r,null,u[r],i);for(r in l)t&&\"function\"!=typeof l[r]||\"children\"===r||\"key\"===r||\"value\"===r||\"checked\"===r||u[r]===l[r]||g(n,r,l[r],u[r],i)}function b(n,l,u){\"-\"===l[0]?n.setProperty(l,null==u?\"\":u):n[l]=null==u?\"\":\"number\"!=typeof u||a.test(l)?u:u+\"px\"}function g(n,l,u,i,t){var r;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||b(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||b(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])r=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=u,u?i||n.addEventListener(l,r?w:m,r):n.removeEventListener(l,r?w:m,r);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==l&&\"height\"!==l&&\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null==u||!1===u&&-1==l.indexOf(\"-\")?n.removeAttribute(l):n.setAttribute(l,u))}}function m(n){t=!0;try{return this.l[n.type+!1](l.event?l.event(n):n)}finally{t=!1}}function w(n){t=!0;try{return this.l[n.type+!0](l.event?l.event(n):n)}finally{t=!1}}function x(n,l){this.props=n,this.context=l}function A(n,l){if(null==l)return n.__?A(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?A(n):null}function P(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return P(n)}}function C(n){t?setTimeout(n):f(n)}function T(n){(!n.__d&&(n.__d=!0)&&r.push(n)&&!$.__r++||o!==l.debounceRendering)&&((o=l.debounceRendering)||C)($)}function $(){var n,l,u,i,t,o,f,e;for(r.sort(function(n,l){return n.__v.__b-l.__v.__b});n=r.shift();)n.__d&&(l=r.length,i=void 0,t=void 0,f=(o=(u=n).__v).__e,(e=u.__P)&&(i=[],(t=h({},o)).__v=o.__v+1,M(e,o,t,u.__n,void 0!==e.ownerSVGElement,null!=o.__h?[f]:null,i,null==f?A(o):f,o.__h),N(i,o),o.__e!=f&&P(o)),r.length>l&&r.sort(function(n,l){return n.__v.__b-l.__v.__b}));$.__r=0}function H(n,l,u,i,t,r,o,f,e,a){var h,v,y,d,k,b,g,m=i&&i.__k||s,w=m.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(d=u.__k[h]=null==(d=l[h])||\"boolean\"==typeof d?null:\"string\"==typeof d||\"number\"==typeof d||\"bigint\"==typeof d?p(null,d,null,null,d):Array.isArray(d)?p(_,{children:d},null,null,null):d.__b>0?p(d.type,d.props,d.key,d.ref?d.ref:null,d.__v):d)){if(d.__=u,d.__b=u.__b+1,null===(y=m[h])||y&&d.key==y.key&&d.type===y.type)m[h]=void 0;else for(v=0;v<w;v++){if((y=m[v])&&d.key==y.key&&d.type===y.type){m[v]=void 0;break}y=null}M(n,d,y=y||c,t,r,o,f,e,a),k=d.__e,(v=d.ref)&&y.ref!=v&&(g||(g=[]),y.ref&&g.push(y.ref,null,d),g.push(v,d.__c||k,d)),null!=k?(null==b&&(b=k),\"function\"==typeof d.type&&d.__k===y.__k?d.__d=e=I(d,e,n):e=z(n,d,y,m,k,e),\"function\"==typeof u.type&&(u.__d=e)):e&&y.__e==e&&e.parentNode!=n&&(e=A(y))}for(u.__e=b,h=w;h--;)null!=m[h]&&(\"function\"==typeof u.type&&null!=m[h].__e&&m[h].__e==u.__d&&(u.__d=L(i).nextSibling),q(m[h],m[h]));if(g)for(h=0;h<g.length;h++)S(g[h],g[++h],g[++h])}function I(n,l,u){for(var i,t=n.__k,r=0;t&&r<t.length;r++)(i=t[r])&&(i.__=n,l=\"function\"==typeof i.type?I(i,l,u):z(u,i,i,t,i.__e,l));return l}function j(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){j(n,l)}):l.push(n)),l}function z(n,l,u,i,t,r){var o,f,e;if(void 0!==l.__d)o=l.__d,l.__d=void 0;else if(null==u||t!=r||null==t.parentNode)n:if(null==r||r.parentNode!==n)n.appendChild(t),o=null;else{for(f=r,e=0;(f=f.nextSibling)&&e<i.length;e+=1)if(f==t)break n;n.insertBefore(t,r),o=r}return void 0!==o?o:t.nextSibling}function L(n){var l,u,i;if(null==n.type||\"string\"==typeof n.type)return n.__e;if(n.__k)for(l=n.__k.length-1;l>=0;l--)if((u=n.__k[l])&&(i=L(u)))return i;return null}function M(n,u,i,t,r,o,f,e,c){var s,a,v,y,p,d,k,b,g,m,w,A,P,C,T,$=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(c=i.__h,e=u.__e=i.__e,u.__h=null,o=[e]),(s=l.__b)&&s(u);try{n:if(\"function\"==typeof $){if(b=u.props,g=(s=$.contextType)&&t[s.__c],m=s?g?g.props.value:s.__:t,i.__c?k=(a=u.__c=i.__c).__=a.__E:(\"prototype\"in $&&$.prototype.render?u.__c=a=new $(b,m):(u.__c=a=new x(b,m),a.constructor=$,a.render=B),g&&g.sub(a),a.props=b,a.state||(a.state={}),a.context=m,a.__n=t,v=a.__d=!0,a.__h=[],a._sb=[]),null==a.__s&&(a.__s=a.state),null!=$.getDerivedStateFromProps&&(a.__s==a.state&&(a.__s=h({},a.__s)),h(a.__s,$.getDerivedStateFromProps(b,a.__s))),y=a.props,p=a.state,a.__v=u,v)null==$.getDerivedStateFromProps&&null!=a.componentWillMount&&a.componentWillMount(),null!=a.componentDidMount&&a.__h.push(a.componentDidMount);else{if(null==$.getDerivedStateFromProps&&b!==y&&null!=a.componentWillReceiveProps&&a.componentWillReceiveProps(b,m),!a.__e&&null!=a.shouldComponentUpdate&&!1===a.shouldComponentUpdate(b,a.__s,m)||u.__v===i.__v){for(u.__v!==i.__v&&(a.props=b,a.state=a.__s,a.__d=!1),u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),w=0;w<a._sb.length;w++)a.__h.push(a._sb[w]);a._sb=[],a.__h.length&&f.push(a);break n}null!=a.componentWillUpdate&&a.componentWillUpdate(b,a.__s,m),null!=a.componentDidUpdate&&a.__h.push(function(){a.componentDidUpdate(y,p,d)})}if(a.context=m,a.props=b,a.__P=n,A=l.__r,P=0,\"prototype\"in $&&$.prototype.render){for(a.state=a.__s,a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),C=0;C<a._sb.length;C++)a.__h.push(a._sb[C]);a._sb=[]}else do{a.__d=!1,A&&A(u),s=a.render(a.props,a.state,a.context),a.state=a.__s}while(a.__d&&++P<25);a.state=a.__s,null!=a.getChildContext&&(t=h(h({},t),a.getChildContext())),v||null==a.getSnapshotBeforeUpdate||(d=a.getSnapshotBeforeUpdate(y,p)),T=null!=s&&s.type===_&&null==s.key?s.props.children:s,H(n,Array.isArray(T)?T:[T],u,i,t,r,o,f,e,c),a.base=u.__e,u.__h=null,a.__h.length&&f.push(a),k&&(a.__E=a.__=null),a.__e=!1}else null==o&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=O(i.__e,u,i,t,r,o,f,c);(s=l.diffed)&&s(u)}catch(n){u.__v=null,(c||null!=o)&&(u.__e=e,u.__h=!!c,o[o.indexOf(e)]=null),l.__e(n,u,i)}}function N(n,u){l.__c&&l.__c(u,n),n.some(function(u){try{n=u.__h,u.__h=[],n.some(function(n){n.call(u)})}catch(n){l.__e(n,u.__v)}})}function O(l,u,i,t,r,o,f,e){var s,a,h,y=i.props,p=u.props,d=u.type,_=0;if(\"svg\"===d&&(r=!0),null!=o)for(;_<o.length;_++)if((s=o[_])&&\"setAttribute\"in s==!!d&&(d?s.localName===d:3===s.nodeType)){l=s,o[_]=null;break}if(null==l){if(null===d)return document.createTextNode(p);l=r?document.createElementNS(\"http://www.w3.org/2000/svg\",d):document.createElement(d,p.is&&p),o=null,e=!1}if(null===d)y===p||e&&l.data===p||(l.data=p);else{if(o=o&&n.call(l.childNodes),a=(y=i.props||c).dangerouslySetInnerHTML,h=p.dangerouslySetInnerHTML,!e){if(null!=o)for(y={},_=0;_<l.attributes.length;_++)y[l.attributes[_].name]=l.attributes[_].value;(h||a)&&(h&&(a&&h.__html==a.__html||h.__html===l.innerHTML)||(l.innerHTML=h&&h.__html||\"\"))}if(k(l,p,y,r,e),h)u.__k=[];else if(_=u.props.children,H(l,Array.isArray(_)?_:[_],u,i,t,r&&\"foreignObject\"!==d,o,f,o?o[0]:i.__k&&A(i,0),e),null!=o)for(_=o.length;_--;)null!=o[_]&&v(o[_]);e||(\"value\"in p&&void 0!==(_=p.value)&&(_!==l.value||\"progress\"===d&&!_||\"option\"===d&&_!==y.value)&&g(l,\"value\",_,y.value,!1),\"checked\"in p&&void 0!==(_=p.checked)&&_!==l.checked&&g(l,\"checked\",_,y.checked,!1))}return l}function S(n,u,i){try{\"function\"==typeof n?n(u):n.current=u}catch(n){l.__e(n,i)}}function q(n,u,i){var t,r;if(l.unmount&&l.unmount(n),(t=n.ref)&&(t.current&&t.current!==n.__e||S(t,null,u)),null!=(t=n.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(n){l.__e(n,u)}t.base=t.__P=null,n.__c=void 0}if(t=n.__k)for(r=0;r<t.length;r++)t[r]&&q(t[r],u,i||\"function\"!=typeof n.type);i||null==n.__e||v(n.__e),n.__=n.__e=n.__d=void 0}function B(n,l,u){return this.constructor(n,u)}function D(u,i,t){var r,o,f;l.__&&l.__(u,i),o=(r=\"function\"==typeof t)?null:t&&t.__k||i.__k,f=[],M(i,u=(!r&&t||i).__k=y(_,null,[u]),o||c,c,void 0!==i.ownerSVGElement,!r&&t?[t]:o?null:i.firstChild?n.call(i.childNodes):null,f,!r&&t?t:o?o.__e:i.firstChild,r),N(f,u)}function E(n,l){D(n,l,E)}function F(l,u,i){var t,r,o,f=h({},l.props);for(o in u)\"key\"==o?t=u[o]:\"ref\"==o?r=u[o]:f[o]=u[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):i),p(l.type,f,t||l.key,r||l.ref,null)}function G(n,l){var u={__c:l=\"__cC\"+e++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(function(n){n.__e=!0,T(n)})},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n=s.slice,l={__e:function(n,l,u,i){for(var t,r,o;l=l.__;)if((t=l.__c)&&!t.__)try{if((r=t.constructor)&&null!=r.getDerivedStateFromError&&(t.setState(r.getDerivedStateFromError(n)),o=t.__d),null!=t.componentDidCatch&&(t.componentDidCatch(n,i||{}),o=t.__d),o)return t.__E=t}catch(l){n=l}throw n}},u=0,i=function(n){return null!=n&&void 0===n.constructor},t=!1,x.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=h({},this.state),\"function\"==typeof n&&(n=n(h({},u),this.props)),n&&h(u,n),null!=n&&this.__v&&(l&&this._sb.push(l),T(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),T(this))},x.prototype.render=_,r=[],f=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,$.__r=0,e=0;export{x as Component,_ as Fragment,F as cloneElement,G as createContext,y as createElement,d as createRef,y as h,E as hydrate,i as isValidElement,l as options,D as render,j as toChildArray};\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=[],e=n.__b,a=n.__r,v=n.diffed,l=n.__c,m=n.unmount;function d(t,u){n.__h&&n.__h(r,t,o||u),o=0;var i=r.__H||(r.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({__V:c}),i.__[t]}function p(n){return o=1,y(B,n)}function y(n,u,i){var o=d(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):B(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.u)){r.u=!0;var f=r.shouldComponentUpdate;r.shouldComponentUpdate=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return n.__c});if(u.every(function(n){return!n.__N}))return!f||f.call(this,n,t,r);var i=!1;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),!(!i&&o.__c.props===n)&&(!f||f.call(this,n,t,r))}}return o.__N||o.__}function h(u,i){var o=d(t++,3);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__H.__h.push(o))}function s(u,i){var o=d(t++,4);!n.__s&&z(o.__H,i)&&(o.__=u,o.i=i,r.__h.push(o))}function _(n){return o=5,F(function(){return{current:n}},[])}function A(n,t,r){o=6,s(function(){return\"function\"==typeof n?(n(t()),function(){return n(null)}):n?(n.current=t(),function(){return n.current=null}):void 0},null==r?r:r.concat(n))}function F(n,r){var u=d(t++,7);return z(u.__H,r)?(u.__V=n(),u.i=r,u.__h=n,u.__V):u.__}function T(n,t){return o=8,F(function(){return n},t)}function q(n){var u=r.context[n.__c],i=d(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function x(t,r){n.useDebugValue&&n.useDebugValue(r?r(t):t)}function P(n){var u=d(t++,10),i=p();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function V(){var n=d(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function b(){for(var t;t=f.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(k),t.__H.__h.forEach(w),t.__H.__h=[]}catch(r){t.__H.__h=[],n.__e(r,t.__v)}}n.__b=function(n){r=null,e&&e(n)},n.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=c,n.__N=n.i=void 0})):(i.__h.forEach(k),i.__h.forEach(w),i.__h=[])),u=r},n.diffed=function(t){v&&v(t);var o=t.__c;o&&o.__H&&(o.__H.__h.length&&(1!==f.push(o)&&i===n.requestAnimationFrame||((i=n.requestAnimationFrame)||j)(b)),o.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==c&&(n.__=n.__V),n.i=void 0,n.__V=c})),u=r=null},n.__c=function(t,r){r.some(function(t){try{t.__h.forEach(k),t.__h=t.__h.filter(function(n){return!n.__||w(n)})}catch(u){r.some(function(n){n.__h&&(n.__h=[])}),r=[],n.__e(u,t.__v)}}),l&&l(t,r)},n.unmount=function(t){m&&m(t);var r,u=t.__c;u&&u.__H&&(u.__H.__.forEach(function(n){try{k(n)}catch(n){r=n}}),u.__H=void 0,r&&n.__e(r,u.__v))};var g=\"function\"==typeof requestAnimationFrame;function j(n){var t,r=function(){clearTimeout(u),g&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);g&&(t=requestAnimationFrame(r))}function k(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function w(n){var t=r;n.__c=n.__(),r=t}function z(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function B(n,t){return\"function\"==typeof t?t(n):t}export{T as useCallback,q as useContext,x as useDebugValue,h as useEffect,P as useErrorBoundary,V as useId,A as useImperativeHandle,s as useLayoutEffect,F as useMemo,y as useReducer,_ as useRef,p as useState};\n","import * as i0 from '@angular/core';\nimport { Component, ViewEncapsulation, Input, ViewChild, ContentChild, NgModule } from '@angular/core';\nimport { Calendar } from '@fullcalendar/core';\nimport { CustomRenderingStore } from '@fullcalendar/core/internal';\nimport * as i1 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n/*\nNOTE: keep synced with component\n*/\nconst OPTION_INPUT_NAMES = [\n    'events',\n    'eventSources',\n    'resources',\n];\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\n/*\nForked from https://github.com/epoberezkin/fast-deep-equal (also has MIT license)\nNeeded ESM support or else Angular complains about treeshaking\n(https://github.com/fullcalendar/fullcalendar-angular/issues/421)\n*/\nfunction deepEqual(a, b) {\n    if (a === b)\n        return true;\n    if (a && b && typeof a == 'object' && typeof b == 'object') {\n        if (a.constructor !== b.constructor)\n            return false;\n        var length, i, keys;\n        if (Array.isArray(a)) {\n            length = a.length;\n            if (length != b.length)\n                return false;\n            for (i = length; i-- !== 0;)\n                if (!deepEqual(a[i], b[i]))\n                    return false;\n            return true;\n        }\n        if (a.constructor === RegExp)\n            return a.source === b.source && a.flags === b.flags;\n        if (a.valueOf !== Object.prototype.valueOf)\n            return a.valueOf() === b.valueOf();\n        if (a.toString !== Object.prototype.toString)\n            return a.toString() === b.toString();\n        keys = Object.keys(a);\n        length = keys.length;\n        if (length !== Object.keys(b).length)\n            return false;\n        for (i = length; i-- !== 0;)\n            if (!Object.prototype.hasOwnProperty.call(b, keys[i]))\n                return false;\n        for (i = length; i-- !== 0;) {\n            var key = keys[i];\n            if (!deepEqual(a[key], b[key]))\n                return false;\n        }\n        return true;\n    }\n    // true if both NaN, false otherwise\n    return a !== a && b !== b;\n}\n\nconst dummyContainer$1 = typeof document !== 'undefined' ? document.createDocumentFragment() : null;\nclass OffscreenFragmentComponent {\n    constructor(element) {\n        this.element = element;\n    }\n    ngAfterViewInit() {\n        if (dummyContainer$1) {\n            dummyContainer$1.appendChild(this.element.nativeElement);\n        }\n    }\n    // invoked BEFORE component removed from DOM\n    ngOnDestroy() {\n        if (dummyContainer$1) {\n            dummyContainer$1.removeChild(this.element.nativeElement);\n        }\n    }\n}\nOffscreenFragmentComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: OffscreenFragmentComponent, deps: [{ token: i0.ElementRef }], target: i0.FactoryTarget.Component });\nOffscreenFragmentComponent.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: OffscreenFragmentComponent, selector: \"offscreen-fragment\", ngImport: i0, template: '<ng-content></ng-content>', isInline: true, encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: OffscreenFragmentComponent, decorators: [{\n            type: Component,\n            args: [{\n                    selector: 'offscreen-fragment',\n                    template: '<ng-content></ng-content>',\n                    encapsulation: ViewEncapsulation.None\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }]; } });\n\nconst dummyContainer = typeof document !== 'undefined' ? document.createDocumentFragment() : null;\nclass TransportContainerComponent {\n    ngAfterViewInit() {\n        const rootEl = this.rootElRef?.nativeElement; // assumed defined\n        replaceEl(rootEl, this.inPlaceOf);\n        applyElAttrs(rootEl, undefined, this.elAttrs);\n        // insurance for if Preact recreates and reroots inPlaceOf element\n        this.inPlaceOf.style.display = 'none';\n        this.reportEl(rootEl);\n    }\n    ngOnChanges(changes) {\n        const rootEl = this.rootElRef?.nativeElement;\n        // ngOnChanges is called before ngAfterViewInit (and before DOM initializes)\n        // so make sure rootEl is defined before doing anything\n        if (rootEl) {\n            // If the ContentContainer's tagName changed, it will create a new DOM element in its\n            // original place. Detect this and re-replace.\n            if (this.inPlaceOf.parentNode !== dummyContainer) {\n                replaceEl(rootEl, this.inPlaceOf);\n                applyElAttrs(rootEl, undefined, this.elAttrs);\n                this.reportEl(rootEl);\n            }\n            else {\n                const elAttrsChange = changes['elAttrs'];\n                if (elAttrsChange) {\n                    applyElAttrs(rootEl, elAttrsChange.previousValue, elAttrsChange.currentValue);\n                }\n            }\n        }\n    }\n    // invoked BEFORE component removed from DOM\n    ngOnDestroy() {\n        if (\n        // protect against Preact recreating and rerooting inPlaceOf element\n        this.inPlaceOf.parentNode === dummyContainer &&\n            dummyContainer) {\n            dummyContainer.removeChild(this.inPlaceOf);\n        }\n        this.reportEl(null);\n    }\n}\nTransportContainerComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TransportContainerComponent, deps: [], target: i0.FactoryTarget.Component });\nTransportContainerComponent.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: TransportContainerComponent, selector: \"transport-container\", inputs: { inPlaceOf: \"inPlaceOf\", reportEl: \"reportEl\", elTag: \"elTag\", elClasses: \"elClasses\", elStyle: \"elStyle\", elAttrs: \"elAttrs\", template: \"template\", renderProps: \"renderProps\" }, viewQueries: [{ propertyName: \"rootElRef\", first: true, predicate: [\"rootEl\"], descendants: true }], usesOnChanges: true, ngImport: i0, template: \"<ng-template [ngIf]=\\\"elTag == 'div'\\\">\\n  <div #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </div>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'span'\\\">\\n  <span #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </span>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'a'\\\">\\n  <a #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </a>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'tr'\\\">\\n  <tr #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </tr>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'th'\\\">\\n  <th #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </th>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'td'\\\">\\n  <td #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </td>\\n</ng-template>\\n\", directives: [{ type: i1.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }, { type: i1.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i1.NgStyle, selector: \"[ngStyle]\", inputs: [\"ngStyle\"] }, { type: i1.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }], encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: TransportContainerComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'transport-container', encapsulation: ViewEncapsulation.None, template: \"<ng-template [ngIf]=\\\"elTag == 'div'\\\">\\n  <div #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </div>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'span'\\\">\\n  <span #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </span>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'a'\\\">\\n  <a #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </a>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'tr'\\\">\\n  <tr #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </tr>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'th'\\\">\\n  <th #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </th>\\n</ng-template>\\n<ng-template [ngIf]=\\\"elTag == 'td'\\\">\\n  <td #rootEl [ngClass]=\\\"elClasses || ''\\\" [ngStyle]=\\\"elStyle || null\\\">\\n    <ng-container\\n      [ngTemplateOutlet]=\\\"template\\\"\\n      [ngTemplateOutletContext]=\\\"{ $implicit: renderProps }\\\"\\n    ></ng-container>\\n  </td>\\n</ng-template>\\n\" }]\n        }], propDecorators: { inPlaceOf: [{\n                type: Input\n            }], reportEl: [{\n                type: Input\n            }], elTag: [{\n                type: Input\n            }], elClasses: [{\n                type: Input\n            }], elStyle: [{\n                type: Input\n            }], elAttrs: [{\n                type: Input\n            }], template: [{\n                type: Input\n            }], renderProps: [{\n                type: Input\n            }], rootElRef: [{\n                type: ViewChild,\n                args: ['rootEl']\n            }] } });\nfunction replaceEl(subject, inPlaceOf) {\n    inPlaceOf.parentNode?.insertBefore(subject, inPlaceOf.nextSibling);\n    if (dummyContainer) {\n        dummyContainer.appendChild(inPlaceOf);\n    }\n}\nfunction applyElAttrs(el, previousAttrs = {}, currentAttrs = {}) {\n    // these are called \"attributes\" but they manipulate DOM node *properties*\n    for (const attrName in previousAttrs) {\n        if (!(attrName in currentAttrs)) {\n            el[attrName] = null;\n        }\n    }\n    for (const attrName in currentAttrs) {\n        el[attrName] = currentAttrs[attrName];\n    }\n}\n\nclass FullCalendarComponent {\n    constructor(element, changeDetector) {\n        this.element = element;\n        this.calendar = null;\n        this.optionSnapshot = {}; // for diffing\n        this.customRenderingMap = new Map();\n        const customRenderingStore = new CustomRenderingStore();\n        customRenderingStore.subscribe((customRenderingMap) => {\n            this.customRenderingMap = customRenderingMap;\n            this.customRenderingArray = undefined; // clear cache\n            changeDetector.detectChanges();\n        });\n        this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore);\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = {\n            ...this.options,\n            ...this.buildInputOptions(),\n        };\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        const calendarEl = this.element.nativeElement;\n        const calendar = this.calendar = new Calendar(calendarEl, {\n            ...options,\n            ...this.buildExtraOptions(),\n        });\n        // Ionic dimensions hack\n        // https://github.com/fullcalendar/fullcalendar/issues/4976\n        const ionContent = calendarEl.closest('ion-content');\n        if (ionContent && ionContent.componentOnReady) {\n            ionContent.componentOnReady().then(() => {\n                window.requestAnimationFrame(() => {\n                    calendar.render();\n                });\n            });\n        }\n        else {\n            calendar.render();\n        }\n        // Angular v19, whether because of new Vite dev environment or not,\n        // loads outer elements' styles late, so dimensions might not be final here.\n        // Force a size-update after a delay.\n        setTimeout(() => calendar.updateSize());\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = {\n                ...this.options,\n                ...this.buildInputOptions(),\n            };\n            const newProcessedOptions = {};\n            const changedOptionNames = [];\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            changedOptionNames.push(optionName);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            changedOptionNames.push(optionName);\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    changedOptionNames.push(optionName);\n                }\n            }\n            if (changedOptionNames.length) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions({\n                    ...newProcessedOptions,\n                    ...this.buildExtraOptions(),\n                }, changedOptionNames);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    get customRenderings() {\n        return this.customRenderingArray ||\n            (this.customRenderingArray = [...this.customRenderingMap.values()]);\n    }\n    getApi() {\n        return this.calendar;\n    }\n    buildInputOptions() {\n        const options = {};\n        for (const inputName of OPTION_INPUT_NAMES) {\n            const inputValue = this[inputName];\n            if (inputValue != null) { // exclude both null and undefined\n                options[inputName] = inputValue;\n            }\n        }\n        return options;\n    }\n    buildExtraOptions() {\n        return {\n            handleCustomRendering: this.handleCustomRendering,\n            customRenderingMetaMap: this,\n            customRenderingReplaces: true,\n        };\n    }\n    // for `trackBy` in loop\n    trackCustomRendering(index, customRendering) {\n        return customRendering.id;\n    }\n}\nFullCalendarComponent.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarComponent, deps: [{ token: i0.ElementRef }, { token: i0.ChangeDetectorRef }], target: i0.FactoryTarget.Component });\nFullCalendarComponent.cmp = i0.ngDeclareComponent({ minVersion: \"12.0.0\", version: \"13.3.12\", type: FullCalendarComponent, selector: \"full-calendar\", inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\", events: \"events\", eventSources: \"eventSources\", resources: \"resources\" }, queries: [{ propertyName: \"dayHeaderContent\", first: true, predicate: [\"dayHeaderContent\"], descendants: true, static: true }, { propertyName: \"dayCellContent\", first: true, predicate: [\"dayCellContent\"], descendants: true, static: true }, { propertyName: \"weekNumberContent\", first: true, predicate: [\"weekNumberContent\"], descendants: true, static: true }, { propertyName: \"nowIndicatorContent\", first: true, predicate: [\"nowIndicatorContent\"], descendants: true, static: true }, { propertyName: \"eventContent\", first: true, predicate: [\"eventContent\"], descendants: true, static: true }, { propertyName: \"slotLaneContent\", first: true, predicate: [\"slotLaneContent\"], descendants: true, static: true }, { propertyName: \"slotLabelContent\", first: true, predicate: [\"slotLabelContent\"], descendants: true, static: true }, { propertyName: \"allDayContent\", first: true, predicate: [\"allDayContent\"], descendants: true, static: true }, { propertyName: \"moreLinkContent\", first: true, predicate: [\"moreLinkContent\"], descendants: true, static: true }, { propertyName: \"noEventsContent\", first: true, predicate: [\"noEventsContent\"], descendants: true, static: true }, { propertyName: \"resourceAreaHeaderContent\", first: true, predicate: [\"resourceAreaHeaderContent\"], descendants: true, static: true }, { propertyName: \"resourceGroupLabelContent\", first: true, predicate: [\"resourceGroupLabelContent\"], descendants: true, static: true }, { propertyName: \"resourceLabelContent\", first: true, predicate: [\"resourceLabelContent\"], descendants: true, static: true }, { propertyName: \"resourceLaneContent\", first: true, predicate: [\"resourceLaneContent\"], descendants: true, static: true }, { propertyName: \"resourceGroupLaneContent\", first: true, predicate: [\"resourceGroupLaneContent\"], descendants: true, static: true }], ngImport: i0, template: \"<offscreen-fragment>\\n  <transport-container *ngFor=\\\"let customRendering of customRenderings; trackBy:trackCustomRendering\\\"\\n    [inPlaceOf]=\\\"customRendering.containerEl\\\"\\n    [reportEl]=\\\"customRendering.reportNewContainerEl\\\"\\n    [elTag]=\\\"customRendering.elTag\\\"\\n    [elClasses]=\\\"customRendering.elClasses\\\"\\n    [elStyle]=\\\"customRendering.elStyle\\\"\\n    [elAttrs]=\\\"customRendering.elAttrs\\\"\\n    [template]=\\\"customRendering.generatorMeta\\\"\\n    [renderProps]=\\\"customRendering.renderProps\\\"\\n  ></transport-container>\\n</offscreen-fragment>\\n\", components: [{ type: OffscreenFragmentComponent, selector: \"offscreen-fragment\" }, { type: TransportContainerComponent, selector: \"transport-container\", inputs: [\"inPlaceOf\", \"reportEl\", \"elTag\", \"elClasses\", \"elStyle\", \"elAttrs\", \"template\", \"renderProps\"] }], directives: [{ type: i1.NgForOf, selector: \"[ngFor][ngForOf]\", inputs: [\"ngForOf\", \"ngForTrackBy\", \"ngForTemplate\"] }], encapsulation: i0.ViewEncapsulation.None });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarComponent, decorators: [{\n            type: Component,\n            args: [{ selector: 'full-calendar', encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                    , template: \"<offscreen-fragment>\\n  <transport-container *ngFor=\\\"let customRendering of customRenderings; trackBy:trackCustomRendering\\\"\\n    [inPlaceOf]=\\\"customRendering.containerEl\\\"\\n    [reportEl]=\\\"customRendering.reportNewContainerEl\\\"\\n    [elTag]=\\\"customRendering.elTag\\\"\\n    [elClasses]=\\\"customRendering.elClasses\\\"\\n    [elStyle]=\\\"customRendering.elStyle\\\"\\n    [elAttrs]=\\\"customRendering.elAttrs\\\"\\n    [template]=\\\"customRendering.generatorMeta\\\"\\n    [renderProps]=\\\"customRendering.renderProps\\\"\\n  ></transport-container>\\n</offscreen-fragment>\\n\" }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: i0.ChangeDetectorRef }]; }, propDecorators: { options: [{\n                type: Input\n            }], deepChangeDetection: [{\n                type: Input\n            }], events: [{\n                type: Input\n            }], eventSources: [{\n                type: Input\n            }], resources: [{\n                type: Input\n            }], dayHeaderContent: [{\n                type: ContentChild,\n                args: ['dayHeaderContent', { static: true }]\n            }], dayCellContent: [{\n                type: ContentChild,\n                args: ['dayCellContent', { static: true }]\n            }], weekNumberContent: [{\n                type: ContentChild,\n                args: ['weekNumberContent', { static: true }]\n            }], nowIndicatorContent: [{\n                type: ContentChild,\n                args: ['nowIndicatorContent', { static: true }]\n            }], eventContent: [{\n                type: ContentChild,\n                args: ['eventContent', { static: true }]\n            }], slotLaneContent: [{\n                type: ContentChild,\n                args: ['slotLaneContent', { static: true }]\n            }], slotLabelContent: [{\n                type: ContentChild,\n                args: ['slotLabelContent', { static: true }]\n            }], allDayContent: [{\n                type: ContentChild,\n                args: ['allDayContent', { static: true }]\n            }], moreLinkContent: [{\n                type: ContentChild,\n                args: ['moreLinkContent', { static: true }]\n            }], noEventsContent: [{\n                type: ContentChild,\n                args: ['noEventsContent', { static: true }]\n            }], resourceAreaHeaderContent: [{\n                type: ContentChild,\n                args: ['resourceAreaHeaderContent', { static: true }]\n            }], resourceGroupLabelContent: [{\n                type: ContentChild,\n                args: ['resourceGroupLabelContent', { static: true }]\n            }], resourceLabelContent: [{\n                type: ContentChild,\n                args: ['resourceLabelContent', { static: true }]\n            }], resourceLaneContent: [{\n                type: ContentChild,\n                args: ['resourceLaneContent', { static: true }]\n            }], resourceGroupLaneContent: [{\n                type: ContentChild,\n                args: ['resourceGroupLaneContent', { static: true }]\n            }] } });\n\nclass FullCalendarModule {\n}\nFullCalendarModule.fac = i0.ngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, deps: [], target: i0.FactoryTarget.NgModule });\nFullCalendarModule.mod = i0.ngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, declarations: [FullCalendarComponent,\n        OffscreenFragmentComponent,\n        TransportContainerComponent], imports: [CommonModule], exports: [FullCalendarComponent] });\nFullCalendarModule.inj = i0.ngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, imports: [[\n            CommonModule\n        ]] });\ni0.ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.3.12\", ngImport: i0, type: FullCalendarModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [\n                        FullCalendarComponent,\n                        OffscreenFragmentComponent,\n                        TransportContainerComponent\n                    ],\n                    imports: [\n                        CommonModule\n                    ],\n                    exports: [\n                        FullCalendarComponent\n                    ]\n                }]\n        }] });\n\n/*\n * Public API Surface of lib\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n","import { m as mergeProps, g as guid, i as isArraysEqual, T as Theme, a as mapHash, B as BaseComponent, V as ViewContextType, C as ContentContainer, b as buildViewClassNames, c as greatestDurationDenominator, d as createDuration, e as BASE_OPTION_DEFAULTS, f as arrayToHash, h as filterHash, j as buildEventSourceRefiners, p as parseEventSource, k as formatWithOrdinals, u as unpromisify, l as buildRangeApiWithTimeZone, n as identity, r as requestJson, s as subtractDurations, o as intersectRanges, q as startOfDay, t as addDays, v as hashValuesToArray, w as buildEventApis, D as DelayedRunner, x as createFormatter, y as diffWholeDays, z as memoize, A as memoizeObjArg, E as isPropsEqual, F as Emitter, G as rangeContainsMarker, H as createEmptyEventStore, I as reduceEventStore, J as rezoneEventStoreDates, K as mergeRawOptions, L as BASE_OPTION_REFINERS, M as CALENDAR_LISTENER_REFINERS, N as CALENDAR_OPTION_REFINERS, O as COMPLEX_OPTION_COMPARATORS, P as VIEW_OPTION_REFINERS, Q as DateEnv, R as DateProfileGenerator, S as createEventUi, U as parseBusinessHours, W as setRef, X as Interaction, Y as getElSeg, Z as elementClosest, _ as EventImpl, $ as listenBySelector, a0 as listenToHoverBySelector, a1 as PureComponent, a2 as buildViewContext, a3 as getUniqueDomId, a4 as parseInteractionSettings, a5 as interactionSettingsStore, a6 as NowTimer, a7 as CalendarImpl, a8 as flushSync, a9 as CalendarRoot, aa as RenderId, ab as ensureElHasStyles, ac as applyStyleProp, ad as sliceEventStore } from './internal-common.js';\nexport { ae as JsonRequestError } from './internal-common.js';\nimport { createElement, createRef, Fragment, render } from 'preact';\nimport 'preact/compat';\n\nconst globalLocales = [];\n\nconst MINIMAL_RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    weekTextLong: 'Week',\n    closeHint: 'Close',\n    timeHint: 'Time',\n    eventHint: 'Event',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nconst RAW_EN_LOCALE = Object.assign(Object.assign({}, MINIMAL_RAW_EN_LOCALE), { \n    // Includes things we don't want other locales to inherit,\n    // things that derive from other translatable strings.\n    buttonHints: {\n        prev: 'Previous $0',\n        next: 'Next $0',\n        today(buttonText, unit) {\n            return (unit === 'day')\n                ? 'Today'\n                : `This ${buttonText}`;\n        },\n    }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint(eventCnt) {\n        return `Show ${eventCnt} more event${eventCnt === 1 ? '' : 's'}`;\n    } });\nfunction organizeRawLocales(explicitRawLocales) {\n    let defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    let allRawLocales = globalLocales.concat(explicitRawLocales);\n    let rawLocaleMap = {\n        en: RAW_EN_LOCALE,\n    };\n    for (let rawLocale of allRawLocales) {\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    let codes = [].concat(codeArg || []); // will convert to array\n    let raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (let i = 0; i < codes.length; i += 1) {\n        let parts = codes[i].toLocaleLowerCase().split('-');\n        for (let j = parts.length; j > 0; j -= 1) {\n            let simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    let merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    let { week } = merged;\n    delete merged.week;\n    return {\n        codeArg,\n        codes,\n        week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        name: input.name,\n        premiumReleaseDate: input.premiumReleaseDate ? new Date(input.premiumReleaseDate) : undefined,\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    let currentPluginIds = {};\n    let hooks = {\n        premiumReleaseDate: undefined,\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (let def of defs) {\n            const pluginName = def.name;\n            const currentId = currentPluginIds[pluginName];\n            if (currentId === undefined) {\n                currentPluginIds[pluginName] = def.id;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n            else if (currentId !== def.id) {\n                // different ID than the one already added\n                console.warn(`Duplicate plugin '${pluginName}'`);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    let currentOverrideDefs = [];\n    let currentGlobalDefs = [];\n    let currentHooks;\n    return (overrideDefs, globalDefs) => {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        premiumReleaseDate: compareOptionalDates(hooks0.premiumReleaseDate, hooks1.premiumReleaseDate),\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: Object.assign(Object.assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: Object.assign(Object.assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: Object.assign(Object.assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: Object.assign(Object.assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: Object.assign(Object.assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        listenerRefiners: Object.assign(Object.assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: Object.assign(Object.assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: Object.assign(Object.assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\nfunction compareOptionalDates(date0, date1) {\n    if (date0 === undefined) {\n        return date1;\n    }\n    if (date1 === undefined) {\n        return date0;\n    }\n    return new Date(Math.max(date0.valueOf(), date1.valueOf()));\n}\n\nclass StandardTheme extends Theme {\n}\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    let hash = {};\n    let viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    let viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    let defaultConfig = defaultConfigs[viewType];\n    let overrideConfig = overrideConfigs[viewType];\n    let queryProp = (name) => ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null));\n    let theComponent = queryProp('component');\n    let superType = queryProp('superType');\n    let superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: Object.assign(Object.assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: Object.assign(Object.assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    let rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    let { component } = rawOptions;\n    if (rawOptions.content) {\n        // TODO: remove content/classNames/didMount/etc from options?\n        component = createViewHookComponent(rawOptions);\n    }\n    else if (component && !(component.prototype instanceof BaseComponent)) {\n        // WHY?: people were using `component` property for `content`\n        // TODO: converge on one setting name\n        component = createViewHookComponent(Object.assign(Object.assign({}, rawOptions), { content: component }));\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions, // includes type and component too :(\n    };\n}\nfunction createViewHookComponent(options) {\n    return (viewProps) => (createElement(ViewContextType.Consumer, null, (context) => (createElement(ContentContainer, { elTag: \"div\", elClasses: buildViewClassNames(context.viewSpec), renderProps: Object.assign(Object.assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold }), generatorName: undefined, customGenerator: options.content, classNameGenerator: options.classNames, didMount: options.didMount, willUnmount: options.willUnmount }))));\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let defaultConfigs = parseViewConfigs(defaultInputs);\n    let overrideConfigs = parseViewConfigs(optionOverrides.views);\n    let viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, (viewDef) => buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults));\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    let durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    let duration = null;\n    let durationUnit = '';\n    let singleUnit = '';\n    let singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            let denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    let queryButtonText = (optionsSubset) => {\n        let buttonTextMap = optionsSubset.buttonText || {};\n        let buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    let queryButtonTitle = (optionsSubset) => {\n        let buttonHints = optionsSubset.buttonHints || {};\n        let buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n        if (buttonKey != null && buttonHints[buttonKey] != null) {\n            return buttonHints[buttonKey];\n        }\n        if (buttonHints[viewDef.type] != null) {\n            return buttonHints[viewDef.type];\n        }\n        if (buttonHints[singleUnit] != null) {\n            return buttonHints[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration,\n        durationUnit,\n        singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: Object.assign(Object.assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type,\n        // not DRY\n        buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n            queryButtonTitle(optionOverrides) ||\n            viewDef.overrides.buttonHint,\n        buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n            viewDef.defaults.buttonHint ||\n            queryButtonTitle(BASE_OPTION_DEFAULTS),\n        // will eventually fall back to buttonText\n    };\n}\n// hack to get memoization working\nlet durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    let json = JSON.stringify(durationInput);\n    let res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\n// should be initialized once and stay constant\n// this will change too\nfunction getInitialDate(options, dateEnv, nowManager) {\n    let initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return nowManager.getDateMarker();\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    switch (action.type) {\n        case 'SET_OPTION':\n            return Object.assign(Object.assign({}, dynamicOptionOverrides), { [action.optionName]: action.rawOptionValue });\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    let dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    let activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (let sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    let hash = {};\n    for (let source of sources) {\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return Object.assign(Object.assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, (eventSource) => eventSource.sourceId !== sourceId);\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, (eventSource) => isSourceDirty(eventSource, fetchRange, context)), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    let nextSources = {};\n    for (let sourceId in prevSources) {\n        let source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    let { options, calendarApi } = context;\n    let sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    let fetchId = guid();\n    sourceDef.fetch({\n        eventSource,\n        range: fetchRange,\n        isRefetch,\n        context,\n    }, (res) => {\n        let { rawEvents } = res;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.response) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            rawEvents,\n        });\n    }, (error) => {\n        let errorHandled = false;\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n            errorHandled = true;\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n            errorHandled = true;\n        }\n        if (!errorHandled) {\n            console.warn(error.message, error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId,\n            fetchRange,\n            error,\n        });\n    });\n    return Object.assign(Object.assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    let eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return Object.assign(Object.assign({}, sourceHash), { [sourceId]: Object.assign(Object.assign({}, eventSource), { isFetching: false, fetchRange }) });\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, (eventSource) => doesSourceNeedRange(eventSource, context));\n}\nfunction parseInitialSources(rawOptions, context) {\n    let refiners = buildEventSourceRefiners(context);\n    let rawSources = [].concat(rawOptions.eventSources || []);\n    let sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (let rawSource of rawSources) {\n        let source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    let newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    let newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    let footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n    return { header, footer };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    let sectionWidgets = {};\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    for (let sectionName in sectionStrHash) {\n        let sectionStr = sectionStrHash[sectionName];\n        let sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n        sectionWidgets[sectionName] = sectionRes.widgets;\n        viewsWithButtons.push(...sectionRes.viewsWithButtons);\n        hasTitle = hasTitle || sectionRes.hasTitle;\n    }\n    return { sectionWidgets, viewsWithButtons, hasTitle };\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\ncalendarOptionOverrides, // overrides only!, unrefined :(\ntheme, viewSpecs, calendarApi) {\n    let isRtl = calendarOptions.direction === 'rtl';\n    let calendarCustomButtons = calendarOptions.customButtons || {};\n    let calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    let calendarButtonText = calendarOptions.buttonText || {};\n    let calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n    let calendarButtonHints = calendarOptions.buttonHints || {};\n    let sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    let viewsWithButtons = [];\n    let hasTitle = false;\n    let widgets = sectionSubstrs.map((buttonGroupStr) => (buttonGroupStr.split(',').map((buttonName) => {\n        if (buttonName === 'title') {\n            hasTitle = true;\n            return { buttonName };\n        }\n        let customButtonProps;\n        let viewSpec;\n        let buttonClick;\n        let buttonIcon; // only one of these will be set\n        let buttonText; // \"\n        let buttonHint;\n        // ^ for the title=\"\" attribute, for accessibility\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = (ev) => {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n            buttonHint = customButtonProps.hint || customButtonProps.text;\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = () => {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n            let textFallback = viewSpec.buttonTextOverride ||\n                viewSpec.buttonTextDefault;\n            buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                viewSpec.buttonTitleDefault ||\n                calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n            textFallback);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = () => {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n            if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                let prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                    calendarButtonHints[prevOrNext], [\n                    calendarButtonText.year || 'year',\n                    'year',\n                ], calendarButtonText[buttonName]);\n            }\n            else {\n                buttonHint = (navUnit) => formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                    calendarButtonHints[buttonName], [\n                    calendarButtonText[navUnit] || navUnit,\n                    navUnit,\n                ], calendarButtonText[buttonName]);\n            }\n        }\n        return { buttonName, buttonClick, buttonIcon, buttonText, buttonHint };\n    })));\n    return { widgets, viewsWithButtons, hasTitle };\n}\n\n// always represents the current view. otherwise, it'd need to change value every time date changes\nclass ViewImpl {\n    constructor(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    get calendar() {\n        return this.getCurrentData().calendarApi;\n    }\n    get title() {\n        return this.getCurrentData().viewTitle;\n    }\n    get activeStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n    }\n    get activeEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n    }\n    get currentStart() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n    }\n    get currentEnd() {\n        return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n    }\n    getOption(name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    }\n}\n\nlet eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta(refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback) {\n        successCallback({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nconst arrayEventSourcePlugin = createPlugin({\n    name: 'array-event-source',\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nlet eventSourceDef$1 = {\n    parseMeta(refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { dateEnv } = arg.context;\n        const func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), (rawEvents) => successCallback({ rawEvents }), errorCallback);\n    },\n};\nconst funcEventSourcePlugin = createPlugin({\n    name: 'func-event-source',\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nconst JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nlet eventSourceDef = {\n    parseMeta(refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch(arg, successCallback, errorCallback) {\n        const { meta } = arg.eventSource;\n        const requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams).then(([rawEvents, response]) => {\n            successCallback({ rawEvents, response });\n        }, errorCallback);\n    },\n};\nconst jsonFeedEventSourcePlugin = createPlugin({\n    name: 'json-event-source',\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    let { dateEnv, options } = context;\n    let startParam;\n    let endParam;\n    let timeZoneParam;\n    let customRequestParams;\n    let params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    Object.assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nconst SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nlet recurring = {\n    parse(refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            let recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n                dateEnv,\n            };\n            let duration;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand(typeData, framingRange, dateEnv) {\n        let clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, typeData.dateEnv, dateEnv, clippedFramingRange);\n        }\n        return [];\n    },\n};\nconst simpleRecurringEventsPlugin = createPlugin({\n    name: 'simple-recurring-event',\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, eventDateEnv, calendarDateEnv, framingRange) {\n    let dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    let dayMarker = startOfDay(framingRange.start);\n    let endMarker = framingRange.end;\n    let instanceStarts = [];\n    // https://github.com/fullcalendar/fullcalendar/issues/7934\n    if (startTime) {\n        if (startTime.milliseconds < 0) {\n            // possible for next-day to have negative business hours that go into current day\n            endMarker = addDays(endMarker, 1);\n        }\n        else if (startTime.milliseconds >= 1000 * 60 * 60 * 24) {\n            // possible for prev-day to have >24hr business hours that go into current day\n            dayMarker = addDays(dayMarker, -1);\n        }\n    }\n    while (dayMarker < endMarker) {\n        let instanceStart;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = calendarDateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(calendarDateEnv.createMarker(eventDateEnv.toDate(instanceStart)));\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nconst changeHandlerPlugin = createPlugin({\n    name: 'change-handler',\n    optionChangeHandlers: {\n        events(events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    let unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    if (unfoundSources.length === 1 &&\n        inputs.length === 1 &&\n        Array.isArray(unfoundSources[0]._raw) &&\n        Array.isArray(inputs[0])) {\n        context.dispatch({\n            type: 'RESET_RAW_EVENTS',\n            sourceId: unfoundSources[0].sourceId,\n            rawEvents: inputs[0],\n        });\n        return;\n    }\n    let newInputs = [];\n    for (let input of inputs) {\n        let inputFound = false;\n        for (let i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (let unfoundSource of unfoundSources) {\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (let newInput of newInputs) {\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', Object.assign(Object.assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    let { emitter } = context;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nconst globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        name: 'misc',\n        isLoadingFuncs: [\n            (state) => computeEventSourcesLoading(state.eventSources),\n        ],\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\n\nclass TaskRunner {\n    constructor(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    request(task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    }\n    pause(scope) {\n        this.delayedRunner.pause(scope);\n    }\n    resume(scope, force) {\n        this.delayedRunner.resume(scope, force);\n    }\n    drain() {\n        let { queue } = this;\n        while (queue.length) {\n            let completedTasks = [];\n            let task;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    }\n    runTask(task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    }\n    drained(completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    }\n}\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    let range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    let { currentRangeUnit } = dateProfile;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    let days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n/*\nTODO: test switching timezones when NO timezone plugin\n*/\nclass CalendarNowManager {\n    constructor() {\n        this.resetListeners = new Set();\n    }\n    handleInput(dateEnv, // will change if timezone setup changed\n    nowInput) {\n        const oldDateEnv = this.dateEnv;\n        if (dateEnv !== oldDateEnv) {\n            if (typeof nowInput === 'function') {\n                this.nowFn = nowInput;\n            }\n            else if (!oldDateEnv) { // first time?\n                this.nowAnchorDate = dateEnv.toDate(nowInput\n                    ? dateEnv.createMarker(nowInput)\n                    : dateEnv.createNowMarker());\n                this.nowAnchorQueried = Date.now();\n            }\n            this.dateEnv = dateEnv;\n            // not first time? fire reset handlers\n            if (oldDateEnv) {\n                for (const resetListener of this.resetListeners.values()) {\n                    resetListener();\n                }\n            }\n        }\n    }\n    getDateMarker() {\n        return this.nowAnchorDate\n            ? this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf() +\n                (Date.now() - this.nowAnchorQueried))\n            : this.dateEnv.createMarker(this.nowFn());\n    }\n    addResetListener(handler) {\n        this.resetListeners.add(handler);\n    }\n    removeResetListener(handler) {\n        this.resetListeners.delete(handler);\n    }\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nclass CalendarDataManager {\n    constructor(props) {\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv$1);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.nowManager = new CalendarNowManager();\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.optionsForRefining = [];\n        this.optionsForHandling = [];\n        this.getCurrentData = () => this.data;\n        this.dispatch = (action) => {\n            this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        this.nowManager = new CalendarNowManager();\n        let dynamicOptionOverrides = {};\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv, this.nowManager);\n        let dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        // needs to be after setThisContext\n        for (let callback of optionsData.pluginHooks.contextInit) {\n            callback(calendarContext);\n        }\n        // NOT DRY\n        let eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        let initialState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), initialState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        let { props } = this;\n        if (changedOptionNames === undefined) {\n            props.optionOverrides = optionOverrides;\n        }\n        else {\n            props.optionOverrides = Object.assign(Object.assign({}, (props.optionOverrides || {})), optionOverrides);\n            this.optionsForRefining.push(...changedOptionNames);\n        }\n        if (changedOptionNames === undefined || changedOptionNames.length) {\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        }\n    }\n    _handleAction(action) {\n        let { props, state, emitter } = this;\n        let dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        let optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        let currentViewType = reduceViewType(state.currentViewType, action);\n        let currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        let calendarContext = {\n            nowManager: this.nowManager,\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        let { currentDate, dateProfile } = state;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        let eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        let eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        let isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        let renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        let { eventUiSingleBase, selectionConfig } = this.buildViewUiProps(calendarContext); // will memoize obj\n        let eventUiBySource = this.buildEventUiBySource(eventSources);\n        let eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        let newState = {\n            dynamicOptionOverrides,\n            currentViewType,\n            currentDate,\n            dateProfile,\n            eventSources,\n            eventStore,\n            renderableEventStore,\n            selectionConfig,\n            eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        let contextAndState = Object.assign(Object.assign({}, calendarContext), newState);\n        for (let reducer of optionsData.pluginHooks.reducers) {\n            Object.assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        let wasLoading = computeIsLoading(state, calendarContext);\n        let isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    }\n    updateData() {\n        let { props, state } = this;\n        let oldData = this.data;\n        let optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        let currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        let data = this.data = Object.assign(Object.assign(Object.assign({ nowManager: this.nowManager, viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        let changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        let oldCalendarOptions = oldData && oldData.calendarOptions;\n        let newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                state.renderableEventStore = data.renderableEventStore = rezoneEventStoreDates(data.renderableEventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (let optionName in changeHandlers) {\n                if (this.optionsForHandling.indexOf(optionName) !== -1 ||\n                    oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        this.optionsForHandling = [];\n        if (props.onData) {\n            props.onData(data);\n        }\n    }\n    computeOptionsData(optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        if (!this.optionsForRefining.length &&\n            optionOverrides === this.stableOptionOverrides &&\n            dynamicOptionOverrides === this.stableDynamicOptionOverrides) {\n            return this.stableCalendarOptionsData;\n        }\n        let { refinedOptions, pluginHooks, localeDefaults, availableLocaleData, extra, } = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        let dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        let viewSpecs = this.buildViewSpecs(pluginHooks.views, this.stableOptionOverrides, this.stableDynamicOptionOverrides, localeDefaults);\n        let theme = this.buildTheme(refinedOptions, pluginHooks);\n        let toolbarConfig = this.parseToolbars(refinedOptions, this.stableOptionOverrides, theme, viewSpecs, calendarApi);\n        return this.stableCalendarOptionsData = {\n            calendarOptions: refinedOptions,\n            pluginHooks,\n            dateEnv,\n            viewSpecs,\n            theme,\n            toolbarConfig,\n            localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    }\n    // always called from behind a memoizer\n    processRawCalendarOptions(optionOverrides, dynamicOptionOverrides) {\n        let { locales, locale } = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let availableLocaleData = this.organizeRawLocales(locales);\n        let availableRawLocales = availableLocaleData.map;\n        let localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        let pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        let refiners = this.currentCalendarOptionsRefiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let extra = {};\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refined = {};\n        let currentRaw = this.currentCalendarOptionsInput;\n        let currentRefined = this.currentCalendarOptionsRefined;\n        let anyChanges = false;\n        for (let optionName in raw) {\n            if (this.optionsForRefining.indexOf(optionName) === -1 && (raw[optionName] === currentRaw[optionName] || (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                (optionName in currentRaw) &&\n                COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName])))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else if (refiners[optionName]) {\n                refined[optionName] = refiners[optionName](raw[optionName]);\n                anyChanges = true;\n            }\n            else {\n                extra[optionName] = currentRaw[optionName];\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n            this.stableOptionOverrides = optionOverrides;\n            this.stableDynamicOptionOverrides = dynamicOptionOverrides;\n        }\n        this.optionsForHandling.push(...this.optionsForRefining);\n        this.optionsForRefining = [];\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks,\n            availableLocaleData,\n            localeDefaults,\n            extra,\n        };\n    }\n    _computeCurrentViewData(viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        let viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(`viewType \"${viewType}\" is not available. Please make sure you've loaded all neccessary plugins`);\n        }\n        let { refinedOptions, extra } = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides);\n        warnUnknownOptions(extra);\n        this.nowManager.handleInput(optionsData.dateEnv, refinedOptions.now);\n        let dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            nowManager: this.nowManager,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        let viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec, options: refinedOptions, dateProfileGenerator, viewApi };\n    }\n    processRawViewOptions(viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        let raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        let refiners = Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        let refined = {};\n        let currentRaw = this.currentViewOptionsInput;\n        let currentRefined = this.currentViewOptionsRefined;\n        let anyChanges = false;\n        let extra = {};\n        for (let optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName] ||\n                (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                    COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra,\n        };\n    }\n}\nfunction buildDateEnv$1(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    let locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale,\n        weekNumberCalculation,\n        firstDay,\n        weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    let ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    let DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewImpl(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, (eventSource) => eventSource.ui);\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    let eventUiBases = { '': eventUiSingleBase };\n    for (let defId in eventDefs) {\n        let def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    let { options } = calendarContext;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (let isLoadingFunc of context.pluginHooks.isLoadingFuncs) {\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (let optionName in options) {\n        console.warn(`Unknown option '${optionName}'` +\n            (viewName ? ` for view '${viewName}'` : ''));\n    }\n}\n\nclass ToolbarSection extends BaseComponent {\n    render() {\n        let children = this.props.widgetGroups.map((widgetGroup) => this.renderWidgetGroup(widgetGroup));\n        return createElement('div', { className: 'fc-toolbar-chunk' }, ...children);\n    }\n    renderWidgetGroup(widgetGroup) {\n        let { props } = this;\n        let { theme } = this.context;\n        let children = [];\n        let isOnlyButtons = true;\n        for (let widget of widgetGroup) {\n            let { buttonName, buttonClick, buttonText, buttonIcon, buttonHint } = widget;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n            }\n            else {\n                let isPressed = buttonName === props.activeButton;\n                let isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                let buttonClasses = [`fc-${buttonName}-button`, theme.getClass('button')];\n                if (isPressed) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon, role: \"img\" }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            let groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement('div', { className: groupClassName }, ...children);\n        }\n        return children[0];\n    }\n}\n\nclass Toolbar extends BaseComponent {\n    render() {\n        let { model, extraClassName } = this.props;\n        let forceLtr = false;\n        let startContent;\n        let endContent;\n        let sectionWidgets = model.sectionWidgets;\n        let centerContent = sectionWidgets.center;\n        if (sectionWidgets.left) {\n            forceLtr = true;\n            startContent = sectionWidgets.left;\n        }\n        else {\n            startContent = sectionWidgets.start;\n        }\n        if (sectionWidgets.right) {\n            forceLtr = true;\n            endContent = sectionWidgets.right;\n        }\n        else {\n            endContent = sectionWidgets.end;\n        }\n        let classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    }\n    renderSection(key, widgetGroups) {\n        let { props } = this;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n    }\n}\n\nclass ViewHarness extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            availableWidth: null,\n        };\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            this.updateAvailableWidth();\n        };\n        this.handleResize = () => {\n            this.updateAvailableWidth();\n        };\n    }\n    render() {\n        let { props, state } = this;\n        let { aspectRatio } = props;\n        let classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        let height = '';\n        let paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = `${(1 / aspectRatio) * 100}%`;\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height, paddingBottom } }, props.children));\n    }\n    componentDidMount() {\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    updateAvailableWidth() {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    }\n}\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nclass EventClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handleSegClick = (ev, segEl) => {\n            let { component } = this;\n            let { context } = component;\n            let seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                let hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                let url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventImpl(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        this.handleSegClick);\n    }\n}\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nclass EventHovering extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        this.handleEventElRemove = (el) => {\n            if (el === this.currentSegEl) {\n                this.handleSegLeave(null, this.currentSegEl);\n            }\n        };\n        this.handleSegEnter = (ev, segEl) => {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                this.currentSegEl = segEl;\n                this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        this.handleSegLeave = (ev, segEl) => {\n            if (this.currentSegEl) {\n                this.currentSegEl = null;\n                this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        this.handleSegEnter, this.handleSegLeave);\n    }\n    destroy() {\n        this.removeHoverListeners();\n    }\n    triggerEvent(publicEvName, ev, segEl) {\n        let { component } = this;\n        let { context } = component;\n        let seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventImpl(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    }\n}\n\nclass CalendarContent extends PureComponent {\n    constructor() {\n        super(...arguments);\n        this.buildViewContext = memoize(buildViewContext);\n        this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        this.buildToolbarProps = memoize(buildToolbarProps);\n        this.headerRef = createRef();\n        this.footerRef = createRef();\n        this.interactionsStore = {};\n        // eslint-disable-next-line\n        this.state = {\n            viewLabelId: getUniqueDomId(),\n        };\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        this.registerInteractiveComponent = (component, settingsInput) => {\n            let settings = parseInteractionSettings(component, settingsInput);\n            let DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            let interactionClasses = DEFAULT_INTERACTIONS.concat(this.props.pluginHooks.componentInteractions);\n            let interactions = interactionClasses.map((TheInteractionClass) => new TheInteractionClass(settings));\n            this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        this.unregisterInteractiveComponent = (component) => {\n            let listeners = this.interactionsStore[component.uid];\n            if (listeners) {\n                for (let listener of listeners) {\n                    listener.destroy();\n                }\n                delete this.interactionsStore[component.uid];\n            }\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        this.resizeRunner = new DelayedRunner(() => {\n            this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            this.props.emitter.trigger('windowResize', { view: this.props.viewApi });\n        });\n        this.handleWindowResize = (ev) => {\n            let { options } = this.props;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    render() {\n        let { props } = this;\n        let { toolbarConfig, options } = props;\n        let viewVGrow = false;\n        let viewHeight = '';\n        let viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        let viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.nowManager, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        let viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n            ? this.state.viewLabelId\n            : undefined;\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            createElement(NowTimer, { unit: \"day\" }, (nowDate) => {\n                let toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, nowDate, props.viewTitle);\n                return (createElement(Fragment, null,\n                    toolbarConfig.header && (createElement(Toolbar, Object.assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n                    createElement(ViewHarness, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                        this.renderView(props),\n                        this.buildAppendContent()),\n                    toolbarConfig.footer && (createElement(Toolbar, Object.assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n            })));\n    }\n    componentDidMount() {\n        let { props } = this;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map((CalendarInteractionClass) => new CalendarInteractionClass(props));\n        window.addEventListener('resize', this.handleWindowResize);\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    }\n    componentDidUpdate(prevProps) {\n        let { props } = this;\n        let { propSetHandlers } = props.pluginHooks;\n        for (let propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    }\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (let interaction of this.calendarInteractions) {\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    }\n    buildAppendContent() {\n        let { props } = this;\n        let children = props.pluginHooks.viewContainerAppends.map((buildAppendContent) => buildAppendContent(props));\n        return createElement(Fragment, {}, ...children);\n    }\n    renderView(props) {\n        let { pluginHooks } = props;\n        let { viewSpec } = props;\n        let viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        let transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (let transformer of transformers) {\n            Object.assign(viewProps, transformer.transform(viewProps, props));\n        }\n        let ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, Object.assign({}, viewProps)));\n    }\n}\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    let todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    let prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    let nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title,\n        activeButton: viewSpec.type,\n        navUnit: viewSpec.singleUnit,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map((TheClass) => new TheClass());\n}\n\nclass Calendar extends CalendarImpl {\n    constructor(el, optionOverrides = {}) {\n        super();\n        this.isRendering = false;\n        this.isRendered = false;\n        this.currentClassNames = [];\n        this.customContentRenderId = 0;\n        this.handleAction = (action) => {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    this.renderRunner.tryDrain();\n            }\n        };\n        this.handleData = (data) => {\n            this.currentData = data;\n            this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        this.handleRenderRequest = () => {\n            if (this.isRendering) {\n                this.isRendered = true;\n                let { currentData } = this;\n                flushSync(() => {\n                    render(createElement(CalendarRoot, { options: currentData.calendarOptions, theme: currentData.theme, emitter: currentData.emitter }, (classNames, height, isHeightAuto, forPrint) => {\n                        this.setClassNames(classNames);\n                        this.setHeight(height);\n                        return (createElement(RenderId.Provider, { value: this.customContentRenderId },\n                            createElement(CalendarContent, Object.assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData))));\n                    }), this.el);\n                });\n            }\n            else if (this.isRendered) {\n                this.isRendered = false;\n                render(null, this.el);\n                this.setClassNames([]);\n                this.setHeight('');\n            }\n        };\n        ensureElHasStyles(el);\n        this.el = el;\n        this.renderRunner = new DelayedRunner(this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides,\n            calendarApi: this,\n            onAction: this.handleAction,\n            onData: this.handleData,\n        });\n    }\n    render() {\n        let wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    }\n    destroy() {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    }\n    updateSize() {\n        flushSync(() => {\n            super.updateSize();\n        });\n    }\n    batchRendering(func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    }\n    pauseRendering() {\n        this.renderRunner.pause('pauseRendering');\n    }\n    resumeRendering() {\n        this.renderRunner.resume('pauseRendering', true);\n    }\n    resetOptions(optionOverrides, changedOptionNames) {\n        this.currentDataManager.resetOptions(optionOverrides, changedOptionNames);\n    }\n    setClassNames(classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            let { classList } = this.el;\n            for (let className of this.currentClassNames) {\n                classList.remove(className);\n            }\n            for (let className of classNames) {\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    }\n    setHeight(height) {\n        applyStyleProp(this.el, 'height', height);\n    }\n}\n\nfunction formatDate(dateInput, options = {}) {\n    let dateEnv = buildDateEnv(options);\n    let formatter = createFormatter(options);\n    let dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    let dateEnv = buildDateEnv(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    let formatter = createFormatter(options);\n    let startMeta = dateEnv.createMarkerMeta(startInput);\n    let endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv(settings) {\n    let locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(Object.assign(Object.assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale }));\n}\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nconst version = '6.1.19';\n\nexport { Calendar, createPlugin, formatDate, formatRange, globalLocales, globalPlugins, sliceEvents, version };\n","import * as preact from 'preact';\nimport { Component, createElement, isValidElement, Fragment } from 'preact';\nimport { createPortal } from 'preact/compat';\n\nconst styleTexts = [];\nconst styleEls = new Map();\nfunction injectStyles(styleText) {\n    styleTexts.push(styleText);\n    styleEls.forEach((styleEl) => {\n        appendStylesTo(styleEl, styleText);\n    });\n}\nfunction ensureElHasStyles(el) {\n    if (el.isConnected && // sometimes true if SSR system simulates DOM\n        el.getRootNode // sometimes undefined if SSR system simulates DOM\n    ) {\n        registerStylesRoot(el.getRootNode());\n    }\n}\nfunction registerStylesRoot(rootNode) {\n    let styleEl = styleEls.get(rootNode);\n    if (!styleEl || !styleEl.isConnected) {\n        styleEl = rootNode.querySelector('style[data-fullcalendar]');\n        if (!styleEl) {\n            styleEl = document.createElement('style');\n            styleEl.setAttribute('data-fullcalendar', '');\n            const nonce = getNonceValue();\n            if (nonce) {\n                styleEl.nonce = nonce;\n            }\n            const parentEl = rootNode === document ? document.head : rootNode;\n            const insertBefore = rootNode === document\n                ? parentEl.querySelector('script,link[rel=stylesheet],link[as=style],style')\n                : parentEl.firstChild;\n            parentEl.insertBefore(styleEl, insertBefore);\n        }\n        styleEls.set(rootNode, styleEl);\n        hydrateStylesRoot(styleEl);\n    }\n}\nfunction hydrateStylesRoot(styleEl) {\n    for (const styleText of styleTexts) {\n        appendStylesTo(styleEl, styleText);\n    }\n}\nfunction appendStylesTo(styleEl, styleText) {\n    const { sheet } = styleEl;\n    const ruleCnt = sheet.cssRules.length;\n    styleText.split('}').forEach((styleStr, i) => {\n        styleStr = styleStr.trim();\n        if (styleStr) {\n            sheet.insertRule(styleStr + '}', ruleCnt + i);\n        }\n    });\n}\n// nonce\n// -------------------------------------------------------------------------------------------------\nlet queriedNonceValue;\nfunction getNonceValue() {\n    if (queriedNonceValue === undefined) {\n        queriedNonceValue = queryNonceValue();\n    }\n    return queriedNonceValue;\n}\n/*\nTODO: discourage meta tag and instead put nonce attribute on placeholder <style> tag\n*/\nfunction queryNonceValue() {\n    const metaWithNonce = document.querySelector('meta[name=\"csp-nonce\"]');\n    if (metaWithNonce && metaWithNonce.hasAttribute('content')) {\n        return metaWithNonce.getAttribute('content');\n    }\n    const elWithNonce = document.querySelector('script[nonce]');\n    if (elWithNonce) {\n        return elWithNonce.nonce || '';\n    }\n    return '';\n}\n// main\n// -------------------------------------------------------------------------------------------------\nif (typeof document !== 'undefined') {\n    registerStylesRoot(document);\n}\n\nvar css_248z = \":root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:\\\"\\\\e900\\\"}.fc-icon-chevron-right:before{content:\\\"\\\\e901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\\\e902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\\\e903\\\"}.fc-icon-minus-square:before{content:\\\"\\\\e904\\\"}.fc-icon-plus-square:before{content:\\\"\\\\e905\\\"}.fc-icon-x:before{content:\\\"\\\\e906\\\"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:\\\"\\\";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:\\\"\\\";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:\\\"\\\";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}\";\ninjectStyles(css_248z);\n\nclass DelayedRunner {\n    constructor(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    request(delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    }\n    pause(scope = '') {\n        let { pauseDepths } = this;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    }\n    resume(scope = '', force) {\n        let { pauseDepths } = this;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                let depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    }\n    isPaused() {\n        return Object.keys(this.pauseDepths).length;\n    }\n    tryDrain() {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    }\n    clear() {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    }\n    drained() {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    }\n}\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    let method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    let containers = container instanceof HTMLElement ? [container] : container;\n    let allMatches = [];\n    for (let i = 0; i < containers.length; i += 1) {\n        let matches = containers[i].querySelectorAll(selector);\n        for (let j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    let parents = parent instanceof HTMLElement ? [parent] : parent;\n    let allMatches = [];\n    for (let i = 0; i < parents.length; i += 1) {\n        let childNodes = parents[i].children; // only ever elements\n        for (let j = 0; j < childNodes.length; j += 1) {\n            let childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nconst PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (let propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = `${val}px`;\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n// Unique ID for DOM attribute\nlet guid$1 = 0;\nfunction getUniqueDomId() {\n    guid$1 += 1;\n    return 'fc-dom-' + guid$1;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return (ev) => {\n        let matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    let attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return () => {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    let currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, (mouseOverEv, matchedChild) => {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            let realOnMouseLeave = (mouseLeaveEv) => {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nconst transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    let realCallback = (ev) => {\n        callback(ev);\n        transitionEventNames.forEach((eventName) => {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach((eventName) => {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n// ARIA workarounds\n// ----------------------------------------------------------------------------------------------------------------\nfunction createAriaClickAttrs(handler) {\n    return Object.assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n}\nfunction createAriaKeyboardAttrs(handler) {\n    return {\n        tabIndex: 0,\n        onKeyDown(ev) {\n            if (ev.key === 'Enter' || ev.key === ' ') {\n                handler(ev);\n                ev.preventDefault(); // if space, don't scroll down page\n            }\n        },\n    };\n}\n\nlet guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.style.userSelect = 'none';\n    el.style.webkitUserSelect = 'none';\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.style.userSelect = '';\n    el.style.webkitUserSelect = '';\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    let specs = [];\n    let tokens = [];\n    let i;\n    let token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    let i;\n    let cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    let s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\nfunction formatWithOrdinals(formatter, args, fallbackText) {\n    if (typeof formatter === 'function') {\n        return formatter(...args);\n    }\n    if (typeof formatter === 'string') { // non-blank string\n        return args.reduce((str, arg, index) => (str.replace('$' + index, arg || '')), formatter);\n    }\n    return fallbackText;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    let allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    let contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nconst INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nconst PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject({ [unit || 'milliseconds']: input });\n    }\n    return null;\n}\nfunction parseString(s) {\n    let m = PARSE_RE.exec(s);\n    if (m) {\n        let sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    let duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    let weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    let res = null;\n    for (let i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        let unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            let localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    let ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    let removeCnt = 0;\n    let i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    let len = a0.length;\n    let i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    let a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    let a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    let m0day = startOfDay(m0);\n    let m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    let d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    let y = marker.getUTCFullYear();\n    let w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    let nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    let firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    let dayStart = startOfDay(marker);\n    let days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    let fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    let fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC(...a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime = false) {\n    let s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\nfunction formatIsoMonthStr(marker) {\n    return marker.toISOString().match(/^\\d{4}-\\d{2}/)[0];\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso = false) {\n    let sign = minutes < 0 ? '-' : '+';\n    let abs = Math.abs(minutes);\n    let hours = Math.floor(abs / 60);\n    let mins = Math.round(abs % 60);\n    if (doIso) {\n        return `${sign + padStart(hours, 2)}:${padStart(mins, 2)}`;\n    }\n    return `GMT${sign}${hours}${mins ? `:${padStart(mins, 2)}` : ''}`;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    let currentArgs;\n    let currentRes;\n    return function (...newArgs) {\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    let currentArg;\n    let currentRes;\n    return (newArg) => {\n        if (!currentArg) {\n            currentRes = workerFunc.call(this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            let res = workerFunc.call(this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    let currentArgSets = [];\n    let currentResults = [];\n    return (newArgSets) => {\n        let currentLen = currentArgSets.length;\n        let newLen = newArgSets.length;\n        let i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                let res = workerFunc.apply(this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n    let currentArgHash = {};\n    let currentResHash = {};\n    return (newArgHash) => {\n        let newResHash = {};\n        for (let key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                let res = workerFunc.apply(this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nconst EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 9,\n    omitZeroMinute: 9,\n    meridiem: 9,\n    omitCommas: 9,\n};\nconst STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nconst MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nconst COMMA_RE = /,/g; // we need re for globalness\nconst MULTI_SPACE_RE = /\\s+/g;\nconst LTR_RE = /\\u200e/g; // control character\nconst UTC_RE = /UTC|GMT/;\nclass NativeFormatter {\n    constructor(formatSettings) {\n        let standardDateProps = {};\n        let extendedSettings = {};\n        let smallestUnitNum = 9; // the smallest unit in the formatter (9 is a sentinel, beyond max)\n        for (let name in formatSettings) {\n            if (name in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name] = formatSettings[name];\n                const severity = EXTENDED_SETTINGS_AND_SEVERITIES[name];\n                if (severity < 9) {\n                    smallestUnitNum = Math.min(EXTENDED_SETTINGS_AND_SEVERITIES[name], smallestUnitNum);\n                }\n            }\n            else {\n                standardDateProps[name] = formatSettings[name];\n                if (name in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    smallestUnitNum = Math.min(STANDARD_DATE_PROP_SEVERITIES[name], smallestUnitNum);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.smallestUnitNum = smallestUnitNum;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    format(date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        let { standardDateProps, extendedSettings } = this;\n        let diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        let biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        let full0 = this.format(start, context);\n        let full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        let partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        let partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        let partial0 = partialFormattingFunc(start);\n        let partial1 = partialFormattingFunc(end);\n        let insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        let separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    }\n    getSmallestUnit() {\n        switch (this.smallestUnitNum) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    }\n}\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    let standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return (date) => (formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return (date) => (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week));\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = Object.assign({}, standardDateProps); // copy\n    extendedSettings = Object.assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    let normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    let zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        let zeroProps = Object.assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return (date) => {\n        let { marker } = date;\n        let format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        let s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, (m0, m1) => m1.toLocaleLowerCase());\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, (m0, m1) => `${m1.toLocaleLowerCase()}m`);\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, (m0) => m0.toLocaleLowerCase());\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    let replaced = false;\n    s = s.replace(UTC_RE, () => {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += ` ${tzoStr}`;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n    let parts = [];\n    if (display === 'long') {\n        parts.push(weekTextLong);\n    }\n    else if (display === 'short' || display === 'narrow') {\n        parts.push(weekText);\n    }\n    if (display === 'long' || display === 'short') {\n        parts.push(' ');\n    }\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    let partialOptions = {};\n    for (let name in options) {\n        if (!(name in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name] <= biggestUnit) {\n            partialOptions[name] = options[name];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    let i0 = 0;\n    while (i0 < full0.length) {\n        let found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        let before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        let after0 = full0.substr(i0);\n        let i1 = 0;\n        while (i1 < full1.length) {\n            let found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            let before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            let after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    let a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    let startInfo = expandZonedMarker(start, context.calendarSystem);\n    let endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nclass CmdFormatter {\n    constructor(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nclass FuncFormatter {\n    constructor(func) {\n        this.func = func;\n    }\n    format(date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    }\n    formatRange(start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    }\n}\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nconst BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorSnap: identity,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    weekTextLong: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    moreLinkHint: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    eventInteractive: Boolean,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    viewHint: identity,\n    navLinkHint: identity,\n    closeHint: String,\n    timeHint: String,\n    eventHint: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n    monthStartFormat: createFormatter,\n    // for connectors\n    // (can't be part of plugin system b/c must be provided at runtime)\n    handleCustomRendering: identity,\n    customRenderingMetaMap: identity,\n    customRenderingReplaces: Boolean,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nconst BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n    monthStartFormat: { month: 'long', day: 'numeric' },\n    nowIndicatorSnap: 'auto',\n};\n// calendar listeners\n// ------------------\nconst CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nconst CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    buttonHints: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nconst COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isMaybeObjectsEqual,\n    footerToolbar: isMaybeObjectsEqual,\n    buttonText: isMaybeObjectsEqual,\n    buttonHints: isMaybeObjectsEqual,\n    buttonIcons: isMaybeObjectsEqual,\n    dateIncrement: isMaybeObjectsEqual,\n    plugins: isMaybeArraysEqual,\n    events: isMaybeArraysEqual,\n    eventSources: isMaybeArraysEqual,\n    ['resources']: isMaybeArraysEqual,\n};\nfunction isMaybeObjectsEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\nfunction isMaybeArraysEqual(a, b) {\n    if (Array.isArray(a) && Array.isArray(b)) {\n        return isArraysEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nconst VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    let refined = {};\n    let extra = {};\n    for (let propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (let propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined, extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nconst { hasOwnProperty } = Object.prototype;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    let dest = {};\n    if (complexPropsMap) {\n        for (let name in complexPropsMap) {\n            if (complexPropsMap[name] === isMaybeObjectsEqual) { // implies that it's object-mergeable\n                let complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n                    let val = propObjs[i][name];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name] = mergeProps(complexObjs);\n                }\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (let i = propObjs.length - 1; i >= 0; i -= 1) {\n        let props = propObjs[i];\n        for (let name in props) {\n            if (!(name in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name] = props[name];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    let filtered = {};\n    for (let key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    let newHash = {};\n    for (let key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    let hash = {};\n    for (let item of a) {\n        hash[item] = true;\n    }\n    return hash;\n}\n// TODO: reassess browser support\n// https://caniuse.com/?search=object.values\nfunction hashValuesToArray(obj) {\n    let a = [];\n    for (let key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nconst HANDLER_RE = /^on[A-Z]/;\nfunction isNonHandlerPropsEqual(obj0, obj1) {\n    const keys = getUnequalProps(obj0, obj1);\n    for (let key of keys) {\n        if (!HANDLER_RE.test(key)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    let keys = [];\n    for (let key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (let key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs = {}) {\n    if (oldProps === newProps) {\n        return true;\n    }\n    // if (debug) {\n    //   for (let key in newProps) {\n    //     if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) {\n    //       // equal\n    //     } else {\n    //       if (debug) {\n    //         console.log('prop difference', key, oldProps[key], newProps[key])\n    //       }\n    //     }\n    //   }\n    //   // check for props that were omitted in the new\n    //   for (let key in oldProps) {\n    //     if (!(key in newProps)) {\n    //       if (debug) {\n    //         console.log('prop absent', key)\n    //       }\n    //     }\n    //   }\n    // }\n    for (let key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (let key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex = 0, endIndex, step = 1) {\n    let res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (let i = startIndex; i < endIndex; i += step) {\n        let val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nlet calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nclass GregorianCalendarSystem {\n    getMarkerYear(d) {\n        return d.getUTCFullYear();\n    }\n    getMarkerMonth(d) {\n        return d.getUTCMonth();\n    }\n    getMarkerDay(d) {\n        return d.getUTCDate();\n    }\n    arrayToMarker(arr) {\n        return arrayToUtcDate(arr);\n    }\n    markerToArray(marker) {\n        return dateToUtcArray(marker);\n    }\n}\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nconst ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    let m = ISO_RE.exec(str);\n    if (m) {\n        let marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(`0.${m[12]}`) * 1000 : 0));\n        if (isValidDate(marker)) {\n            let timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nclass DateEnv {\n    constructor(settings) {\n        let timeZone = this.timeZone = settings.timeZone;\n        let isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    createMarker(input) {\n        let meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    }\n    createNowMarker() {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    }\n    createMarkerMeta(input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        let marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker, isTimeUnspecified: false, forcedTzo: null };\n    }\n    parse(s) {\n        let parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        let { marker } = parts;\n        let forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo };\n    }\n    // Accessors\n    getYear(marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    }\n    getMonth(marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    }\n    getDay(marker) {\n        return this.calendarSystem.getMarkerDay(marker);\n    }\n    // Adding / Subtracting\n    add(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    subtract(marker, dur) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addYears(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    addMonths(marker, n) {\n        let a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    }\n    // Diffing Whole Units\n    diffWholeYears(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    }\n    diffWholeMonths(m0, m1) {\n        let { calendarSystem } = this;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    }\n    // Range / Duration\n    greatestWholeUnit(m0, m1) {\n        let n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    }\n    countDurationsBetween(m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        let diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    }\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    startOf(m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    }\n    startOfYear(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    }\n    startOfMonth(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    }\n    startOfWeek(m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    }\n    // Week Number\n    computeWeekNumber(marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    }\n    // TODO: choke on timeZoneName: long\n    format(marker, formatter, dateOptions = {}) {\n        return formatter.format({\n            marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    }\n    formatRange(start, end, formatter, dateOptions = {}) {\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    }\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    formatIso(marker, extraOptions = {}) {\n        let timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    }\n    // TimeZone\n    timestampToMarker(ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    }\n    offsetForMarker(m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    }\n    // Conversion\n    toDate(m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    }\n}\n\nclass Theme {\n    constructor(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    setIconOverride(iconOverrideHash) {\n        let iconClassesCopy;\n        let buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = Object.assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    }\n    applyIconOverridePrefix(className) {\n        let prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    }\n    getClass(key) {\n        return this.classes[key] || '';\n    }\n    getIconClass(buttonName, isRtl) {\n        let className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return `${this.baseIconClass} ${className}`;\n        }\n        return '';\n    }\n    getCustomButtonIconClass(customButtonProps) {\n        let className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return `${this.baseIconClass} ${this.applyIconOverridePrefix(className)}`;\n            }\n        }\n        return '';\n    }\n}\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\n/*\nNOTE: this can be a public API, especially createElement for hooks.\nSee examples/typescript-scheduler/src/index.ts\n*/\nfunction flushSync(runBeforeFlush) {\n    runBeforeFlush();\n    let oldDebounceRendering = preact.options.debounceRendering; // orig\n    let callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nclass FakeComponent extends preact.Component {\n    render() { return preact.createElement('div', {}); }\n    componentDidMount() { this.setState({}); }\n}\n// TODO: use preact/compat instead?\nfunction createContext(defaultValue) {\n    let ContextType = preact.createContext(defaultValue);\n    let origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        let isNew = !this.getChildContext;\n        let children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            let subs = [];\n            this.shouldComponentUpdate = (_props) => {\n                if (this.props.value !== _props.value) {\n                    subs.forEach((c) => {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = (c) => {\n                subs.push(c);\n                let old = c.componentWillUnmount;\n                c.componentWillUnmount = () => {\n                    subs.splice(subs.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\n\nclass ScrollResponder {\n    constructor(execFunc, emitter, scrollTime, scrollTimeReset) {\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = (request) => {\n            this.queuedRequest = Object.assign({}, this.queuedRequest || {}, request);\n            this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    detach() {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    }\n    update(isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    }\n    fireInitialScroll() {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    }\n    drain() {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    }\n}\n\nconst ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, nowManager, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv,\n        nowManager,\n        options: viewOptions,\n        pluginHooks,\n        emitter,\n        dispatch,\n        getCurrentData,\n        calendarApi,\n        viewSpec,\n        viewApi,\n        dateProfileGenerator,\n        theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler(handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler(handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder(execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent,\n        unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nclass PureComponent extends Component {\n    // debug: boolean\n    shouldComponentUpdate(nextProps, nextState) {\n        const shouldUpdate = !compareObjs(this.props, nextProps, this.propEquality /*, this.debug */) ||\n            !compareObjs(this.state, nextState, this.stateEquality /*, this.debug */);\n        // if (this.debug && shouldUpdate) {\n        //   console.log('shouldUpdate!')\n        // }\n        return shouldUpdate;\n    }\n    // HACK for freakin' React StrictMode\n    safeSetState(newState) {\n        if (!compareObjs(this.state, Object.assign(Object.assign({}, this.state), newState), this.stateEquality)) {\n            this.setState(newState);\n        }\n    }\n}\nPureComponent.addPropsEquality = addPropsEquality;\nPureComponent.addStateEquality = addStateEquality;\nPureComponent.contextType = ViewContextType;\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nclass BaseComponent extends PureComponent {\n}\nBaseComponent.contextType = ViewContextType;\nfunction addPropsEquality(propEquality) {\n    let hash = Object.create(this.prototype.propEquality);\n    Object.assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    let hash = Object.create(this.prototype.stateEquality);\n    Object.assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\nclass ContentInjector extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.id = guid();\n        this.queuedDomNodes = [];\n        this.currentDomNodes = [];\n        this.handleEl = (el) => {\n            const { options } = this.context;\n            const { generatorName } = this.props;\n            if (!options.customRenderingReplaces || !hasCustomRenderingHandler(generatorName, options)) {\n                this.updateElRef(el);\n            }\n        };\n        this.updateElRef = (el) => {\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { customGenerator, defaultGenerator, renderProps } = props;\n        const attrs = buildElAttrs(props, [], this.handleEl);\n        let useDefault = false;\n        let innerContent;\n        let queuedDomNodes = [];\n        let currentGeneratorMeta;\n        if (customGenerator != null) {\n            const customGeneratorRes = typeof customGenerator === 'function' ?\n                customGenerator(renderProps, createElement) :\n                customGenerator;\n            if (customGeneratorRes === true) {\n                useDefault = true;\n            }\n            else {\n                const isObject = customGeneratorRes && typeof customGeneratorRes === 'object'; // non-null\n                if (isObject && ('html' in customGeneratorRes)) {\n                    attrs.dangerouslySetInnerHTML = { __html: customGeneratorRes.html };\n                }\n                else if (isObject && ('domNodes' in customGeneratorRes)) {\n                    queuedDomNodes = Array.prototype.slice.call(customGeneratorRes.domNodes);\n                }\n                else if (isObject\n                    ? isValidElement(customGeneratorRes) // vdom node\n                    : typeof customGeneratorRes !== 'function' // primitive value (like string or number)\n                ) {\n                    // use in vdom\n                    innerContent = customGeneratorRes;\n                }\n                else {\n                    // an exotic object for handleCustomRendering\n                    currentGeneratorMeta = customGeneratorRes;\n                }\n            }\n        }\n        else {\n            useDefault = !hasCustomRenderingHandler(props.generatorName, options);\n        }\n        if (useDefault && defaultGenerator) {\n            innerContent = defaultGenerator(renderProps);\n        }\n        this.queuedDomNodes = queuedDomNodes;\n        this.currentGeneratorMeta = currentGeneratorMeta;\n        return createElement(props.elTag, attrs, innerContent);\n    }\n    componentDidMount() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentDidUpdate() {\n        this.applyQueueudDomNodes();\n        this.triggerCustomRendering(true);\n    }\n    componentWillUnmount() {\n        this.triggerCustomRendering(false); // TODO: different API for removal?\n    }\n    triggerCustomRendering(isActive) {\n        var _a;\n        const { props, context } = this;\n        const { handleCustomRendering, customRenderingMetaMap } = context.options;\n        if (handleCustomRendering) {\n            const generatorMeta = (_a = this.currentGeneratorMeta) !== null && _a !== void 0 ? _a : customRenderingMetaMap === null || customRenderingMetaMap === void 0 ? void 0 : customRenderingMetaMap[props.generatorName];\n            if (generatorMeta) {\n                handleCustomRendering(Object.assign(Object.assign({ id: this.id, isActive, containerEl: this.base, reportNewContainerEl: this.updateElRef, // front-end framework tells us about new container els\n                    generatorMeta }, props), { elClasses: (props.elClasses || []).filter(isTruthy) }));\n            }\n        }\n    }\n    applyQueueudDomNodes() {\n        const { queuedDomNodes, currentDomNodes } = this;\n        const el = this.base;\n        if (!isArraysEqual(queuedDomNodes, currentDomNodes)) {\n            currentDomNodes.forEach(removeElement);\n            for (let newNode of queuedDomNodes) {\n                el.appendChild(newNode);\n            }\n            this.currentDomNodes = queuedDomNodes;\n        }\n    }\n}\nContentInjector.addPropsEquality({\n    elClasses: isArraysEqual,\n    elStyle: isPropsEqual,\n    elAttrs: isNonHandlerPropsEqual,\n    renderProps: isPropsEqual,\n});\n// Util\n/*\nDoes UI-framework provide custom way of rendering that does not use Preact VDOM\nAND does the calendar's options define custom rendering?\nAKA. Should we NOT render the default content?\n*/\nfunction hasCustomRenderingHandler(generatorName, options) {\n    var _a;\n    return Boolean(options.handleCustomRendering &&\n        generatorName &&\n        ((_a = options.customRenderingMetaMap) === null || _a === void 0 ? void 0 : _a[generatorName]));\n}\nfunction buildElAttrs(props, extraClassNames, elRef) {\n    const attrs = Object.assign(Object.assign({}, props.elAttrs), { ref: elRef });\n    if (props.elClasses || extraClassNames) {\n        attrs.className = (props.elClasses || [])\n            .concat(extraClassNames || [])\n            .concat(attrs.className || [])\n            .filter(Boolean)\n            .join(' ');\n    }\n    if (props.elStyle) {\n        attrs.style = props.elStyle;\n    }\n    return attrs;\n}\nfunction isTruthy(val) {\n    return Boolean(val);\n}\n\nconst RenderId = createContext(0);\n\nclass ContentContainer extends Component {\n    constructor() {\n        super(...arguments);\n        this.InnerContent = InnerContentInjector.bind(undefined, this);\n        this.handleEl = (el) => {\n            this.el = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n                if (el && this.didMountMisfire) {\n                    this.componentDidMount();\n                }\n            }\n        };\n    }\n    render() {\n        const { props } = this;\n        const generatedClassNames = generateClassNames(props.classNameGenerator, props.renderProps);\n        if (props.children) {\n            const elAttrs = buildElAttrs(props, generatedClassNames, this.handleEl);\n            const children = props.children(this.InnerContent, props.renderProps, elAttrs);\n            if (props.elTag) {\n                return createElement(props.elTag, elAttrs, children);\n            }\n            else {\n                return children;\n            }\n        }\n        else {\n            return createElement((ContentInjector), Object.assign(Object.assign({}, props), { elRef: this.handleEl, elTag: props.elTag || 'div', elClasses: (props.elClasses || []).concat(generatedClassNames), renderId: this.context }));\n        }\n    }\n    componentDidMount() {\n        var _a, _b;\n        if (this.el) {\n            (_b = (_a = this.props).didMount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n        }\n        else {\n            this.didMountMisfire = true;\n        }\n    }\n    componentWillUnmount() {\n        var _a, _b;\n        (_b = (_a = this.props).willUnmount) === null || _b === void 0 ? void 0 : _b.call(_a, Object.assign(Object.assign({}, this.props.renderProps), { el: this.el }));\n    }\n}\nContentContainer.contextType = RenderId;\nfunction InnerContentInjector(containerComponent, props) {\n    const parentProps = containerComponent.props;\n    return createElement((ContentInjector), Object.assign({ renderProps: parentProps.renderProps, generatorName: parentProps.generatorName, customGenerator: parentProps.customGenerator, defaultGenerator: parentProps.defaultGenerator, renderId: containerComponent.context }, props));\n}\n// Utils\nfunction generateClassNames(classNameGenerator, renderProps) {\n    const classNames = typeof classNameGenerator === 'function' ?\n        classNameGenerator(renderProps) :\n        classNameGenerator || [];\n    return typeof classNames === 'string' ? [classNames] : classNames;\n}\n\nclass ViewContainer extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = { view: context.viewApi };\n        return (createElement(ContentContainer, { elRef: props.elRef, elTag: props.elTag || 'div', elAttrs: props.elAttrs, elClasses: [\n                ...buildViewClassNames(props.viewSpec),\n                ...(props.elClasses || []),\n            ], elStyle: props.elStyle, renderProps: renderProps, classNameGenerator: options.viewClassNames, generatorName: undefined, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount }, () => props.children));\n    }\n}\nfunction buildViewClassNames(viewSpec) {\n    return [\n        `fc-${viewSpec.type}-view`,\n        'fc-view',\n    ];\n}\n\nfunction parseRange(input, dateEnv) {\n    let start = null;\n    let end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start, end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    let invertedRanges = [];\n    let { start } = constraintRange; // the end of the previous range. the start of the new range\n    let i;\n    let dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    let { start, end } = range0;\n    let newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start, end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    let dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    let start = startOfDay(timedRange.start);\n    let end = addDays(start, dayCnt);\n    return { start, end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold = createDuration(0)) {\n    let startDay = null;\n    let endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        let endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    let visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nclass DateProfileGenerator {\n    constructor(props) {\n        this.props = props;\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    buildPrev(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    }\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    buildNext(currentDateProfile, currentDate, forceToValid) {\n        let { dateEnv } = this.props;\n        let nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    }\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    build(currentDate, direction, forceToValid = true) {\n        let { props } = this;\n        let validRange;\n        let currentInfo;\n        let isRangeAllDay;\n        let renderRange;\n        let activeRange;\n        let isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        // HACK: constrain to render-range so `currentDate` is more useful to view rendering\n        if (!rangeContainsMarker(renderRange, currentDate)) {\n            currentDate = renderRange.start;\n        }\n        return {\n            currentDate,\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    }\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    buildValidRange() {\n        let input = this.props.validRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.props.dateEnv.toDate(this.props.nowManager.getDateMarker()))\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    }\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    buildCurrentRangeInfo(date, direction) {\n        let { props } = this;\n        let duration = null;\n        let unit = null;\n        let range = null;\n        let dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration, unit, range };\n    }\n    getFallbackDuration() {\n        return createDuration({ day: 1 });\n    }\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    adjustActiveRange(range) {\n        let { dateEnv, usesMinMaxTime, slotMinTime, slotMaxTime } = this.props;\n        let { start, end } = range;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start, end };\n    }\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    buildRangeFromDuration(date, direction, duration, unit) {\n        let { dateEnv, dateAlignment } = this.props;\n        let start;\n        let end;\n        let res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            let { dateIncrement } = this.props;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start, end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    }\n    // Builds the \"current\" range when a dayCount is specified.\n    buildRangeFromDayCount(date, direction, dayCount) {\n        let { dateEnv, dateAlignment } = this.props;\n        let runningCount = 0;\n        let start = date;\n        let end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start, end };\n    }\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    buildCustomVisibleRange(date) {\n        let { props } = this;\n        let input = props.visibleRangeInput;\n        let simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        let range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    }\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    }\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    buildDateIncrement(fallback) {\n        let { dateIncrement } = this.props;\n        let customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    }\n    refineRange(rangeInput) {\n        if (rangeInput) {\n            let range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    }\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    initHiddenDays() {\n        let hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        let isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        let dayCnt = 0;\n        let i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    }\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    trimHiddenDays(range) {\n        let { start, end } = range;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start, end };\n        }\n        return null;\n    }\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    isHiddenDay(day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    }\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    skipHiddenDays(date, inc = 1, isExclusive = false) {\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    }\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId,\n        range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (let i = 0; i < recurringTypes.length; i += 1) {\n        let parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            let { allDay } = refined;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    let { dateEnv, pluginHooks, options } = context;\n    let { defs, instances } = eventStore;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, (instance) => !defs[instance.defId].recurringDef);\n    for (let defId in defs) {\n        let def = defs[defId];\n        if (def.recurringDef) {\n            let { duration } = def.recurringDef;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            let starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (let start of starts) {\n                let instance = createEventInstance(defId, {\n                    start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs, instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    let typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    let markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nconst EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n    interactive: Boolean,\n};\nconst EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nconst EVENT_REFINERS = Object.assign(Object.assign(Object.assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners = buildEventRefiners(context), defIdMap, instanceIdMap) {\n    let { refined, extra } = refineEventDef(raw, context, refiners);\n    let defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    let recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context, defIdMap);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def, instance: null };\n    }\n    let singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        let def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context, defIdMap);\n        let instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        if (instanceIdMap && def.publicId && instanceIdMap[def.publicId]) {\n            instance.instanceId = instanceIdMap[def.publicId];\n        }\n        return { def, instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners = buildEventRefiners(context)) {\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context, defIdMap) {\n    let def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: ((defIdMap && refined.id) ? defIdMap[refined.id] : '') || guid(),\n        sourceId,\n        allDay,\n        hasEnd,\n        interactive: refined.interactive,\n        ui: createEventUi(refined, context),\n        extendedProps: Object.assign(Object.assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (let memberAdder of context.pluginHooks.eventDefMemberAdders) {\n        Object.assign(def, memberAdder(refined));\n    }\n    // help out EventImpl from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    let { allDay } = refined;\n    let startMeta;\n    let startMarker = null;\n    let hasEnd = false;\n    let endMeta;\n    let endMarker = null;\n    let startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay,\n        hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    let res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange, defIdMap, instanceIdMap) {\n    let eventStore = createEmptyEventStore();\n    let eventRefiners = buildEventRefiners(context);\n    for (let rawEvent of rawEvents) {\n        let tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners, defIdMap, instanceIdMap);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore = createEmptyEventStore()) {\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    let instance = eventStore.instances[instanceId];\n    if (instance) {\n        let def = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        let newStore = filterEventStoreDefs(eventStore, (lookDef) => isEventDefsGrouped(def, lookDef));\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def.defId] = def;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: Object.assign(Object.assign({}, store0.defs), store1.defs),\n        instances: Object.assign(Object.assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    let defs = filterHash(eventStore.defs, filterFunc);\n    let instances = filterHash(eventStore.instances, (instance) => (defs[instance.defId] // still exists?\n    ));\n    return { defs, instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    let { defs, instances } = master;\n    let filteredDefs = {};\n    let filteredInstances = {};\n    for (let defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (let instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nconst EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nconst EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    let constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nconst EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners = buildEventSourceRefiners(context)) {\n    let rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        let { refined, extra } = refineProps(rawObj, refiners);\n        let metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return Object.assign(Object.assign(Object.assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    let defs = context.pluginHooks.eventSourceDefs;\n    for (let i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        let def = defs[i];\n        let meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'RESET_RAW_EVENTS':\n            return resetRawEvents(eventStore, eventSources[action.sourceId], action.rawEvents, dateProfile.activeRange, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, (eventDef) => (!eventDef.sourceId // only keep events with no source id\n            ));\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        let subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction resetRawEvents(existingEventStore, eventSource, rawEvents, activeRange, context) {\n    const { defIdMap, instanceIdMap } = buildPublicIdMaps(existingEventStore);\n    let newEventStore = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context, false, defIdMap, instanceIdMap);\n    return expandRecurring(newEventStore, activeRange, context);\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    let calEachTransform = context.options.eventDataTransform;\n    let sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    let refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (let rawEvent of rawEvents) {\n            let refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    let { defs } = eventStore;\n    let instances = mapHash(eventStore.instances, (instance) => {\n        let def = defs[instance.defId];\n        if (def.allDay) {\n            return instance; // isn't dependent on timezone\n        }\n        return Object.assign(Object.assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs, instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, (eventDef) => eventDef.sourceId !== sourceId);\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, (instance) => !removals[instance.instanceId]),\n    };\n}\nfunction buildPublicIdMaps(eventStore) {\n    const { defs, instances } = eventStore;\n    const defIdMap = {};\n    const instanceIdMap = {};\n    for (let defId in defs) {\n        const def = defs[defId];\n        const { publicId } = def;\n        if (publicId) {\n            defIdMap[publicId] = defId;\n        }\n    }\n    for (let instanceId in instances) {\n        const instance = instances[instanceId];\n        const def = defs[instance.defId];\n        const { publicId } = def;\n        if (publicId) {\n            instanceIdMap[publicId] = instanceId;\n        }\n    }\n    return { defIdMap, instanceIdMap };\n}\n\nclass Emitter {\n    constructor() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    setThisContext(thisContext) {\n        this.thisContext = thisContext;\n    }\n    setOptions(options) {\n        this.options = options;\n    }\n    on(type, handler) {\n        addToHash(this.handlers, type, handler);\n    }\n    off(type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    }\n    trigger(type, ...args) {\n        let attachedHandlers = this.handlers[type] || [];\n        let optionHandler = this.options && this.options[type];\n        let handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (let handler of handlers) {\n            handler.apply(this.thisContext, args);\n        }\n    }\n    hasHandlers(type) {\n        return Boolean((this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]));\n    }\n}\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter((func) => func !== handler);\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\nconst DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    let rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter((rawDef) => rawDef.daysOfWeek);\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map((rawDef) => (Object.assign(Object.assign({}, DEF_DEFAULTS), rawDef)));\n    return rawDefs;\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', Object.assign(Object.assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.dateSpanTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    let { dateEnv, options } = context;\n    let end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    let eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    let dest = createEmptyEventStore();\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    let standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    let copy = Object.assign(Object.assign(Object.assign({}, eventDef), standardProps), { ui: Object.assign(Object.assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = Object.assign(Object.assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (let applier of context.pluginHooks.eventDefMutationAppliers) {\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    let { dateEnv } = context;\n    let forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    let clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    let copy = Object.assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\nclass EventSourceImpl {\n    constructor(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    remove() {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    }\n    refetch() {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    }\n    get id() {\n        return this.internalEventSource.publicId;\n    }\n    get url() {\n        return this.internalEventSource.meta.url;\n    }\n    get format() {\n        return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n    }\n}\n\nclass EventImpl {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    constructor(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    setProp(name, val) {\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { [name]: val },\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            let ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = { [name]: val };\n            }\n            this.mutate({\n                standardProps: { ui },\n            });\n        }\n        else {\n            console.warn(`Could not set prop '${name}'. Use setExtendedProp instead.`);\n        }\n    }\n    setExtendedProp(name, val) {\n        this.mutate({\n            extendedProps: { [name]: val },\n        });\n    }\n    setStart(startInput, options = {}) {\n        let { dateEnv } = this._context;\n        let start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            let instanceRange = this._instance.range;\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta });\n            }\n        }\n    }\n    setEnd(endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                let endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    }\n    setDates(startInput, endInput, options = {}) {\n        let { dateEnv } = this._context;\n        let standardProps = { allDay: options.allDay };\n        let start = dateEnv.createMarker(startInput);\n        let end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            let instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            let startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                let endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps });\n                }\n                else {\n                    this.mutate({ startDelta, endDelta, standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps });\n            }\n        }\n    }\n    moveStart(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    }\n    moveEnd(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    }\n    moveDates(deltaInput) {\n        let delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    }\n    setAllDay(allDay, options = {}) {\n        let standardProps = { allDay };\n        let { maintainDuration } = options;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps });\n    }\n    formatRange(formatInput) {\n        let { dateEnv } = this._context;\n        let instance = this._instance;\n        let formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    }\n    mutate(mutation) {\n        let instance = this._instance;\n        if (instance) {\n            let def = this._def;\n            let context = this._context;\n            let { eventStore } = context.getCurrentData();\n            let relevantEvents = getRelevantEvents(eventStore, instance.instanceId);\n            let eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context);\n            let oldEvent = new EventImpl(context, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context.emitter.trigger('eventChange', {\n                oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context, instance),\n                revert() {\n                    context.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore, // the ORIGINAL store\n                    });\n                },\n            });\n        }\n    }\n    remove() {\n        let context = this._context;\n        let asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert() {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    }\n    get source() {\n        let { sourceId } = this._def;\n        if (sourceId) {\n            return new EventSourceImpl(this._context, this._context.getCurrentData().eventSources[sourceId]);\n        }\n        return null;\n    }\n    get start() {\n        return this._instance ?\n            this._context.dateEnv.toDate(this._instance.range.start) :\n            null;\n    }\n    get end() {\n        return (this._instance && this._def.hasEnd) ?\n            this._context.dateEnv.toDate(this._instance.range.end) :\n            null;\n    }\n    get startStr() {\n        let instance = this._instance;\n        if (instance) {\n            return this._context.dateEnv.formatIso(instance.range.start, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedStartTzo,\n            });\n        }\n        return '';\n    }\n    get endStr() {\n        let instance = this._instance;\n        if (instance && this._def.hasEnd) {\n            return this._context.dateEnv.formatIso(instance.range.end, {\n                omitTime: this._def.allDay,\n                forcedTzo: instance.forcedEndTzo,\n            });\n        }\n        return '';\n    }\n    // computable props that all access the def\n    // TODO: find a TypeScript-compatible way to do this at scale\n    get id() { return this._def.publicId; }\n    get groupId() { return this._def.groupId; }\n    get allDay() { return this._def.allDay; }\n    get title() { return this._def.title; }\n    get url() { return this._def.url; }\n    get display() { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n    get startEditable() { return this._def.ui.startEditable; }\n    get durationEditable() { return this._def.ui.durationEditable; }\n    get constraint() { return this._def.ui.constraints[0] || null; }\n    get overlap() { return this._def.ui.overlap; }\n    get allow() { return this._def.ui.allows[0] || null; }\n    get backgroundColor() { return this._def.ui.backgroundColor; }\n    get borderColor() { return this._def.ui.borderColor; }\n    get textColor() { return this._def.ui.textColor; }\n    // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n    get classNames() { return this._def.ui.classNames; }\n    get extendedProps() { return this._def.extendedProps; }\n    toPlainObject(settings = {}) {\n        let def = this._def;\n        let { ui } = def;\n        let { startStr, endStr } = this;\n        let res = {\n            allDay: def.allDay,\n        };\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                Object.assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    }\n    toJSON() {\n        return this.toPlainObject();\n    }\n}\nfunction eventApiToStore(eventApi) {\n    let def = eventApi._def;\n    let instance = eventApi._instance;\n    return {\n        defs: { [def.defId]: def },\n        instances: instance\n            ? { [instance.instanceId]: instance }\n            : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    let { defs, instances } = eventStore;\n    let eventApis = [];\n    let excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (let id in instances) {\n        let instance = instances[id];\n        let def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventImpl(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    let inverseBgByGroupId = {};\n    let inverseBgByDefId = {};\n    let defByGroupId = {};\n    let bgRanges = [];\n    let fgRanges = [];\n    let eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (let defId in eventStore.defs) {\n        let def = eventStore.defs[defId];\n        let ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (let instanceId in eventStore.instances) {\n        let instance = eventStore.instances[instanceId];\n        let def = eventStore.defs[instance.defId];\n        let ui = eventUis[def.defId];\n        let origRange = instance.range;\n        let normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        let slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def,\n                    ui,\n                    instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (let groupId in inverseBgByGroupId) { // BY GROUP\n        let ranges = inverseBgByGroupId[groupId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            let def = defByGroupId[groupId];\n            let ui = eventUis[def.defId];\n            bgRanges.push({\n                def,\n                ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (let defId in inverseBgByDefId) {\n        let ranges = inverseBgByDefId[defId];\n        let invertedRanges = invertRanges(ranges, framingRange);\n        for (let invertedRange of invertedRanges) {\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, (eventDef) => compileEventUi(eventDef, eventUiBases));\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    let uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    let objs = segs.map(buildSegCompareObj);\n    objs.sort((obj0, obj1) => compareByFieldSpecs(obj0, obj1, eventOrderSpecs));\n    return objs.map((c) => c._seg);\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    let { eventRange } = seg;\n    let eventDef = eventRange.def;\n    let range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    let start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    let end = range.end ? range.end.valueOf() : 0; // \"\n    return Object.assign(Object.assign(Object.assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start,\n        end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    let { pluginHooks } = context;\n    let transformers = pluginHooks.isDraggableTransformers;\n    let { def, ui } = seg.eventRange;\n    let val = ui.startEditable;\n    for (let transformer of transformers) {\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    let { dateEnv, options } = context;\n    let { displayEventTime, displayEventEnd } = options;\n    let eventDef = seg.eventRange.def;\n    let eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    let wholeEventStart = eventInstance.range.start;\n    let wholeEventEnd = eventInstance.range.end;\n    let segStart = startOverride || seg.start || seg.eventRange.range.start;\n    let segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    let isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    let isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    let segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end <= (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    let classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : `${eventRange.def.defId}:${eventRange.range.start.toISOString()}`;\n    // inverse-background events don't have specific instances. TODO: better solution\n}\nfunction getSegAnchorAttrs(seg, context) {\n    let { def, instance } = seg.eventRange;\n    let { url } = def;\n    if (url) {\n        return { href: url };\n    }\n    let { emitter, options } = context;\n    let { eventInteractive } = options;\n    if (eventInteractive == null) {\n        eventInteractive = def.interactive;\n        if (eventInteractive == null) {\n            eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n        }\n    }\n    // mock what happens in EventClicking\n    if (eventInteractive) {\n        // only attach keyboard-related handlers because click handler is already done in EventClicking\n        return createAriaKeyboardAttrs((ev) => {\n            emitter.trigger('eventClick', {\n                el: ev.target,\n                event: new EventImpl(context, def, instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        });\n    }\n    return {};\n}\n\nconst STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    let span = parseOpenDateSpan(raw, dateEnv);\n    let { range } = span;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    let { refined: standardProps, extra } = refineProps(raw, STANDARD_PROPS);\n    let startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    let endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    let { allDay } = standardProps;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return Object.assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (let propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (let propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return Object.assign(Object.assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return Object.assign(Object.assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    let res = refineEventDef({ editable: false }, context);\n    let def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\n/*\ngiven a function that resolves a result asynchronously.\nthe function can either call passed-in success and failure callbacks,\nor it can return a promise.\nif you need to pass additional params to func, bind them first.\n*/\nfunction unpromisify(func, normalizedSuccessCallback, normalizedFailureCallback) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    let isResolved = false;\n    let wrappedSuccess = function (res) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedSuccessCallback(res);\n        }\n    };\n    let wrappedFailure = function (error) {\n        if (!isResolved) {\n            isResolved = true;\n            normalizedFailureCallback(error);\n        }\n    };\n    let res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nclass JsonRequestError extends Error {\n    constructor(message, response) {\n        super(message);\n        this.response = response;\n    }\n}\nfunction requestJson(method, url, params) {\n    method = method.toUpperCase();\n    const fetchOptions = {\n        method,\n    };\n    if (method === 'GET') {\n        url += (url.indexOf('?') === -1 ? '?' : '&') +\n            new URLSearchParams(params);\n    }\n    else {\n        fetchOptions.body = new URLSearchParams(params);\n        fetchOptions.headers = {\n            'Content-Type': 'application/x-www-form-urlencoded',\n        };\n    }\n    return fetch(url, fetchOptions).then((fetchRes) => {\n        if (fetchRes.ok) {\n            return fetchRes.json().then((parsedResponse) => {\n                return [parsedResponse, fetchRes];\n            }, () => {\n                throw new JsonRequestError('Failure parsing JSON', fetchRes);\n            });\n        }\n        else {\n            throw new JsonRequestError('Request failed', fetchRes);\n        }\n    });\n}\n\nlet canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    let el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    let div = el.querySelector('div');\n    let possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nclass CalendarRoot extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            forPrint: false,\n        };\n        this.handleBeforePrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: true });\n            });\n        };\n        this.handleAfterPrint = () => {\n            flushSync(() => {\n                this.setState({ forPrint: false });\n            });\n        };\n    }\n    render() {\n        let { props } = this;\n        let { options } = props;\n        let { forPrint } = this.state;\n        let isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        let height = (!isHeightAuto && options.height != null) ? options.height : '';\n        let classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            `fc-direction-${options.direction}`,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    }\n    componentDidMount() {\n        let { emitter } = this.props;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    }\n    componentWillUnmount() {\n        let { emitter } = this.props;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    }\n}\n\nclass Interaction {\n    constructor(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    destroy() {\n    }\n}\nfunction parseInteractionSettings(component, input) {\n    return {\n        component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    return {\n        [settings.component.uid]: settings,\n    };\n}\n// global state\nconst interactionSettingsStore = {};\n\nclass NowTimer extends Component {\n    constructor(props, context) {\n        super(props, context);\n        this.handleRefresh = () => {\n            let timing = this.computeTiming();\n            if (timing.state.nowDate.valueOf() !== this.state.nowDate.valueOf()) {\n                this.setState(timing.state);\n            }\n            this.clearTimeout();\n            this.setTimeout(timing.waitMs);\n        };\n        this.handleVisibilityChange = () => {\n            if (!document.hidden) {\n                this.handleRefresh();\n            }\n        };\n        this.state = this.computeTiming().state;\n    }\n    render() {\n        let { props, state } = this;\n        return props.children(state.nowDate, state.todayRange);\n    }\n    componentDidMount() {\n        this.setTimeout();\n        this.context.nowManager.addResetListener(this.handleRefresh);\n        // fired tab becomes visible after being hidden\n        document.addEventListener('visibilitychange', this.handleVisibilityChange);\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    }\n    componentWillUnmount() {\n        this.clearTimeout();\n        this.context.nowManager.removeResetListener(this.handleRefresh);\n        document.removeEventListener('visibilitychange', this.handleVisibilityChange);\n    }\n    computeTiming() {\n        let { props, context } = this;\n        let unroundedNow = context.nowManager.getDateMarker();\n        let { nowIndicatorSnap } = context.options;\n        if (nowIndicatorSnap === 'auto') {\n            nowIndicatorSnap =\n                // large unit?\n                /year|month|week|day/.test(props.unit) ||\n                    // if slotDuration 30 mins for example, would NOT appear to snap (legacy behavior)\n                    (props.unitValue || 1) === 1;\n        }\n        let nowDate;\n        let waitMs;\n        if (nowIndicatorSnap) {\n            nowDate = context.dateEnv.startOf(unroundedNow, props.unit); // aka currentUnitStart\n            let nextUnitStart = context.dateEnv.add(nowDate, createDuration(1, props.unit));\n            waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        }\n        else {\n            nowDate = unroundedNow;\n            waitMs = 1000 * 60; // 1 minute\n        }\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            state: { nowDate, todayRange: buildDayRange(nowDate) },\n            waitMs,\n        };\n    }\n    setTimeout(waitMs = this.computeTiming().waitMs) {\n        // NOTE: timeout could take longer than expected if tab sleeps,\n        // which is why we listen to 'visibilitychange'\n        this.timeoutId = setTimeout(() => {\n            // NOTE: timeout could also return *earlier* than expected, and we need to wait 2 ms more\n            // This is why use use same waitMs from computeTiming, so we don't skip an interval while\n            // .setState() is executing\n            const timing = this.computeTiming();\n            this.setState(timing.state, () => {\n                this.setTimeout(timing.waitMs);\n            });\n        }, waitMs);\n    }\n    clearTimeout() {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    }\n}\nNowTimer.contextType = ViewContextType;\nfunction buildDayRange(date) {\n    let start = startOfDay(date);\n    let end = addDays(start, 1);\n    return { start, end };\n}\n\nclass CalendarImpl {\n    getCurrentData() {\n        return this.currentDataManager.getCurrentData();\n    }\n    dispatch(action) {\n        this.currentDataManager.dispatch(action);\n    }\n    get view() { return this.getCurrentData().viewApi; }\n    batchRendering(callback) {\n        callback();\n    }\n    updateSize() {\n        this.trigger('_resize', true);\n    }\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    setOption(name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    }\n    getOption(name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    }\n    getAvailableLocaleCodes() {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    }\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    on(handlerName, handler) {\n        let { currentDataManager } = this;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(`Unknown listener name '${handlerName}'`);\n        }\n    }\n    off(handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    }\n    // not meant for public use\n    trigger(handlerName, ...args) {\n        this.currentDataManager.emitter.trigger(handlerName, ...args);\n    }\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    changeView(viewType, dateOrRange) {\n        this.batchRendering(() => {\n            this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                    });\n                    this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    let { dateEnv } = this.getCurrentData();\n                    this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType,\n                });\n            }\n        });\n    }\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    zoomTo(dateMarker, viewType) {\n        let state = this.getCurrentData();\n        let spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker,\n            });\n        }\n    }\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    getUnitViewSpec(unit) {\n        let { viewSpecs, toolbarConfig } = this.getCurrentData();\n        let viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n        let i;\n        let spec;\n        for (let viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    }\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    prev() {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    }\n    next() {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    }\n    prevYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    }\n    nextYear() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    }\n    today() {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.nowManager.getDateMarker(),\n        });\n    }\n    gotoDate(zonedDateInput) {\n        let state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    }\n    incrementDate(deltaInput) {\n        let state = this.getCurrentData();\n        let delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    }\n    getDate() {\n        let state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    }\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    formatDate(d, formatter) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    }\n    // `settings` is for formatter AND isEndExclusive\n    formatRange(d0, d1, settings) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    }\n    formatIso(d, omitTime) {\n        let { dateEnv } = this.getCurrentData();\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime });\n    }\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    select(dateOrObj, endDate) {\n        let selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        let state = this.getCurrentData();\n        let selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection });\n            triggerDateSelect(selection, null, state);\n        }\n    }\n    unselect(pev) {\n        let state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    }\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    addEvent(eventInput, sourceInput) {\n        if (eventInput instanceof EventImpl) {\n            let def = eventInput._def;\n            let instance = eventInput._instance;\n            let currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def, instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        let state = this.getCurrentData();\n        let eventSource;\n        if (sourceInput instanceof EventSourceImpl) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                [eventSource] = hashValuesToArray(state.eventSources);\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            let sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(`Could not find an event source with ID \"${sourceInput}\"`); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        let tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            let newEventApi = new EventImpl(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    }\n    triggerEventAdd(eventApi) {\n        let { emitter } = this.getCurrentData();\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: () => {\n                this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    }\n    // TODO: optimize\n    getEventById(id) {\n        let state = this.getCurrentData();\n        let { defs, instances } = state.eventStore;\n        id = String(id);\n        for (let defId in defs) {\n            let def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventImpl(state, def, null);\n                }\n                for (let instanceId in instances) {\n                    let instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventImpl(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n    getEvents() {\n        let currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    }\n    removeAllEvents() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    }\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    getEventSources() {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        let sourceApis = [];\n        for (let internalId in sourceHash) {\n            sourceApis.push(new EventSourceImpl(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    }\n    getEventSourceById(id) {\n        let state = this.getCurrentData();\n        let sourceHash = state.eventSources;\n        id = String(id);\n        for (let sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceImpl(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    }\n    addEventSource(sourceInput) {\n        let state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceImpl) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        let eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceImpl(state, eventSource);\n        }\n        return null;\n    }\n    removeAllEventSources() {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    }\n    refetchEvents() {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    }\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    scrollToTime(timeInput) {\n        let time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time });\n        }\n    }\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    let res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nconst EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nclass Splitter {\n    constructor() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    splitProps(props) {\n        let keyInfos = this.getKeyInfo(props);\n        let defKeys = this.getKeysForEventDefs(props.eventStore);\n        let dateSelections = this.splitDateSelection(props.dateSelection);\n        let individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        let eventStores = this.splitEventStore(props.eventStore, defKeys);\n        let eventDrags = this.splitEventDrag(props.eventDrag);\n        let eventResizes = this.splitEventResize(props.eventResize);\n        let splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, (info, key) => this.eventUiBuilders[key] || memoize(buildEventUiForKey));\n        for (let key in keyInfos) {\n            let keyInfo = keyInfos[key];\n            let eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            let buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    }\n    _splitDateSpan(dateSpan) {\n        let dateSpans = {};\n        if (dateSpan) {\n            let keys = this.getKeysForDateSpan(dateSpan);\n            for (let key of keys) {\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    }\n    _getKeysForEventDefs(eventStore) {\n        return mapHash(eventStore.defs, (eventDef) => this.getKeysForEventDef(eventDef));\n    }\n    _splitEventStore(eventStore, defKeys) {\n        let { defs, instances } = eventStore;\n        let splitStores = {};\n        for (let defId in defs) {\n            for (let key of defKeys[defId]) {\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (let instanceId in instances) {\n            let instance = instances[instanceId];\n            for (let key of defKeys[instance.defId]) {\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    }\n    _splitIndividualUi(eventUiBases, defKeys) {\n        let splitHashes = {};\n        for (let defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (let key of defKeys[defId]) {\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    }\n    _splitInteraction(interaction) {\n        let splitStates = {};\n        if (interaction) {\n            let affectedStores = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            let mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            let mutatedStores = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            let populate = (key) => {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (let key in affectedStores) {\n                populate(key);\n            }\n            for (let key in mutatedStores) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    }\n}\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    let baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    let stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        Object.assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && (!dateProfile.activeRange || !rangeContainsMarker(dateProfile.activeRange, date))),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    let classNames = [\n        'fc-day',\n        `fc-day-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    let classNames = [\n        'fc-slot',\n        `fc-slot-${DAY_IDS[meta.dow]}`,\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nconst DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\nconst WEEK_FORMAT = createFormatter({ week: 'long' });\nfunction buildNavLinkAttrs(context, dateMarker, viewType = 'day', isTabbable = true) {\n    const { dateEnv, options, calendarApi } = context;\n    let dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n    if (options.navLinks) {\n        let zonedDate = dateEnv.toDate(dateMarker);\n        const handleInteraction = (ev) => {\n            let customAction = viewType === 'day' ? options.navLinkDayClick :\n                viewType === 'week' ? options.navLinkWeekClick : null;\n            if (typeof customAction === 'function') {\n                customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n            }\n            else {\n                if (typeof customAction === 'string') {\n                    viewType = customAction;\n                }\n                calendarApi.zoomTo(dateMarker, viewType);\n            }\n        };\n        return Object.assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n            ? createAriaClickAttrs(handleInteraction)\n            : { onClick: handleInteraction }));\n    }\n    return { 'aria-label': dateStr };\n}\n\nlet _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    let outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    let innerEl = outerEl.firstChild;\n    let res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nlet _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    let el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    let res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding = false) {\n    let computedStyle = window.getComputedStyle(el);\n    let borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    let borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    let borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    let borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    let badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    let scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    let scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    let res = {\n        borderLeft,\n        borderRight,\n        borderTop,\n        borderBottom,\n        scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding = false, doFromWindowViewport) {\n    let outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    let edges = computeEdges(el, goWithinPadding);\n    let res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    let rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.scrollX,\n        top: rect.top + window.scrollY,\n        right: rect.right + window.scrollX,\n        bottom: rect.bottom + window.scrollY,\n    };\n}\nfunction computeClippedClientRect(el) {\n    let clippingParents = getClippingParents(el);\n    let rect = el.getBoundingClientRect();\n    for (let clippingParent of clippingParents) {\n        let intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\n// does not return window\nfunction getClippingParents(el) {\n    let parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        let computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nclass PositionCache {\n    constructor(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        let originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    buildElHorizontals(originClientLeft) {\n        let lefts = [];\n        let rights = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    }\n    // Populates the top/bottom internal coordinate arrays\n    buildElVerticals(originClientTop) {\n        let tops = [];\n        let bottoms = [];\n        for (let el of this.els) {\n            let rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    }\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    leftToIndex(leftPosition) {\n        let { lefts, rights } = this;\n        let len = lefts.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    topToIndex(topPosition) {\n        let { tops, bottoms } = this;\n        let len = tops.length;\n        let i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    }\n    // Gets the width of the element at the given index\n    getWidth(leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    }\n    // Gets the height of the element at the given index\n    getHeight(topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    }\n    similarTo(otherCache) {\n        return similarNumArrays(this.tops || [], otherCache.tops || []) &&\n            similarNumArrays(this.bottoms || [], otherCache.bottoms || []) &&\n            similarNumArrays(this.lefts || [], otherCache.lefts || []) &&\n            similarNumArrays(this.rights || [], otherCache.rights || []);\n    }\n}\nfunction similarNumArrays(a, b) {\n    const len = a.length;\n    if (len !== b.length) {\n        return false;\n    }\n    for (let i = 0; i < len; i++) {\n        if (Math.round(a[i]) !== Math.round(b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nclass ScrollController {\n    getMaxScrollTop() {\n        return this.getScrollHeight() - this.getClientHeight();\n    }\n    getMaxScrollLeft() {\n        return this.getScrollWidth() - this.getClientWidth();\n    }\n    canScrollVertically() {\n        return this.getMaxScrollTop() > 0;\n    }\n    canScrollHorizontally() {\n        return this.getMaxScrollLeft() > 0;\n    }\n    canScrollUp() {\n        return this.getScrollTop() > 0;\n    }\n    canScrollDown() {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    }\n    canScrollLeft() {\n        return this.getScrollLeft() > 0;\n    }\n    canScrollRight() {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    }\n}\nclass ElementScrollController extends ScrollController {\n    constructor(el) {\n        super();\n        this.el = el;\n    }\n    getScrollTop() {\n        return this.el.scrollTop;\n    }\n    getScrollLeft() {\n        return this.el.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.el.scrollTop = top;\n    }\n    setScrollLeft(left) {\n        this.el.scrollLeft = left;\n    }\n    getScrollWidth() {\n        return this.el.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.el.scrollHeight;\n    }\n    getClientHeight() {\n        return this.el.clientHeight;\n    }\n    getClientWidth() {\n        return this.el.clientWidth;\n    }\n}\nclass WindowScrollController extends ScrollController {\n    getScrollTop() {\n        return window.scrollY;\n    }\n    getScrollLeft() {\n        return window.scrollX;\n    }\n    setScrollTop(n) {\n        window.scroll(window.scrollX, n);\n    }\n    setScrollLeft(n) {\n        window.scroll(n, window.scrollY);\n    }\n    getScrollWidth() {\n        return document.documentElement.scrollWidth;\n    }\n    getScrollHeight() {\n        return document.documentElement.scrollHeight;\n    }\n    getClientHeight() {\n        return document.documentElement.clientHeight;\n    }\n    getClientWidth() {\n        return document.documentElement.clientWidth;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nclass DateComponent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.uid = guid();\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    prepareHits() {\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    }\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    isValidSegDownEl(el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    }\n    isValidDateDownEl(el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    }\n}\n\nclass NamedTimeZoneImpl {\n    constructor(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n}\n\nclass SegHierarchy {\n    constructor(getEntryThickness = (entry) => {\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return entry.thickness || 1;\n    }) {\n        this.getEntryThickness = getEntryThickness;\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    addSegs(inputs) {\n        let hiddenEntries = [];\n        for (let input of inputs) {\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    }\n    insertEntry(entry, hiddenEntries) {\n        let insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n        }\n        else {\n            this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        }\n    }\n    isInsertionValid(insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + this.getEntryThickness(entry) <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            const hiddenEntry = Object.assign(Object.assign({}, entry), { span: intersectSpans(entry.span, insertion.touchingEntry.span) });\n            hiddenEntries.push(hiddenEntry);\n            this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        else {\n            hiddenEntries.push(entry);\n        }\n    }\n    /*\n    Does NOT add what hit the `barrier` into hiddenEntries. Should already be done.\n    */\n    splitEntry(entry, barrier, hiddenEntries) {\n        let entrySpan = entry.span;\n        let barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, hiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, hiddenEntries);\n        }\n    }\n    insertEntryAt(entry, insertion) {\n        let { entriesByLevel, levelCoords } = this;\n        if (insertion.lateral === -1) {\n            // create a new level\n            insertAt(levelCoords, insertion.level, insertion.levelCoord);\n            insertAt(entriesByLevel, insertion.level, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    }\n    /*\n    does not care about limits\n    */\n    findInsertion(newEntry) {\n        let { levelCoords, entriesByLevel, strictOrder, stackCnts } = this;\n        let levelCnt = levelCoords.length;\n        let candidateCoord = 0;\n        let touchingLevel = -1;\n        let touchingLateral = -1;\n        let touchingEntry = null;\n        let stackCnt = 0;\n        for (let trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n            const trackingCoord = levelCoords[trackingLevel];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && trackingCoord >= candidateCoord + this.getEntryThickness(newEntry)) {\n                break;\n            }\n            let trackingEntries = entriesByLevel[trackingLevel];\n            let trackingEntry;\n            let searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n            let lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            while ( // loop through entries that horizontally intersect\n            (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                let trackingEntryBottom = trackingCoord + this.getEntryThickness(trackingEntry);\n                // intersects into the top of the candidate?\n                if (trackingEntryBottom > candidateCoord) {\n                    candidateCoord = trackingEntryBottom;\n                    touchingEntry = trackingEntry;\n                    touchingLevel = trackingLevel;\n                    touchingLateral = lateralIndex;\n                }\n                // butts up against top of candidate? (will happen if just intersected as well)\n                if (trackingEntryBottom === candidateCoord) {\n                    // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                    stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                }\n                lateralIndex += 1;\n            }\n        }\n        // the destination level will be after touchingEntry's level. find it\n        let destLevel = 0;\n        if (touchingEntry) {\n            destLevel = touchingLevel + 1;\n            while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                destLevel += 1;\n            }\n        }\n        // if adding to an existing level, find where to insert\n        let destLateral = -1;\n        if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n            destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n        }\n        return {\n            touchingLevel,\n            touchingLateral,\n            touchingEntry,\n            stackCnt,\n            levelCoord: candidateCoord,\n            level: destLevel,\n            lateral: destLateral,\n        };\n    }\n    // sorted by levelCoord (lowest to highest)\n    toRects() {\n        let { entriesByLevel, levelCoords } = this;\n        let levelCnt = entriesByLevel.length;\n        let rects = [];\n        for (let level = 0; level < levelCnt; level += 1) {\n            let entries = entriesByLevel[level];\n            let levelCoord = levelCoords[level];\n            for (let entry of entries) {\n                rects.push(Object.assign(Object.assign({}, entry), { thickness: this.getEntryThickness(entry), levelCoord }));\n            }\n        }\n        return rects;\n    }\n}\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    let merges = [];\n    for (let entry of entries) {\n        let filteredMerges = [];\n        let hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (let merge of merges) {\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    let start = Math.max(span0.start, span1.start);\n    let end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start, end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    let startIndex = 0;\n    let endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        let middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        let middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nclass ElementDragging {\n    constructor(el, selector) {\n        this.emitter = new Emitter();\n    }\n    destroy() {\n    }\n    setMirrorIsVisible(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setMirrorNeedsRevert(bool) {\n        // optional if subclass doesn't want to support a mirror\n    }\n    setAutoScrollEnabled(bool) {\n        // optional\n    }\n}\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nconst config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nconst DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    let { refined, extra } = refineProps(raw, DRAG_META_REFINERS);\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nconst CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(renderProps) {\n    return renderProps.text;\n}\n\n// BAD name for this class now. used in the Header\nclass TableDateCell extends BaseComponent {\n    render() {\n        let { dateEnv, options, theme, viewApi } = this.context;\n        let { props } = this;\n        let { date, dateProfile } = props;\n        let dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        let classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        let navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n            ? buildNavLinkAttrs(this.context, date)\n            : {};\n        let publicDate = dateEnv.toDate(date);\n        // workaround for Luxon (and maybe moment) returning prior-days when start-of-day\n        // in DST gap: https://github.com/fullcalendar/fullcalendar/issues/7633\n        if (dateEnv.namedTimeZoneImpl) {\n            publicDate = addMs(publicDate, 3600000); // add an hour\n        }\n        let renderProps = Object.assign(Object.assign(Object.assign({ date: publicDate, view: viewApi }, props.extraRenderProps), { text }), dayMeta);\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: classNames, elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan, 'data-date': !dayMeta.isDisabled ? formatDayString(date) : undefined }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContainer) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(InnerContainer, { elTag: \"a\", elAttrs: navLinkAttrs, elClasses: [\n                'fc-col-header-cell-cushion',\n                props.isSticky && 'fc-sticky',\n            ] }))))));\n    }\n}\n\nconst WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\nclass TableDowCell extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { dateEnv, theme, viewApi, options } = this.context;\n        let date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        let dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        let text = dateEnv.format(date, props.dayHeaderFormat);\n        let renderProps = Object.assign(Object.assign(Object.assign(Object.assign({ // TODO: make this public?\n            date }, dateMeta), { view: viewApi }), props.extraRenderProps), { text });\n        return (createElement(ContentContainer, { elTag: \"th\", elClasses: [\n                CLASS_NAME,\n                ...getDayClassNames(dateMeta, theme),\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'columnheader', colSpan: props.colSpan }, props.extraDataAttrs), renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInner$1, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n            createElement(InnerContent, { elTag: \"a\", elClasses: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky && 'fc-sticky',\n                ], elAttrs: {\n                    'aria-label': dateEnv.format(date, WEEKDAY_FORMAT),\n                } })))));\n    }\n}\n\nclass DayHeader extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n    }\n    render() {\n        let { context } = this;\n        let { dates, dateProfile, datesRepDistinctDays, renderIntro } = this.props;\n        let dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(\"tr\", { role: \"row\" },\n            renderIntro && renderIntro('day'),\n            dates.map((date) => (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))))))));\n    }\n}\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nclass DaySeriesModel {\n    constructor(range, dateProfileGenerator) {\n        let date = range.start;\n        let { end } = range;\n        let indices = [];\n        let dates = [];\n        let dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    sliceRange(range) {\n        let firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        let lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        let clippedFirstIndex = Math.max(0, firstIndex);\n        let clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    }\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    getDateDayIndex(date) {\n        let { indices } = this;\n        let dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    }\n}\n\nclass DayTableModel {\n    constructor(daySeries, breakOnWeeks) {\n        let { dates } = daySeries;\n        let daysPerRow;\n        let firstDay;\n        let rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    buildCells() {\n        let rows = [];\n        for (let row = 0; row < this.rowCnt; row += 1) {\n            let cells = [];\n            for (let col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    }\n    buildCell(row, col) {\n        let date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date,\n        };\n    }\n    buildHeaderDates() {\n        let dates = [];\n        for (let col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    }\n    sliceRange(range) {\n        let { colCnt } = this;\n        let seriesSeg = this.daySeries.sliceRange(range);\n        let segs = [];\n        if (seriesSeg) {\n            let { firstIndex, lastIndex } = seriesSeg;\n            let index = firstIndex;\n            while (index <= lastIndex) {\n                let row = Math.floor(index / colCnt);\n                let nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    }\n}\n\nclass Slicer {\n    constructor() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    sliceProps(props, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        let { eventUiBases } = props;\n        let eventSegs = this.sliceEventStore(props.eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs);\n        return {\n            dateSelectionSegs: this.sliceDateSelection(props.dateSelection, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs),\n            businessHourSegs: this.sliceBusinessHours(props.businessHours, dateProfile, nextDayThreshold, context, ...extraArgs),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag(props.eventDrag, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventResize: this.sliceEventResize(props.eventResize, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    }\n    sliceNowDate(// does not memoize\n    date, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        return this._sliceDateSpan({ range: { start: date, end: addMs(date, 1) }, allDay: false }, // add 1 ms, protect against null range\n        dateProfile, nextDayThreshold, {}, context, ...extraArgs);\n    }\n    _sliceBusinessHours(businessHours, dateProfile, nextDayThreshold, context, ...extraArgs) {\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore(expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context), {}, dateProfile, nextDayThreshold, ...extraArgs).bg;\n    }\n    _sliceEventStore(eventStore, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (eventStore) {\n            let rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    }\n    _sliceInteraction(interaction, eventUiBases, dateProfile, nextDayThreshold, ...extraArgs) {\n        if (!interaction) {\n            return null;\n        }\n        let rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    }\n    _sliceDateSpan(dateSpan, dateProfile, nextDayThreshold, eventUiBases, context, ...extraArgs) {\n        if (!dateSpan) {\n            return [];\n        }\n        let activeRange = computeActiveRange(dateProfile, Boolean(nextDayThreshold));\n        let activeDateSpanRange = intersectRanges(dateSpan.range, activeRange);\n        if (activeDateSpanRange) {\n            dateSpan = Object.assign(Object.assign({}, dateSpan), { range: activeDateSpanRange });\n            let eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            let segs = this.sliceRange(dateSpan.range, ...extraArgs);\n            for (let seg of segs) {\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        }\n        return [];\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRanges(eventRanges, extraArgs) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    }\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    sliceEventRange(eventRange, extraArgs) {\n        let dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        let segs = this.sliceRange(dateRange, ...extraArgs);\n        for (let seg of segs) {\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    }\n}\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    let range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    let { instances } = interaction.mutatedEvents;\n    for (let instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    let calendarState = context.getCurrentData();\n    let props = Object.assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta = {}, filterConfig) {\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let currentState = context.getCurrentData();\n    let interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    let subjectEventStore = interaction.mutatedEvents;\n    let subjectDefs = subjectEventStore.defs;\n    let subjectInstances = subjectEventStore.instances;\n    let subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    let otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    let otherDefs = otherEventStore.defs;\n    let otherInstances = otherEventStore.instances;\n    let otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (let subjectInstanceId in subjectInstances) {\n        let subjectInstance = subjectInstances[subjectInstanceId];\n        let subjectRange = subjectInstance.range;\n        let subjectConfig = subjectConfigs[subjectInstance.defId];\n        let subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        let { eventOverlap } = context.options;\n        let eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (let otherInstanceId in otherInstances) {\n            let otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                let otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventImpl(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventImpl(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        let calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (let subjectAllow of subjectConfig.allows) {\n            let subjectDateSpan = Object.assign(Object.assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            let origDef = calendarEventStore.defs[subjectDef.defId];\n            let origInstance = calendarEventStore.instances[subjectInstanceId];\n            let eventApi;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventImpl(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventImpl(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    let relevantEventStore = state.eventStore;\n    let relevantDefs = relevantEventStore.defs;\n    let relevantInstances = relevantEventStore.instances;\n    let selection = state.dateSelection;\n    let selectionRange = selection.range;\n    let { selectionConfig } = context.getCurrentData();\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    let { selectOverlap } = context.options;\n    let selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (let relevantInstanceId in relevantInstances) {\n        let relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventImpl(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (let selectionAllow of selectionConfig.allows) {\n        let fullDateSpan = Object.assign(Object.assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (let constraint of constraints) {\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, (eventDef) => eventDef.groupId === constraint));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    let { instances } = eventStore;\n    let ranges = [];\n    for (let instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (let outerRange of outerRanges) {\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nclass Scroller extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { props } = this;\n        let { liquid, liquidIsAbsolute } = props;\n        let isAbsolute = liquid && liquidIsAbsolute;\n        let className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    }\n    needsXScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    }\n    needsYScrolling() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        let { el } = this;\n        let realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        let { children } = el;\n        for (let i = 0; i < children.length; i += 1) {\n            let childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getXScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n    getYScrollbarWidth() {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    }\n}\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nclass RefMap {\n    constructor(masterCallback) {\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = (val, key) => {\n            let { depths, currentMap } = this;\n            let removed = false;\n            let added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (this.masterCallback) {\n                if (removed) {\n                    this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    createRef(key) {\n        let refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = (val) => {\n                this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    }\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    collect(startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    }\n    getAll() {\n        return hashValuesToArray(this.currentMap);\n    }\n}\n\nfunction computeShrinkWidth(chunkEls) {\n    let shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    let largestWidth = 0;\n    for (let shrinkCell of shrinkCells) {\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n    let { expandRows } = arg;\n    let content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            role: 'presentation',\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n            role: 'presentation',\n        }, typeof chunkConfig.rowContent === 'function'\n            ? chunkConfig.rowContent(arg)\n            : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    let colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (let colProps of cols) {\n        let span = colProps.span || 1;\n        for (let i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement('colgroup', {}, ...colNodes);\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (let col of cols) {\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    let classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    let classNames = [\n        'fc-scrollgrid-section',\n        `fc-scrollgrid-section-${sectionConfig.type}`,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    let { stickyHeaderDates } = options;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    let { stickyFooterScrollbar } = options;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nclass SimpleScrollGrid extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.processCols = memoize((a) => a, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        this.renderMicroColGroup = memoize(renderMicroColGroup);\n        this.scrollerRefs = new RefMap();\n        this.scrollerElRefs = new RefMap(this._handleScrollerEl.bind(this));\n        this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        this.handleSizing = () => {\n            this.safeSetState(Object.assign({ shrinkWidth: this.computeShrinkWidth() }, this.computeScrollerDims()));\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let sectionConfigs = props.sections || [];\n        let cols = this.processCols(props.cols);\n        let microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        let classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        let configCnt = sectionConfigs.length;\n        let configI = 0;\n        let currentConfig;\n        let headSectionNodes = [];\n        let bodySectionNodes = [];\n        let footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        let isBuggy = !getCanVGrowWithinCell();\n        const roleAttrs = { role: 'rowgroup' };\n        return createElement('table', {\n            role: 'grid',\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement('thead', roleAttrs, ...headSectionNodes), Boolean(!isBuggy && bodySectionNodes.length) && createElement('tbody', roleAttrs, ...bodySectionNodes), Boolean(!isBuggy && footSectionNodes.length) && createElement('tfoot', roleAttrs, ...footSectionNodes), isBuggy && createElement('tbody', roleAttrs, ...headSectionNodes, ...bodySectionNodes, ...footSectionNodes));\n    }\n    renderSection(sectionConfig, microColGroupNode, isHeader) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n    }\n    renderChunkTd(sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        let { props } = this;\n        let { forceYScrollbars, scrollerClientWidths, scrollerClientHeights } = this.state;\n        let needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        let isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        let overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        let sectionKey = sectionConfig.key;\n        let content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: () => { },\n        }, isHeader);\n        return createElement(isHeader ? 'th' : 'td', {\n            ref: chunkConfig.elRef,\n            role: 'presentation',\n        }, createElement(\"div\", { className: `fc-scroller-harness${isLiquid ? ' fc-scroller-harness-liquid' : ''}` },\n            createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                : true }, content)));\n    }\n    _handleScrollerEl(scrollerEl, key) {\n        let section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    }\n    componentDidMount() {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    }\n    componentDidUpdate() {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleSizing);\n    }\n    computeShrinkWidth() {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    }\n    computeScrollerDims() {\n        let scrollbarWidth = getScrollbarWidths();\n        let { scrollerRefs, scrollerElRefs } = this;\n        let forceYScrollbars = false;\n        let scrollerClientWidths = {};\n        let scrollerClientHeights = {};\n        for (let sectionKey in scrollerRefs.currentMap) {\n            let scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (let section of this.props.sections) {\n            let sectionKey = section.key;\n            let scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                let harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars, scrollerClientWidths, scrollerClientHeights };\n    }\n}\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (let section of sections) {\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nclass EventContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        // memo\n        this.buildPublicEvent = memoize((context, eventDef, eventInstance) => new EventImpl(context, eventDef, eventInstance));\n        this.handleEl = (el) => {\n            this.el = el;\n            setRef(this.props.elRef, el);\n            if (el) {\n                setElSeg(el, this.props.seg);\n            }\n        };\n    }\n    render() {\n        const { props, context } = this;\n        const { options } = context;\n        const { seg } = props;\n        const { eventRange } = seg;\n        const { ui } = eventRange;\n        const renderProps = {\n            event: this.buildPublicEvent(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        return (createElement(ContentContainer, { elRef: this.handleEl, elTag: props.elTag, elAttrs: props.elAttrs, elClasses: [\n                ...getEventClassNames(renderProps),\n                ...seg.eventRange.ui.classNames,\n                ...(props.elClasses || []),\n            ], elStyle: props.elStyle, renderProps: renderProps, generatorName: \"eventContent\", customGenerator: options.eventContent, defaultGenerator: props.defaultGenerator, classNameGenerator: options.eventClassNames, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount }, props.children));\n    }\n    componentDidUpdate(prevProps) {\n        if (this.el && this.props.seg !== prevProps.seg) {\n            setElSeg(this.el, this.props.seg);\n        }\n    }\n}\n\n// should not be a purecomponent\nclass StandardEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let { ui } = seg.eventRange;\n        let timeFormat = options.eventTimeFormat || props.defaultTimeFormat;\n        let timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props /* includes elRef */, { elTag: \"a\", elStyle: {\n                borderColor: ui.borderColor,\n                backgroundColor: ui.backgroundColor,\n            }, elAttrs: getSegAnchorAttrs(seg, context), defaultGenerator: renderInnerContent$1, timeText: timeText }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-event-main'], elStyle: { color: eventContentArg.textColor } }),\n            Boolean(eventContentArg.isStartResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" })),\n            Boolean(eventContentArg.isEndResizable) && (createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))))));\n    }\n}\nStandardEvent.addPropsEquality({\n    seg: isPropsEqual,\n});\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\n\nconst NowIndicatorContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { options } = context;\n    let renderProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(ContentContainer, { elRef: props.elRef, elTag: props.elTag || 'div', elAttrs: props.elAttrs, elClasses: props.elClasses, elStyle: props.elStyle, renderProps: renderProps, generatorName: \"nowIndicatorContent\", customGenerator: options.nowIndicatorContent, classNameGenerator: options.nowIndicatorClassNames, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n}));\n\nconst DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nclass DayCellContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.refineRenderProps = memoizeObjArg(refineRenderProps);\n    }\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let renderProps = this.refineRenderProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            isMonthStart: props.isMonthStart || false,\n            showDayNumber: props.showDayNumber,\n            extraRenderProps: props.extraRenderProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n            monthStartFormat: options.monthStartFormat,\n        });\n        return (createElement(ContentContainer, { elRef: props.elRef, elTag: props.elTag, elAttrs: Object.assign(Object.assign({}, props.elAttrs), (renderProps.isDisabled ? {} : { 'data-date': formatDayString(props.date) })), elClasses: [\n                ...getDayClassNames(renderProps, context.theme),\n                ...(props.elClasses || []),\n            ], elStyle: props.elStyle, renderProps: renderProps, generatorName: \"dayCellContent\", customGenerator: options.dayCellContent, defaultGenerator: props.defaultGenerator, classNameGenerator: \n            // don't use custom classNames if disabled\n            renderProps.isDisabled ? undefined : options.dayCellClassNames, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount }, props.children));\n    }\n}\nfunction hasCustomDayCellContent(options) {\n    return Boolean(options.dayCellContent || hasCustomRenderingHandler('dayCellContent', options));\n}\nfunction refineRenderProps(raw) {\n    let { date, dateEnv, dateProfile, isMonthStart } = raw;\n    let dayMeta = getDateMeta(date, raw.todayRange, null, dateProfile);\n    let dayNumberText = raw.showDayNumber ? (dateEnv.format(date, isMonthStart ? raw.monthStartFormat : DAY_NUM_FORMAT)) : '';\n    return Object.assign(Object.assign(Object.assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { isMonthStart,\n        dayNumberText }), raw.extraRenderProps);\n}\n\nclass BgEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        let { seg } = props;\n        return (createElement(EventContainer, { elTag: \"div\", elClasses: ['fc-bg-event'], elStyle: { backgroundColor: seg.eventRange.ui.backgroundColor }, defaultGenerator: renderInnerContent, seg: seg, timeText: \"\", isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, disableDragging: true, disableResizing: true }));\n    }\n}\nfunction renderInnerContent(props) {\n    let { title } = props.event;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: `fc-${fillType}` }));\n}\n\nconst WeekNumberContainer = (props) => (createElement(ViewContextType.Consumer, null, (context) => {\n    let { dateEnv, options } = context;\n    let { date } = props;\n    let format = options.weekNumberFormat || props.defaultFormat;\n    let num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    let text = dateEnv.format(date, format);\n    let renderProps = { num, text, date };\n    return (createElement(ContentContainer // why isn't WeekNumberContentArg being auto-detected?\n    , { elRef: props.elRef, elTag: props.elTag, elAttrs: props.elAttrs, elClasses: props.elClasses, elStyle: props.elStyle, renderProps: renderProps, generatorName: \"weekNumberContent\", customGenerator: options.weekNumberContent, defaultGenerator: renderInner, classNameGenerator: options.weekNumberClassNames, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n}));\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nconst PADDING_FROM_VIEWPORT = 10;\nclass Popover extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            titleId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            this.rootEl = el;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        this.handleDocumentMouseDown = (ev) => {\n            // only hide the popover if the click happened outside the popover\n            const target = getEventTargetViaRoot(ev);\n            if (!this.rootEl.contains(target)) {\n                this.handleCloseClick();\n            }\n        };\n        this.handleDocumentKeyDown = (ev) => {\n            if (ev.key === 'Escape') {\n                this.handleCloseClick();\n            }\n        };\n        this.handleCloseClick = () => {\n            let { onClose } = this.props;\n            if (onClose) {\n                onClose();\n            }\n        };\n    }\n    render() {\n        let { theme, options } = this.context;\n        let { props, state } = this;\n        let classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", Object.assign({}, props.extraAttrs, { id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId, ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleDocumentMouseDown);\n        document.addEventListener('keydown', this.handleDocumentKeyDown);\n        this.updateSize();\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n        document.removeEventListener('keydown', this.handleDocumentKeyDown);\n    }\n    updateSize() {\n        let { isRtl } = this.context;\n        let { alignmentEl, alignGridTop } = this.props;\n        let { rootEl } = this;\n        let alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            let popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            let popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            let popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            let origin = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin.top,\n                left: popoverLeft - origin.left,\n            });\n        }\n    }\n}\n\nclass MorePopover extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.handleRootEl = (rootEl) => {\n            this.rootEl = rootEl;\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { options, dateEnv } = this.context;\n        let { props } = this;\n        let { startDate, todayRange, dateProfile } = props;\n        let title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellContainer, { elRef: this.handleRootEl, date: startDate, dateProfile: dateProfile, todayRange: todayRange }, (InnerContent, renderProps, elAttrs) => (createElement(Popover, { elRef: elAttrs.ref, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(elAttrs.className || []), extraAttrs: elAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-more-popover-misc'] })),\n            props.children))));\n    }\n    queryHit(positionLeft, positionTop, elWidth, elHeight) {\n        let { rootEl, props } = this;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: Object.assign({ allDay: !props.forceTimed, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    }\n}\n\nclass MoreLinkContainer extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            isPopoverOpen: false,\n            popoverId: getUniqueDomId(),\n        };\n        this.handleLinkEl = (linkEl) => {\n            this.linkEl = linkEl;\n            if (this.props.elRef) {\n                setRef(this.props.elRef, linkEl);\n            }\n        };\n        this.handleClick = (ev) => {\n            let { props, context } = this;\n            let { moreLinkClick } = context.options;\n            let date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                let { def, instance, range } = seg.eventRange;\n                return {\n                    event: new EventImpl(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        this.handlePopoverClose = () => {\n            this.setState({ isPopoverOpen: false });\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(ViewContextType.Consumer, null, (context) => {\n            let { viewApi, options, calendarApi } = context;\n            let { moreLinkText } = options;\n            let { moreCnt } = props;\n            let range = computeRange(props);\n            let text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                ? moreLinkText.call(calendarApi, moreCnt)\n                : `+${moreCnt} ${moreLinkText}`;\n            let hint = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n            let renderProps = {\n                num: moreCnt,\n                shortText: `+${moreCnt}`,\n                text,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(ContentContainer, { elTag: props.elTag || 'a', elRef: this.handleLinkEl, elClasses: [\n                        ...(props.elClasses || []),\n                        'fc-more-link',\n                    ], elStyle: props.elStyle, elAttrs: Object.assign(Object.assign(Object.assign({}, props.elAttrs), createAriaClickAttrs(this.handleClick)), { title: hint, 'aria-expanded': state.isPopoverOpen, 'aria-controls': state.isPopoverOpen ? state.popoverId : '' }), renderProps: renderProps, generatorName: \"moreLinkContent\", customGenerator: options.moreLinkContent, defaultGenerator: props.defaultGenerator || renderMoreLinkInner, classNameGenerator: options.moreLinkClassNames, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, props.children)),\n                state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: this.parentEl, alignmentEl: props.alignmentElRef ?\n                        props.alignmentElRef.current :\n                        this.linkEl, alignGridTop: props.alignGridTop, forceTimed: props.forceTimed, onClose: this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    }\n    componentDidMount() {\n        this.updateParentEl();\n    }\n    componentDidUpdate() {\n        this.updateParentEl();\n    }\n    updateParentEl() {\n        if (this.linkEl) {\n            this.parentEl = elementClosest(this.linkEl, '.fc-view-harness');\n        }\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    let { hiddenSegs } = props;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\nclass Store {\n    constructor() {\n        this.handlers = [];\n    }\n    set(value) {\n        this.currentValue = value;\n        for (let handler of this.handlers) {\n            handler(value);\n        }\n    }\n    subscribe(handler) {\n        this.handlers.push(handler);\n        if (this.currentValue !== undefined) {\n            handler(this.currentValue);\n        }\n    }\n}\n\n/*\nSubscribers will get a LIST of CustomRenderings\n*/\nclass CustomRenderingStore extends Store {\n    constructor() {\n        super(...arguments);\n        this.map = new Map();\n    }\n    // for consistent order\n    handle(customRendering) {\n        const { map } = this;\n        let updated = false;\n        if (customRendering.isActive) {\n            map.set(customRendering.id, customRendering);\n            updated = true;\n        }\n        else if (map.has(customRendering.id)) {\n            map.delete(customRendering.id);\n            updated = true;\n        }\n        if (updated) {\n            this.set(map);\n        }\n    }\n}\n\nexport { listenBySelector as $, memoizeObjArg as A, BaseComponent as B, ContentContainer as C, DelayedRunner as D, isPropsEqual as E, Emitter as F, rangeContainsMarker as G, createEmptyEventStore as H, reduceEventStore as I, rezoneEventStoreDates as J, mergeRawOptions as K, BASE_OPTION_REFINERS as L, CALENDAR_LISTENER_REFINERS as M, CALENDAR_OPTION_REFINERS as N, COMPLEX_OPTION_COMPARATORS as O, VIEW_OPTION_REFINERS as P, DateEnv as Q, DateProfileGenerator as R, createEventUi as S, Theme as T, parseBusinessHours as U, ViewContextType as V, setRef as W, Interaction as X, getElSeg as Y, elementClosest as Z, EventImpl as _, mapHash as a, preventDefault as a$, listenToHoverBySelector as a0, PureComponent as a1, buildViewContext as a2, getUniqueDomId as a3, parseInteractionSettings as a4, interactionSettingsStore as a5, NowTimer as a6, CalendarImpl as a7, flushSync as a8, CalendarRoot as a9, memoizeArraylike as aA, memoizeHashlike as aB, intersectRects as aC, pointInsideRect as aD, constrainPoint as aE, getRectCenter as aF, diffPoints as aG, translateRect as aH, compareObjs as aI, collectFromHash as aJ, findElements as aK, findDirectChildren as aL, removeElement as aM, applyStyle as aN, elementMatches as aO, getEventTargetViaRoot as aP, parseClassNames as aQ, getCanVGrowWithinCell as aR, mergeEventStores as aS, getRelevantEvents as aT, eventTupleToStore as aU, combineEventUis as aV, Splitter as aW, getDayClassNames as aX, getDateMeta as aY, getSlotClassNames as aZ, buildNavLinkAttrs as a_, RenderId as aa, ensureElHasStyles as ab, applyStyleProp as ac, sliceEventStore as ad, JsonRequestError as ae, createContext as af, refineProps as ag, createEventInstance as ah, parseEventDef as ai, refineEventDef as aj, padStart as ak, isInt as al, parseFieldSpecs as am, compareByFieldSpecs as an, flexibleCompare as ao, preventSelection as ap, allowSelection as aq, preventContextMenu as ar, allowContextMenu as as, compareNumbers as at, enableCursor as au, disableCursor as av, computeVisibleDayRange as aw, isMultiDayRange as ax, diffDates as ay, removeExact as az, buildViewClassNames as b, renderMicroColGroup as b$, whenTransitionDone as b0, computeInnerRect as b1, computeEdges as b2, getClippingParents as b3, computeRect as b4, rangesEqual as b5, rangesIntersect as b6, rangeContainsRange as b7, PositionCache as b8, ScrollController as b9, getEntrySpanEnd as bA, binarySearch as bB, groupIntersectingEntries as bC, intersectSpans as bD, interactionSettingsToStore as bE, ElementDragging as bF, config as bG, parseDragMeta as bH, DayHeader as bI, computeFallbackHeaderFormat as bJ, TableDateCell as bK, TableDowCell as bL, DaySeriesModel as bM, hasBgRendering as bN, buildSegTimeText as bO, sortEventSegs as bP, getSegMeta as bQ, buildEventRangeKey as bR, getSegAnchorAttrs as bS, DayTableModel as bT, Slicer as bU, applyMutationToEventStore as bV, isPropsValid as bW, isInteractionValid as bX, isDateSelectionValid as bY, SimpleScrollGrid as bZ, hasShrinkWidth as b_, ElementScrollController as ba, WindowScrollController as bb, DateComponent as bc, isDateSpansEqual as bd, addMs as be, addWeeks as bf, diffWeeks as bg, diffWholeWeeks as bh, diffDayAndTime as bi, diffDays as bj, isValidDate as bk, asCleanDays as bl, multiplyDuration as bm, addDurations as bn, asRoughMinutes as bo, asRoughSeconds as bp, asRoughMs as bq, wholeDivideDurations as br, formatIsoTimeString as bs, formatDayString as bt, buildIsoString as bu, formatIsoMonthStr as bv, NamedTimeZoneImpl as bw, parse as bx, SegHierarchy as by, buildEntryKey as bz, greatestDurationDenominator as c, getScrollGridClassNames as c0, getSectionClassNames as c1, getSectionHasLiquidHeight as c2, getAllowYScrolling as c3, renderChunkContent as c4, computeShrinkWidth as c5, sanitizeShrinkWidth as c6, isColPropsEqual as c7, renderScrollShim as c8, getStickyFooterScrollbar as c9, getStickyHeaderDates as ca, Scroller as cb, getScrollbarWidths as cc, RefMap as cd, getIsRtlScrollbarOnLeft as ce, ScrollResponder as cf, StandardEvent as cg, NowIndicatorContainer as ch, DayCellContainer as ci, hasCustomDayCellContent as cj, EventContainer as ck, renderFill as cl, BgEvent as cm, WeekNumberContainer as cn, MoreLinkContainer as co, computeEarliestSegStart as cp, ViewContainer as cq, triggerDateSelect as cr, getDefaultEventEnd as cs, injectStyles as ct, buildElAttrs as cu, CustomRenderingStore as cv, createDuration as d, BASE_OPTION_DEFAULTS as e, arrayToHash as f, guid as g, filterHash as h, isArraysEqual as i, buildEventSourceRefiners as j, formatWithOrdinals as k, buildRangeApiWithTimeZone as l, mergeProps as m, identity as n, intersectRanges as o, parseEventSource as p, startOfDay as q, requestJson as r, subtractDurations as s, addDays as t, unpromisify as u, hashValuesToArray as v, buildEventApis as w, createFormatter as x, diffWholeDays as y, memoize as z };\n","var l38 = {\n    code: 'id',\n    week: {\n        dow: 1,\n        doy: 7, // The week that contains Jan 1st is the first week of the year.\n    },\n    buttonText: {\n        prev: 'mundur',\n        next: 'maju',\n        today: 'hari ini',\n        year: 'Tahun',\n        month: 'Bulan',\n        week: 'Minggu',\n        day: 'Hari',\n        list: 'Agenda',\n    },\n    weekText: 'Mg',\n    allDayText: 'Sehari penuh',\n    moreLinkText: 'lebih',\n    noEventsText: 'Tidak ada acara untuk ditampilkan',\n};\n\nexport { l38 as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayGridView as DayTableView, TableDateProfileGenerator } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nvar index = createPlugin({\n    name: '@fullcalendar/daygrid',\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            fixedWeekCount: true,\n        },\n        dayGridYear: {\n            type: 'dayGrid',\n            duration: { years: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { DateComponent, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, createFormatter, BaseComponent, StandardEvent, buildSegTimeText, EventContainer, getSegAnchorAttrs, memoize, MoreLinkContainer, getSegMeta, getUniqueDomId, setRef, DayCellContainer, WeekNumberContainer, buildNavLinkAttrs, hasCustomDayCellContent, addMs, intersectRanges, addDays, SegHierarchy, buildEntryKey, intersectSpans, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, formatIsoMonthStr, formatDayString, Slicer, DayHeader, DaySeriesModel, DayTableModel, DateProfileGenerator, addWeeks, diffWeeks, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createRef, createElement, Fragment } from '@fullcalendar/core/preact.js';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nclass TableView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.headerElRef = createRef();\n    }\n    renderSimpleLayout(headerRowContent, bodyContent) {\n        let { props, context } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { props, context } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewContainer, { elClasses: ['fc-daygrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections })));\n    }\n}\n\nfunction splitSegsByRow(segs, rowCnt) {\n    let byRow = [];\n    for (let i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (let seg of segs) {\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    let byCol = [];\n    for (let i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (let seg of segs) {\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nconst DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    let { display } = seg.eventRange.ui;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nclass TableBlockEvent extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(StandardEvent, Object.assign({}, props, { elClasses: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    }\n}\n\nclass TableListItemEvent extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        let timeText = buildSegTimeText(seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"a\", elClasses: ['fc-daygrid-event', 'fc-daygrid-dot-event'], elAttrs: getSegAnchorAttrs(props.seg, context), defaultGenerator: renderInnerContent, timeText: timeText, isResizing: false, isDateSelecting: false })));\n    }\n}\nfunction renderInnerContent(renderProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: renderProps.borderColor || renderProps.backgroundColor } }),\n        renderProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, renderProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, renderProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\n\nclass TableCellMoreLink extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.compileSegs = memoize(compileSegs);\n    }\n    render() {\n        let { props } = this;\n        let { allSegs, invisibleSegs } = this.compileSegs(props.singlePlacements);\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-daygrid-more-link'], dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: () => {\n                let isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map((seg) => {\n                    let instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }));\n    }\n}\nfunction compileSegs(singlePlacements) {\n    let allSegs = [];\n    let invisibleSegs = [];\n    for (let placement of singlePlacements) {\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs, invisibleSegs };\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nclass TableCell extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.state = {\n            dayNumberId: getUniqueDomId(),\n        };\n        this.handleRootEl = (el) => {\n            setRef(this.rootElRef, el);\n            setRef(this.props.elRef, el);\n        };\n    }\n    render() {\n        let { context, props, state, rootElRef } = this;\n        let { options, dateEnv } = context;\n        let { date, dateProfile } = props;\n        // TODO: memoize this?\n        const isMonthStart = props.showDayNumber &&\n            shouldDisplayMonthStart(date, dateProfile.currentRange, dateEnv);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: this.handleRootEl, elClasses: [\n                'fc-daygrid-day',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign(Object.assign(Object.assign({}, props.extraDataAttrs), (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})), { role: 'gridcell' }), defaultGenerator: renderTopInner, date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, isMonthStart: isMonthStart, extraRenderProps: props.extraRenderProps }, (InnerContent, renderProps) => (createElement(\"div\", { ref: props.innerElRef, className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", style: { minHeight: props.minHeight } },\n            props.showWeekNumber && (createElement(WeekNumberContainer, { elTag: \"a\", elClasses: ['fc-daygrid-week-number'], elAttrs: buildNavLinkAttrs(context, date, 'week'), date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT })),\n            !renderProps.isDisabled &&\n                (props.showDayNumber || hasCustomDayCellContent(options) || props.forceDayTop) ? (createElement(\"div\", { className: \"fc-daygrid-day-top\" },\n                createElement(InnerContent, { elTag: \"a\", elClasses: [\n                        'fc-daygrid-day-number',\n                        isMonthStart && 'fc-daygrid-month-start',\n                    ], elAttrs: Object.assign(Object.assign({}, buildNavLinkAttrs(context, date)), { id: state.dayNumberId }) }))) : props.showDayNumber ? (\n            // for creating correct amount of space (see issue #7162)\n            createElement(\"div\", { className: \"fc-daygrid-day-top\", style: { visibility: 'hidden' } },\n                createElement(\"a\", { className: \"fc-daygrid-day-number\" }, \"\\u00A0\"))) : undefined,\n            createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                props.fgContent,\n                createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                    createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n            createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))));\n    }\n}\nfunction renderTopInner(props) {\n    return props.dayNumberText || createElement(Fragment, null, \"\\u00A0\");\n}\nfunction shouldDisplayMonthStart(date, currentRange, dateEnv) {\n    const { start: currentStart, end: currentEnd } = currentRange;\n    const currentEndIncl = addMs(currentEnd, -1);\n    const currentFirstYear = dateEnv.getYear(currentStart);\n    const currentFirstMonth = dateEnv.getMonth(currentStart);\n    const currentLastYear = dateEnv.getYear(currentEndIncl);\n    const currentLastMonth = dateEnv.getMonth(currentEndIncl);\n    // spans more than one month?\n    return !(currentFirstYear === currentLastYear && currentFirstMonth === currentLastMonth) &&\n        Boolean(\n        // first date in current view?\n        date.valueOf() === currentStart.valueOf() ||\n            // a month-start that's within the current range?\n            (dateEnv.getDay(date) === 1 && date.valueOf() < currentEnd.valueOf()));\n}\n\nfunction generateSegKey(seg) {\n    return seg.eventRange.instance.instanceId + ':' + seg.firstCol;\n}\nfunction generateSegUid(seg) {\n    return generateSegKey(seg) + ':' + seg.lastCol;\n}\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, segHeights, maxContentHeight, cells) {\n    let hierarchy = new DayGridSegHierarchy((segEntry) => {\n        // TODO: more DRY with generateSegUid\n        let segUid = segs[segEntry.index].eventRange.instance.instanceId +\n            ':' + segEntry.span.start +\n            ':' + (segEntry.span.end - 1);\n        // if no thickness known, assume 1 (if 0, so small it always fits)\n        return segHeights[segUid] || 1;\n    });\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    let segInputs = [];\n    let unknownHeightSegs = [];\n    for (let i = 0; i < segs.length; i += 1) {\n        let seg = segs[i];\n        let segUid = generateSegUid(seg);\n        let eventHeight = segHeights[segUid];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let segRects = hierarchy.toRects();\n    let { singleColPlacements, multiColPlacements, leftoverMargins } = placeRects(segRects, segs, cells);\n    let moreCnts = [];\n    let moreMarginTops = [];\n    // add segs with unknown heights\n    for (let seg of unknownHeightSegs) {\n        multiColPlacements[seg.firstCol].push({\n            seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (let col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (let hiddenEntry of hiddenEntries) {\n        let seg = segs[hiddenEntry.index];\n        let hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (let col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (let col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    let rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    let singleColPlacements = [];\n    let multiColPlacements = [];\n    let leftoverMargins = [];\n    for (let col = 0; col < cells.length; col += 1) {\n        let rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        let singlePlacements = [];\n        let currentHeight = 0;\n        let currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: rect.levelCoord,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        let multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (let rect of rects) {\n            let seg = segs[rect.index];\n            let isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            let isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements, multiColPlacements, leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    let rectsByEachCol = [];\n    for (let col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (let rect of rects) {\n        for (let col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    let eventRange = seg.eventRange;\n    let origRange = eventRange.range;\n    let slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return Object.assign(Object.assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: Object.assign(Object.assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nclass DayGridSegHierarchy extends SegHierarchy {\n    constructor() {\n        super(...arguments);\n        // config\n        this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        this.forceHidden = {};\n    }\n    addSegs(segInputs) {\n        const hiddenSegs = super.addSegs(segInputs);\n        const { entriesByLevel } = this;\n        const excludeHidden = (entry) => !this.forceHidden[buildEntryKey(entry)];\n        // remove the forced-hidden segs\n        for (let level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    }\n    handleInvalidInsertion(insertion, entry, hiddenEntries) {\n        const { entriesByLevel, forceHidden } = this;\n        const { touchingEntry, touchingLevel, touchingLateral } = insertion;\n        // the entry that the new insertion is touching must be hidden\n        if (this.hiddenConsumes && touchingEntry) {\n            const touchingEntryId = buildEntryKey(touchingEntry);\n            if (!forceHidden[touchingEntryId]) {\n                if (this.allowReslicing) {\n                    // split up the touchingEntry, reinsert it\n                    const hiddenEntry = Object.assign(Object.assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                    // reinsert the area that turned into a \"more\" link (so no other entries try to\n                    // occupy the space) but mark it forced-hidden\n                    const hiddenEntryId = buildEntryKey(hiddenEntry);\n                    forceHidden[hiddenEntryId] = true;\n                    entriesByLevel[touchingLevel][touchingLateral] = hiddenEntry;\n                    hiddenEntries.push(hiddenEntry);\n                    this.splitEntry(touchingEntry, entry, hiddenEntries);\n                }\n                else {\n                    forceHidden[touchingEntryId] = true;\n                    hiddenEntries.push(touchingEntry);\n                }\n            }\n        }\n        // will try to reslice...\n        super.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    }\n}\n\nclass TableRow extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.cellElRefs = new RefMap(); // the <td>\n        this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        this.rootElRef = createRef();\n        this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            segHeights: {},\n        };\n        this.handleResize = (isForced) => {\n            if (isForced) {\n                this.updateSizing(true); // isExternal=true\n            }\n        };\n    }\n    render() {\n        let { props, state, context } = this;\n        let { options } = context;\n        let colCnt = props.cells.length;\n        let businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        let bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        let highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        let mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        let { singleColPlacements, multiColPlacements, moreCnts, moreMarginTops } = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.segHeights, state.maxContentHeight, props.cells);\n        let isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map((cell, col) => {\n                let normalFgNodes = this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                let mirrorFgNodes = this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), innerElRef: this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))), minHeight: props.cellMinHeight }));\n            })));\n    }\n    componentDidMount() {\n        this.updateSizing(true);\n        this.context.addResizeHandler(this.handleResize);\n    }\n    componentDidUpdate(prevProps, prevState) {\n        let currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    }\n    componentWillUnmount() {\n        this.context.removeResizeHandler(this.handleResize);\n    }\n    getHighlightSegs() {\n        let { props } = this;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    }\n    getMirrorSegs() {\n        let { props } = this;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    }\n    renderFgSegs(col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        let { context } = this;\n        let { eventSelection } = this.props;\n        let { framePositions } = this.state;\n        let defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let nodes = [];\n        if (framePositions) {\n            for (let placement of segPlacements) {\n                let { seg } = placement;\n                let { instanceId } = seg.eventRange.instance;\n                let isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                let isAbsolute = placement.isAbsolute;\n                let left = '';\n                let right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: generateSegKey(seg), ref: isMirror ? null : this.segHarnessRefs.createRef(generateSegUid(seg)), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left,\n                        right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, Object.assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    }\n    renderFillSegs(segs, fillType) {\n        let { isRtl } = this.context;\n        let { todayRange } = this.props;\n        let { framePositions } = this.state;\n        let nodes = [];\n        if (framePositions) {\n            for (let seg of segs) {\n                let leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement(Fragment, {}, ...nodes);\n    }\n    updateSizing(isExternalSizingChange) {\n        let { props, state, frameElRefs } = this;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                let frameEls = props.cells.map((cell) => frameElRefs.currentMap[cell.key]);\n                if (frameEls.length) {\n                    let originEl = this.rootElRef.current;\n                    let newPositionCache = new PositionCache(originEl, frameEls, true, // isHorizontal\n                    false);\n                    if (!state.framePositions || !state.framePositions.similarTo(newPositionCache)) {\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n            }\n            const oldSegHeights = this.state.segHeights;\n            const newSegHeights = this.querySegHeights();\n            const limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.safeSetState({\n                // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                // Essentially, once you compute an element's height, never null-out.\n                // TODO: always display all events, as visibility:hidden?\n                segHeights: Object.assign(Object.assign({}, oldSegHeights), newSegHeights),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    }\n    querySegHeights() {\n        let segElMap = this.segHarnessRefs.currentMap;\n        let segHeights = {};\n        // get the max height amongst instance segs\n        for (let segUid in segElMap) {\n            let height = Math.round(segElMap[segUid].getBoundingClientRect().height);\n            segHeights[segUid] = Math.max(segHeights[segUid] || 0, height);\n        }\n        return segHeights;\n    }\n    computeMaxContentHeight() {\n        let firstKey = this.props.cells[0].key;\n        let cellEl = this.cellElRefs.currentMap[firstKey];\n        let fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    }\n    getCellEls() {\n        let elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map((cell) => elMap[cell.key]);\n    }\n}\nTableRow.addStateEquality({\n    segHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    let topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map((seg) => ({\n        seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }));\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    let topsByInstanceId = {};\n    for (let placements of colPlacements) {\n        for (let placement of placements) {\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return topsByInstanceId;\n}\n\nclass TableRows extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        this.splitBgEventSegs = memoize(splitAllDaySegsByRow);\n        this.splitFgEventSegs = memoize(splitSegsByRow);\n        this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        this.splitEventDrag = memoize(splitInteractionByRow);\n        this.splitEventResize = memoize(splitInteractionByRow);\n        this.rowRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let rowCnt = props.cells.length;\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        // for DayGrid view with many rows, force a min-height on cells so doesn't appear squished\n        // choose 7 because a month view will have max 6 rows\n        let cellMinHeight = (rowCnt >= 7 && props.clientWidth) ?\n            props.clientWidth / context.options.aspectRatio / 6 :\n            null;\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => (createElement(Fragment, null, props.cells.map((cells, row) => (createElement(TableRow, { ref: this.rowRefs.createRef(row), key: cells.length\n                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                : row // in case there are no cells (like when resource view is loading)\n            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: props.dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row], fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, cellMinHeight: cellMinHeight, forPrint: props.forPrint })))))));\n    }\n    componentDidMount() {\n        this.registerInteractiveComponent();\n    }\n    componentDidUpdate() {\n        // for if started with zero cells\n        this.registerInteractiveComponent();\n    }\n    registerInteractiveComponent() {\n        if (!this.rootEl) {\n            // HACK: need a daygrid wrapper parent to do positioning\n            // NOTE: a daygrid resource view w/o resources can have zero cells\n            const firstCellEl = this.rowRefs.currentMap[0].getCellEls()[0];\n            const rootEl = firstCellEl ? firstCellEl.closest('.fc-daygrid-body') : null;\n            if (rootEl) {\n                this.rootEl = rootEl;\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n        }\n    }\n    componentWillUnmount() {\n        if (this.rootEl) {\n            this.context.unregisterInteractiveComponent(this);\n            this.rootEl = null;\n        }\n    }\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    prepareHits() {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map((rowObj) => rowObj.getCellEls()[0]), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    }\n    queryHit(positionLeft, positionTop) {\n        let { colPositions, rowPositions } = this;\n        let col = colPositions.leftToIndex(positionLeft);\n        let row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            let cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: Object.assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n    getCellEl(row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    }\n    getCellRange(row, col) {\n        let start = this.props.cells[row][col].date;\n        let end = addDays(start, 1);\n        return { start, end };\n    }\n}\nfunction splitAllDaySegsByRow(segs, rowCnt) {\n    return splitSegsByRow(segs.filter(isSegAllDay), rowCnt);\n}\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nclass Table extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.elRef = createRef();\n        this.needsScrollReset = false;\n    }\n    render() {\n        let { props } = this;\n        let { dayMaxEventRows, dayMaxEvents, expandRows } = props;\n        let limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        let classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { ref: this.elRef, className: classNames.join(' '), style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                    height: expandRows ? props.clientHeight : '',\n                } },\n                props.colGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(TableRows, { dateProfile: props.dateProfile, cells: props.cells, renderRowIntro: props.renderRowIntro, showWeekNumbers: props.showWeekNumbers, clientWidth: props.clientWidth, clientHeight: props.clientHeight, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, forPrint: props.forPrint, isHitComboAllowed: props.isHitComboAllowed })))));\n    }\n    componentDidMount() {\n        this.requestScrollReset();\n    }\n    componentDidUpdate(prevProps) {\n        if (prevProps.dateProfile !== this.props.dateProfile) {\n            this.requestScrollReset();\n        }\n        else {\n            this.flushScrollReset();\n        }\n    }\n    requestScrollReset() {\n        this.needsScrollReset = true;\n        this.flushScrollReset();\n    }\n    flushScrollReset() {\n        if (this.needsScrollReset &&\n            this.props.clientWidth // sizes computed?\n        ) {\n            const subjectEl = getScrollSubjectEl(this.elRef.current, this.props.dateProfile);\n            if (subjectEl) {\n                const originEl = subjectEl.closest('.fc-daygrid-body');\n                const scrollEl = originEl.closest('.fc-scroller');\n                const scrollTop = subjectEl.getBoundingClientRect().top -\n                    originEl.getBoundingClientRect().top;\n                scrollEl.scrollTop = scrollTop ? (scrollTop + 1) : 0; // overcome border\n            }\n            this.needsScrollReset = false;\n        }\n    }\n}\nfunction getScrollSubjectEl(containerEl, dateProfile) {\n    let el;\n    if (dateProfile.currentRangeUnit.match(/year|month/)) {\n        el = containerEl.querySelector(`[data-date=\"${formatIsoMonthStr(dateProfile.currentDate)}-01\"]`);\n        // even if view is month-based, first-of-month might be hidden...\n    }\n    if (!el) {\n        el = containerEl.querySelector(`[data-date=\"${formatDayString(dateProfile.currentDate)}\"]`);\n        // could still be hidden if an interior-view hidden day\n    }\n    return el;\n}\n\nclass DayTableSlicer extends Slicer {\n    constructor() {\n        super(...arguments);\n        this.forceDayIfListItem = true;\n    }\n    sliceRange(dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    }\n}\n\nclass DayTable extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.slicer = new DayTableSlicer();\n        this.tableRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(Table, Object.assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    }\n}\n\nclass DayTableView extends TableView {\n    constructor() {\n        super(...arguments);\n        this.buildDayTableModel = memoize(buildDayTableModel);\n        this.headerRef = createRef();\n        this.tableRef = createRef();\n        // can't override any lifecycle methods from parent\n    }\n    render() {\n        let { options, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        let bodyContent = (contentArg) => (createElement(DayTable, { ref: this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }));\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    }\n}\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nclass TableDateProfileGenerator extends DateProfileGenerator {\n    // Computes the date range that will be rendered\n    buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay) {\n        let renderRange = super.buildRenderRange(currentRange, currentRangeUnit, isRangeAllDay);\n        let { props } = this;\n        return buildDayTableRenderRange({\n            currentRange: renderRange,\n            snapToWeek: /^(year|month)$/.test(currentRangeUnit),\n            fixedWeekCount: props.fixedWeekCount,\n            dateEnv: props.dateEnv,\n        });\n    }\n}\nfunction buildDayTableRenderRange(props) {\n    let { dateEnv, currentRange } = props;\n    let { start, end } = currentRange;\n    let endOfWeek;\n    // year and month views should be aligned with weeks. this is already done for week\n    if (props.snapToWeek) {\n        start = dateEnv.startOfWeek(start);\n        // make end-of-week if not already\n        endOfWeek = dateEnv.startOfWeek(end);\n        if (endOfWeek.valueOf() !== end.valueOf()) {\n            end = addWeeks(endOfWeek, 1);\n        }\n    }\n    // ensure 6 weeks\n    if (props.fixedWeekCount) {\n        // TODO: instead of these date-math gymnastics (for multimonth view),\n        // compute dateprofiles of all months, then use start of first and end of last.\n        let lastMonthRenderStart = dateEnv.startOfWeek(dateEnv.startOfMonth(addDays(currentRange.end, -1)));\n        let rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n        diffWeeks(lastMonthRenderStart, end));\n        end = addWeeks(end, 6 - rowCnt);\n    }\n    return { start, end };\n}\n\nvar css_248z = \":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:\\\"\\\";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}\";\ninjectStyles(css_248z);\n\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableDateProfileGenerator, TableRows, TableView, buildDayTableModel, buildDayTableRenderRange };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { config, Emitter, elementClosest, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, ElementDragging, preventSelection, preventContextMenu, allowSelection, allowContextMenu, computeRect, getClippingParents, pointInsideRect, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, isDateSpansEqual, Interaction, interactionSettingsToStore, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventImpl, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, getEventTargetViaRoot, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS } from '@fullcalendar/core/internal.js';\n\nconfig.touchMouseIgnoreWait = 500;\nlet ignoreMouseDepth = 0;\nlet listenerCnt = 0;\nlet isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nclass PointerDragging {\n    constructor(containerEl) {\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = (ev) => {\n            if (!this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                this.tryStart(ev)) {\n                let pev = this.createEventFromMouse(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                if (!this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = (ev) => {\n            let pev = this.createEventFromMouse(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = (ev) => {\n            document.removeEventListener('mousemove', this.handleMouseMove);\n            document.removeEventListener('mouseup', this.handleMouseUp);\n            this.emitter.trigger('pointerup', this.createEventFromMouse(ev));\n            this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = (ev) => {\n            if (this.tryStart(ev)) {\n                this.isTouchDragging = true;\n                let pev = this.createEventFromTouch(ev, true);\n                this.emitter.trigger('pointerdown', pev);\n                this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                let targetEl = ev.target;\n                if (!this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = (ev) => {\n            let pev = this.createEventFromTouch(ev);\n            this.recordCoords(pev);\n            this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = (ev) => {\n            if (this.isDragging) { // done to guard against touchend followed by touchcancel\n                let targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', this.handleTouchMove);\n                targetEl.removeEventListener('touchend', this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', this.handleTouchEnd);\n                window.removeEventListener('scroll', this.handleTouchScroll, true); // useCaptured=true\n                this.emitter.trigger('pointerup', this.createEventFromTouch(ev));\n                this.cleanup(); // call last so that pointerup has access to props\n                this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = () => {\n            this.wasTouchScroll = true;\n        };\n        this.handleScroll = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                let pageX = (window.scrollX - this.prevScrollX) + this.prevPageX;\n                let pageY = (window.scrollY - this.prevScrollY) + this.prevPageY;\n                this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: this.isTouchDragging,\n                    subjectEl: this.subjectEl,\n                    pageX,\n                    pageY,\n                    deltaX: pageX - this.origPageX,\n                    deltaY: pageY - this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    destroy() {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    }\n    tryStart(ev) {\n        let subjectEl = this.querySubjectEl(ev);\n        let downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    }\n    cleanup() {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    }\n    querySubjectEl(ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    }\n    shouldIgnoreMouse() {\n        return ignoreMouseDepth || this.isTouchDragging;\n    }\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    cancelTouchScroll() {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    }\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    initScrollWatch(ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    }\n    recordCoords(ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.scrollX;\n            this.prevScrollY = window.scrollY;\n        }\n    }\n    destroyScrollWatch() {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    }\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    createEventFromMouse(ev, isFirst) {\n        let deltaX = 0;\n        let deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n    createEventFromTouch(ev, isFirst) {\n        let touches = ev.touches;\n        let pageX;\n        let pageY;\n        let deltaX = 0;\n        let deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX,\n            pageY,\n            deltaX,\n            deltaY,\n        };\n    }\n}\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(() => {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nclass ElementMirror {\n    constructor() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    start(sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.scrollX;\n        this.origScreenY = pageY - window.scrollY;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    }\n    handleMove(pageX, pageY) {\n        this.deltaX = (pageX - window.scrollX) - this.origScreenX;\n        this.deltaY = (pageY - window.scrollY) - this.origScreenY;\n        this.updateElPosition();\n    }\n    // can be called before start\n    setIsVisible(bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    }\n    // always async\n    stop(needsRevertAnimation, callback) {\n        let done = () => {\n            this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    }\n    doRevertAnimation(callback, revertDuration) {\n        let mirrorEl = this.mirrorEl;\n        let finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, () => {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    }\n    cleanup() {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    }\n    updateElPosition() {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    }\n    getMirrorEl() {\n        let sourceElRect = this.sourceElRect;\n        let mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.style.userSelect = 'none';\n            mirrorEl.style.webkitUserSelect = 'none';\n            mirrorEl.style.pointerEvents = 'none';\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    }\n}\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nclass ScrollGeomCache extends ScrollController {\n    constructor(scrollController, doesListening) {\n        super();\n        this.handleScroll = () => {\n            this.scrollTop = this.scrollController.getScrollTop();\n            this.scrollLeft = this.scrollController.getScrollLeft();\n            this.handleScrollChange();\n        };\n        this.scrollController = scrollController;\n        this.doesListening = doesListening;\n        this.scrollTop = this.origScrollTop = scrollController.getScrollTop();\n        this.scrollLeft = this.origScrollLeft = scrollController.getScrollLeft();\n        this.scrollWidth = scrollController.getScrollWidth();\n        this.scrollHeight = scrollController.getScrollHeight();\n        this.clientWidth = scrollController.getClientWidth();\n        this.clientHeight = scrollController.getClientHeight();\n        this.clientRect = this.computeClientRect(); // do last in case it needs cached values\n        if (this.doesListening) {\n            this.getEventTarget().addEventListener('scroll', this.handleScroll);\n        }\n    }\n    destroy() {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    }\n    getScrollTop() {\n        return this.scrollTop;\n    }\n    getScrollLeft() {\n        return this.scrollLeft;\n    }\n    setScrollTop(top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    }\n    setScrollLeft(top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    }\n    getClientWidth() {\n        return this.clientWidth;\n    }\n    getClientHeight() {\n        return this.clientHeight;\n    }\n    getScrollWidth() {\n        return this.scrollWidth;\n    }\n    getScrollHeight() {\n        return this.scrollHeight;\n    }\n    handleScrollChange() {\n    }\n}\n\nclass ElementScrollGeomCache extends ScrollGeomCache {\n    constructor(el, doesListening) {\n        super(new ElementScrollController(el), doesListening);\n    }\n    getEventTarget() {\n        return this.scrollController.el;\n    }\n    computeClientRect() {\n        return computeInnerRect(this.scrollController.el);\n    }\n}\n\nclass WindowScrollGeomCache extends ScrollGeomCache {\n    constructor(doesListening) {\n        super(new WindowScrollController(), doesListening);\n    }\n    getEventTarget() {\n        return window;\n    }\n    computeClientRect() {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    }\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    handleScrollChange() {\n        this.clientRect = this.computeClientRect();\n    }\n}\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nconst getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nclass AutoScroller {\n    constructor() {\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = () => {\n            if (this.isAnimating) { // wasn't cancelled between animation calls\n                let edge = this.computeBestEdge(this.pointerScreenX + window.scrollX, this.pointerScreenY + window.scrollY);\n                if (edge) {\n                    let now = getTime();\n                    this.handleSide(edge, (now - this.msSinceRequest) / 1000);\n                    this.requestAnimation(now);\n                }\n                else {\n                    this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    start(pageX, pageY, scrollStartEl) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches(scrollStartEl);\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    }\n    handleMove(pageX, pageY) {\n        if (this.isEnabled) {\n            let pointerScreenX = pageX - window.scrollX;\n            let pointerScreenY = pageY - window.scrollY;\n            let yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            let xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    }\n    stop() {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (let scrollCache of this.scrollCaches) {\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    }\n    requestAnimation(now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    }\n    handleSide(edge, seconds) {\n        let { scrollCache } = edge;\n        let { edgeThreshold } = this;\n        let invDistance = edgeThreshold - edge.distance;\n        let velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        let sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    }\n    // left/top are relative to document topleft\n    computeBestEdge(left, top) {\n        let { edgeThreshold } = this;\n        let bestSide = null;\n        let scrollCaches = this.scrollCaches || [];\n        for (let scrollCache of scrollCaches) {\n            let rect = scrollCache.clientRect;\n            let leftDist = left - rect.left;\n            let rightDist = rect.right - left;\n            let topDist = top - rect.top;\n            let bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                /*\n                TODO: fix broken RTL scrolling. canScrollLeft always returning false\n                https://github.com/fullcalendar/fullcalendar/issues/4837\n                */\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    }\n    buildCaches(scrollStartEl) {\n        return this.queryScrollEls(scrollStartEl).map((el) => {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    }\n    queryScrollEls(scrollStartEl) {\n        let els = [];\n        for (let query of this.scrollQuery) {\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                /*\n                TODO: in the future, always have auto-scroll happen on element where current Hit came from\n                Ticket: https://github.com/fullcalendar/fullcalendar/issues/4593\n                */\n                els.push(...Array.prototype.slice.call(scrollStartEl.getRootNode().querySelectorAll(query)));\n            }\n        }\n        return els;\n    }\n}\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nclass FeaturefulElementDragging extends ElementDragging {\n    constructor(containerEl, selector) {\n        super(containerEl);\n        this.containerEl = containerEl;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        this.delay = null;\n        this.minDistance = 0;\n        this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        this.mirrorNeedsRevert = false;\n        this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        this.isDelayEnded = false;\n        this.isDistanceSurpassed = false;\n        this.delayTimeoutId = null;\n        this.onPointerDown = (ev) => {\n            if (!this.isDragging) { // so new drag doesn't happen while revert animation is going\n                this.isInteracting = true;\n                this.isDelayEnded = false;\n                this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                this.emitter.trigger('pointerdown', ev);\n                if (this.isInteracting && // not destroyed via pointerdown handler\n                    !this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    this.startDelay(ev);\n                    if (!this.minDistance) {\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        this.onPointerMove = (ev) => {\n            if (this.isInteracting) {\n                this.emitter.trigger('pointermove', ev);\n                if (!this.isDistanceSurpassed) {\n                    let minDistance = this.minDistance;\n                    let distanceSq; // current distance from the origin, squared\n                    let { deltaX, deltaY } = ev;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        this.mirror.handleMove(ev.pageX, ev.pageY);\n                        this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        this.onPointerUp = (ev) => {\n            if (this.isInteracting) {\n                this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (this.isDragging) {\n                    this.autoScroller.stop();\n                    this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (this.delayTimeoutId) {\n                    clearTimeout(this.delayTimeoutId);\n                    this.delayTimeoutId = null;\n                }\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.onPointerDown);\n        pointer.emitter.on('pointermove', this.onPointerMove);\n        pointer.emitter.on('pointerup', this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        this.mirror = new ElementMirror();\n        this.autoScroller = new AutoScroller();\n    }\n    destroy() {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    }\n    startDelay(ev) {\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(() => {\n                this.delayTimeoutId = null;\n                this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    }\n    handleDelayEnd(ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    }\n    handleDistanceSurpassed(ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    }\n    tryStartDrag(ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    }\n    tryStopDrag(ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    }\n    stopDrag(ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    }\n    // fill in the implementations...\n    setIgnoreMove(bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        this.mirror.setIsVisible(bool);\n    }\n    setMirrorNeedsRevert(bool) {\n        this.mirrorNeedsRevert = bool;\n    }\n    setAutoScrollEnabled(bool) {\n        this.autoScroller.isEnabled = bool;\n    }\n}\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nclass OffsetTracker {\n    constructor(el) {\n        this.el = el;\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map((scrollEl) => new ElementScrollGeomCache(scrollEl, true));\n    }\n    destroy() {\n        for (let scrollCache of this.scrollCaches) {\n            scrollCache.destroy();\n        }\n    }\n    computeLeft() {\n        let left = this.origRect.left;\n        for (let scrollCache of this.scrollCaches) {\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    }\n    computeTop() {\n        let top = this.origRect.top;\n        for (let scrollCache of this.scrollCaches) {\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    }\n    isWithinClipping(pageX, pageY) {\n        let point = { left: pageX, top: pageY };\n        for (let scrollCache of this.scrollCaches) {\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    let tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nclass HitDragging {\n    constructor(dragging, droppableStore) {\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.disablePointCheck = false;\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null;\n            this.prepareHits();\n            this.processFirstCoord(ev);\n            if (this.initialHit || !this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = (ev) => {\n            this.emitter.trigger('dragstart', ev);\n            this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = (ev) => {\n            this.emitter.trigger('dragmove', ev);\n            this.handleMove(ev);\n        };\n        this.handlePointerUp = (ev) => {\n            this.releaseHits();\n            this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.movingHit) {\n                this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            this.finalHit = this.movingHit;\n            this.movingHit = null;\n            this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    processFirstCoord(ev) {\n        let origPoint = { left: ev.pageX, top: ev.pageY };\n        let adjustedPoint = origPoint;\n        let subjectEl = ev.subjectEl;\n        let subjectRect;\n        if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        let initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                let slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    }\n    handleMove(ev, forceHandle) {\n        let hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    }\n    prepareHits() {\n        this.offsetTrackers = mapHash(this.droppableStore, (interactionSettings) => {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    }\n    releaseHits() {\n        let { offsetTrackers } = this;\n        for (let id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    }\n    queryHitForOffset(offsetLeft, offsetTop) {\n        let { droppableStore, offsetTrackers } = this;\n        let bestHit = null;\n        for (let id in droppableStore) {\n            let component = droppableStore[id].component;\n            let offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                let originLeft = offsetTracker.computeLeft();\n                let originTop = offsetTracker.computeTop();\n                let positionLeft = offsetLeft - originLeft;\n                let positionTop = offsetTop - originTop;\n                let { origRect } = offsetTracker;\n                let width = origRect.right - origRect.left;\n                let height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    let hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        // Ensure the component we are querying for the hit is accessibly my the pointer\n                        // Prevents obscured calendars (ex: under a modal dialog) from accepting hit\n                        // https://github.com/fullcalendar/fullcalendar/issues/5026\n                        (this.disablePointCheck ||\n                            offsetTracker.el.contains(offsetTracker.el.getRootNode().elementFromPoint(\n                            // add-back origins to get coordinate relative to top-left of window viewport\n                            positionLeft + originLeft - window.scrollX, positionTop + originTop - window.scrollY))) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    }\n}\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    let props = {};\n    for (let transform of context.pluginHooks.datePointTransforms) {\n        Object.assign(props, transform(dateSpan, context));\n    }\n    Object.assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nclass DateClicking extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.handlePointerDown = (pev) => {\n            let { dragging } = this;\n            let downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        this.handleDragEnd = (ev) => {\n            let { component } = this;\n            let { pointer } = this.dragging;\n            if (!pointer.wasTouchScroll) {\n                let { initialHit, finalHit } = this.hitDragging;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    let { context } = component;\n                    let arg = Object.assign(Object.assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        this.dragging = new FeaturefulElementDragging(settings.el);\n        this.dragging.autoScroller.isEnabled = false;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nclass DateSelecting extends Interaction {\n    constructor(settings) {\n        super(settings);\n        this.dragSelection = null;\n        this.handlePointerDown = (ev) => {\n            let { component, dragging } = this;\n            let { options } = component.context;\n            let canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        this.handleDragStart = (ev) => {\n            this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            let { context } = this.component;\n            let dragSelection = null;\n            let isInvalid = false;\n            if (hit) {\n                let initialHit = this.hitDragging.initialHit;\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        this.handlePointerUp = (pev) => {\n            if (this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(this.dragSelection, pev, this.component.context);\n                this.dragSelection = null;\n            }\n        };\n        let { component } = settings;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\nfunction getComponentTouchDelay$1(component) {\n    let { options } = component.context;\n    let delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    let props = {};\n    for (let transformer of dateSelectionTransformers) {\n        let res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            Object.assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nclass EventDragging extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.subjectEl = null;\n        this.subjectSeg = null; // the seg being selected/dragged\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null; // the events being dragged\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let origTarget = ev.origEvent.target;\n            let { component, dragging } = this;\n            let { mirror } = dragging;\n            let { options } = component.context;\n            let initialContext = component.context;\n            this.subjectEl = ev.subjectEl;\n            let subjectSeg = this.subjectSeg = getElSeg(ev.subjectEl);\n            let eventRange = this.eventRange = subjectSeg.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            let isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        this.handleDragStart = (ev) => {\n            let initialContext = this.component.context;\n            let eventRange = this.eventRange;\n            let eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: this.subjectEl,\n                    event: new EventImpl(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        this.handleHitUpdate = (hit, isFinal) => {\n            if (!this.isDragging) {\n                return;\n            }\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let initialContext = this.component.context;\n            // states based on new hit\n            let receivingContext = null;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                let receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, this.eventRange.instance.range.start, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                this.dragging.setMirrorIsVisible(!hit || !this.subjectEl.getRootNode().querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                this.receivingContext = receivingContext;\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handlePointerUp = () => {\n            if (!this.isDragging) {\n                this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            if (this.isDragging) {\n                let initialContext = this.component.context;\n                let initialView = initialContext.viewApi;\n                let { receivingContext, validMutation } = this;\n                let eventDef = this.eventRange.def;\n                let eventInstance = this.eventRange.instance;\n                let eventApi = new EventImpl(initialContext, eventDef, eventInstance);\n                let relevantEvents = this.relevantEvents;\n                let mutatedRelevantEvents = this.mutatedRelevantEvents;\n                let { finalHit } = this.hitDragging;\n                this.clearDrag(); // must happen after revert animation\n                initialContext.emitter.trigger('eventDragStop', {\n                    el: this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext === initialContext) {\n                        let updatedEventApi = new EventImpl(initialContext, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                        initialContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents, // the pre-change data\n                                });\n                            },\n                        };\n                        let transformed = {};\n                        for (let transformer of initialContext.getCurrentData().pluginHooks.eventDropTransformers) {\n                            Object.assign(transformed, transformer(validMutation, initialContext));\n                        }\n                        initialContext.emitter.trigger('eventDrop', Object.assign(Object.assign(Object.assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext) {\n                        let eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents, initialContext, eventInstance),\n                            revert() {\n                                initialContext.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents,\n                                });\n                            },\n                        };\n                        initialContext.emitter.trigger('eventLeave', Object.assign(Object.assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents,\n                        });\n                        initialContext.emitter.trigger('eventRemove', eventRemoveArg);\n                        let addedEventDef = mutatedRelevantEvents.defs[eventDef.defId];\n                        let addedEventInstance = mutatedRelevantEvents.instances[eventInstance.instanceId];\n                        let addedEventApi = new EventImpl(receivingContext, addedEventDef, addedEventInstance);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents,\n                        });\n                        let eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents, receivingContext, addedEventInstance),\n                            revert() {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents,\n                                });\n                            },\n                        };\n                        receivingContext.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext.emitter.trigger('eventReceive', Object.assign(Object.assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext.emitter.trigger('_noEventDrop');\n                }\n            }\n            this.cleanup();\n        };\n        let { component } = this;\n        let { options } = component.context;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', this.handlePointerUp);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    // render a drag state on the next receivingCalendar\n    displayDrag(nextContext, state) {\n        let initialContext = this.component.context;\n        let prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        let initialCalendar = this.component.context;\n        let { receivingContext } = this;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    cleanup() {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    }\n}\n// TODO: test this in IE11\n// QUESTION: why do we need it on the resizable???\nEventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\nfunction computeEventMutation(hit0, hit1, eventInstanceStart, massagers) {\n    let dateSpan0 = hit0.dateSpan;\n    let dateSpan1 = hit1.dateSpan;\n    let date0 = dateSpan0.range.start;\n    let date1 = dateSpan1.range.start;\n    let standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(eventInstanceStart);\n        }\n        else {\n            // Moving from allDate->timed\n            // Doesn't matter where on the event the drag began, mutate the event's start-date to date1\n            date0 = eventInstanceStart;\n        }\n    }\n    let delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    let mutation = {\n        datesDelta: delta,\n        standardProps,\n    };\n    for (let massager of massagers) {\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    let { options } = component.context;\n    let delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nclass EventResizing extends Interaction {\n    constructor(settings) {\n        super(settings);\n        // internal state\n        this.draggingSegEl = null;\n        this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n        this.handlePointerDown = (ev) => {\n            let { component } = this;\n            let segEl = this.querySegEl(ev);\n            let seg = getElSeg(segEl);\n            let eventRange = this.eventRange = seg.eventRange;\n            this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        this.handleDragStart = (ev) => {\n            let { context } = this.component;\n            let eventRange = this.eventRange;\n            this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, this.eventRange.instance.instanceId);\n            let segEl = this.querySegEl(ev);\n            this.draggingSegEl = segEl;\n            this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventImpl(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { context } = this.component;\n            let relevantEvents = this.relevantEvents;\n            let initialHit = this.hitDragging.initialHit;\n            let eventInstance = this.eventRange.instance;\n            let mutation = null;\n            let mutatedRelevantEvents = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                let disallowed = hit.componentId === initialHit.componentId\n                    && this.isHitComboAllowed\n                    && !this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                this.validMutation = mutation;\n                this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        this.handleDragEnd = (ev) => {\n            let { context } = this.component;\n            let eventDef = this.eventRange.def;\n            let eventInstance = this.eventRange.instance;\n            let eventApi = new EventImpl(context, eventDef, eventInstance);\n            let relevantEvents = this.relevantEvents;\n            let mutatedRelevantEvents = this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (this.validMutation) {\n                let updatedEventApi = new EventImpl(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                let eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert() {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', Object.assign(Object.assign({}, eventChangeArg), { el: this.draggingSegEl, startDelta: this.validMutation.startDelta || createDuration(0), endDelta: this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            this.draggingSeg = null;\n            this.relevantEvents = null;\n            this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        let { component } = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        let hitDragging = this.hitDragging = new HitDragging(this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n    querySegEl(ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    }\n}\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    let dateEnv = hit0.context.dateEnv;\n    let date0 = hit0.dateSpan.range.start;\n    let date1 = hit1.dateSpan.range.start;\n    let delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nclass UnselectAuto {\n    constructor(context) {\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = (selectInfo) => {\n            if (selectInfo.jsEvent) {\n                this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = (pev) => {\n            let unselectCancel = this.context.options.unselectCancel;\n            let downEl = getEventTargetViaRoot(pev.origEvent);\n            this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = (pev) => {\n            let { context } = this;\n            let { documentPointer } = this;\n            let calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    let unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            this.isRecentPointerDateSelect = false;\n        };\n        let documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    destroy() {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    }\n}\n\nconst OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nconst LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nclass ExternalElementDragging {\n    constructor(dragging, suppliedDragMeta) {\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = (ev) => {\n            this.dragMeta = this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = (hit, isFinal, ev) => {\n            let { dragging } = this.hitDragging;\n            let receivingContext = null;\n            let droppableEvent = null;\n            let isInvalid = false;\n            let interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                this.receivingContext = receivingContext;\n                this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = (pev) => {\n            let { receivingContext, droppableEvent } = this;\n            this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                let finalHit = this.hitDragging.finalHit;\n                let finalView = finalHit.context.viewApi;\n                let dragMeta = this.dragMeta;\n                receivingContext.emitter.trigger('drop', Object.assign(Object.assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    let addingEvents = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventImpl(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert() {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            this.receivingContext = null;\n            this.droppableEvent = null;\n        };\n        let hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    buildDragMeta(subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    }\n    displayDrag(nextContext, state) {\n        let prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state });\n        }\n    }\n    clearDrag() {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    }\n    canDropElOnCalendar(el, receivingContext) {\n        let dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    }\n}\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    let defProps = Object.assign({}, dragMeta.leftoverProps);\n    for (let transform of context.pluginHooks.externalDefTransforms) {\n        Object.assign(defProps, transform(dateSpan, dragMeta));\n    }\n    let { refined, extra } = refineEventDef(defProps, context);\n    let def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    let start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    let end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    let instance = createEventInstance(def.defId, { start, end });\n    return { def, instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    let str = getEmbeddedElData(el, 'event');\n    let obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    let prefix = config.dataAttrPrefix;\n    let prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nclass ExternalDraggable {\n    constructor(el, settings = {}) {\n        this.handlePointerDown = (ev) => {\n            let { dragging } = this;\n            let { minDistance, longPressDelay } = this.settings;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = (ev) => {\n            if (ev.isTouch &&\n                this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        let dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nclass InferredElementDragging extends ElementDragging {\n    constructor(containerEl) {\n        super(containerEl);\n        this.shouldIgnoreMove = false;\n        this.mirrorSelector = '';\n        this.currentMirrorEl = null;\n        this.handlePointerDown = (ev) => {\n            this.emitter.trigger('pointerdown', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                this.emitter.trigger('dragstart', ev);\n            }\n        };\n        this.handlePointerMove = (ev) => {\n            if (!this.shouldIgnoreMove) {\n                this.emitter.trigger('dragmove', ev);\n            }\n        };\n        this.handlePointerUp = (ev) => {\n            this.emitter.trigger('pointerup', ev);\n            if (!this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                this.emitter.trigger('dragend', ev);\n            }\n        };\n        let pointer = this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', this.handlePointerDown);\n        pointer.emitter.on('pointermove', this.handlePointerMove);\n        pointer.emitter.on('pointerup', this.handlePointerUp);\n    }\n    destroy() {\n        this.pointer.destroy();\n    }\n    setIgnoreMove(bool) {\n        this.shouldIgnoreMove = bool;\n    }\n    setMirrorIsVisible(bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            let mirrorEl = this.mirrorSelector\n                // TODO: somehow query FullCalendars WITHIN shadow-roots\n                ? document.querySelector(this.mirrorSelector)\n                : null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    }\n}\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nclass ThirdPartyDraggable {\n    constructor(containerOrSettings, settings) {\n        let containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        let dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        let externalDragging = new ExternalElementDragging(dragging, settings.eventData);\n        // The hit-detection system requires that the dnd-mirror-element be pointer-events:none,\n        // but this can't be guaranteed for third-party draggables, so disable\n        externalDragging.hitDragging.disablePointCheck = true;\n    }\n    destroy() {\n        this.dragging.destroy();\n    }\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/interaction',\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport { ExternalDraggable as Draggable, ThirdPartyDraggable, index as default };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { ListView } from './internal.js';\nimport { identity, createFormatter } from '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\n\nconst OPTION_REFINERS = {\n    listDayFormat: createFalsableFormatter,\n    listDaySideFormat: createFalsableFormatter,\n    noEventsClassNames: identity,\n    noEventsContent: identity,\n    noEventsDidMount: identity,\n    noEventsWillUnmount: identity,\n    // noEventsText is defined in base options\n};\nfunction createFalsableFormatter(input) {\n    return input === false ? null : createFormatter(input);\n}\n\nvar index = createPlugin({\n    name: '@fullcalendar/list',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        list: {\n            component: ListView,\n            buttonTextKey: 'list',\n            listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n        },\n        listDay: {\n            type: 'list',\n            duration: { days: 1 },\n            listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n        },\n        listWeek: {\n            type: 'list',\n            duration: { weeks: 1 },\n            listDayFormat: { weekday: 'long' },\n            listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        },\n        listMonth: {\n            type: 'list',\n            duration: { month: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n        listYear: {\n            type: 'list',\n            duration: { year: 1 },\n            listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n        },\n    },\n});\n\nexport { index as default };\n","import { BaseComponent, getUniqueDomId, getDateMeta, buildNavLinkAttrs, ContentContainer, getDayClassNames, formatDayString, createFormatter, EventContainer, getSegAnchorAttrs, isMultiDayRange, buildSegTimeText, DateComponent, memoize, ViewContainer, Scroller, NowTimer, sortEventSegs, getSegMeta, sliceEventStore, intersectRanges, startOfDay, addDays, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, Fragment } from '@fullcalendar/core/preact.js';\n\nclass ListViewHeaderRow extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            textId: getUniqueDomId(),\n        };\n    }\n    render() {\n        let { theme, dateEnv, options, viewApi } = this.context;\n        let { cellId, dayDate, todayRange } = this.props;\n        let { textId } = this.state;\n        let dayMeta = getDateMeta(dayDate, todayRange);\n        // will ever be falsy?\n        let text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n        // will ever be falsy? also, BAD NAME \"alt\"\n        let sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n        let renderProps = Object.assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId,\n            text,\n            sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n        // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n        return (createElement(ContentContainer, { elTag: \"tr\", elClasses: [\n                'fc-list-day',\n                ...getDayClassNames(dayMeta, theme),\n            ], elAttrs: {\n                'data-date': formatDayString(dayDate),\n            }, renderProps: renderProps, generatorName: \"dayHeaderContent\", customGenerator: options.dayHeaderContent, defaultGenerator: renderInnerContent, classNameGenerator: options.dayHeaderClassNames, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, (InnerContent) => ( // TODO: force-hide top border based on :first-child\n        createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-list-day-cushion',\n                    theme.getClass('tableCellShaded'),\n                ] })))));\n    }\n}\nfunction renderInnerContent(props) {\n    return (createElement(Fragment, null,\n        props.text && (createElement(\"a\", Object.assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n        props.sideText && ( /* not keyboard tabbable */createElement(\"a\", Object.assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: 'short',\n});\nclass ListViewEventRow extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { seg, timeHeaderId, eventHeaderId, dateHeaderId } = props;\n        let timeFormat = options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n        return (createElement(EventContainer, Object.assign({}, props, { elTag: \"tr\", elClasses: [\n                'fc-list-event',\n                seg.eventRange.def.url && 'fc-event-forced-url',\n            ], defaultGenerator: () => renderEventInnerContent(seg, context) /* weird */, seg: seg, timeText: \"\", disableDragging: true, disableResizing: true }), (InnerContent, eventContentArg) => (createElement(Fragment, null,\n            buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n            createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                createElement(\"span\", { className: \"fc-list-event-dot\", style: {\n                        borderColor: eventContentArg.borderColor || eventContentArg.backgroundColor,\n                    } })),\n            createElement(InnerContent, { elTag: \"td\", elClasses: ['fc-list-event-title'], elAttrs: { headers: `${eventHeaderId} ${dateHeaderId}` } })))));\n    }\n}\nfunction renderEventInnerContent(seg, context) {\n    let interactiveAttrs = getSegAnchorAttrs(seg, context);\n    return (createElement(\"a\", Object.assign({}, interactiveAttrs), seg.eventRange.def.title));\n}\nfunction buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n    let { options } = context;\n    if (options.displayEventTime !== false) {\n        let eventDef = seg.eventRange.def;\n        let eventInstance = seg.eventRange.instance;\n        let doAllDay = false;\n        let timeText;\n        if (eventDef.allDay) {\n            doAllDay = true;\n        }\n        else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n            if (seg.isStart) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n            }\n            else if (seg.isEnd) {\n                timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n            }\n            else {\n                doAllDay = true;\n            }\n        }\n        else {\n            timeText = buildSegTimeText(seg, timeFormat, context);\n        }\n        if (doAllDay) {\n            let renderProps = {\n                text: context.options.allDayText,\n                view: context.viewApi,\n            };\n            return (createElement(ContentContainer, { elTag: \"td\", elClasses: ['fc-list-event-time'], elAttrs: {\n                    headers: `${timeHeaderId} ${dateHeaderId}`,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }));\n        }\n        return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n    }\n    return null;\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\n/*\nResponsible for the scroller, and forwarding event-related actions into the \"grid\".\n*/\nclass ListView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.computeDateVars = memoize(computeDateVars);\n        this.eventStoreToSegs = memoize(this._eventStoreToSegs);\n        this.state = {\n            timeHeaderId: getUniqueDomId(),\n            eventHeaderId: getUniqueDomId(),\n            dateHeaderIdRoot: getUniqueDomId(),\n        };\n        this.setRootEl = (rootEl) => {\n            if (rootEl) {\n                this.context.registerInteractiveComponent(this, {\n                    el: rootEl,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n    }\n    render() {\n        let { props, context } = this;\n        let { dayDates, dayRanges } = this.computeDateVars(props.dateProfile);\n        let eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n        return (createElement(ViewContainer, { elRef: this.setRootEl, elClasses: [\n                'fc-list',\n                context.theme.getClass('table'),\n                context.options.stickyHeaderDates !== false ?\n                    'fc-list-sticky' :\n                    '',\n            ], viewSpec: context.viewSpec },\n            createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                this.renderSegList(eventSegs, dayDates) :\n                this.renderEmptyMessage())));\n    }\n    renderEmptyMessage() {\n        let { options, viewApi } = this.context;\n        let renderProps = {\n            text: options.noEventsText,\n            view: viewApi,\n        };\n        return (createElement(ContentContainer, { elTag: \"div\", elClasses: ['fc-list-empty'], renderProps: renderProps, generatorName: \"noEventsContent\", customGenerator: options.noEventsContent, defaultGenerator: renderNoEventsInner, classNameGenerator: options.noEventsClassNames, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-list-empty-cushion'] }))));\n    }\n    renderSegList(allSegs, dayDates) {\n        let { theme, options } = this.context;\n        let { timeHeaderId, eventHeaderId, dateHeaderIdRoot } = this.state;\n        let segsByDay = groupSegsByDay(allSegs); // sparse array\n        return (createElement(NowTimer, { unit: \"day\" }, (nowDate, todayRange) => {\n            let innerNodes = [];\n            for (let dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                let daySegs = segsByDay[dayIndex];\n                if (daySegs) { // sparse array, so might be undefined\n                    let dayStr = formatDayString(dayDates[dayIndex]);\n                    let dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                    // append a day header\n                    innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                    daySegs = sortEventSegs(daySegs, options.eventOrder);\n                    for (let seg of daySegs) {\n                        innerNodes.push(createElement(ListViewEventRow, Object.assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                    }\n                }\n            }\n            return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                createElement(\"thead\", null,\n                    createElement(\"tr\", null,\n                        createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                        createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                        createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                createElement(\"tbody\", null, innerNodes)));\n        }));\n    }\n    _eventStoreToSegs(eventStore, eventUiBases, dayRanges) {\n        return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n    }\n    eventRangesToSegs(eventRanges, dayRanges) {\n        let segs = [];\n        for (let eventRange of eventRanges) {\n            segs.push(...this.eventRangeToSegs(eventRange, dayRanges));\n        }\n        return segs;\n    }\n    eventRangeToSegs(eventRange, dayRanges) {\n        let { dateEnv } = this.context;\n        let { nextDayThreshold } = this.context.options;\n        let range = eventRange.range;\n        let allDay = eventRange.def.allDay;\n        let dayIndex;\n        let segRange;\n        let seg;\n        let segs = [];\n        for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n            segRange = intersectRanges(range, dayRanges[dayIndex]);\n            if (segRange) {\n                seg = {\n                    component: this,\n                    eventRange,\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                    dayIndex,\n                };\n                segs.push(seg);\n                // detect when range won't go fully into the next day,\n                // and mutate the latest seg to the be the end.\n                if (!seg.isEnd && !allDay &&\n                    dayIndex + 1 < dayRanges.length &&\n                    range.end <\n                        dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                    seg.end = range.end;\n                    seg.isEnd = true;\n                    break;\n                }\n            }\n        }\n        return segs;\n    }\n}\nfunction renderNoEventsInner(renderProps) {\n    return renderProps.text;\n}\nfunction computeDateVars(dateProfile) {\n    let dayStart = startOfDay(dateProfile.renderRange.start);\n    let viewEnd = dateProfile.renderRange.end;\n    let dayDates = [];\n    let dayRanges = [];\n    while (dayStart < viewEnd) {\n        dayDates.push(dayStart);\n        dayRanges.push({\n            start: dayStart,\n            end: addDays(dayStart, 1),\n        });\n        dayStart = addDays(dayStart, 1);\n    }\n    return { dayDates, dayRanges };\n}\n// Returns a sparse array of arrays, segs grouped by their dayIndex\nfunction groupSegsByDay(segs) {\n    let segsByDay = []; // sparse array\n    let i;\n    let seg;\n    for (i = 0; i < segs.length; i += 1) {\n        seg = segs[i];\n        (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n            .push(seg);\n    }\n    return segsByDay;\n}\n\nvar css_248z = \":root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid var(--fc-border-color)}.fc .fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{border-style:hidden;width:100%}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{background:var(--fc-page-bg-color);position:sticky;top:0}.fc .fc-list-table thead{left:-10000px;position:absolute}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{clear:both;content:\\\"\\\";display:table}.fc-theme-standard .fc-list-day-cushion{background-color:var(--fc-neutral-bg-color)}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}\";\ninjectStyles(css_248z);\n\nexport { ListView };\n","import { createPlugin } from '@fullcalendar/core/index.js';\nimport { DayTimeColsView } from './internal.js';\nimport '@fullcalendar/core/internal.js';\nimport '@fullcalendar/core/preact.js';\nimport '@fullcalendar/daygrid/internal.js';\n\nconst OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar index = createPlugin({\n    name: '@fullcalendar/timegrid',\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport { index as default };\n","import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, injectStyles } from '@fullcalendar/core/internal.js';\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact.js';\nimport { DayTable } from '@fullcalendar/daygrid/internal.js';\n\nclass AllDaySplitter extends Splitter {\n    getKeyInfo() {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    }\n    getKeysForDateSpan(dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    }\n    getKeysForEventDef(eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    }\n}\n\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    let classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, (context) => {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        let { dateEnv, options, viewApi } = context;\n        let labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        let renderProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\n                'data-time': props.isoTimeStr,\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\n                    'fc-timegrid-slot-label-cushion',\n                    'fc-scrollgrid-shrink-cushion',\n                ] })))));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nclass TimeBodyAxis extends BaseComponent {\n    render() {\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\n    }\n}\n\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nclass TimeColsView extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        this.headerElRef = createRef();\n        this.rootElRef = createRef();\n        this.scrollerElRef = createRef();\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleScrollTopRequest = (scrollTop) => {\n            let scrollerEl = this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\n            let { options } = this.context;\n            let { dateProfile } = this.props;\n            let range = dateProfile.renderRange;\n            let dayCnt = diffDays(range.start, range.end);\n            // only do in day views (to avoid doing in week views that dont need it)\n            let navLinkAttrs = (dayCnt === 1)\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ], elAttrs: {\n                        'aria-hidden': true,\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\n                        'fc-timegrid-axis-frame',\n                        'fc-scrollgrid-shrink-frame',\n                        'fc-timegrid-axis-frame-liquid',\n                    ].join(' '), style: { height: frameHeight } },\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\n                            'fc-timegrid-axis-cushion',\n                            'fc-scrollgrid-shrink-cushion',\n                            'fc-scrollgrid-sync-inner',\n                        ], elAttrs: navLinkAttrs })))));\n            }\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        this.renderTableRowAxis = (rowHeight) => {\n            let { options, viewApi } = this.context;\n            let renderProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ], elAttrs: {\n                    'aria-hidden': true,\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\n                    'fc-timegrid-axis-frame',\n                    'fc-scrollgrid-shrink-frame',\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\n                ].join(' '), style: { height: rowHeight } },\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\n                        'fc-timegrid-axis-cushion',\n                        'fc-scrollgrid-shrink-cushion',\n                        'fc-scrollgrid-sync-inner',\n                    ] })))));\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n        };\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\n        let { context, props } = this;\n        let sections = [];\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\n    }\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        let { context, props } = this;\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        let sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        let isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: (arg) => (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\n                                let nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\n                                }\n                                return null;\n                            })))),\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, forPrint: props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections })));\n    }\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    getAllDayMaxEventProps() {\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents, dayMaxEventRows };\n    }\n}\nfunction renderAllDayInner(renderProps) {\n    return renderProps.text;\n}\n\nclass TimeColsSlatsCoords {\n    constructor(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    safeComputeTop(date) {\n        let { dateProfile } = this;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            let startOfDayDate = startOfDay(date);\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    computeDateTop(when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    }\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    computeTimeTop(duration) {\n        let { positions, dateProfile } = this;\n        let len = positions.els.length;\n        // floating-point value of # of slots covered\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        let slatIndex;\n        let slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    }\n}\n\nclass TimeColsSlatsBody extends BaseComponent {\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let { slatElRefs } = props;\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\n            let renderProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\n                        'fc-timegrid-slot',\n                        'fc-timegrid-slot-lane',\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\n                    ], elAttrs: {\n                        'data-time': slatMeta.isoTimeStr,\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\n        })));\n    }\n}\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nclass TimeColsSlats extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.rootElRef = createRef();\n        this.slatElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    }\n    componentDidMount() {\n        this.updateSizing();\n    }\n    componentDidUpdate() {\n        this.updateSizing();\n    }\n    componentWillUnmount() {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    }\n    updateSizing() {\n        let { context, props } = this;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            let rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    }\n}\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    let segsByCol = [];\n    let i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    let byRow = [];\n    if (!ui) {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (let i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (let seg of ui.segs) {\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nclass TimeColMoreLink extends BaseComponent {\n    render() {\n        let { props } = this;\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\n                top: props.top,\n                bottom: props.bottom,\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner, forceTimed: true }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\n    }\n}\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    let hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    let hiddenEntries = hierarchy.addSegs(segInputs);\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    let web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    let segRects = webToRects(web);\n    return { segRects, hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    const { entriesByLevel } = hierarchy;\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\n        let entry = entriesByLevel[level][lateral];\n        return [\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    let { level, lateralStart, lateralEnd } = siblingRange;\n    let lateral = lateralStart;\n    let pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    let { levelCoords, entriesByLevel } = hierarchy;\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    let levelCnt = levelCoords.length;\n    let level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        let entries = entriesByLevel[level];\n        let entry;\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        let lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level, lateralStart, lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\n        let { nextLevelNodes, thickness } = node;\n        let allThickness = thickness + prevThickness;\n        let thicknessFraction = thickness / allThickness;\n        let endCoord;\n        let newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (let childNode of nextLevelNodes) {\n                if (endCoord === undefined) {\n                    let res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    let res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    let rects = [];\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\n            stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        let stackForward = 0;\n        for (let node of nodes) {\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    const cache = {};\n    return (...args) => {\n        let key = keyFunc(...args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc(...args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\n    let vcoords = [];\n    if (slatCoords) {\n        for (let i = 0; i < segs.length; i += 1) {\n            let seg = segs[i];\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    let segInputs = [];\n    let dumbSegs = []; // segs without coords\n    for (let i = 0; i < segs.length; i += 1) {\n        let vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\n    let segPlacements = [];\n    for (let segRect of segRects) {\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (let dumbSeg of dumbSegs) {\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements, hiddenGroups };\n}\n\nconst DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nclass TimeColEvent extends BaseComponent {\n    render() {\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\n                'fc-timegrid-event',\n                'fc-v-event',\n                this.props.isShort && 'fc-timegrid-event-short',\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\n    }\n}\n\nclass TimeCol extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.sortEventSegs = memoize(sortEventSegs);\n    }\n    // TODO: memoize event-placement?\n    render() {\n        let { props, context } = this;\n        let { options } = context;\n        let isSelectMirror = options.selectMirror;\n        let mirrorSegs = // yuck\n         (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        let interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\n                'fc-timegrid-col',\n                ...(props.extraClassNames || []),\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror), 'mirror')),\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\n    }\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { props } = this;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey);\n    }\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting, forcedKey) {\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\n        let isMirror = isDragging || isResizing || isDateSelecting;\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map((segPlacement) => {\n                let { seg, rect } = segPlacement;\n                let instanceId = seg.eventRange.instance.instanceId;\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                let vStyle = computeSegVStyle(rect && rect.span);\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                let isInset = Boolean(rect) && rect.stackForward > 0;\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: forcedKey || instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    }\n    // will already have eventMinHeight applied because segInputs already had it\n    renderHiddenGroups(hiddenGroups, segs) {\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\n            let positionCss = computeSegVStyle(hiddenGroup.span);\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    }\n    renderFillSegs(segs, fillType) {\n        let { props, context } = this;\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        let children = segVCoords.map((vcoords, i) => {\n            let seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    }\n    renderNowIndicator(segs) {\n        let { slatCoords, date } = this.props;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\n        // key doesn't matter. will only ever be one\n        , { \n            // key doesn't matter. will only ever be one\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\n                top: slatCoords.computeDateTop(seg.start, date),\n            }, isAxis: false, date: date })));\n    }\n    computeSegHStyle(segHCoords) {\n        let { isRtl, options } = this.context;\n        let shouldOverlap = options.slotEventOverlap;\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        let left; // amount of space from left edge, a fraction of the total width\n        let right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        let props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    }\n}\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\n        let instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\n}\n\nclass TimeColsContent extends BaseComponent {\n    constructor() {\n        super(...arguments);\n        this.splitFgEventSegs = memoize(splitSegsByCol);\n        this.splitBgEventSegs = memoize(splitSegsByCol);\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        this.splitEventDrag = memoize(splitInteractionByCol);\n        this.splitEventResize = memoize(splitInteractionByCol);\n        this.rootElRef = createRef();\n        this.cellElRefs = new RefMap();\n    }\n    render() {\n        let { props, context } = this;\n        let nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        let colCnt = props.cells.length;\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { role: \"presentation\", style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", { role: \"presentation\" },\n                    createElement(\"tr\", { role: \"row\" },\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\n    }\n    componentDidMount() {\n        this.updateCoords();\n    }\n    componentDidUpdate() {\n        this.updateCoords();\n    }\n    updateCoords() {\n        let { props } = this;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    }\n}\nfunction collectCellEls(elMap, cells) {\n    return cells.map((cell) => elMap[cell.key]);\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nclass TimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.processSlotOptions = memoize(processSlotOptions);\n        this.state = {\n            slatCoords: null,\n        };\n        this.handleRootEl = (el) => {\n            if (el) {\n                this.context.registerInteractiveComponent(this, {\n                    el,\n                    isHitComboAllowed: this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                this.context.unregisterInteractiveComponent(this);\n            }\n        };\n        this.handleScrollRequest = (request) => {\n            let { onScrollTopRequest } = this.props;\n            let { slatCoords } = this.state;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    let top = slatCoords.computeTimeTop(request.time);\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top) {\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top);\n                }\n                return true;\n            }\n            return false;\n        };\n        this.handleColCoords = (colCoords) => {\n            this.colCoords = colCoords;\n        };\n        this.handleSlatCoords = (slatCoords) => {\n            this.setState({ slatCoords });\n            if (this.props.onSlatCoords) {\n                this.props.onSlatCoords(slatCoords);\n            }\n        };\n    }\n    render() {\n        let { props, state } = this;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    }\n    componentDidMount() {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    }\n    componentDidUpdate(prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    }\n    componentWillUnmount() {\n        this.scrollResponder.detach();\n    }\n    queryHit(positionLeft, positionTop) {\n        let { dateEnv, options } = this.context;\n        let { colCoords } = this;\n        let { dateProfile } = this.props;\n        let { slatCoords } = this.state;\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\n        let colIndex = colCoords.leftToIndex(positionLeft);\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            let cell = this.props.cells[colIndex];\n            let slatTop = slatCoords.positions.tops[slatIndex];\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            let dayDate = this.props.cells[colIndex].date;\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            let start = dateEnv.add(dayDate, time);\n            let end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile,\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    }\n}\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    let snapDuration = snapDurationOverride || slotDuration;\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration, snapsPerSlot };\n}\n\nclass DayTimeColsSlicer extends Slicer {\n    sliceRange(range, dayRanges) {\n        let segs = [];\n        for (let col = 0; col < dayRanges.length; col += 1) {\n            let segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col,\n                });\n            }\n        }\n        return segs;\n    }\n}\n\nclass DayTimeCols extends DateComponent {\n    constructor() {\n        super(...arguments);\n        this.buildDayRanges = memoize(buildDayRanges);\n        this.slicer = new DayTimeColsSlicer();\n        this.timeColsRef = createRef();\n    }\n    render() {\n        let { props, context } = this;\n        let { dateProfile, dayTableModel } = props;\n        let { nowIndicator, nextDayThreshold } = context.options;\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\n    }\n}\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    let ranges = [];\n    for (let date of dayTableModel.headerDates) {\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nconst STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    let dayStart = new Date(0);\n    let slatTime = slotMinTime;\n    let slatIterator = createDuration(0);\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    let metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        let date = dateEnv.add(dayStart, slatTime);\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    let i;\n    let labelInterval;\n    let slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nclass DayTimeColsView extends TimeColsView {\n    constructor() {\n        super(...arguments);\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\n        this.buildSlatMetas = memoize(buildSlatMetas);\n    }\n    render() {\n        let { options, dateEnv, dateProfileGenerator } = this.context;\n        let { props } = this;\n        let { dateProfile } = props;\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        let splitProps = this.allDaySplitter.splitProps(props);\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        let { dayMinWidth } = options;\n        let hasAttachedAxis = !dayMinWidth;\n        let hasDetachedAxis = dayMinWidth;\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    }\n}\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\ninjectStyles(css_248z);\n\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n"],"names":["RouterModule","TitleStrategy","AuthGuard","ProgramComponent","BankVictoriaComponent","ScheduleComponent","DetailArticleComponent","ProgramDetailComponent","CertificationComponent","TemplatePageTitleStrategy","constructor","title","updateTitle","routerState","buildTitle","undefined","setTitle","i0","inject","i1","Title","factory","fac","providedIn","routes","path","component","canActivate","data","navTitle","children","role","BankVictoriaPagesRoutingModule","provide","useClass","imports","forChild","i2","exports","CommonModule","MatBottomSheetModule","FullCalendarModule","NavigationComponent","DetailScheduleComponent","NotificationComponent","BankVictoriaPagesModule","declarations","SERTIFIKAT_LIST","elementStart","element","text","elementEnd","listener","CertificationComponent_div_26_Template_button_click_9_listener","restoredCtx","restoreView","_r3","course_r1","$implicit","ctx_r2","nextContext","resetView","openSertif","image","advance","property","sanitizeUrl","pureFunction2","_c0","type","textInterpolate","textInterpolate1","subtitle","coursesList","structuredClone","url","window","open","selectors","decls","vars","consts","template","CertificationComponent_Template","rf","ctx","template","CertificationComponent_div_26_Template","course_r4","NavigationComponent_ul_10_ul_16_li_1_Template","courses","NavigationComponent_ul_10_Template_button_click_6_listener","_r6","ctx_r5","toggleMenu","NavigationComponent_ul_10_ul_10_Template","NavigationComponent_ul_10_Template_button_click_12_listener","ctx_r7","NavigationComponent_ul_10_ul_16_Template","classProp","ctx_r0","isOpen","openMenus","dashboard","sitePages","myCourses","menu","NavigationComponent_Template","NavigationComponent_Template_button_click_6_listener","NavigationComponent_ul_10_Template","ProgramDetailComponent_Template","COURSES_LIST","progress","ProgramComponent_div_26_Template_button_click_10_listener","toDetail","router","imgUrl","navigate","directiveInject","Router","ProgramComponent_Template","ProgramComponent_div_26_Template","dialogRef","onClose","close","MatDialogRef","DetailScheduleComponent_Template","Breakpoints","dayGridPlugin","interactionPlugin","timeGridPlugin","listPlugin","Subject","takeUntil","idLocale","breakpointObserver","dialog","bottomSheet","isMobile","desktopToolbar","left","center","right","mobileToolbar","calendarOptions","locale","plugins","views","timeGridWeek","buttonText","timeGridDay","listWeek","initialView","events","start","end","backgroundColor","borderColor","color","date","displayEventTime","displayEventEnd","eventTimeFormat","hour","minute","meridiem","hour12","eventClick","handleEventClick","bind","destroy$","ngOnInit","observe","XSmall","pipe","subscribe","result","matches","headerToolbar","contentHeight","ngOnDestroy","next","complete","info","openDetailDialog","getEventTimeFormat","event","startDate","endDate","startDay","toDateString","endDay","width","afterClosed","BreakpointObserver","MatDialog","i3","MatBottomSheet","ScheduleComponent_Template","Component","n","createElement","t","options","e","toChildArray","r","Fragment","u","render","o","hydrate","i","createContext","l","createRef","c","cloneElement","f","useState","a","useId","s","useReducer","h","useEffect","v","useLayoutEffect","d","useRef","p","useImperativeHandle","m","useMemo","y","useCallback","_","useContext","b","useDebugValue","S","g","C","E","w","props","R","ref","call","current","shouldComponentUpdate","displayName","name","prototype","isReactComponent","__f","isPureReactComponent","state","x","__b","N","Symbol","for","k","$$typeof","A","map","O","forEach","count","length","only","toArray","T","__e","then","__","__c","__k","I","unmount","L","__H","__P","U","__v","insertBefore","__d","D","__u","F","__a","M","default","V","__R","__h","push","__O","setState","pop","forceUpdate","componentWillUnmount","document","fallback","W","delete","revealOrder","size","P","getChildContext","context","$","nodeType","parentNode","childNodes","appendChild","removeChild","splice","indexOf","j","containerInfo","get","Map","reverse","set","componentDidUpdate","componentDidMount","z","B","H","Z","test","Y","textContent","q","Object","defineProperty","configurable","writable","value","G","J","K","cancelBubble","Q","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","X","nn","class","tn","vnode","toLowerCase","replace","multiple","Array","isArray","selected","defaultValue","className","enumerable","en","__r","rn","ReactCurrentDispatcher","readContext","__n","un","on","ln","cn","apply","arguments","fn","an","base","sn","hn","vn","dn","pn","mn","yn","_n","bn","useInsertionEffect","useTransition","useDeferredValue","useSyncExternalStore","startTransition","version","Children","unmountComponentAtNode","createPortal","createFactory","isValidElement","findDOMNode","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","defaultProps","key","setProperty","style","cssText","slice","addEventListener","removeEventListener","removeAttribute","setAttribute","setTimeout","debounceRendering","sort","shift","ownerSVGElement","nextSibling","some","contextType","__E","sub","_sb","__s","getDerivedStateFromProps","componentWillMount","componentWillReceiveProps","componentWillUpdate","getSnapshotBeforeUpdate","diffed","localName","createTextNode","createElementNS","is","dangerouslySetInnerHTML","attributes","__html","innerHTML","checked","firstChild","Consumer","Provider","getDerivedStateFromError","componentDidCatch","Promise","resolve","__V","__N","filter","every","concat","__m","requestAnimationFrame","clearTimeout","cancelAnimationFrame","useErrorBoundary","ViewEncapsulation","Input","ViewChild","ContentChild","NgModule","Calendar","CustomRenderingStore","_c1","_c2","a0","TransportContainerComponent_ng_template_0_Template","elementContainer","elClasses","elStyle","pureFunction1","renderProps","TransportContainerComponent_ng_template_1_Template","ctx_r1","TransportContainerComponent_ng_template_2_Template","TransportContainerComponent_ng_template_3_Template","ctx_r3","TransportContainerComponent_ng_template_4_Template","ctx_r4","TransportContainerComponent_ng_template_5_Template","_c3","_c4","_c5","_c6","_c7","_c8","_c9","_c10","_c11","_c12","_c13","_c14","_c15","_c16","_c17","FullCalendarComponent_transport_container_1_Template","customRendering_r1","containerEl","reportNewContainerEl","elTag","elAttrs","generatorMeta","OPTION_IS_DEEP","footerToolbar","eventSources","resources","OPTION_INPUT_NAMES","hasOwnProperty","deepCopy","input","Date","valueOf","mapHash","func","output","deepEqual","keys","RegExp","source","flags","toString","dummyContainer$1","createDocumentFragment","OffscreenFragmentComponent","element","ngAfterViewInit","nativeElement","OffscreenFragmentComponent_Factory","ElementRef","cmp","defineComponent","ngContentSelectors","OffscreenFragmentComponent_Template","projectionDef","projection","encapsulation","ngDevMode","setClassMetadata","args","selector","None","dummyContainer","TransportContainerComponent","rootEl","rootElRef","replaceEl","inPlaceOf","applyElAttrs","display","reportEl","ngOnChanges","changes","elAttrsChange","previousValue","currentValue","TransportContainerComponent_Factory","viewQuery","TransportContainerComponent_Query","viewQuery","_t","queryRefresh","loadQuery","first","inputs","features","NgOnChangesFeature","TransportContainerComponent_Template","dependencies","NgIf","NgClass","NgStyle","NgTemplateOutlet","subject","el","previousAttrs","currentAttrs","attrName","FullCalendarComponent","changeDetector","calendar","optionSnapshot","customRenderingMap","customRenderingStore","customRenderingArray","detectChanges","handleCustomRendering","handle","deepChangeDetection","buildInputOptions","optionVal","optionName","calendarEl","buildExtraOptions","ionContent","closest","componentOnReady","updateSize","ngDoCheck","newOptions","newProcessedOptions","changedOptionNames","oldOptionNames","pauseRendering","resetOptions","ngAfterContentChecked","resumeRendering","destroy","customRenderings","values","getApi","inputName","inputValue","customRenderingMetaMap","customRenderingReplaces","trackCustomRendering","index","customRendering","id","FullCalendarComponent_Factory","ChangeDetectorRef","contentQueries","FullCalendarComponent_ContentQueries","dirIndex","contentQuery","dayHeaderContent","dayCellContent","weekNumberContent","nowIndicatorContent","eventContent","slotLaneContent","slotLabelContent","allDayContent","moreLinkContent","noEventsContent","resourceAreaHeaderContent","resourceGroupLabelContent","resourceLabelContent","resourceLaneContent","resourceGroupLaneContent","FullCalendarComponent_Template","NgForOf","static","FullCalendarModule_Factory","mod","defineNgModule","inj","defineInjector","mergeProps","guid","isArraysEqual","Theme","BaseComponent","ViewContextType","ContentContainer","buildViewClassNames","greatestDurationDenominator","createDuration","BASE_OPTION_DEFAULTS","arrayToHash","filterHash","buildEventSourceRefiners","parseEventSource","formatWithOrdinals","unpromisify","buildRangeApiWithTimeZone","identity","requestJson","subtractDurations","intersectRanges","startOfDay","addDays","hashValuesToArray","buildEventApis","DelayedRunner","createFormatter","diffWholeDays","memoize","memoizeObjArg","isPropsEqual","Emitter","rangeContainsMarker","createEmptyEventStore","reduceEventStore","rezoneEventStoreDates","mergeRawOptions","BASE_OPTION_REFINERS","CALENDAR_LISTENER_REFINERS","CALENDAR_OPTION_REFINERS","COMPLEX_OPTION_COMPARATORS","VIEW_OPTION_REFINERS","DateEnv","DateProfileGenerator","createEventUi","parseBusinessHours","setRef","Interaction","getElSeg","elementClosest","EventImpl","listenBySelector","listenToHoverBySelector","a1","a2","buildViewContext","a3","getUniqueDomId","a4","parseInteractionSettings","a5","interactionSettingsStore","a6","NowTimer","a7","CalendarImpl","a8","a9","CalendarRoot","aa","RenderId","ab","ensureElHasStyles","ac","applyStyleProp","ad","sliceEventStore","ae","JsonRequestError","globalLocales","MINIMAL_RAW_EN_LOCALE","code","week","dow","doy","direction","prev","prevYear","nextYear","year","today","month","day","list","weekText","weekTextLong","closeHint","timeHint","eventHint","allDayText","moreLinkText","noEventsText","RAW_EN_LOCALE","assign","buttonHints","unit","viewHint","navLinkHint","moreLinkHint","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","codes","raw","queryRawLocale","parts","toLocaleLowerCase","split","simpleId","join","merged","simpleNumberFormat","Intl","NumberFormat","createPlugin","premiumReleaseDate","deps","reducers","isLoadingFuncs","contextInit","eventRefiners","eventDefMemberAdders","eventSourceRefiners","isDraggableTransformers","eventDragMutationMassagers","eventDefMutationAppliers","dateSelectionTransformers","datePointTransforms","dateSpanTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","eventSourceDefs","cmdFormatter","recurringTypes","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","currentPluginIds","hooks","addDefs","defs","def","pluginName","currentId","combineHooks","console","warn","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","compareOptionalDates","date0","date1","Math","max","StandardTheme","classes","root","tableCellShaded","buttonGroup","button","buttonActive","baseIconClass","iconClasses","rtlIconClasses","iconOverrideOption","iconOverrideCustomButtonOption","iconOverridePrefix","compileViewDefs","defaultConfigs","overrideConfigs","hash","viewType","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","Error","defaults","rawOptions","overrides","parseViewConfigs","parseViewConfig","content","createViewHookComponent","viewProps","viewSpec","nextDayThreshold","generatorName","customGenerator","classNameGenerator","classNames","didMount","willUnmount","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","duration","durationUnit","singleUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","buttonTextKey","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","durationInputMap","json","JSON","stringify","res","reduceViewType","action","reduceCurrentDate","currentDate","dateMarker","getInitialDate","dateEnv","nowManager","initialDateInput","initialDate","createMarker","getDateMarker","reduceDynamicOptionOverrides","rawOptionValue","reduceDateProfile","currentDateProfile","dateProfileGenerator","dp","build","buildPrev","isValid","buildNext","initEventSources","dateProfile","activeRange","addSources","parseInitialSources","reduceEventSources","sources","removeSource","sourceId","fetchDirtySources","fetchSourcesByIds","sourceIds","excludeStaticSources","isRefetch","receiveResponse","fetchId","fetchRange","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","isFetching","eventSourceHash","eventSource","sourceHash","isSourceDirty","doesSourceNeedRange","latestFetchId","lazyFetching","prevSources","sourceIdHash","nextSources","fetchSource","calendarApi","sourceDef","pluginHooks","sourceDefId","fetch","range","rawEvents","eventSourceSuccess","response","success","dispatch","error","errorHandled","eventSourceFailure","failure","message","refiners","rawSources","initialEvents","unshift","rawSource","ignoreRange","reduceDateSelection","currentSelection","selection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","affectedEvents","mutatedEvents","isEvent","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","theme","viewSpecs","header","parseToolbar","footer","sectionStrHash","sectionWidgets","viewsWithButtons","hasTitle","sectionName","sectionStr","sectionRes","parseSection","widgets","isRtl","calendarCustomButtons","customButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonName","customButtonProps","buttonClick","buttonIcon","ev","click","target","getCustomButtonIconClass","getIconClass","text","hint","changeView","textFallback","prevOrNext","navUnit","ViewImpl","getCurrentData","viewTitle","activeStart","toDate","activeEnd","currentStart","currentRange","currentEnd","getOption","eventSourceDef$2","parseMeta","refined","arg","successCallback","meta","arrayEventSourcePlugin","eventSourceDef$1","errorCallback","funcEventSourcePlugin","JSON_FEED_EVENT_SOURCE_REFINERS","method","String","extraParams","startParam","endParam","timeZoneParam","eventSourceDef","format","toUpperCase","requestParams","buildRequestParams","jsonFeedEventSourcePlugin","customRequestParams","params","formatIso","timeZone","SIMPLE_RECURRING_REFINERS","daysOfWeek","startTime","endTime","startRecur","endRecur","recurring","parse","recurringData","allDayGuess","Boolean","typeData","expand","framingRange","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","eventDateEnv","calendarDateEnv","dowHash","dayMarker","endMarker","instanceStarts","milliseconds","instanceStart","getUTCDay","add","changeHandlerPlugin","handleEventSources","unfoundSources","_raw","newInputs","inputFound","unfoundSource","newInput","addEventSource","handleDateProfile","emitter","trigger","view","viewApi","handleEventStore","eventStore","hasHandlers","globalPlugins","TaskRunner","runTaskOption","drainedOption","queue","delayedRunner","drain","request","task","delay","pause","scope","resume","force","completedTasks","runTask","drained","viewOptions","currentRangeUnit","formatRange","titleFormat","buildTitleFormat","isEndExclusive","isRangeAllDay","defaultSeparator","titleRangeSeparator","days","CalendarNowManager","resetListeners","Set","handleInput","nowInput","oldDateEnv","nowFn","nowAnchorDate","createNowMarker","nowAnchorQueried","now","resetListener","timestampToMarker","addResetListener","handler","removeResetListener","CalendarDataManager","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildDateEnv$1","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsInput","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","currentCalendarOptionsRefiners","optionsForRefining","optionsForHandling","optionsData","computeOptionsData","currentViewType","currentViewData","currentDataManager","setThisContext","setOptions","calendarContext","callback","initialState","businessHours","eventUiBases","renderableEventStore","dateSelection","eventSelection","eventDrag","eventResize","selectionConfig","contextAndState","reducer","computeIsLoading","isEventsLoading","progressiveEventRendering","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","stableOptionOverrides","stableDynamicOptionOverrides","stableCalendarOptionsData","refinedOptions","availableLocaleData","extra","processRawCalendarOptions","warnUnknownOptions","weekNumberCalculation","firstDay","defaultRangeSeparator","toolbarConfig","availableRawLocales","locales","currentRaw","currentRefined","anyChanges","processRawViewOptions","dateProfileGeneratorClass","usesMinMaxTime","slotMinTime","slotMaxTime","showNonCurrentDates","dayCount","dateAlignment","dateIncrement","hiddenDays","weekends","validRangeInput","validRange","visibleRangeInput","visibleRange","fixedWeekCount","explicitLocale","calendarSystem","namedTimeZoneImpl","ThemeClass","themeSystem","DateProfileGeneratorClass","ui","eventDefs","defId","eventDisplay","editable","startEditable","eventStartEditable","durationEditable","eventDurationEditable","constraint","eventConstraint","overlap","eventOverlap","allow","eventAllow","eventBackgroundColor","eventBorderColor","textColor","eventTextColor","eventColor","selectConstraint","selectOverlap","selectAllow","isLoadingFunc","viewName","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widget","titleId","isPressed","activeButton","isDisabled","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","getClass","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewHarness","availableWidth","handleEl","elRef","updateAvailableWidth","handleResize","aspectRatio","liquid","height","paddingBottom","labeledById","addResizeHandler","removeResizeHandler","offsetWidth","EventClicking","settings","handleSegClick","segEl","seg","isValidSegDownEl","hasUrlContainer","querySelector","href","eventRange","instance","jsEvent","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","registerInteractiveComponent","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","uid","unregisterInteractiveComponent","listeners","listener","resizeRunner","handleWindowResize","windowResizeDelay","viewVGrow","viewHeight","viewAspectRatio","isHeightAuto","forPrint","viewContext","nowDate","toolbarProps","renderView","buildAppendContent","CalendarInteractionClass","propName","prevProps","clear","interaction","transformers","transformer","transform","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","isRendering","isRendered","currentClassNames","customContentRenderId","handleAction","renderRunner","tryDrain","handleData","currentData","rerenderDelay","handleRenderRequest","setClassNames","setHeight","wasRendering","batchRendering","classList","remove","formatDate","dateInput","formatter","dateMeta","createMarkerMeta","marker","forcedTzo","startInput","endInput","startMeta","endMeta","forcedStartTzo","forcedEndTzo","sliceEvents","allDay","fg","preact","styleTexts","styleEls","injectStyles","styleText","styleEl","appendStylesTo","isConnected","getRootNode","registerStylesRoot","rootNode","nonce","getNonceValue","parentEl","head","hydrateStylesRoot","sheet","ruleCnt","cssRules","styleStr","trim","insertRule","queriedNonceValue","queryNonceValue","metaWithNonce","hasAttribute","getAttribute","elWithNonce","css_248z","isRunning","isDirty","pauseDepths","timeoutId","isPaused","depth","removeElement","documentElement","contains","elementMatches","parentElement","matchesSelector","msMatchesSelector","findElements","container","containers","HTMLElement","allMatches","querySelectorAll","findDirectChildren","parent","parents","childNode","PIXEL_PROP_RE","applyStyle","val","getEventTargetViaRoot","_a","_b","composedPath","guid$1","preventDefault","buildDelegationHandler","matchedChild","eventType","attachedHandler","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave","mouseLeaveEv","transitionEventNames","whenTransitionDone","realCallback","eventName","createAriaClickAttrs","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","disableCursor","body","enableCursor","preventSelection","userSelect","webkitUserSelect","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","specs","tokens","token","charAt","field","substring","order","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","len","substr","fallbackText","reduce","str","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","getBoundingClientRect","INTERNAL_UNITS","PARSE_RE","parseString","parseObject","exec","sign","years","months","parseInt","obj","hours","minutes","seconds","second","millisecond","ms","weeks","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","removeExact","array","exactVal","removeCnt","equalityFunc","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addMs","diffWeeks","m0","m1","diffDays","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","m1day","round","diffWholeWeeks","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","weekOfGivenYear","nextW","min","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","dateToLocalArray","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","getUTCMilliseconds","UTC","isValidDate","isNaN","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoMonthStr","match","formatIsoTimeString","doIso","abs","mins","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","smallestUnitNum","severity","buildFormattingFunc","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","before","after","getSmallestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","buildNativeFormattingFunc","sanitizeSettings","normalFormat","DateTimeFormat","zeroFormat","zeroProps","postProcess","injectTzoStr","tzoStr","replaced","num","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","found0","before0","after0","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","FuncFormatter","navLinkDayClick","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","defaultAllDayEventDuration","defaultTimedEventDuration","scrollTime","scrollTimeReset","dayPopoverFormat","slotDuration","snapDuration","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellDidMount","dayCellWillUnmount","Number","weekNumbers","weekNumberClassNames","weekNumberDidMount","weekNumberWillUnmount","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorSnap","nowIndicatorClassNames","nowIndicatorDidMount","nowIndicatorWillUnmount","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","longPressDelay","eventDragMinDistance","expandRows","weekNumberFormat","eventResizableFromStart","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","defaultAllDay","eventClassNames","eventDidMount","eventWillUnmount","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayClassNames","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","eventInteractive","moreLinkClick","moreLinkClassNames","moreLinkDidMount","moreLinkWillUnmount","monthStartFormat","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","isMaybeObjectsEqual","isMaybeArraysEqual","optionSets","refineProps","propObjs","complexPropsMap","dest","complexObjs","filtered","newHash","item","HANDLER_RE","isNonHandlerPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","isTimeUnspecified","isNamedTimeZone","canComputeOffset","weekDow","weekDoy","weekNumberFunc","getYear","getDay","subtract","addYears","addMonths","diffWholeYears","diffWholeMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","extraOptions","omitTimeZoneOffset","omitTime","timestampToArray","getTimezoneOffset","offsetForArray","setIconOverride","iconOverrideHash","iconClassesCopy","applyIconOverridePrefix","prefix","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","ContextType","origProvider","isNew","subs","_props","old","ScrollResponder","execFunc","handleScrollRequest","queuedRequest","fireInitialScroll","detach","off","update","isDatesNew","time","createScrollResponder","nextProps","nextState","shouldUpdate","propEquality","stateEquality","safeSetState","addPropsEquality","addStateEquality","create","ContentInjector","queuedDomNodes","currentDomNodes","hasCustomRenderingHandler","updateElRef","defaultGenerator","attrs","buildElAttrs","useDefault","innerContent","currentGeneratorMeta","customGeneratorRes","isObject","html","domNodes","applyQueueudDomNodes","triggerCustomRendering","isActive","isTruthy","newNode","extraClassNames","InnerContent","InnerContentInjector","didMountMisfire","generatedClassNames","generateClassNames","renderId","containerComponent","parentProps","ViewContainer","parseRange","invertRanges","ranges","constraintRange","invertedRanges","dateRange","compareRanges","range0","range1","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","constrainMarkerToRange","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","endTimeMS","isMultiDayRange","diffDates","largeUnit","initHiddenDays","forceToValid","prevDate","nextDate","currentInfo","renderRange","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","createEventInstance","instanceId","parseRecurring","parsed","typeId","expandRecurring","instances","recurringDef","starts","expandRecurringRanges","eventDef","typeDef","markers","EVENT_NON_DATE_REFINERS","groupId","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","parseEvent","allowOpenRange","buildEventRefiners","defIdMap","instanceIdMap","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","publicId","EVENT_UI_REFINERS","memberAdder","freeze","startMarker","parseEvents","rawEvent","tuple","eventTupleToStore","getRelevantEvents","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EMPTY_EVENT_UI","constraints","allows","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_SOURCE_REFINERS","rawObj","metaRes","buildEventSourceMeta","receiveRawEvents","resetRawEvents","addEvent","excludeEventsBySourceId","subset","transformRawEvents","existingEventStore","buildPublicIdMaps","newEventStore","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","newDateEnv","excludeInstances","removals","handlers","thisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","DEF_DEFAULTS","refineInputs","rawDefs","rawDef","triggerDateSelect","pev","buildDateSpanApiWithContext","origEvent","triggerDateUnselect","dateSpan","buildDateSpanApi","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","compileEventUis","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","standardProps","startDelta","endDelta","copy","applier","eventInstance","forceAllDay","clearEnd","datesDelta","EventSourceImpl","internalEventSource","refetch","_context","_def","_instance","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","setDates","moveStart","deltaInput","delta","moveEnd","moveDates","setAllDay","formatInput","relevantEvents","oldEvent","relatedEvents","revert","asStore","eventApiToStore","startStr","endStr","toPlainObject","collapseColor","collapseExtendedProps","toJSON","eventApi","excludeInstance","eventApis","excludeInstanceId","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRange","bg","hasBgRendering","setElSeg","fcSeg","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","computeSegDraggable","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApi","fabricateEventRange","normalizedSuccessCallback","normalizedFailureCallback","isResolved","wrappedSuccess","wrappedFailure","fetchOptions","URLSearchParams","headers","fetchRes","ok","parsedResponse","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","top","div","possible","offsetHeight","handleBeforePrint","handleAfterPrint","isHitComboAllowed","useEventCenter","interactionSettingsToStore","handleRefresh","timing","computeTiming","waitMs","handleVisibilityChange","hidden","unroundedNow","unitValue","nextUnitStart","buildDayRange","setOption","getAvailableLocaleCodes","handlerName","dateOrRange","zoomTo","spec","getUnitViewSpec","viewTypes","gotoDate","zonedDateInput","incrementDate","dateOrObj","selectionInput","eventInput","sourceInput","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","getEventById","getEvents","removeAllEvents","getEventSources","sourceApis","internalId","removeAllEventSources","refetchEvents","scrollToTime","timeInput","pointInsideRect","point","rect","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventResizes","buildEventUiForKey","keyInfo","buildEventUi","dateSpans","getKeysForDateSpan","getKeysForEventDef","splitStores","splitHashes","splitStates","affectedStores","mutatedKeysByDefId","mutatedStores","populate","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","getSlotClassNames","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","clientHeight","clientWidth","computeEdges","getPadding","computedStyle","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","scrollX","scrollY","computeClippedClientRect","clippingParents","getClippingParents","clippingParent","intersection","overflowY","overflowX","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","similarTo","otherCache","similarNumArrays","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidDateDownEl","NamedTimeZoneImpl","SegHierarchy","getEntryThickness","entry","thickness","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","stackCnt","touchingEntry","hiddenEntry","intersectSpans","splitEntry","barrier","entrySpan","barrierSpan","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","rects","entries","groupIntersectingEntries","merges","filteredMerges","hungryMerge","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","publicDate","extraRenderProps","colSpan","extraDataAttrs","InnerContainer","isSticky","WEEKDAY_FORMAT","TableDowCell","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","activeDateSpanRange","eventRanges","sliceEventRange","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","currentState","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","colProps","sanitizeShrinkWidth","hasShrinkWidth","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","EventContainer","buildPublicEvent","timeText","disableDragging","disableResizing","isDateSelecting","StandardEvent","defaultTimeFormat","renderInnerContent$1","eventContentArg","innerProps","NowIndicatorContainer","isAxis","DAY_NUM_FORMAT","DayCellContainer","refineRenderProps","isMonthStart","showDayNumber","hasCustomDayCellContent","dayNumberText","BgEvent","renderInnerContent","renderFill","fillType","WeekNumberContainer","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleRootEl","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","extraAttrs","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin","offsetParent","MorePopover","forceTimed","extraDateSpan","dayEl","layer","MoreLinkContainer","isPopoverOpen","popoverId","handleLinkEl","linkEl","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","Store","updated","has","a$","aA","aB","aC","aD","aE","aF","aG","aH","aI","aJ","aK","aL","aM","aN","aO","aP","aQ","aR","aS","aT","aU","aV","aW","aX","aY","aZ","a_","af","ag","ah","ai","aj","ak","al","am","ao","ap","aq","ar","as","at","au","av","aw","ax","ay","az","b$","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","bA","bB","bC","bD","bE","bF","bG","bH","bI","bJ","bK","bL","bM","bN","bO","bP","bQ","bR","bS","bT","bU","bV","bW","bX","bY","bZ","b_","ba","bb","bc","bd","be","bf","bh","bi","bj","bk","bl","bm","bo","bp","bq","br","bs","bt","bu","bv","bw","bx","by","bz","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","cb","cc","cd","ce","cf","cg","ch","ci","cj","ck","cl","cm","co","cp","cq","cr","cs","ct","cu","cv","l38","DayGridView","DayTableView","TableDateProfileGenerator","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","dayGridYear","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","TableCellMoreLink","compileSegs","invisibleSegs","singlePlacements","isForcedInvisible","visibility","placement","isVisible","DEFAULT_WEEK_NUM_FORMAT","TableCell","dayNumberId","shouldDisplayMonthStart","renderTopInner","innerElRef","minHeight","showWeekNumber","forceDayTop","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","currentEndIncl","currentFirstYear","currentFirstMonth","currentLastYear","currentLastMonth","generateSegKey","generateSegUid","computeFgSegPlacement","segHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","segEntry","segUid","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","segRects","singleColPlacements","multiColPlacements","leftoverMargins","placeRects","moreCnts","moreMarginTops","absoluteTop","resliceSeg","hiddenSpan","allRects","rectsByEachCol","groupRectsByEachCol","currentHeight","currentMarginTop","multiPlacements","isFirstCol","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","hiddenEntryId","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","isForced","updateSizing","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","cellMinHeight","prevState","currentProps","segPlacements","nodes","leftRightCss","isExternalSizingChange","frameEls","newPositionCache","oldSegHeights","newSegHeights","querySegHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","mirrorSegs","colPlacements","topsByInstanceId","buildAbsoluteTopHash","placements","TableRows","splitBusinessHourSegs","splitBgEventSegs","splitAllDaySegsByRow","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","renderRowIntro","firstCellEl","rowPositions","rowObj","colPositions","getCellRange","getCellEl","isSegAllDay","Table","needsScrollReset","limitViaBalanced","colGroupNode","requestScrollReset","flushScrollReset","subjectEl","getScrollSubjectEl","scrollEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","buildDayTableModel","headerContent","contentArg","buildDayTableRenderRange","snapToWeek","endOfWeek","lastMonthRenderStart","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","pointerEvents","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","disablePointCheck","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","elementFromPoint","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","eventInstanceStart","massagers","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","externalDragging","Draggable","ListView","listDayFormat","createFalsableFormatter","listDaySideFormat","noEventsClassNames","noEventsDidMount","noEventsWillUnmount","listDay","listMonth","listYear","ListViewHeaderRow","textId","cellId","dayDate","sideText","sideNavLinkAttrs","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","renderEventInnerContent","buildTimeContent","interactiveAttrs","doAllDay","renderAllDayInner","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","dayRanges","renderSegList","renderEmptyMessage","renderNoEventsInner","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","eventRangesToSegs","eventRangeToSegs","viewEnd","DayTimeColsView","allDaySlot","timeGrid","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","TimeBodyAxis","slatMetas","slatMeta","AUTO_ALL_DAY_MAX_EVENT_ROWS","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatCoverage","slatIndex","slatRemainder","TimeColsSlatsBody","slatElRefs","axis","TimeColsSlats","onCoords","collectSlatEls","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderPlainFgSegs","buildPositioning","hiddenGroups","web","buildWeb","stretchWeb","webToRects","buildNode","cacheable","siblingRange","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","lateralStart","lateralEnd","pairs","cmpDescPressures","extractNode","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","topLevelNodes","totalThickness","stretchNode","startCoord","prevThickness","allThickness","thicknessFraction","endCoord","newChildren","newThickness","processNode","stackDepth","stackForward","processNodes","keyFunc","workFunc","cache","computeSegVCoords","colDate","vcoords","computeFgSegPlacements","segVCoords","dumbSegs","segRect","dumbSeg","TimeColEvent","isShort","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","forcedKey","renderPositionedFgSegs","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","positionCss","compileSegsFromEntries","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","segEntries","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","collectCellEls","TimeCols","processSlotOptions","onScrollTopRequest","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","localSnapIndex","snapIndex","snapDurationOverride","DayTimeColsSlicer","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","computeLabelInterval","metas","slotsPerLabel","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","timeGridContent"],"sourceRoot":"webpack:///","x_google_ignoreList":[15,16,17,18,19,20,21,22,23,24,25,26,27,28]}